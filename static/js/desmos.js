"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(){var e,t,n,r={GraphingCalculator:!0,FourFunctionCalculator:!0,ScientificCalculator:!0},i="73e54bec63546ca51dea320e055506b6f3792b24";e=void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:this||{},(n=document.createElement("style")).innerHTML='@font-face {\n  font-family: Abraham;\n  src: url(data:application/font-woff;base64,d09GRk9UVE8AABesAAoAAAABsHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAGCAAAESoAAZxTwK+1TU9TLzIAAAFMAAAASAAAAGBqcY7HY21hcAAAArwAAAM/AAAM5C7FvppoZWFkAAAA9AAAAC8AAAA2C10Dp2hoZWEAAAEkAAAAHwAAACQGhwJ4aG10eAAAFzQAAAAkAAACiN3nXcBtYXhwAAABRAAAAAYAAAAGAKJQAG1ldGEAABdYAAAAUQAAAFXVMTtBbmFtZQAAAZQAAAEmAAACx11IF6xwb3N0AAAF/AAAAAwAAAAgAAMAAHgBY2BkYADh+nP6yvH8Nl8ZmJlfMADBlQ8P9BH0f3OmFGYjIJeZgQkkCgBSDwurAHgBY2BkYGBW+2/HwMD0myHl/xymX0ARVLAIAIH7BgMAAABQAACiAAB4AWNgZvrC+IWBlYGBqYtpNwMDQw+EZrzPYMjIxIAKmMEkC4QTAQQMDgy8GvbMav/tgJJGDCeBwoxghXLMcgwKQMgAAHxDCyh4AUzOuwkCYRBF4TP7frO7ghgZiBhbwGbagJFlWIAlmduFPckPN7jZx8wwHOAcXwIACJCDHbmcUbPJOUcecmE3JSc+csWBp1zbz8bcmjtzbx7Mo3kyz9awWOea5mlTtEBGyMGFvZwxcZNzNl5yYTcld35yxZW3XNvPxtyaO3NvHsyjeTLP1rBY55rm/6rGGFVDGAjCc5RcQFGws7Kxs7Gwj7pqMCaw6v3/wTwehJCE3Rm+z8B0s9rDXkWIoXiDW+Iq6DBDYXHwXigQEBH4v3wdFk4rZJT99VYxQrAz8ixrXVZV0/4xiUzE/26NEhVPgzaXJEUuyMmT6O1iMMnQx/Dc4jcz2FOUS64xsa+44T6WyWz9t3uYCjw2pgMsTk6amqn9A7mESTQAAHgBDMVlMwQBAADQt9gxY8Y3P0Bb3b2a1d3d3Vzccfx23peHIsUCVPxfRhgrCSOCJKBUgnKVqlSrUatOvQaRRk2atWjVpl2HTl269ejVp9+AQUOGxUaMGjNuwqQp02YkZs2Zt2DRkmUrVq1Zt2HTlm07du3Zd+DQkWMnTp05d+HSlWs3bt259+DRk2cvXr159+FTSlpGVk7el28FP379sU/fOE4GUBDHne1dh83BOdt/55yD78LJEBXX4BbUnIH+Y4opOIAlhOQZ/YrXjvS+EiJMhCgx4iRIkuKOe9JkyJLjgUeeeOaFV95454NP8hQoUqJMhSo16jRo0qJNhy7Qo8+AISPGTJgyY86CJSvWbNiyY8+BIyfOXIJAK15lx9uOwe/g13/dHz+//Nvq26+RWzISSn739U3+TtbCUrOI1C0qDYtJ0+LSsoS0LSkdS0nX7gS7l56lpW8ZGVhWhpaTkT3I2B5lYk8ytWeZ2YvM7VUW9iZLe5eVfcjaPmVjedlaQXZWlL2V5GBlOVpFTlaVs9XkYnX5wwI93TAAAAAQXa22bdt2O3tzyX28BV5AXAfFdQheh8V1RFxHxXVMXMfFdUJcJ8V1SlynxXUGXmfFdU5c58V1QVwXxXVJXJfFdUVcV8V1TVzXxXVDXDfhdQtet+F1B1534XUPXvfh9QBeD+H1CF6P4fUEXk/h9Qxez+H1Al4v4fUKXq/h9QZeb+H1Dl7v4fUBXh/h9Qlen+H1BV5f4fUNXt/h9QNeP+H1C16/4fUHXn/h9U9/EujaCAEAAGAg7u4CfcZmVC6X4hd4r3/qmoG6ZqiuGcVrxvGaSbxmGq+ZxWvm8ZpFvGYZr1mpa9bqmo26Zquu2alr9uqag7rmqK45qWvO6pqLuuaqrrmpa+7qmoe65qmuealr3uqaj7rm+y8pro4aAAAoCF4luLu7lIZD3F1I0mnezH3srHjLK+I9r4qPvCY+87r4yhviO2+Kn7wlfvO2+Ms7opB3RTHviVLeF+V8ICr5UFTzkajlY1HPJ6KRT0Uzn4lWPhftfCE6+VJ085Xo5WvRzzdikG/FMN+JUb4X4/wgJvlRTPOT+M/PYpZfxDy/isUS0BD9swB4AWNgZsALAAB9AAR4AVTRe3RU1RUG8O/bNzElREIAiSEPE9NoxIbm/aCyXAHkUUgoxKYBFpI7M2cyQ2bundyZSYAlVqstVowghVItlAq0gFiEghYFhTZVIxUVSSuIysMSpUBBYyFpinbIYa2u/nN/e+117t777EPEESTTql2O6TODlm1FLb/b9qhZqikaMB2QzO9NR2+G9GYYvZlxy/rn9b3ctzw+E4iX5Nj3hntSlmWCa+uGYZOAyEU5xmESpmEmZsMNP0JYhEfQjjVYj43Ygu3YjZfwCg6gA514C+/iCI7iI5xCNy6iB734mgkcxEQOZhJv5BAmcyhTOIzDOYI3cSRTeTPTOIrpzGAms3gLs5nDW5nLMazgBNaygfN4H+ezkSZddNNDRS+b6KOfC9jMAIO0aDPEFjoMM8IoW9nGB/kw27mGm7mdL3AfO3iQh3mUJ9jNC/yS/SIySIZKqmRJnnxLSmSsVMsUmSH1Mk880iyOLJIHZak8IatlrWyUZ2Wn7JH98rocki45LqflrFySK/KVEW8kGcONUUaOkW982yg3xhkTjWnGLGO20Wg01Ssn7Let7KIxhYWl35lkW5GwCniza8xm5cSSsfT1JyuwbKvg/x/NHTvt2IEJs8Ih063UQnfADLZE7YjyuAJWNOi6VrrJ8tiB2NmQctzKipjBWBA2Lc/AubDfagqokOkoK6C8kYHA8Tf5ImY4ohx/uDkUiIbddjBo+haFfMoKxZK2Jxwww77FyrFtS0Xa7IjPUcprRx2vvzVWcWFYtSpLXati+S3ltgO2FVZB/0AQUOGwaomagSZHmbEWLVEVjsSub0aqx0+YeM+kyVOmfnfa9JraGd+bOavu3u/X/6Bh9pzY9d3NKnJtQFcsGuh+PXd9Vrff7/Y77mgwanmUExvYUU2O2apMl9ujvE0+/4LmQNCyQy1OOBJtbVu4aPG1/5Wu6AzE/6sU8Qc8KrZrl6PM5th+BnYb23txZWGhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURrvAEWFmiJNsaZEU6op05RrKjSVmiqNqXFp3BqPRml0v+JCTZGmWFOiKdWUaco1FZpKTZXG1Lg0bo1HozS6X0mhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURovAD7GZXyc7XyCy7mCT3Ilf8ZVXM2fcw1/waf4NH/JtVzHX3E9f81nuIEbuYm/4W+5mVu4lc9yG5/j77idz3MHd/L33MXdfIEv8g/cw5f4MvdyH1/hq9zPA/wj/8QO/pmv8XW+wU6+yYP8C9/iIb7Nd/guD/M9HmEX/8q/8X0e5TF+wOP8kB/xY57gSZ7iaX7Cv/MMu/kpP+NZ/oPneJ4X+E9e5CV+zi/Ywy/5L17mFfayj/9mP//Dq/yKXwuEImJInMTLDZIg35BBkiiDJUlulCGSLEMlRYbJcBkhN8lISZWbJU1GSbpkSKZkyS2SLTlyq+TKNyVPbpPbJV/ukNHYYAAE4oAEIBGyAvEjkbAWiaORtAPJ5UjZhxHjMbITabVI70LWHGSfRK4XeeeR34o741CwEoXZKN6OsrtQcRBjG3DXadwdQvVlTLwfkwVTH8X0IahdhZmjUHcI9XVoOIa58zHvDBqb4focqg2+AizYhWAV7P2IbETbHVj0PO4vwwN78VA1Hn4DP6nBo0ewbDbaT2CFwspzWN2CNVfw9BKsM7D+p9iQjE2rsXkKtr6N5+7F9g+wsxG7uvFiAHu+wN4teHUMDuxGx1h0ZuHgJhwajXd24L1ydO3D++NxrBMf1uLjLpyag09OotuLz87jnIMLvbj0AHri0JOAngZcHozep9Cfi6tbiRLKm4yfwYRjTJzPpLNMDjPlKkcsY2oa09YzI49Z25hTxdz9vK2G+Ud4p8mCT1kYZHEPy5aw0uDYdo5L593PcPztnLiTkys49TVOn8baw5w5l3VnWG+zoY9zl/K+FDaupzuPahd9P2bzYFo5DG1juIrRDi6s4eLjXOLnDy/yR1E+0s+lD/GxBD7ezuWpfHIdV+X2ZQ35b3vXH1tXXcXvq5TcdRtFs8rohkPHCjRzndK0lrAR1iZbg6nGpzJmSUqmf1DTwQDdEn4IMoP6VWZeTP8QdGo3S5bGOKKsiUVTQjqXVTeYzKX9Z2Rdt1nMuh9dJm3f8d7PTb/t3mt4vcJp77t8EnLv+L737rnnns/9nPM95/s9vVLr//ffF4xI1fbyEmMKpeCba18x/r/Me09iYPzF7gYTfLTy9Zdk7J2uz5QYcb5Q8z2RtyoWiPPZI5dEDvQ8a9zghGEcDAZc/9TxDXzRG67/HH5s3OCEYe/w6mH/osk9rqSPLxo0uiKcE09tlsStQ6W+mOuP1YlcqPmROAt7tomcu73LuMEJwzgYDLj+qbgVX/SGk7/Hj40bnDDsHTq+4l90uNkVWfb9X+pqAiVwULbJz9pXG9WHNWMUJk59dRAo1LUdUKgrIvHwxiOxsN0kCvPdJlHkQjJItN+n+KNQOlP1ma939YTW5ddB6/KFBsPTa31wQuu3L0Drty8aDGe93jjoinHWt+yHNvF4r9QZImpoxPunCxFrO33A62oCTiQKYzBLUYCI3iyFXGhnKfluO6AwQlxIVucsJQKakNWJQmoSgVidsxN6ZHJhFPwY58jkQnIhNSEXEoVEIblQ6JGZLyQKo4FCD2AbVkjBpqLHJiUlGyckFZ8JKtfNkNSXKen2Af+LZf5wk//jVkgavtH4Qtr8z36Niy71lCnd3y9jZysK8875cwGFUV/CAyQ6rz3UCySGlWSRuM0iMUvSJBJlXWslkBj/BWX6y7Ai4ERU0dh46LCmpAk0DrbsDY9G2jBfNCE3crEtNIkLGruW1wVoDPBlL9mULWkqvoL7srDbli1p6n1J4uUlWywaLfgsGi08JX3fQGoCjdAFYTF0yY6WJ3WZcj8HIT07Wr7qfpy22iFTEs4q4SwOmMCGqmIgQVkTZ0d7BeSo2gQzmIElN2eisc+isRmSik8bX/YD06KxY/eEpOHFARpbIansaus/szw1QzSeT2aisQ+aT3c/VvPQ99NWXR4TNHbsmm90H5bVRFMM40YusmDcyOxOCDGMG6uBr+liAouvEDFBuLhx/OiazUCjfrQVF0+dqjeqAZ1RjxkjwIv00ty8GvV6NOtnXKdIFBKFXJtDBuH+FU5mqQl3lHLvEdcpfhTjQmpCLuR6e3LhzlAofP6YbnIRttMVETIFRk1k6chPRUYT48pgT298U8auPLhhAor7MqH4JQzEv3ki17pGXxOiMB81YRBJ28W5hSdRSBRGP7YgCmk7prjJhSy0EIVEIefIJv3kHOKUPpurIn/3z0Fx/tGyNzL5RXIn/0QQAKZaQvg/aQInfBHD2c8KB4MB685Yb4mQTdKjtz0lY4O/uZyD49S4kBUKaqIwmzlxZ4+Hws4q/3au++TrIpd+vkKc+d/uEzl/9m7j+qe1xh8uw2cG467BuP/Ffnzm/7jbuLiGwe/xmcG4K3LLS13iOB97V9l+/ZvrPPudXqWrDYhTV0Ti8UeHPU3OXZv/c7PuE+0y/sYL3ynxFLznQW943q03iVw+ftJ/SH/Z5QYnjOCA/zVucMIIfmLwczc4YSQ44KL+RXrf6/FEXP/OFv+N+3MDDgYDbnASuVD3CoZFzn0qZdzghGEcDAbc4IQvYhg/9kUkNg0n9bU4oKoFTC7OHYU1+a6J5TjuqmMlj3lDopCVPM46+D6RC2k7opAoZCWPHpkemTWRGKCQHpl/sJ5+jKsv2NCBlTmikLnemHhkemR6ZNZO2GKJrE4UEoWcnbDpIVuWsdEX22Ox9SZRyNiC7ebYpI2akAupCf9QPVtvEoVsvUlN2HqTCwZYdNadyhCFLPcRhWx6SBQShSz3EYW0HVPc5EIWWohCopBzZLbepM9m601yJzHJ1pust7D1JisU1IStN9l6k6032XqTrTfZVoSVPDb6IgpZyeOsg+8TuZC2IwqJQlby6JFpO7ZYIhfSI7PRFxt9cY5MFDK2IAqZ66VHJhdy7RmbHpJBiEKikBU8xoVsvcnWm3OIQjY9ZOtNopCxBVtvskkb281dqZ1xxznHaauTsVu6G3L0A2MLu/zThC3sxHntoV4p2FT0mLLm61orZexsRSF3WLNO9H7p89qa7Tkh8vKSLZKe135XSTgB4W5enDU124GTvEeis75l/4z9NsuJIZB4av3RqWSF28cdQ6WwGkNBA2UzNN75B/VX/JEvw3a6mgDsqiKgRBw0sVvvxVnQ3aDmnbn9ntvvR3LwnI0T/a/MRpw4uLV1hnFiZ5W+Fewea3XXeXrVjLWhNtZLczH4XGrCWFGcrp4felKAXnvHTdmKTEVvoLYF9bZsRaaqjUelKwKuE3JmJoaaOHuOjAbZnHCQCQdHSSTaK2w2x9Ka5TlLfJHgQ7aC58IfYA9IzIFYSd93fs8EEvG48BTxuIKHi1GDkexMDkbwKDGag3J0RaSTTbshR5kLOnY1KmtiyVNXjNNWddxoPix1JBKJsdAEEpSRaDM5RZV3q8YkZjbCnqfP9kr646XLcr1T40fXbMY7pWs/Z8cfa/UJy8SGE5HJSXx+2f36mRzAhNNzlXJODGLF6NSfiUbuPmc+kRDR58Too5B/xIr5KKKQKNRndcaH0Qc8d6GTEwkRciL7nDEIiDYnEiKMExsPHdZUxq5PbNlLwDMIICcSIhG1SQRQyAwONVHYSRX5/UcPf+vkrNjuFzfFQBOuSeT6qdwipPHgbXFZf0OvzCY8+cGH+qv4uLKZfCiJgSVbc62MtcpM5qdDK/PM8ntEagrvjNay1RigEe9VDOIMZm7onfNpzmxRyFavjBHnes6czJwz91lf1hz4stPwZQ9M78t2W1+2OHgxWoHEsgxfVl2uHln97Rjsp6sJfJmqCEAkFppYPmQT77lqfsp25BMzlZux7mbKTKXPzlSy8G5nKqHwjplKCutuIka7MZhCdOyaHxXaJSfGgEnYUl4BhfxzACE8M2MM/Wy2bq6KM5Vk00gsnH/QC2x5XWaMCHA3ZWN++iYMByEpG/NTJaEHMmLEuAE+AjFiqn4qTKoBk2mNZ2ESzngGWqiKiBEnxmAaQU5cXYguxsrzZsxTw/XA/UBOV00TvCq6Iuyrkvc2SVzzr+fQxTgHz9kMDnrf6Gdw0PuGifMPVxN54ovFcak1x7++wkRf9G1id09hDU7YmTpY1IafTdlRafaOUqzBiUbCSDpT9XOdiWPdmTnFR36bgcJko13Of8a4AaGAYKZHYZldVtIKFA7fiOX8bdmZOE0R2DGQmp29D1tUNcnqk6jNiYgVPzjgmUSPbZ/ExMmnT0hiZWlVich4+10il4p3ilxu8ERerrxf5OLIYu+D7hpX5N/bfyAy+uZCkf+0/FicT3Q8Ls41i3aLU/L83z0RBRvfEGf+8AZx5u171jscOiLOgqIz3gdrf+X6X3rC+3rFUu+Hqe96l0j+RGR0qNG/bKU/s/nrW5K+Ydk6JpU+9PXAN+yTxKdPHZ40cKc18GoYGB9YAw/dYQ18rzVw76SBt1oDt1sDH7AGXnXRGvhP1sBFfrx5tFmcawvv1dSWlUPGmlHi1YKv9zw3t68deHXs3UdHcqcCvrZIxvpfPRZ/mkBWaWXr7JIitbVVTMS+6lXMGeZJB1JwA5pVM9/OtUO60YTJEUmwUBrxenrEkMhtWwid2yvUa+rM2HMiF6GaeuLUhhXgxbB5MLCovWRTdh7s6r+nW7q/H7z4kZmoASGxSGIaaME8KZEY/ypYdm9cfTSSF99HDFNx8c9xEiLcoxPFnWK24xQ1iYYmRCE1iQCrE4WMLebeJkQhUUguJIMwtuDe7QhVh9j7kXxITRgbEoWMDf8HznRiLwAAeAFj6mJgYFzPkALCTL8Ypg0o/j0y7QeH/W+Y/SMTAwDIkfvpeAFjYGBgZIAAGRA7rTgnDcq2rFZKrSgJSy0qzszPU7JSMtQz1DNQ0lEqTk7MycxLd0tMLskvUrIyNNAzMjAxsDA0MzYyMzU2MDOsBQCPLBJ2AAAA) format(\'woff\');\n}@font-face {\n  font-family: Symbola;\n  src: url(data:application/font-woff;base64,d09GRgABAAAAAChwABEAAAAAQywAAoUeAAAAAAAAAAAAAAAAAAAAAAAAAABHREVGAAAncAAAACcAAAAoAOQA5kdQT1MAACeYAAAAEAAAABAAGQAMR1NVQgAAJ6gAAADFAAABKKK+thVPUy8yAAAhrAAAAE8AAABWjIaoAWNtYXAAACH8AAABFwAAAdz2W760Y3Z0IAAAJQgAAABaAAAAWhEGDTtmcGdtAAAjFAAAAbEAAAJl2bQvp2dhc3AAACdkAAAADAAAAAwAAwAHZ2x5ZgAAAYAAAB5ZAAA15ITPRN9oZWFkAAAgmAAAADYAAAA2+zj5+2hoZWEAACGMAAAAIAAAACQPEwHJaG10eAAAINAAAAC7AAABLm4VHxRsb2NhAAAf/AAAAJoAAACaHqoSHm1heHAAAB/cAAAAIAAAACACRAsCbmFtZQAAJWQAAADmAAABoCEMPvNwb3N0AAAmTAAAARYAAAGdYezlm3ByZXAAACTIAAAAQAAAAEBey7t5eJytWwl8VNW5P+dusyQzuXe2TGayzJKZyWS74U4mk4FAAoEAAQKERSBgQBAVwSgooiKyKVShCuJCtRV5lrr33mHQFltNrXvbV9e4VGy12p/i89WndYFkLu87905CQJbQ9wK599xl5p7vf/7f/3zfd24Qg9rVb5j17F2IRgZUiMoQwn7BTwt+ATu4YCDiDAoJV0yK14YS+a58l3YyHK+ti0kuZn3v60x1e99q6pP71lZJl4+fV/2IutGW2Hf5req+WGlpjPyq33B7j8isepSiD117c+4HOFzn2XVgVJfJO2lh30v6PTGEKPQpPPlZ9iAyIS8SUYrBqCJtYpGdqcByoSgbemSLlKY4ckLO728pRbgC1QwrdWndgl7FAxG6Nl6bgP7lu5wOJ83hjU1NVVXwW8BMLQ5UVgaKpzLvNs1tgv/7RPoBli3zFBZ6yli2b14VdAF1qHupUexh5ESlCMsu8uS0jUMepiJlM5gr9iMbMlXIVknJ1x6NHQBSmBJ4G3mm02FAAo9d1Ch7TvCj7u6Pgjl2t/omrnSraVvRQfwAjsK/Bw4W2Yxu9d3MgcwB9V03eepyeOrUwU/N6Ukj/ak5iDw1xwBPzRt4Kk8ZwGIwlDwOxoOYa6Om6g/Eleqbbq0DVIv6tjpfexyOUJOoSTjiNkJH1PnwzJXUIbqd86II6kApN40q5EAs7WDRcEA4LMl5okzH0jb9GElYLhNlc49i90pS2sChEKBfHJEkJYorFINZsO3ncj2+0vwkUhw2wZaCg2QyCV2FsQlEQnZHYCS2sxyMUqIKw1BJ+SxdKxVhOlQnuRwGlq73+MO5qlp8RZF6zBIKeHGJ+qE3ELJgXHRFMaZyw36P+iH9fW4iYnpC/d2wYSwe/oQpksjdvNlSV2Z6EjfCKfWFJ01ldZbNYN3Dx95ktzO/QvloMkpxwCbZLMpUTLGyn8lOKWU1A6pNVpsJ6OUWZWMPAZfhPpMdUooxkmsMjHPKyJCmMddUoRT0j7dfgDGPC36AP+YXAHqn4JfY7aHMoWg080EkQgWiUSoYolqOH5WGQpn3yThvVa/Ca9C7QKJGlKIIx7ksx+2iLPSkjRwqhzEXSA+QYDGRLQMPd8DDFY4CXJFR0HANESgBOqdDJ0JdvBa3+Jckh1/esjvgsO7y+0efN/rKxXd/4zLm/fT3xQQRqojdTnWBh+UjmRYVA/sZ+cUAjJIzYJxmFTGn95JIhLmLmBGNwqdvh+6vgJ6bUPwE7zzRU82av+jO2e+jOSf5KK7KemTWDQkuSN1DJdn/QhY0Ffhv1ZiGuM9SZo38ZiC/kocr5DrPwZFP/zOMnBVmRjZXW2VTt0KxR2S6G+2naJO5Gn5wClqwl5s8WLPJgHWEMDgolaRUt8EfofCnsGV/zxmOMJ4oZ+D6PKBBM469QXezy1EuKkazUKqQWMayKAxW5oJ/EGcIEytLRNnUk3ZyyA2u4eQVC9aMhSPFB95gcRL+57AwTkixFYJrYCNlAtcg3sATx42E+USdzy7URsI+A+d0wCjmu3yJOnrFjLbV//po9YLJV+GPvaGR6i9HhrB/BJ47MsBs/nnmpj1fvfYAtX3Pd30vYeadK55+ZuXb0b1l/7zm/TfXAIYphOhF0PtidAFKFZO+IxY1kh5KqRzovmLK4X3dYtqondWsYHvSAoe8YB8rEKKzJhPxdc0KgRVscg5YYETQEJKySZC5pJxjk3kwJJEvAeUELhiXEprWCmBB/nAcc4aBQ4anJ+92mVb8x9EN5iKONuYtNTSPHD9aXd40vomqsAWZxrqmG62cv3cxzDWGJo6D3i+D3j8EvQ+hO8ES0vsSVtM/okyEX9DntNWO3BbYZdkWFmVnD/Q3zevzAs8rHAyFh0MuOCqVZA+fDnJoHBwERSUCRvFkaOjcEhgamRP2M6Z8N4yLHLTJIbC0hFhKJ2W7kGKCpeQeqy3FOT2aw8U0CsVrw8EAZ9C0XqNVnY8B1ecM2C/VJWL0Mje+7b0dNy26228wXzOquutTfB5GUyqvUWfiPVvLPLVJm9+Lf/v1e7e8vPp8akV105U/ff+DJ1Zf1rhaXeR/SL2T+MJcYOFBQGIE+gtK1RLrQxrvwGcJA8mIWkSCiA1aHjFdpF+tFtMRFjkILg2izPWkczjtjhxervD1COkajlyUa8R0hd7K4RUXoIV07ALknoSGXCqQIGQIFILXjQTQcmqAwsa8SBWBqkIgCAVsTSaqwFNkC8Vqk5romyxwE+LynOQmjyC7knKRTQYIqwXFl4B9xKYEamAfEuQ64gkOxhchkYSkCUOkGMeAUXwkXIEDoGaJUViD2iBpSJOYAzwm38VzhmJMH1T/pe5fu63pouZxktlcnVp4/aiaWONNy/01ft/aqy9c/OxMil474vwR1y3HBZdvfPD6HX/ASx79pH3BXfGxzRc24SntV3Zgz9wrqjhMGZ+9bemNGy+pbhhRs3n6+PHtat9L0aI/k4ikARj5NrsZ+VAQ/QilvGSGzBXTgj4EnCTnizKKpYP6cQnMkKWiHOgBd0sXc6gQzmEpVRwgUBaTmMEopQLFGrD5cOSWlJCuaPHt73+jK5obFK2gm1WCpiOMHOimUu6CAFE0pSB4XM+CRCtiUtbR4i4C20jsj+M6zQ1hSsL026+a7PtYZsYI9e/1M0ThMocp8xa1no9x1KvqvSqN5z5XbAuB3zXhsFDyXBP9eoHA+fom06a+7wgDlwEDiS/G0QsoFSZ2V8RkTky7dFMFMZ2jMU0uEtOUro9FFLGsyA+WxcR0OUvEEMt1ohzUApm74RYUJFqORCIx/H4HslrBr3UqmsS0VW8hXvEAKRkO5YOaJoB9QRO4bI5gJ+6IBNmfVDxWwZamMOcq0pgnuASbwhTA5RxBNhHapWhEfFYpj4E/xwnZ6nw2HmmRayw7ZR4nXDBgxWRC14IoKRvGkTuwawWeeEj97rf3fHBh5ciRlTa+6LGLd0wdFhpx9dwrZxiLHCZh33e353KO0ts+mD2Pppapn6u3ql98dE/X8MrKEeyFN22dha+beVPLwii1NcA1jGLz+bL7vcCsfg8vQcPQXpTKIz5eqHsxoFytoxzqx1Z2iGk3SxwTyxKZGdNRXeCQJEd5otUELnKC4WWBuLFLP3SJRN2hpcQAR1dUsB3AVq4wVE1c1CekKEceARXgtbs92mQVqgYnphkzgjsUt0PT/Sx6FJm1hFoIczUAdShjxEM58NSI1gBm6qhi50x80eGvnvqqa8aePV3/2B2fmbiI5ZLrpre+jg+HGzduHJcMe64Yu21MKfXof6qH1S3qp989ie1/wpcsHLNqeeXw+uiCWeKNfV9cvKdtww0Xbf/Phc3ztrYSZrYCci+zG1EBWodSBQQ3iz5LWAoIuSwwf6XscBqDMMo2bXYj6i/wih1gcuhHDl4xw5FBx8are2Gt4b2DxAtlCzhhLoQVZi2sgGAil7gghBe5luqTwgoDJzgCcR7b/TAlBO0xSJBifvplu/rJ+YH8ZzD6VLVcVV5UO66Wyi35APeyNT6vetWmD+9Se1auxOvxbXii95f4cYclANlXPyecwIpyTKGUhVhXMKD80eysXaHN2mEOlZEwnZe9ZMBB6scSRRfTXr0V1rU9j0PNcOQj9yDtI0qlbu6hja/kE3OtsoEHqVEKc47I9u79QqHdXrHfpm2LyRYu7w8aAnBYSrYpOOm72XdzkAMfTJKowJZMwRVyEEyiJpNBKCwutdkDwer+H3yqkwRFxeUFRhJcy6KaIxcAQ/ezKCdPD5VggiiFvDMMwVKdDzgHwp/vomvDAY6EGnX22mocIbGTrw7mg171EfUIrkos7vg7jv4js2ByaOntj/1l/7Liv79aOe0n6X+9gI79CS94+G8v7P38Dt+0xdj9wsPbnt1QH4teQU24fNeVz0xx7VyTuXnykktW3PTuxsd2okFeGkQx9GOU8pHxKNPHgxFJokS8lBfTZs03IUlND8vGh7WiXNyTrtK90EjAt+jtKl4pBfw9EhkNQr44OGaVEfTLbAO9KoU5NM04fGU1Gh5mHlzTaLERKSsbRqbXomKPjk02itTkTBcrbR6AkIzzUTwiSkZnnbIIZ2PLg+9veXBN2/zOaL3fW8oZmrZPGb+mwtuu3nkY0weWzvrvZwKjbr55fEWoCbPjEtQv1bVvbYqNWLkkMavQjSeLU3+/5vXXcD7ejHPiu9Q/vNLxi83TfjH7/imbN1x07Bh6CJzzWnoqHyEVhEwQ4rEyUDYKPQz5zo/oVZA1eNDFKJVL4jpei94Ip43ZOM4rytYemZVIom3XhK2/ZePTZi0lgswiZbaROcYMs6dSCLiZrUSsjLxTA4vPzaJImKNnGpKL1pKkgVgNhGlTI0k95jZFPJ3J4bGVt5Q4rJtorqqRpCJ9H+dDzvTG7u9dOfxdSMshv4Uc8k5kR116tiYzMQxyDDmO4tT9yDvzBb/uRyZeNncrguGIzHcf/PhR/TQrMyAnbLdiMxxRBN4oC93oAGsiI5v1jieYwYf98hIiZQWS2GtZC3DfhF3s9qiR6+3yepkdnDHq7n2aGeMuidJUmcXttlBldNSTk1Ezag6C8XgYz2C300kYDzNCx+p4A9mjV062iSU20bpN6Ac2yTT0nepWTGCT+bhNVhI5msxGOGeFLOGIbAObKJM557hNJBfLOdmm45mYKVuyIDZ5e7uINcyY3qfdYB+zw0u1uC2Zd4g5FPzkeKJ05h0L9PxydS81gj0M2Zmo5a9myORNosKQFNYiynSPYiYZI61ljCTg4iTFejxp90v6lhoxVr0Gbxk7Vv0DjsMmapgw/UgHfH8XfP9w7fv9SMaiwsL3GyE1zn4/p2Wk/d+Yzf79AdhSw9Vrxo7FcfUPsN2i7o1GuZ9PJ/xZou6lSY9jaA2SKTEt6eoBQWSe3gLNKDiuGdaedETXiQivGGEsbFK6kkNBEp1LqUqtJlBJDPNImnBEwAGUXJ5M3LkSNI0VMJvnCXIkKRfaFHtQ9wWiE6AUQi1sa4lCCCS8BlaRrAX+QeYGO1d/Cgf/6BHRx7smOiy3rfaXCl9ZHBNXyFHbT2aU57JO8Z57RCebWz7jJzb11/ltsdHll+LkVetNVJjDJYdw8tLy0bEpUcY0q2J8oFP9fG7FwqqqheVz1c87A+MrZpkYgsoD6h70LeT6pA6hVQwYHVnyq9cK7I5sPOb8Ngo/6suAaF8kAp+9FxBdBYjWEkQBR17HEbCN6a2wNlNqiMZF2dUDcXma0zEUpZSLIxi6rIBhRJI5nkz+/VJcB4gimJEUOkYQpcAnFS4fEI0Jsjcph21KiZhVl37QsqKSGEBVB5rgDVgTEdZQJZCu0pHsevwUSEblFTraVItAYFRfJDC25duzOGLn3HKCY8Vc7MziGJ1CoFdfJNATTEN4LZ2h/ohcaBrxDdkcI3nKSLCa1cjWoJUBMElZcnu0WAhpsZDiBqvtIJ0yRSJpGmw25MJ0kwfJv4LsWXsDpTCRaEEyiCoT02JkOnPrq+q7s7dWcHZb8Y4/48jse0ImVyF1e9eDn20qmpBc8dDhXw1DDLpRfYLbzn6NLEDdCWgSrkapSVjLKNKl+hRqlVIhOJOKkwm2TjuXqosTqa+rh3AOkfyjYGDCLZLSE6pK6y0VclMsPSEbFE0WZakn3cChYvis1EA+K9XBIFdJcgOvtGLiQOlyDvkYUkRNlbeSO8oJDVxSqrWcHLWWwlFIUqZkk7J3Dl08WNdp0Dmq+2Bs63s5+ukQL4chVZvkglSttZs6QCQv3JoVQP1o0qBYp4E4qKEe6NQqpArHNJPAu9wmI1IuLQD42aRcKsiGpFI1AY7KknJckBuSJ5ev7MeTP0iTDfH8gdyPVCFj+ISijObPA4kiFjD7F673tRx3GceIsE3dy5rXGri2yFulbcMn53LqQvxhXkHw3qO4eYWVnbb2d4tyw2zOAwZjc5X6elUz8zd1D7vFYjpyvVBmMXGbhCNfrLGZ7E0s24QdZmFNPbXdKWZ2UQ9SbpOTeq5k1Nyqvv+2mZ1wQ+Zu/L5aCuN4o/oktxy44EVRNBmHUMp4vLaTMmlVV1MODHkhGfJyMd3CIj9cadEGqKUVBmi4mI6zqACG0Sv2l7fskhwjMVZjlgxTtAg5TycDmzeoriXn8UoDjG+5RCodkGDKCV6pAWcYrZXa5UmSPJpPt+pZQquotJ3MBW3QlRLgQnE32l9cEgprwz3Q0oY6Ty+cyQ2C4nTBMCds+6vio1pI0lUj7K8ujDWS7Gp0K9w1GYa/pRwaVUl5uCBXw7DblJrR4IBa0S0PCGA/05ieQA58vEBlcA1Up1yDq1M/PvXQZgbzQp3vxJV7Lu7cOuKCePj8A9j4wkjffPVNXLTI4xhRTW364fjSYwfTwujyOHHZz7bPveFqanqw5rwVd+9e1z6lbJqasV+p9oIiNA9ShAVoId6JUgt/oAgLS8m4LSwDNhBxOEEAlIYyrZBZoxOnoYaIekMchrhZ40yjNnrpWXplonUWudw6jVT6F4ny9J50mz72bbxcT3gT45CT0coW9XqrjVeagBRV+m0TyD1zOEK61IQ5pFcTxpm0UL7zB7rSOVhXOjXadmZ15YJz05WFRFc6+3Wl8wRdWThIV+qnQ44QHz6Z6EmbINck5Qm2JrPYMKa5xdA6c1YHoVpnFXCpEPRGOIXeNDfo9GsR5A4QJ5s855xVx8H5Iv2VFYOWh8RrSRWPlPB0LmrTpLYiR8p3Q5aivvY/H0Odly0qr1/QumNORVCeHjwwe9t1TbP3L5rxznlLV8xcchN165BkiV645qf1o5fNGxZuZ2dNGD73/Zh5bcfOZuP4adPPrx82LNk5daPfu6VvnCZUoFQPIydEyVdDjGJHRSiBZLdWZ9XzFrJqIlvFtD2bvhSLsrdH5iVSd9EqrpJSctJ6ChpY/bANtI6vsWR+M7ZZFJvHVpPfamhriy6UsXnBmDELmvvWwwaaZJ6PoKeYDmYXTN5dSEaiwkFPGBFYBDGqQdSCRiBZQdfz4wYF8KzCGI6QLOTgPy54fp6eliC4guEKxx5RWMYIF1EKU6wWvSNM0QzLnZSR4Dh2mjDT0ftHprbvAvpnT+GeYfj189TL1GVaBAI9m9vfM4ieKb1n7Gl6RsHzaXg+LoKeocE9Y6oVijZqF1kWLnLQM0Rzp++ZCcfhP2bm9v6Rvq9vEVNLbVerZ+Od+M4OtRx69hB1CHLTx/SVKyMFMw6tVS8Ht7U4lNVKlXCU3Q2simnVLkgn8bWjZo2C//S48lGjyuEXvr1W7WTs9D2QM9yLUgaS3zp03aFJGzgzB9oGB5ECgwXUjIeHym5IuQKinKctLZNKsUmCVFfOzZYKCvUSf67esvFk1Zekxx79hIcn/OqP4IIQweXbwIkNWt2dTsolejTHF4E0sD6/vlyoGaGt6DsMQZhQYoIjJul7sr4fiTH2zp/PuvCdGSNDu0K337dhz66KUBuVeGrm1RvmfFgw5tCmx25m2MwlX7yymarL0JFxj8wmoy4d+5xpAOsDaBtK8USoDbGUn+DqYtEo6B3KlSDsDGoFEY+eyUP3C3Mq0oX6EaRAeksRwCarprOylSfYkzW1MQQcAgunaTMpnyhWAax1aOVeZ1KhTHBkBHtdJGIvLNZiVr+TJ2pDSiRCkOaI/tjseokyRqbFmJ9pUL9Z7rw/5P54Gn+HeemYZ5IjE5i/4UI6TCf2qjufD+eNef6GHfjqTNO2UTnFOIEfj5YymI/cAFZ3UkX0/dpKKjru4vT9oYw5EqG+zS6Z6vcZfnCf4f7QEbiPG7iPxEW7uTuzcdE4hM5hyncYaJKNkHyJt9clBtchhzLX4xz+zYlua3v7s3iPet9Mj6uhvp4yOPbim846z/fd6HGoRzv2nv/E7NmYwhb8ivUaLAkGhxbz7+auB3uK0XCI+c9DKDS4XkUmCTDQTmSQ117UCA3ZYHsdZFf9Ra2YxF3/0EUb549shThjjLgltpltXr39wEu3tDX/6qhwSvNZYbD59rKCyt9LxZ6q+fNvVo/smBssb59S7mvI9RVPwfblz+CcJ0MX/uIsOBz9zZi/NlzcPuyy4ZfUtENEeqP6lrE3O5ZxNB11nNN4kuVhn746fMZgPs4HA4KTj0lDGWV6WOOIDnVbB2zxlb1PnfoTrU/Dz9lHfUaXOuPSfXu68GOX7uu77Yd3442P4anq7Y+pSpbXV2exmHcuONjPNaQYCgz/dfZg4qzB7bGhhBFg+dSs5QE0Ay0Cy88emp9zFEWfgNjUMwXt9GtnNf2dwUhRY88Yw2eWDQUFdt0g4PpVblmWDQvOhQ00WSL2DazdVWB9kUlXguMrd6PwwMqds24ohJix5ZE/qt8+NjtUWxsyF1zdclF90FP+ZGvY5Csw515/2+IGqqC46+GGUdPOyoveC55Wf3PvpTMrA4HK4ZNm130XnzkxHMaP+5kyr81jLb4s7/MRWVYs01gxGy0ZGiv+DdPtQycGtXOoELx8DvxQ/3R2NJjVJ7GjOYtNDJBZCfPlv2H4uSciJyDF1g8VDNV+dil59IR5Vjg7IlT5ULwK/88JuDGoiuDG0TDXtqOFaDEgd5Zs7f/MKEjfqG9Ok7FRzUPF8I3B+PQl1D109FSJW+ahc+RS5td6DscMmn0SEFXNPIviSC5efzGrTl/h1swlmNAnmW/XV7vJYjcJY04jNPt+fOCpHU/Nbrz2ulmpa9vbJ5ZvrNvJjf3rYKPrCys7Ojq8lS+LnlMJjPrOM2qm++G1uPnb0VXT2tpamwyh4nb1y0uZ5YPDD9O4pbHpOzu2jFw8q4ZYPXXA6qmgsss1TzqtZf8OGUJnQoOtPaXdfX8bKi2YRYMhGnMcIuw9DRz0prMz5LPTI8YO4omIRqLxELOdmSlZyBLaeoouNSfOxfaBNWrscEkEzQh3apqwu6e9ovb+6a3g6PHyJ+mUJA42fvZ1962bFNi9U52w/eDOlbGtj56SJQVT3/vJlpU/XWIXxz73o6sWr59TwBwePDP9ddyCiatqXOdNUS+bftmC28eVTJwNNjdnbbZD3tqO5qOlEKOf1a5z19dTAMFFzmBypumswkq7ToZl/pkRyGwbiq5mvj8lTlMHcBqPZqFOdMmpcfp/8KMhQNX7+r/nRQuHgBg+Nyc6Ja0ArzjBi8OA14AvnRKvM+St7Dnjkik8bRa7fTAO686OA1t6mqy27WzGU8h37A0mlz2ISiGGQZg3UP4ASeSAEvmxuuwrUuTIob0ET15mpLXQz4qdDs2ZmNz196kfP3l04/2fLP+Zj+Indz75aqPBEK5LTInbp+Evdm1+7ZYNBy8IRG66Ib20nS5XX/xafUvF1977uy2Xbp794tYH9+K6SYnhY2vfe/M3qnHLs080frVg04PP/gxhdKH6AZfHPo6GwSDplYgRWIoLfsEBe+egM8SftTKF0wEtp3ady/OqAa93+oSMa8J0b7ZNWuyV2daxYDCY4CxHvk4ESYvt0fdHyxPw7CA8ewM8u5j8bQkm44/9vgSJbv3ZlwHgefYg0IMemXmEquGMmQeoB3HhPZ+3SruOThRY6srMNs7OPnFHbNr397JL+741Wq3mjFOa8rra6uA42kBfbEyqS9+eLJI3H/S33HlOe+MBo9vVFu4NrgXlkxqMxqyITq9G8sKkiXCMe4Pqm2ASLax68QauyPS10cnhLnqpyRPliszM9xNtufSGC4pMhl9x1r53Dbl2RGFebaG+hG8l9WFS28kuVx9vUV9qK9crte2loZDhiVDo+1Z9D70S1Rb6Nfg8KRM58rD+FwXZnSHbPf1PC7I7bcn1tfxX4Nuei0Zv8drL3C9Ho7gB2h5HGTPG5v2f3vGhEDNH3ZLxh0LUun2+iFD0JfPrUKj3IbyG+msolNm0r0R/176F7oVnh/UoW4sGSGnMQFO0tqYdrpX69d2WAO+so6unrL+7WZw4u6w4z1YwKb95zq1t63a31Ey8oLqstrDW3dDGtczcNWmcKbx67n71M3Vr5v2fr7htxh1wJrJ6KfXlR3jbo5f8iDx7FV7MPk9HEekISXhErD9az31iUgmGx5KXfyEcf75718q1r153xd4ZRSbWXfjMHauu//Parlk/9ufluouow3f/c84Dc26vnRdr1FpLppWuJW++rEIXs88zAT6CxiJ0jOUNZI+OEGao5C9C7uTDqAAh/Y2YvidPOO89fp70FXzlRXYm4kHD+qt3A3/u8WLo6PeRCDUvGqXmh8ggM4cA6aDeA+1zwMAJqP8viqrZwyhPZ0rEdPyVHqq6PN+hbsTrHPnlRnU7XmVUXwqL9FX0VWJYsPft69tn7//roEb9G+yD358xYe7OciNepW43wvfgdepGh7oXPkjPo+fZhbDYd0vfLeL/Ao92huUAAAAAAQAAAEwIwADRAHEADAACAAEAAgAWAAABAAHJAAMABAAAAEQARABEAEQAiADDAP0BbAG3AfUCFAJDAoYC5QNEA8kEjQUKBboGVwbEB40IIwgvCI4I6wj4CVUJhQmuCjkKVwrjCzAMNg05DosO1w8kD3EPoBAfEJoQrhDCESoRqBIuEqsTNRO2FEQU4BVtFegWgRb7F48YJxilGPMZMRloGXAZmxm7GfkaNxpoGnUagRqNGqkasRrSGvIAAAABAAAAAoUeC2yUzV8PPPUCnwgAAAAAAMheFaoAAAAAyF4VqvwA/kYMygZGAAAACAAAAAAAAAAAeJxjucQQxAAETDC8iuEFEEcDcQ7zEYYiNnOGVUDxDig9mcmSgYFFmCEYiDcBcRYQRwKxDRLbC0pHMikzrASqXwXSC8NAcwuAOJ/5OkMK4yyGJUB6DosSgyrbLoZWKHYGqWNpZlAHYlWQGSwJDCYseQxGLAwM8RxADFPLGQTX449EOwOxLpq4M5RtymLPoMBWwpDKtoRBGeymVQyTWRgYBYBm6zP/ZmAAihVDMczNYD7TLIZohhwAfaU9ewB4nGNgZGBgc/vnxsDAy/eH4ZsmzykGoAgK8AYAck4E6nicY2BkbmWcwMDCwMBawSrCwMBwAkIzdTEEMX7hYWZlYmRiZAeBBgaGxUB5BwYocCtKTQXyFNRfsrn9c2NgYHNj3AUU5p3EzMAAAP7iDLEAeJyN0E9Kw0AUBvDPpG6KUPpnUUqV+LBJNdgDiBZFlOoVSjeSbgRPUOjWg3gJF13E9BJdmEF0056gm5bx67zg2sAv3xt4M/MSACUAPp1A60+u9tzaR9mtS3hnniFgVcYx+hhihCnW3tyf+WnQEE8qUpOWhBLLQMZRFq2s5Z4AXdc7YW/meuuut8rejutN2Lu01v7Y3H7Y1L7Z3jbZvGyev5rmwvTMuQlN2zTzbf69eF08ucn++xzsXn8bGm4ecH793i71aZ+GhTaNCoc0oSkd0brQAbyM5qxDHjVTOGWmiv8KQZ12d8aAeAqXzIrCFbNKNZ1DWgrXTN4hPBs3zFjhljlQuGMmNGZ9D0SZwgNzSSvWj7/ICEuFAHicXVG7blNBEN0lDwNJiB9BcrQpZhlC471xC1KiXF2EI9uN5SjSLnLBjeMCf4ALpNRE+zVjp6GkoKVBkQskPoFPQGJmHRCi2dmZnXPOnFlSjlSjT7sDT71ZIIWnTdps+ZOQatcB7kg3jpoZaQffabuV0QPXH/o3GGxGa+59EygfeEt5yGjdCdSi/eB/mK/BcJ//ZX4Gg5Y2Wp46s5AeQmC+DbczepvRpps/0zesDjejkSHFNBU3f55K+d/SQ1evwat2Ro8cXIvIF6YBWjvsItD6ix6pgY+TWIJcXhprg4kpG64yEXy8mq5qqpYZtxx8S3a2HbSp0hp5gDPslFPwcHW5opC+HVFmaYhwFjslRoiY5FDIKedO9icFyieSMOZJUjpZNq01sIy8BgZ1eZqL+9lsatt1CMt7cQTfPzeWdPCRDXUxIsRuxFIAK4iEjKryDXWeuyYG5FL/z0CUgOX03b9OBNpwbCJ+lLX1rjBWCAb+2Hzmlz13q3KdF4Xuf6qqsUqnNF94OYceL3l6LAwHjQVvPh/6hQL1elwsNGgOBGPanxz80XrqiKu8Fz6y37gisOAAAAC4Af+FsAGNAEuwCFBYsQEBjlmxRgYrWCGwEFlLsBRSWCGwgFkdsAYrXFgAsAUgRbADK0QBsAYgRbADK0RZsBQr/mIAAAObBTwFvwBSAEoAUAAtADAAOQC8AKoAnQCRACgAowA8ADIAPwClADQANwCIAHsAiwCUAHQAjgBOAGsAWABMALAAoACDAEYAeACWALcAwQBEAHEAKgCsAAB4nF2PTU4CQRBGH4JGN65dkTkBMSQsjCsTo3v/9oDDOMkI2mIInsATcBIP4cJD+bqnjWgmU/2q6qs/YJ8ZXTq9A6Dxb7nDoV7LO/Jb5q78nrlHn03mXY74yLy3VfvJnC9utTVTFtxTUnAhzVnyIs/k4HtmZKqqTJmCa72g/5R0p0YuzUVtlXqcy696i5wdcux3Yt2aRybGG8Zcqa3URQ6s9CZpYpzxV1n8097pBXvXSR37Dxhpb3gw9rN5u+vKihip0vaxbmy89NrC/mvt0qrty+N9z86q1QYzTb7vtzpeOvgGmLtAIAAAeJxtz0lOw0AQBdD/k0BiYmeeGQI3SBo5wwaBEKw4A2CRBrcUnMh2wkVAjFvEHjbcig2wRBjT7Cip9X51qVpqJBDX1z4q+K8OokMkkEQKWZiwkEMeBRRRQjnaqaKGOhpoooVlrGAVa2hjHRvYwjYOcYRjOPjAOz7xygSTTOEa93jGCxe4yDQzNLjELE1azDHPAosssYwb3OEWb3hkhVU8sIYnXOKKdTbYZCs981RH7ArtpuF4k1COpXJ+bkTX7mi7WpGZeDJ0lT8ywotJHAI9srU9bV870A61O0b0hFRnbuiaoetLnYPsqZr/ZTOQc+npJt4Twtb20oE6V2PHt6bSn0pvpE5mURdP+79fEf29gXb4DalzW4kAAAAAAAIABAAC//8AA3icY2BkYGDgYYAAJgYWIKnOwMigyeAMJF0Z3IGkJ4M3AyMAFFIBywAAAQAAAAoADAAOAAAAAAAAeJwtjjFuwkAQRd/GVhQQMbZZEBVFQBRIEEggASKlpKSktyygACFkpeECHIUD5BQ5QO4Ds8sUqzf68//sxwBlekwJ8lOxx26L9Q67z34OWELZcr3iXGZTZDlPbvIv9FsjiuGfR1KOnLnwyx8lybboMuCDbxYsWfEq/goRz6IFMtV480wZesaug7AuKccGfU9L27PKi2fCg/wW8a7pkaYDaRLTZKZXxrrvaMo1nqh2vzBX56f2cY4v1Yx3VOViIn57A23XFhoAAAA=) format(\'woff\');\n}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover {\n  width: auto;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-bottom {\n  position: absolute;\n  top: 43px;\n  left: -3px;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-bottom .dcg-arrow {\n  left: 23px;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-right {\n  position: absolute;\n  top: -40px;\n  left: 40px;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-right .dcg-arrow {\n  top: 60px;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-popover-interior {\n  padding: 4px 0;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item {\n  cursor: pointer;\n  font-size: 80%;\n  text-align: left;\n  white-space: nowrap;\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n  padding: 8px;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i {\n  margin: 0 8px 0 4px;\n  font-size: 205%;\n  vertical-align: middle;\n  width: 30px;\n  display: inline-block;\n  text-align: right;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-expression {\n  font-size: 210%;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-table {\n  font-size: 200%;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-folder {\n  font-size: 190%;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-action-newexpression {\n  padding: 10px 12px 4px 8px;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-hovered {\n  opacity: 0.8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-disabled {\n  opacity: 0.25;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";\n  filter: alpha(opacity=25);\n}.dcg-calculator-api-container .dcg-basic-list-container {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  overflow: auto;\n  border-top: 1px solid rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode .dcg-braille-input input,\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode .dcg-braille-evaluation input {\n  font-size: 135%;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  border-right: 1px solid rgba(0,0,0,0.2);\n  border-left: 1px solid rgba(0,0,0,0.2);\n  position: relative;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder .dcg-answer-hint {\n  -webkit-transition: opacity 1s;\n  -moz-transition: opacity 1s;\n  -o-transition: opacity 1s;\n  -ms-transition: opacity 1s;\n  transition: opacity 1s;\n  padding: 10px;\n  width: 200px;\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  padding-right: 30px;\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAADXCAQAAAC6oBfOAAAHuElEQVR42u2daYwVRRDHWwERjFEwuBpDvDDRGBNjNDF+0E/LsRxyS0BBVA4XAmogitHgArLct/zlRhBcELlkAbkkcskpEM6FRPAEFMUTwegzwO4Ku1X95tqd6X9e9cc33dO/Nz093VXVVcZkJCMZiVHwCHLwOK7mgqqPQvyFVHHpzQSWKlOGsaANK4eWwlAOtC0CWgoj3QerKoJdKPnuwxWpcP1cR5uuoqXwittoTS1oKXRyG66dFa6J23AdLWj7cRsv3FLXp5NnLXBwHS7XAuf8h+A1C1wr1+HyVbSvkeU63AQVbqH7S6+FKtybrqNlYT/vG9dERTvo/qDsrsKN4Nx9Xyrt3Yf7TIXLdh2tsYo21v3n9iLtTGkM3lPQdriPVhMnFLg+7sN1UQdlfd5BOcl9tIbqc2vtPlwvBW2VcV+wToHr6D5ac9qPgDGYpMDluo/WQEHbx/Dc+ilwPRjgjotohxjQXlKeW3cGuD0i2nYGtM6UxqpiuB0iWiEDmrYTaMwAV0SqVDAGeaTKIGOQraDlMTy34SLaXga0+rRbHGMwUUSbw4DWklYVpC65BjCg9RHRdhkGwVkR7kkGtFki2nAGtLa0iiBjcJDUiqNaTkczoDVjniW/EOEaMaANFNHeZkCTFa/rOYbkVt615CjetaS8B5jNMSSPCWhHOdDeF59bUwY0WTPJcJoK1US0jzmG5OcC2k8caODdlObxbkplffISjiG5k9QQbAymkho4jMEgXgOH7KI2mWNIniB1TzMGhQLaKQ402XbTgAGtvYg2kAEti9SJ9yLcDwLaCg60Tby77ZnikKzCgCafM23IgCYfLxrEgFaL8rh6MdxJ3l3bNl6T1GIB7UcOtHfFt+1G3umfYoncmHeJfLuINorjbftXQJvJgfa9gLaSA03ySNjGgbZSQDvGgTZbQPuTA0222VzHgCb7kt/NgJbH60WSzetFcqeINpgBrbaINoYBrYqINoVj+v9dQJvLgXZKQFvMgSYd3FvNgSYZ7DdxoG0gPdxsDNYKaAc40CTD73EOtKW8usgCAe00B5pkZfuVA02KWX6eA02OusWQk0NxRKvOgCa7xlzLgCZba2owoE3m1WkRD0hitGm875qMdg0DmhjbLrMaqaAuZSMvCud1fJCoNSSaYHlxJ/7A6yHbmiug/RYf2JUdmRiqtYUJ2q8J0ft7RaxA+C4eMCn+xJ4Q7a1OzOkajIs2sL0YTz4mtPEi2qLA7Unh+nbGg/aUElupZcD2pBgka+OaRvZFGRMLXwptrYkLLS/KmFiiv09clho1vF4gjzicS5R9DQNEtG8CtFRDbGlqfGhaeL2uvlu6OXG2bMyIJqKxMrjj9IhE62giGitTUrx+rFgvdurTSN7aeL2P8XQUmRYwWGzj/gj72QZj0cZvpQ1it2ZFoM+KKCkdcvFziSMiXvZTsWf4iMbKQa9I1AflvPb6+6n8bdgDP+JGNJLwHGI2vw7eq+eHXXJhjVD7cARgU8R+zffegJbgyrPTn5hvL6RrBa5Svrr+du9KVKwjnuufjDoUDq4XdWT+Y1GqGTI6evx/Q8+xZVrMsiSV9LuAU/6jrZ7q3iLWnRAY7C58Ys0KnRNeDeRRW6LErwjow4qHlHh4wdM2iWcHPR2MVKKO5AQCewIHrGAdgjTaTWks7TFkxRX+ngB9aISjVrCg0Z5wKFjaTWWSrhZgnWjDKgrhXK9Eoj4TSHPs2z8LL1jB9uCxcJ/J80Fy+Ipunj5P+FqzdqewEQ+EXdjIK/ivAqxBl0cwXkrKMtQNv2Zr5l9bgpphP9h4ywo2HzdFszeSoz6us9SoJ9YY6fmOQ61gs/xPR9qNWvhNlopWYWJpYaQVbHq0KoWN/nKdY3TwCGiW3OoVESJCTSzdQrl+dtAdtuKNV5GqPmXXPcXHNjStBhrVlL+kpAyrXEOHuOTCEeHKzWnuUBvzrGAVp8HEae+RX/CPcOU8a+t1scwK9mpFaiflCbnI8ybW8p7gPkWtW1K6VaziNUe5bd9yVw70N/XjUSVgfmBTin+4Am/aEozxM/WjgZKcoqS0rQyFuWbr7lzmuo+Ea84pbTa1YgXcvAaBKxRvXyZoA3Z59T9BOyvWgUo86qw+tyt2uvjFm9IBXa1g2/Fw5VpxdqUz4yp21XLeXmp66mKTF+41lStqh0qHjmJXK/P9U1PlFvsp4FZT+YIzYmfyS38fl37Voui7SkoBapk4RNlynCz9fUm6+REjrGAzUdXEI6pvSa5l/bg77YYnfueLi517R8/eq0T0LyitO8kKNsHEK2oK9+dVTcooq3YySaGosErzUVDSXrU0BtXT7MaGmCQIOinda44P5f016mCBFay/SYpgt9jBaaJq9TDqic66/5feJjmCHkon/xY/wFusYEnLaC/GpZDLXuuvyUsdjiGe0WwliSkD0Sg01pHEhgvGnFBgYU1IFYrWLATYFjxokiyYHxBsBe4wyRZ0CAS2AHVM8kU8gWEvc3GDcUHQ2yfYdOOOiL5YWnErpQv6egYbb1wTRVvCkM1LcS9kSJxU7oRp+dLPuCpWT8UUehp3RT3RcaF0MW6Loi1J4RnjuuA52mSpxmARZfR+c8nb+HK4zRQpAC/DewOrcRbbSOL2ZyQjGckIpfwHjUChXKuem7kAAAAASUVORK5CYII=") no-repeat top 20px right 5px;\n  -webkit-background-size: 15px;\n  -moz-background-size: 15px;\n  background-size: 15px;\n  -webkit-animation: dcg-fadePulse 0.3s;\n  -moz-animation: dcg-fadePulse 0.3s;\n  -o-animation: dcg-fadePulse 0.3s;\n  -ms-animation: dcg-fadePulse 0.3s;\n  animation: dcg-fadePulse 0.3s;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-type-hint,\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-answer-hint {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  -webkit-transition: opacity 0.3s;\n  -moz-transition: opacity 0.3s;\n  -o-transition: opacity 0.3s;\n  -ms-transition: opacity 0.3s;\n  transition: opacity 0.3s;\n}\n\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-settings-dropdown .dcg-popover-interior {\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n@-webkit-keyframes dcg-fadePulse {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n    -webkit-transform: scale(0.7, 0.7);\n    -moz-transform: scale(0.7, 0.7);\n    -o-transform: scale(0.7, 0.7);\n    -ms-transform: scale(0.7, 0.7);\n    transform: scale(0.7, 0.7);\n  }\n\n  50% {\n    -webkit-transform: scale(1.1, 1.1);\n    -moz-transform: scale(1.1, 1.1);\n    -o-transform: scale(1.1, 1.1);\n    -ms-transform: scale(1.1, 1.1);\n    transform: scale(1.1, 1.1);\n  }\n\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n    -webkit-transform: scale(1, 1);\n    -moz-transform: scale(1, 1);\n    -o-transform: scale(1, 1);\n    -ms-transform: scale(1, 1);\n    transform: scale(1, 1);\n  }\n}\n\n@keyframes dcg-fadePulse {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n    -webkit-transform: scale(0.7, 0.7);\n    -moz-transform: scale(0.7, 0.7);\n    -o-transform: scale(0.7, 0.7);\n    -ms-transform: scale(0.7, 0.7);\n    transform: scale(0.7, 0.7);\n  }\n\n  50% {\n    -webkit-transform: scale(1.1, 1.1);\n    -moz-transform: scale(1.1, 1.1);\n    -o-transform: scale(1.1, 1.1);\n    -ms-transform: scale(1.1, 1.1);\n    transform: scale(1.1, 1.1);\n  }\n\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n    -webkit-transform: scale(1, 1);\n    -moz-transform: scale(1, 1);\n    -o-transform: scale(1, 1);\n    -ms-transform: scale(1, 1);\n    transform: scale(1, 1);\n  }\n}.dcg-calculator-api-container .dcg-container .dcg-basic-expression .dcg-mq-container .dcg-mq-editable-field {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-basic-expression .dcg-mq-container .dcg-mq-editable-field:after {\n  position: absolute;\n  top: 1px;\n  right: 0;\n  bottom: 1px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression {\n  min-height: 56px;\n  border: 1px solid rgba(0,0,0,0.2);\n  margin-top: -1px;\n  position: relative;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression:not(:first-of-type) {\n  border-top-color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-focused {\n  border-color: #6399cb;\n  -webkit-box-shadow: inset 0 0 0 1px #6399cb;\n  box-shadow: inset 0 0 0 1px #6399cb;\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression:first-of-type {\n  margin-top: 0;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io {\n  -webkit-box-lines: multiple;\n  -moz-box-lines: multiple;\n  -o-box-lines: multiple;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  padding: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io input {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-mq-math-mode {\n  padding: 0;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input {\n  border: none;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input:focus {\n  outline: 1px dotted #000;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input {\n  border: 1px solid transparent;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input:focus {\n  color: #000;\n  outline: 1px dotted #000;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input {\n  font-family: Abraham, serif;\n  font-size: 163%;\n  padding: 8px 8px 0;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-basic-expression-error {\n  font-size: 140%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error {\n  position: absolute;\n  top: -0.8em;\n  right: 0;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea {\n  width: 100%;\n  text-align: right;\n  color: #666;\n  padding-right: 5px;\n  font-size: 80%;\n  border: none;\n  resize: none;\n  -webkit-animation: dcg-delayed-fadeIn 1s;\n  -moz-animation: dcg-delayed-fadeIn 1s;\n  -o-animation: dcg-delayed-fadeIn 1s;\n  -ms-animation: dcg-delayed-fadeIn 1s;\n  animation: dcg-delayed-fadeIn 1s;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea:focus {\n  outline: dotted 1px #666;\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1 1 40%;\n  -ms-flex: 1 1 40%;\n  flex: 1 1 40%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error {\n  text-align: right;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container {\n  padding: 8px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {\n  font-size: 90%;\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {\n  padding: 8px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container .dcg-basic-expression-value {\n  padding-right: 8px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-exp-mathquill-container {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  overflow: hidden;\n  margin-right: 1px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-exp-mathquill-container .dcg-mq-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-math-mode {\n  padding: 12px 5px 12px 15px;\n  outline: none !important;\n  -webkit-box-shadow: none !important;\n  box-shadow: none !important;\n  border: 0;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-error {\n  color: #e66b3c;\n  font-size: 130%;\n  cursor: pointer;\n  -webkit-animation: dcg-delayed-fadeIn 1s;\n  -moz-animation: dcg-delayed-fadeIn 1s;\n  -o-animation: dcg-delayed-fadeIn 1s;\n  -ms-animation: dcg-delayed-fadeIn 1s;\n  animation: dcg-delayed-fadeIn 1s;\n  margin-right: 15px;\n  height: 24px;\n  line-height: 24px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value {\n  -webkit-animation: dcg-fadeIn 0.5s;\n  -moz-animation: dcg-fadeIn 0.5s;\n  -o-animation: dcg-fadeIn 0.5s;\n  -ms-animation: dcg-fadeIn 0.5s;\n  animation: dcg-fadeIn 0.5s;\n  padding-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value.dcg-basic-evaluation-gray .dcg-static-mathquill-view {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle {\n  font-size: 20px;\n  display: inline-block;\n  width: 29px;\n  height: 29px;\n  border: 2px solid #000;\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n  color: #000;\n  text-align: center;\n  border-radius: 50%;\n  margin: 0 5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle i {\n  position: relative;\n  top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-hovered {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-depressed {\n  opacity: 0.9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected {\n  background: #000;\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n  color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-hovered {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-depressed {\n  opacity: 0.9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-slider-container {\n  height: 40px;\n  width: 250px;\n  max-width: 100%;\n  padding-right: 3px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans {\n  border: 2px solid #4781b9;\n  color: #4781b9;\n  background-color: rgba(71,129,185,0.15);\n  padding: 0.2em 0.4em;\n  display: inline-block;\n  border-radius: 4px;\n  margin-right: 1px;\n  margin-bottom: 2px;\n  min-width: 30px;\n  text-align: center;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans sup {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  content: \'ans\';\n  position: absolute;\n  bottom: -0.5em;\n  left: 50%;\n  font-size: 60%;\n  width: 1.9em;\n  overflow: hidden;\n  text-align: center;\n  margin-left: -0.95em;\n  color: #4781b9;\n  border: 1px solid #4781b9;\n  background: #fff;\n  padding: 0;\n  border-radius: 3px;\n  height: 1em;\n  line-height: 0.9em;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid {\n  border-color: #e66b3c;\n  background: rgba(230,107,60,0.1);\n  color: #e66b3c;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid i {\n  font-style: normal;\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid:after {\n  color: #e66b3c;\n  border-color: #e66b3c;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-selection .dcg-mq-ans {\n  background: #4781b9;\n  color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-selection .dcg-mq-ans.dcg-invalid {\n  background: #e66b3c;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main.dcg-projector-mode .dcg-mq-ans:after {\n  position: absolute;\n  bottom: -0.3em;\n  left: 50%;\n  height: 0.9em;\n  line-height: 0.8em;\n}\n\n.dcg-calculator-api-container .dcg-braille-toggle {\n  display: inline-block;\n  float: right;\n}\n\n.dcg-calculator-api-container .dcg-braille-toggle .dcg-buttons {\n  float: right;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button {\n  padding: 8px;\n  border: 1px solid #ccc;\n  color: #444;\n  position: relative;\n  top: -3px;\n  cursor: pointer;\n  width: 90px;\n  text-align: center;\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button:last-of-type {\n  border-radius: 0px 6px 6px 0px;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button:first-of-type {\n  border-radius: 6px 0px 0px 6px;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button.dcg-hovered {\n  background: #f4f4f4;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button.dcg-depressed {\n  -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.5);\n  box-shadow: inset 0 0 5px rgba(0,0,0,0.5);\n}\n\n.dcg-calculator-api-container .dcg-toggle-button.dcg-selected {\n  background: #4781b9;\n  color: #fff;\n  border-color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main.dcg-projector-mode .dcg-basic-expression.dcg-braille-io .dcg-braille-error {\n  font-size: 90%;\n}\n\n@-webkit-keyframes dcg-delayed-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  80% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@keyframes dcg-delayed-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  80% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@-webkit-keyframes dcg-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@keyframes dcg-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}.dcg-calculator-api-container table.dcg-braille-examples-table {\n  border-collapse: collapse;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table tr:not(:last-of-type) {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table th {\n  font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;\n  font-weight: 500;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table th,\n.dcg-calculator-api-container table.dcg-braille-examples-table td {\n  padding: 5px 8px;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table th:not(:last-of-type),\n.dcg-calculator-api-container table.dcg-braille-examples-table td:not(:last-of-type) {\n  border-right: 1px solid rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table th:not(:first-of-type),\n.dcg-calculator-api-container table.dcg-braille-examples-table td:not(:first-of-type) {\n  text-align: center;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table td {\n  height: 45px;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table .dcg-braille-font {\n  font-family: Abraham;\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table .dcg-key-press {\n  border: 1px solid rgba(0,0,0,0.2);\n  background: rgba(255,255,255,0.6);\n  border-radius: 3px;\n  width: 25px;\n  height: 25px;\n  line-height: 23px;\n  text-align: center;\n  display: inline-block;\n  margin-right: 2px;\n  vertical-align: middle;\n}.dcg-calculator-api-container .dcg-braille-io-keypad-container {\n  padding-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad {\n  color: #666;\n  border-top: 1px solid rgba(0,0,0,0.2);\n  padding: 10px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a {\n  color: #4781b9;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a.dcg-hovered {\n  color: #004f9b;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container {\n  color: #444;\n  padding: 10px 10px 0;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container .dcg-more-examples-link {\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table {\n  margin-bottom: 10px;\n  border: 1px solid rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table th {\n  background: rgba(0,0,0,0.07);\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  padding: 10px 0 10px 10px;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {\n  font-size: 130%;\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text {\n  font-size: 95%;\n  margin-bottom: 10px;\n  line-height: 1.2em;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn {\n  color: #fff;\n  padding: 8px 12px;\n  display: inline-block;\n  border-radius: 3px;\n  background: #4781b9;\n  border: 1px solid #3f73a6;\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);\n  box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn.dcg-hovered:not(.dcg-disabled) {\n  background: #3f73a6;\n  -webkit-transition: background 0.2s;\n  -moz-transition: background 0.2s;\n  -o-transition: background 0.2s;\n  -ms-transition: background 0.2s;\n  transition: background 0.2s;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn.dcg-depressed:not(.dcg-disabled) {\n  background: #35608a;\n  border: 1px solid #35608a;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description,\n.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description {\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n\n.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title,\n.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn,\n.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn {\n  margin-right: auto;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description {\n  -webkit-box-orient: horizontal;\n  -moz-box-orient: horizontal;\n  -o-box-orient: horizontal;\n  -webkit-box-lines: multiple;\n  -moz-box-lines: multiple;\n  -o-box-lines: multiple;\n  -webkit-flex-flow: row wrap;\n  -ms-flex-flow: row wrap;\n  flex-flow: row wrap;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn {\n  -webkit-box-ordinal-group: 1;\n  -moz-box-ordinal-group: 1;\n  -o-box-ordinal-group: 1;\n  -ms-flex-order: 1;\n  -webkit-order: 1;\n  order: 1;\n  margin-left: 10px;\n  margin-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text {\n  -webkit-box-ordinal-group: 2;\n  -moz-box-ordinal-group: 2;\n  -o-box-ordinal-group: 2;\n  -ms-flex-order: 2;\n  -webkit-order: 2;\n  order: 2;\n  width: 100%;\n  margin: 5px 0 0;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container th,\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td {\n  padding: 2px 5px;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:nth-of-type(3) {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {\n  height: 170px;\n  padding: 3px;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container table {\n  margin-bottom: 5px;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:last-of-type {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description {\n  padding-bottom: 5px;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn {\n  padding: 5px 8px;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-more-examples-link {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container {\n  padding-top: 0;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td {\n  height: 35px;\n}.dcg-calculator-api-container .dcg-basic-settings-container {\n  position: relative;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n}\n\n.dcg-calculator-api-container .dcg-basic-settings-container .dcg-keypad-control-btn.dcg-selected {\n  color: #333;\n  background: rgba(0,0,0,0.1);\n}.dcg-aria-alert {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 1px;\n  height: 1px;\n  text-align: left;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper {\n  height: 100%;\n  width: 100%;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main {\n  height: 100%;\n  width: 100%;\n  background: #fff;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-lines: single;\n  -moz-box-lines: single;\n  -o-box-lines: single;\n  -webkit-flex-wrap: nowrap;\n  -ms-flex-wrap: nowrap;\n  flex-wrap: nowrap;\n  border-radius: 2px;\n  font-family: Arial, sans-serif;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main.dcg-no-hyperlinks a[target="_blank"] {\n  display: none !important;\n}.dcg-calculator-api-container .dcg-settings-dropdown {\n  font-size: 95%;\n  color: #333;\n  width: 280px;\n  position: absolute;\n  bottom: 50px;\n  right: 5px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option {\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option:not(.dcg-braille-mode) {\n  margin-bottom: 0.5em;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-box {\n  display: inline-block;\n  position: relative;\n  top: 2px;\n  height: 15px;\n  width: 15px;\n  border-radius: 3px;\n  color: #127a3d;\n  border: 1px solid rgba(0,0,0,0.2);\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-box .dcg-icon-check {\n  position: relative;\n  top: -2px;\n  left: 1px;\n  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-checked .dcg-icon-check {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-hovered .dcg-checkbox-box {\n  border-color: rgba(0,0,0,0.4);\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-depressed .dcg-checkbox-box {\n  border-color: rgba(0,0,0,0.6);\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-displaysize-buttons .dcg-displaysize-large {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  color: rgba(0,0,0,0.85);\n  min-height: 34px;\n  padding: 0 4px;\n  text-align: center;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-padded-segmented-control-btn {\n  padding: 6px 4px;\n  height: auto;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn i {\n  font-size: 120%;\n  margin-right: 4px;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:not(:last-of-type):not(.dcg-selected):not(.dcg-hovered) {\n  border-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected,\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered {\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected:not(:last-of-type),\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered:not(:last-of-type) {\n  margin-right: -1px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered:not(.dcg-selected) {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-depressed:not(.dcg-selected) {\n  background: rgba(0,0,0,0.05);\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:first-of-type {\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:last-of-type {\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected {\n  color: #fff;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn) {\n  border: 1px solid rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn).dcg-hovered:not(.dcg-selected) {\n  border-color: rgba(0,0,0,0.35);\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn).dcg-selected {\n  border: 1px solid #4781b9;\n  background: rgba(71,129,185,0.75);\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn {\n  border: 1px solid rgba(0,0,0,0.42);\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn.dcg-hovered:not(.dcg-selected) {\n  border-color: rgba(0,0,0,0.57);\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn.dcg-selected {\n  border: 1px solid rgba(0,0,0,0.65);\n  background: rgba(0,0,0,0.65);\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container {\n  padding-left: 26px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations {\n  color: #127a3d;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations span {\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-hovered:not(.dcg-disabled) {\n  color: #0d542a;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-depressed:not(.dcg-disabled) {\n  color: #063c1c;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations i {\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info {\n  display: inline-block;\n  color: #999;\n  text-decoration: none;\n  margin-left: 0.5em;\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info.dcg-active {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-checkbox {\n  display: inline-block;\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior {\n  padding: 15px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after {\n  content: "";\n  position: absolute;\n  bottom: -7px;\n  right: 18px;\n  border-width: 7px;\n  border-bottom-width: 0;\n  border-style: solid;\n  border-color: #fff transparent transparent;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before {\n  content: "";\n  position: absolute;\n  bottom: -8px;\n  right: 17px;\n  border-width: 8px;\n  border-bottom-width: 0;\n  border-style: solid;\n  border-color: #ccc transparent transparent;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left {\n  position: absolute;\n  top: -30px;\n  left: -280px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left.dcg-popover .dcg-popover-interior:after {\n  content: "";\n  position: absolute;\n  right: -7px;\n  top: 43px;\n  border-width: 7px;\n  border-right-width: 0;\n  border-style: solid;\n  border-color: transparent transparent transparent #fff;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left.dcg-popover .dcg-popover-interior:before {\n  content: "";\n  position: absolute;\n  right: -8px;\n  top: 42px;\n  border-width: 8px;\n  border-right-width: 0;\n  border-style: solid;\n  border-color: transparent transparent transparent #ccc;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after {\n  border-top-color: rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover:not(.dcg-point-left) .dcg-popover-interior:after {\n  right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover:not(.dcg-point-left) .dcg-popover-interior:before {\n  right: 9px;\n}\n\n.dcg-calculator-api-container .dcg-version-number {\n  color: #666;\n  font-size: 90%;\n  text-align: center;\n  margin-top: 15px;\n}.dcg-calculator-api-container .dcg-btn-blue,\n.dcg-calculator-api-container .dcg-btn-red,\n.dcg-calculator-api-container .dcg-btn-light-gray,\n.dcg-calculator-api-container .dcg-btn-green {\n  text-decoration: none;\n  white-space: nowrap;\n  padding: 0 20px;\n  -webkit-appearance: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  border-radius: 3px;\n  border: none;\n  font-size: 100%;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-btn-red,\n.dcg-calculator-api-container .dcg-btn-blue,\n.dcg-calculator-api-container .dcg-btn-green {\n  color: #fff;\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);\n  box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);\n}\n\n.dcg-calculator-api-container .dcg-btn-red {\n  background: #ce4945;\n  border: 1px solid #aa3a37;\n}\n\n.dcg-calculator-api-container .dcg-btn-red.dcg-hovered:not(.dcg-disabled) {\n  background: #bc433f;\n  -webkit-transition: background 0.2s;\n  -moz-transition: background 0.2s;\n  -o-transition: background 0.2s;\n  -ms-transition: background 0.2s;\n  transition: background 0.2s;\n}\n\n.dcg-calculator-api-container .dcg-btn-red.dcg-depressed:not(.dcg-disabled) {\n  background: #b03936;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-btn-blue {\n  color: #fff;\n  background: #3379ba;\n  border: 1px solid #36628c;\n}\n\n.dcg-calculator-api-container .dcg-btn-blue.dcg-hovered:not(.dcg-disabled) {\n  background: #296ead;\n  -webkit-transition: background 0.2s;\n  -moz-transition: background 0.2s;\n  -o-transition: background 0.2s;\n  -ms-transition: background 0.2s;\n  transition: background 0.2s;\n}\n\n.dcg-calculator-api-container .dcg-btn-blue.dcg-depressed:not(.dcg-disabled) {\n  background: #28649b;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-btn-light-gray {\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);\n  box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);\n  background: -webkit-linear-gradient(#f6f6f6, #f0f0f0);\n  background: -moz-linear-gradient(#f6f6f6, #f0f0f0);\n  background: -o-linear-gradient(#f6f6f6, #f0f0f0);\n  background: -ms-linear-gradient(#f6f6f6, #f0f0f0);\n  background: linear-gradient(#f6f6f6, #f0f0f0);\n  border: 1px solid rgba(0,0,0,0.1);\n}\n\n.dcg-calculator-api-container .dcg-btn-light-gray.dcg-hovered {\n  background: #ededed;\n  border: 1px solid rgba(0,0,0,0.13);\n}\n\n.dcg-calculator-api-container .dcg-btn-light-gray.dcg-depressed {\n  background: #e0e0e0;\n  border: 1px solid rgba(0,0,0,0.15);\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-btn-green {\n  background: #1aad57;\n}\n\n.dcg-calculator-api-container .dcg-btn-green:not(.dcg-disabled).dcg-hovered {\n  background: #179d4f;\n}\n\n.dcg-calculator-api-container .dcg-btn-green:not(.dcg-disabled).dcg-depressed,\n.dcg-calculator-api-container .dcg-btn-green:not(.dcg-disabled).dcg-active {\n  background: #148e47;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-pull-right {\n  float: right;\n}\n\n.dcg-calculator-api-container .dcg-pull-left {\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-red,\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-blue,\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-green {\n  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,0.15), inset 0 1px rgba(0,0,0,0.1);\n  box-shadow: inset 0 -1px rgba(255,255,255,0.15), inset 0 1px rgba(0,0,0,0.1);\n}.dcg-aria-alert,\n.dcg-calculator-api-container .dcg-offscreen-element {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 1px;\n  height: 1px;\n  text-align: left;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-default-border {\n  border: 1px solid rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-container a,\n.dcg-calculator-api-container .dcg-container a:hover {\n  text-decoration: none;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-grapher,\n.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-resize-list-btn,\n.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-graph-icon {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-horizontal {\n  cursor: ew-resize;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-vertical {\n  cursor: ns-resize;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-both {\n  cursor: nesw-resize;\n}\n\n.dcg-calculator-api-container .dcg-graph-outer {\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-no-expression-topbar .dcg-expression-top-bar {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-no-expression-topbar .dcg-exppanel-container {\n  padding-top: 0;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-no-hyperlinks a[target="_blank"] {\n  display: none !important;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-inverted-colors {\n  filter: invert(100%);\n}\n\n.dcg-calculator-api-container .dcg-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background: #fff;\n  z-index: 0;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  overflow: hidden;\n  font-family: arial, sans-serif;\n  font-size: 16px;\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-is-interactive {\n  touch-action: none;\n  -ms-touch-action: none;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-is-interactive .dcg-grapher {\n  touch-action: none;\n  -ms-touch-action: none;\n}\n\n.dcg-calculator-api-container .dcg-container * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-text-selectable {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n}\n\n.dcg-calculator-api-container .dcg-graphpaper-branding {\n  position: absolute;\n  bottom: 0;\n  right: -8px;\n  display: none;\n  z-index: 21;\n}\n\n.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding {\n  display: block;\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding .dcg-powered-by,\n.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding i {\n  position: relative;\n  text-shadow: -1px -1px 0 #fff, -1px 1px 0 #fff, 1px -1px 0 #fff, 1px 1px 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding,\n.dcg-calculator-api-container .dcg-graphpaper-branding {\n  text-align: center;\n  font-size: 75%;\n  width: 110px;\n  margin-left: -55px;\n  text-decoration: none;\n  line-height: 1em;\n  height: 45px;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding.dcg-unclickable,\n.dcg-calculator-api-container .dcg-graphpaper-branding.dcg-unclickable {\n  pointer-events: none;\n  z-index: -1;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding .dcg-powered-by,\n.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-powered-by {\n  color: rgba(0,0,0,0.2);\n  text-decoration: none;\n  -webkit-transition: color 0.3s;\n  -moz-transition: color 0.3s;\n  -o-transition: color 0.3s;\n  -ms-transition: color 0.3s;\n  transition: color 0.3s;\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding i,\n.dcg-calculator-api-container .dcg-graphpaper-branding i {\n  color: rgba(0,0,0,0.2);\n  font-size: 650%;\n  margin-right: 2px;\n  line-height: 18px;\n  -webkit-transition: color 0.3s;\n  -moz-transition: color 0.3s;\n  -o-transition: color 0.3s;\n  -ms-transition: color 0.3s;\n  transition: color 0.3s;\n  height: 18px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding a,\n.dcg-calculator-api-container .dcg-graphpaper-branding a,\n.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding,\n.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding {\n  cursor: pointer;\n  display: block;\n  height: 50px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding a.dcg-hovered .dcg-powered-by,\n.dcg-calculator-api-container .dcg-graphpaper-branding a.dcg-hovered .dcg-powered-by,\n.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by,\n.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by {\n  color: #aaa;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding a.dcg-hovered i,\n.dcg-calculator-api-container .dcg-graphpaper-branding a.dcg-hovered i,\n.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding.dcg-hovered i,\n.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered i {\n  color: #127a3d;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-graphpaper-branding {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-no-branding .dcg-expressions-branding,\n.dcg-calculator-api-container .dcg-no-branding .dcg-graphpaper-branding {\n  display: none;\n}.dcg-calculator-api-container .dcg-container {\n  text-align: left;\n  -webkit-transform-origin: 0 0;\n  -moz-transform-origin: 0 0;\n  -o-transform-origin: 0 0;\n  -ms-transform-origin: 0 0;\n  transform-origin: 0 0;\n}\n\n.dcg-calculator-api-container .dcg-container pre {\n  white-space: pre-wrap;\n}\n\n.dcg-calculator-api-container .dcg-container img {\n  border: 0;\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-container input::-ms-clear {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-container button,\n.dcg-calculator-api-container .dcg-container input,\n.dcg-calculator-api-container .dcg-container select,\n.dcg-calculator-api-container .dcg-container textarea {\n  font-family: inherit;\n}\n\n.dcg-calculator-api-container .dcg-container button,\n.dcg-calculator-api-container .dcg-container select {\n  text-transform: none;\n}\n\n.dcg-calculator-api-container .dcg-container button,\n.dcg-calculator-api-container .dcg-container input[type="button"],\n.dcg-calculator-api-container .dcg-container input[type="reset"],\n.dcg-calculator-api-container .dcg-container input[type="submit"] {\n  -webkit-appearance: button;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-container button[disabled],\n.dcg-calculator-api-container .dcg-container input[disabled] {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-container input[type="search"] {\n  -webkit-appearance: textfield;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.dcg-calculator-api-container .dcg-container input[type="search"]::-webkit-search-cancel-button,\n.dcg-calculator-api-container .dcg-container input[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n.dcg-calculator-api-container .dcg-container button::-moz-focus-inner,\n.dcg-calculator-api-container .dcg-container input::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n.dcg-calculator-api-container .dcg-container table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\n.dcg-calculator-api-container .dcg-container input::-webkit-outer-spin-button,\n.dcg-calculator-api-container .dcg-container input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}.dcg-calculator-api-container .dcg-component-checkbox {\n  cursor: pointer;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox {\n  border: 1px solid #bbb;\n  margin-right: 0.5em;\n  width: 1.1em;\n  height: 1.1em;\n  border-radius: 3px;\n  vertical-align: middle;\n  display: inline-block;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox i {\n  display: none;\n  font-size: 115%;\n  position: absolute;\n  top: -0.15em;\n  left: 0.1em;\n  text-shadow: -1px -1px 0 #fff, -1px 1px 0 #fff, 1px -1px 0 #fff, 1px 1px 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox-children {\n  position: relative;\n  top: 0.1em;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox {\n  border: 1px solid #999;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox i {\n  display: block;\n  color: #e2e2e2;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-checked .dcg-checkbox i {\n  display: block;\n  color: #4781b9;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-checked.dcg-hovered .dcg-checkbox {\n  border: 1px solid #999;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled {\n  pointer-events: none;\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled .dcg-checkbox {\n  background: rgba(0,0,0,0.15);\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled.dcg-checked i {\n  display: block;\n  color: #999;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-green.dcg-checked .dcg-checkbox i {\n  color: #127a3d;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-small {\n  font-size: 85%;\n}.dcg-calculator-api-container .dcg-download-button.dcg-disabled {\n  pointer-events: none;\n}.dcg-calculator-api-container .dcg-mq-container {\n  position: relative;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-container .dcg-mq-placeholder {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  line-height: 1em;\n  height: 1em;\n  margin-top: -0.67em;\n  font-size: 95%;\n  pointer-events: none;\n  font-family: Symbola, "Times New Roman", serif;\n  padding-left: 2px;\n  color: rgba(0,0,0,0.47);\n}\n\n.dcg-calculator-api-container .dcg-mq-container .dcg-mq-placeholder .dcg-mq-math-mode {\n  font-size: inherit;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-suffix-degree .dcg-mq-root-block:after {\n  content: \'°\';\n  vertical-align: top;\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n  margin-left: 1px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-suffix-radian .dcg-mq-root-block:after {\n  content: \'rad\';\n  font-size: 90%;\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n  margin-left: 3px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout):after {\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 14px;\n  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: linear-gradient(to right, rgba(255,255,255,0), #fff);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) .dcg-mq-root-block {\n  padding-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) .dcg-mq-root-block.dcg-mq-editing-overflow-left:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  width: 14px;\n  background: -webkit-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: -moz-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: -o-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: -ms-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: linear-gradient(to left, rgba(255,255,255,0), #fff);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-mq-editable-field:after {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-mq-editable-field:after .dcg-mq-editing-overflow-left:before {\n  display: none;\n}.dcg-calculator-api-container .dcg-disable-slider {\n  opacity: 0.3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n}\n\n.dcg-calculator-api-container .dcg-slider-interior {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  position: relative;\n  top: -4px;\n  margin-left: 7px;\n  margin-right: 7px;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb {\n  cursor: pointer;\n  z-index: 3;\n  border-radius: 8px;\n  position: absolute;\n  top: -8px;\n  margin-left: -19px;\n  width: 38px;\n  height: 38px;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb:focus {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb:focus:after {\n  position: absolute;\n  top: -4px;\n  left: 4px;\n  content: "";\n  pointer-events: none;\n  border: 2px solid rgba(79,129,189,0.35);\n  border-radius: 50%;\n  width: 26px;\n  height: 26px;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb .dcg-graphic {\n  position: absolute;\n  top: 0;\n  left: 8px;\n  border-radius: 12px;\n  width: 22px;\n  height: 22px;\n  background: rgba(79,129,189,0.35);\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb .dcg-center {\n  position: absolute;\n  top: 0;\n  left: 8px;\n  border-radius: 12px;\n  width: 22px;\n  height: 22px;\n  background: #4f81bd;\n  -webkit-transform: scale(0.25, 0.25);\n  -moz-transform: scale(0.25, 0.25);\n  -o-transform: scale(0.25, 0.25);\n  -ms-transform: scale(0.25, 0.25);\n  transform: scale(0.25, 0.25);\n  -webkit-transition: -webkit-transform 0.2s;\n  -moz-transition: -moz-transform 0.2s;\n  -o-transition: -o-transform 0.2s;\n  -ms-transition: -ms-transform 0.2s;\n  transition: transform 0.2s;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb.dcg-hovered .dcg-center,\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb.dcg-down .dcg-center {\n  -webkit-transform: scale(1, 1);\n  -moz-transform: scale(1, 1);\n  -o-transform: scale(1, 1);\n  -ms-transform: scale(1, 1);\n  transform: scale(1, 1);\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-zeroMarker {\n  position: absolute;\n  top: 2px;\n  z-index: 2;\n  width: 2px;\n  height: 2px;\n  background: rgba(0,0,0,0.3);\n  border-radius: 2px;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-track {\n  cursor: pointer;\n  height: 22px;\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-ticks {\n  position: absolute;\n  top: 2px;\n  bottom: 0;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-ticks .dcg-tick {\n  position: absolute;\n  top: 0;\n  width: 2px;\n  height: 2px;\n  background-color: #fff;\n  margin-left: 0;\n  z-index: 1;\n  border-radius: 2px;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-graphic {\n  height: 6px;\n  background-color: rgba(0,0,0,0.1);\n  border-radius: 3px;\n  margin-bottom: 6px;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel {\n  padding: 10px 4px 10px 8px;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel {\n  padding: 10px 8px 10px 4px;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel,\n.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel {\n  z-index: 4;\n  color: rgba(0,0,0,0.5);\n  margin: -10px 0;\n  min-width: 26px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel .dcg-mq-math-mode {\n  font-family: arial, sans-serif;\n  cursor: pointer;\n  font-size: 80%;\n  position: relative;\n  top: -1px;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel.dcg-hovered,\n.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel.dcg-hovered {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel.dcg-depressed,\n.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-animate-play {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-animate-pause {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-slider-speed-container {\n  display: none;\n}.dcg-calculator-api-container .dcg-static-mathquill-view * {\n  -webkit-user-select: text !important;\n  -moz-user-select: text !important;\n  -ms-user-select: text !important;\n  user-select: text !important;\n  -moz-user-selection: text !important;\n}.dcg-calculator-api-container .dcg-tooltipped-error {\n  color: #e66b3c;\n  font-size: 22px;\n  cursor: pointer;\n  display: inline-block;\n  width: 26px;\n  height: 26px;\n  text-align: center;\n  -webkit-animation: dcg-delayed-fadeIn 1s;\n  -moz-animation: dcg-delayed-fadeIn 1s;\n  -o-animation: dcg-delayed-fadeIn 1s;\n  -ms-animation: dcg-delayed-fadeIn 1s;\n  animation: dcg-delayed-fadeIn 1s;\n  position: relative;\n  top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-tooltipped-error.dcg-small {\n  font-size: 14px;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-tooltipped-error.dcg-white {\n  color: #fff;\n}\n\n@-webkit-keyframes dcg-delayed-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  80% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@keyframes dcg-delayed-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  80% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@-webkit-keyframes dcg-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@keyframes dcg-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}.dcg-calculator-api-container .dcg-tap-container [ontap] {\n  cursor: pointer;\n}@font-face {\n  font-family: \'dcg-icons\';\n  src: url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBj0AAAC8AAAAYGNtYXAH266gAAABHAAAAGRnYXNwAAAAEAAAAYAAAAAIZ2x5ZoTQEQAAAAGIAACNaGhlYWQcZmYtAACO8AAAADZoaGVhByoEdQAAjygAAAAkaG10eAxVJ3wAAI9MAAACFGxvY2FJCGqUAACRYAAAAQxtYXhwAJgCkAAAkmwAAAAgbmFtZZMnHvMAAJKMAAABnnBvc3QAAwAAAACULAAAACAAAwQBAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpEgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQASAAAAA4ACAACAAYAAQAg4m/pDekS//3//wAAAAAAIOIA6QDpEP/9//8AAf/jHgQXdBdyAAMAAQAAAAAAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAwAx/8QEGAPAADQAPABEAAABIzU0JiMhIgYdASMiBh0BFBY7AR4BFxUjIgYdARQWMyEyNj0BNCYrATU+ATczMjY9ATQmIwU1MxUjIiY1IRQGKwE1MxUD8KcyIv5fIjKmERhKM10Wck5SNEkYEQHUEBhKMlNNcxZdNUgYEPySflISGgNFGhJSfgMPXSIyMiJdGBGJNEhMbRJbSjNSERcXEVI0SVsSbUxKMokRGLJhjRkTEhqNYQAAAAYAAP/ABAADwAAfAC8AWQCIAl4CjQAAASEiBw4BBwYVERQXHgEXFjMhMjc+ATc2NRE0Jy4BJyYTFAYjISImNRE0NjMhMhYVJRYmMRYXHgEXFhceARcwBjEOAQcOAQcwBjkBLgEnJicuAScmJzEmFic3BQYUMQYHDgEHBgcOAQcxKgEjMCIxIiYnLgEnMCYxPgE3PgE3Njc+ATc2NwY2NxcTNhYXFTgBMS4BJzgBMTAiNTgBMTgBJzAiIzAiIzAiIzAiNTgBMTAiNTgBMS4BIyYGBzAiFTgBIw4BIzgBMQ4BBw4BBw4BBzEOAQcwBjE4ATEiBiMwIiMiBiMiBgc4ATEOAQcwIjEiBiMwIhUiBgc4ATEiBiMwIjE4ASMwIjEwMjEOASMyNjcOAScuASc4ATEwIjE4ATE4ATEwJjUwJjUiJiM4ATEuAScxLgEnHgEXLgEnMBYxLgEnLgEnLgEnLgEnLgEnLgEjDgEHMCIVDgEHMjYzDgEVMDY1DgEHDgEHDgEHDgEHDgEHPgE3DgEjMjY3DgEjBiYnLgEnMR4BFy4BJzUwFjE4ATEeARc4ATEeARcwFjE4ATE4ATEeARciJiceATMwMjkBMDIxMjY3OAExMDI1OAEzPgE3MjYzMDYxMjYzMDI1PgE3MTgBMTgBMT4BNzgBMT4BNz4BNzAGBz4BNw4BBz4BNz4BNzI2MzgBMTI2MzI2MzgBMTYyMyImBzYWFy4BIx4BFx4BFx4BFx4BMR4BFx4BFy4BNR4BFy4BJx4BFx4BMxY2Nz4BNzgBMT4BNz4BNzA2NTA2MTI2MzgBMTI2MzgBMz4BNyIGBz4BNw4BBz4BNwUxDgEjMSImJy4BJzA2MT4BPwE+ATcwNjkBHgEXHgEzMjY3MBYxHgEXHgEXNjIXAzP9mislJTgQEBAQOCUlKwJmKyUlOBAQEBA4JSV3X0P9mkNfX0MCZkNf/LEEBgwODh8SEhULGg4CCBAIBAgFAhEeDRIRESAODwwFCQQ9AyAIDA4NHxEQExE0IQIBAQMECgcJEgkCAQQBHy4TEhARIBAPEAMCAUINFSYSAwcDAgIBAQEBAQEDAgUJBQsXCwICAgUCAwgDBQgFAQUCFiwYAgEBAgEBAgEBAgUCAgMBAwEBAgICAQECAQEDAgICDRoODRkNDh0ODRcJAgMCAQECEx8QBg0HAgMCAgQDAgMGAwIDAgEEAQUMBQQNBggTCQwTCAIFBwUCAQEBAwIFCwUIEggPHRAIEAgCBQICBQIOHhALGAoKEQkaNhQVJBAFBwUFBwUCAwUDFSoWAgoUDQMJAwYNBwICDRYKAgICAQECAQEDAQECAgIBAQIBAgQKBwsWDAEBBAoFAwUDChMMCBAKAQYBAgMCAQQDChMKBwoHFysTAQUCDh0MBw0IBQoEAgMBAQIGDQYBAwoWDQsTCAQJBAkVDBAbDQEEAQsUChUoGAICAgECAQECAgUJAwIDAQYLBgUHAwUSCf68HT0gID8fEBsOAggQCAQCBQICDRcLECcaDh8PAgsUCwQHBAUCAgPAEBE4JSUq/ZwqJiY4ERAQEDglJSsCZiolJTgREPzNQ19fQwJmQ19fQ68JFCwwMWU0NDMbPB4CCA4IBQgEAyRHHi0tLl0wMDAUJxMtDR4CLC8vXi8wLi1uNgMBBQwHAgMGATBlMisuLmQ3NjsNBwYc/i0CCQhVAwQEAgICAgIEBAMFAgICAwUDAwkDAQYBFysUAgICBQECAQICAgEBAgUEAwQFBQMCBgUBAQEBAgocEAYPBgEDAgIDBAMEBgMCAwIBAwIFCQUFCQMFBAIGBQIDBwMCAQECAQEFCQUIEggPGwwGCgMBAQICAQEGCQQFAwYDExAKHhIFBwUFCQNkAgIFARUrFAIICgMDAQMDCgcCAgEBAgIDAgEBAgIBAQUKBAwUCwMBBQkFAgUEChEIBAkEAgICAgICAg8MAQMIFg0GDggECgUBAwIBAQcMBQIBAQkNBQMOBgMGBAYJAQ8IAQECCBMJFCkQAQECAwIDBAECAgMEAQEBAggGAfcaGh0bDiASAggQCAQCBQICEhwMDhoMCwIJEAcBBgEBAQAACgAA/8AEAAPAAAUALQBWAG4AiwC7AOsBGwE7AUsAAAEnNR4BFxcGBw4BBwYjBicuAScmJx4BMzI2NxYXHgEXFjMyNjc+ATceATM+ATcDDgEHBhQVLgEnLgEjIgcOAQcGBxQGFSImJy4BIyIGBzY3PgE3NjMyFhcqASMiBgcOAQcOAQcnMjY3MjYxPgE3FwcUFhchPgE1MDQ1NCYnLgEnJRQWFx4BFwUhDgEVJw4BBw4BBw4BByIGIyoBMS4BJy4BJy4BNTkBNTwBMT4BNz4BMzE+ATMyFhUxNhYxFw4BBw4BBw4BByIGIyoBMS4BJy4BJy4BNTkBNTwBMT4BNz4BMzE+ATM2FhUxNBQxIQ4BBw4BBw4BByIGIyoBMS4BJy4BJy4BNTkBNTwBMT4BNz4BMzE+ATM2FhUxNBQxASEiBw4BBwYVERQXHgEXFjMhMjc+ATc2NRE0Jy4BJyYTFAYjISImNRE0NjMhMhYVAx5EGSEKBAkbGk0wMDU2MTBNGRoJBQkDCA4GCRYWQSgoLS1SIR8qCAcNCAUJBaAGDAMCBAQDFjAaKycoPxcXCgICBQIFCQUFCQMKGxpNLzA1I0KuAQQBBQsDBAMCAgUEQAULBAEDBQoCRD4EA/5KBAMDBAMHBQFYAwMEBgX+0wGJBgUGAgMBBAkFAQUCAwQCAQUFBwUFCQMCAgEHBAQEAwUHBRIZAQFrAgMCAwkFAQYBBAMCAgQFCAQFCQMCAwIGBQMFAwUHBRMa/eICAwIDCQUBBgEDBAIBBQUHBQUJAwIDAgYFAwUDBQcFEhsCF/2aKyUlOBAQEBA4JSUrAmYrJSU4EBAQEDglJXdfQ/2aQ19fQwJmQ18CCXsCGz8jfjQrLEASEgESE0AsLDMCAwUCKyUlNRAPHx0bRigFAgMCBAE+BQ8IAwUDAgMCCQoPDjIjIigDBAIBAgEDAwEzKyw/EhEP3QMCAQECAgUBdQMBAgMHBXk6Bg0EBA0GAQEHDQgFCgKoBgwFBQsDlgYLBtMFBwUFCQMCAQECAQMCAwkFBQkDAgIFBgwFAwQBAxkSAgLZBQgEBQkEAQECAgIDAQQJBQQGBwIBBQcMBQMDAgICGxEBAQUIBAUJBAEBAgICAwEECQUEBgcCAQUHDAUDAwICAhsRAQECBhAROCUlKv2cKiYmOBEQEBA4JSUrAmYqJSU4ERD8zUNfX0MCZkNfX0MAAAAGAAD/wAQAA8AAJABPAI8BBAEkATQAACUxIiYvAQcGJicmNj8BPgEzHgEfARM+ATMhMhYVFAYjIQMOASMlFRQGDwEOAQcGFBUUBiMiJjU0NjcxPgE3IyoBMRQGBxUjNTc1MxUwFjMXDwEjNTQ2PwE+ATU0JicuASMiBgcOAQceARUUBgcOASMiJjU0Njc+ATMyFhceARUUBgcOAQ8BMzI2NzQ2NzUzFSUUBgcOASMiJicuATU0Njc+ATMyFhceARUUBgcOAQceATMeATMyNjc+ATU0JicuASsBIiY1NDY3MToBMzI2Nz4BNTQmJy4BIyIGBzIWFR4BFRQGBw4BIyImJy4BNTQ2Nz4BMzIWFx4BFRQGBw4BBx4BFx4BFQEhIgcOAQcGFREUFx4BFxYzITI3PgE3NjURNCcuAScmExQGIyEiJjURNDYzITIWFQEvBgwBLwcGEwQFAgccAwsFBQYEJokDCQcBggoLDQj+i5gBDAYB6wMCKAcJAQIKCgwHExEFDgk8CAYEAwsJDQsVTakLdQMBOA4QBAUFDAgHCgUDBgEICQQDAwcFCQwJCAgWDQ4XCgkKBgUDDAg0LQoIAQMCFf7cCQgIEwwJEQgJCAMBBAYDAwcDAwEDAwIDAgIEAwUJBQcHAwIDAwIDBwcNBAQEBwEDAgYIAwMDAgIBBwUGDAMCAgIDAwIBBwUDBgMCAwkIBw8ICBAICAkFBQMHAwUJAwYHAeb9mislJTgQEBAQOCUlKwJmKyUlOBAQEBA4JSV3X0P9mkNfX0MCZkNf8QYHYgYFAgcGEwUVAwEBBwRUAQcFBQ0ICgv+4AUG6wcDBgE4CBgPCSAVCQwRBBw5HAcTDQIJDQQJNwQGAgKJPgkDBgI9ECAOCg4GBwYDAwQGAwIJCAUHAwQDDAoLFQgICQkICBgNCREIBQwIMgECAQkNBAK2DBEIBgcGBQcQCQMIAgMDAgIDBwMDCAIBAQIBAwICBgQFCwgICgUFBgUDAgUCBgUEDQYFBwMDAwMDAwECBgUDBwMDAQMBAgYFCA8FBQMDBQUPCAgOCAMGAgEHBAoQCAG3EBE4JSUq/ZwqJiY4ERAQEDglJSsCZiolJTgREPzNQ19fQwJmQ19fQwAACAAA/8AEAAPAAB8ALQBOAGYAdQCNAK0AvQAAJRYUBw4BLwEHBiInLgE/AScmNDc+AR8BNzYyFx4BDwEDMzI2NTQmKwEiBhUUFicyFhUUBisBFRQGIyImPQEjIiY1NDY7ATU0NjMyFh0BMwMUBgcOASMiJicuATU0Njc+ATMyFhceATcUBisBIiY1NDY7AR4BFScUBgcOASMiJicuATU0Njc+ATMyFhceAQEhIgcOAQcGFREUFx4BFxYzITI3PgE3NjURNCcuAScmExQGIyEiJjURNDYzITIWFQMXBwcGEwc5OgYTBwYCCDo6BgYHEwY6OQcTBgcBCDmJzwoODgrPCQ4OoQkMDAlRDQsJDlEKDgwMUQ4JCg5RQgYFBQ0IBg8EBQYGBQQNCAgNBQUGWQwJzwoODQvNCwxZBgUFDQgIDQQFBgYFBA0IBw4FBQYByv2aKyUlOBAQEBA4JSUrAmYrJSU4EBAQEDglJXdfQ/2aQ19fQwJmQ1/ABhQGBgIIOjoGBgYUBjo5BxMGBwEIOTkHBwYTBzkBYg4JCg4OCgkOLQ4KCg1RCg4MDFEMCwoOUQkMDAlR/iIIDQUFBgYFBQ0ICAwFBQYGBQYNSQoODAwJDgIMCU8IDQUFBgYFBQ0ICAwFBQYGBQYNAnEQETglJSr9nComJjgREBAQOCUlKwJmKiUlOBEQ/M1DX19DAmZDX19DAAAAAAgAdf/AA4kDwAAPAB8ALwA/AE8AcAB8AJQAACUhIiY9ATQ2MyEyFh0BFAYnIyImPQE0NjsBMhYdARQGNyEiJj0BNDYzITIWHQEUBjchIiY9ATQ2MyEyFh0BFgYnIyImPQE0NjsBMhYdARQGExceARcUBiMhIiY1PgE/ASMiBhURFBYzITI2NRE0JisBJyIGFRQWMzI2NTQmARE0NjMhPgEzMhYVITIWFREUBiMhIiY1Asb+WAUGBgUBqAUGBrzxBQYGBfEFBgZK/sAFBgYFAUAFBgZ//jwFBgYFAcIFBgEH1vEFBgYF8QUGBnAPMyUCBgX+PAUGAicvEacGCwkIAlYGCwkIp4QQFhYQEBYW/mUOCAEkAi8gIC8BJAoMDgj9GgoOxgYFBAUGBgUEBQZPBgUEBQYGBQQFBk8GBQQFBgYFBAUGTwYFBAUGBgUEBQZPBgUEBQYGBQQFBgEgLQs2IwUGBgUiMw0xCQj9DQYLCQgC8QYLeBcQEBYWEA8Y/DsDhwkMIi0tIg0I/HkJDA0IAAAFAAQBOgPzAroAFwAjAC8AOwCKAAATLgExDgEdARQWPwE+ATcyNjM+ATUuAScXFAYjIiY1NDYzMhYXFAYjIiY1NDYzMhY3IgYVFBYzMjY1NCYFBw4BBzAGFSoBIzAiMTAiMSImJzgBMS4BPQEjIiYjLgE1NDY3NjI7ATU0Njc0NjUwNjEwNjUwMjE6ATMwMjEwMjEwFjEwMhUeAR8BFhQHrQIURk0RCzETExIDHwITHAIYFcQjGRgjIxgZI5gjGRkjIxkZI1kYJCQYGCQiAXegAwYEAgEBAgICAwUDAwMrAwcFExgYEwMHBSsCAgICAgICAQICAgQCBAQDoAoIAjcCAQJkRSQPBQsxExUDBAceFRUiBDkZIyMZGSMjGRkjIxkZIyMjJBgYJCQYGSNUoAMGAQEBAgIDDQlpAgcgExMgBgJlCAoDAgEBAgECAwIBBAOgBxYKAAAAAAMABP/NA+8CvgAcADsAjQAAASIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJiMTFAYrASImPQEHBiInLgEvASY2Nz4BMTI2MTMyFhURAQcOAQcwBhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwMjUwMjE6ATMwMjEwMjEwFjEwFhUeAR8BFhQPAQELLCcnOhERERA6JyctLCcmOhERERE6JicsJgYFIgYJFwMJBQMEAgYCAggEOAICHAcIArORAwYEAgEBAgIDBQMDA/2NBQoFESsVMw0RakwCcQICAgICAgIBAgICBAICBQKgCAgLAXcQETknJy0sJyc6EBEQETknJy0sJyc6ERD+owUGCgXRDwICAgUEGQMLAwIeAgoE/vEBwpEEBQIBAQMBAw0IYgMCAxUUNAwFECZMamQICgMCAQICAgIBAQIEA6AIGAgNAAAAAAIABAAVA/oDawBRAKMAAAEHDgEHMAYVKgExMCIxMCIxIiYnOAExLgE9ASEiBgcOAQ8BBiY9ATQ2MyE1NDY3NDY1MDYxMDI1MDIxOgEzOgExMDIxMBYxMBYVHgEfARYUDwEBNz4BNzA2NToBMToBMTAyMTIWFzgBMR4BHQEhMjY3PgE/ATYWHQEUBiMhFRQGBxQGFTAGMTAiFTAiMSoBIyoBMTAiMTAmMTAmNS4BLwEmND8BA+SRAwYEAgEBAgIDBQMDA/2NBQoFESsVMw0RakwCcQICAgICAgIBAgMBAgQDAQUCoAgIDfw4kQMGBAIBAQEBAgMFAwMDAnEFCgQSKxUzDRFrS/2RAgICAgICAgECAwECBAMBBQKgCAgNAomSAwYBAQECAgMMCGUDAgMVFDQMBRAmTGpiCAoDAgEBAwICAQIBBAOgCBkIDP5ukgMGAQEBAgIDDAhlAwIDFRQ0DAUQJkxqYggKAwIBAQMCAgECAQQDoAgZCAwAAAAAAgAEABUD8QNrAFEAowAAAQcOAQcwBhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwMjUwMjE6ATM6ATEwMjEwFjEwFhUeAR8BFhQPAREHDgEHMCIVKgExMCIxMCIxIiYnOAExLgE9ASEiBgcOAQ8BBiY9ATQ2MyE1NDY3NDY1MDYxMDY1MDIxOgEzMDIxMDIxMBYxMDIVHgEfARYUDwED5JEDBgQCAQECAgMFAwMD/Y0FCgURKxUzDRFqTAJxAgICAgICAgECAwECBAMBBQKgCAgNkQMGBAIBAQICAwUDAwP9jQUKBRErFTMNEWpMAnECAgICAgICAQICAgQCAgUCoAgICwKJkgMGAQEBAgIDDAhlAwIDFRQ0DAUQJkxqYggKAwIBAQMCAgECAQQDoAgZCAz+KpEDBgICAwIDDAhkAgIDFRUzDQYQJktqYggLAwEBAgIBAQICAgMDoAgZCA0AA//+/8UEAAO8ACkARACDAAAlJy4BBw4BFxUuAScOAQcOAQcWFx4BFxYXMhYzFRQWFxY2PwE+ASc0JicBDgEXHgE3NhceARcWFz4BNz4BNyYnLgEnJgcFJy4BBw4BHQEqAQciBw4BBwYHBgcOAQcGIyYGBwYWFzoBMzI3PgE3Njc2Nz4BNzY3FRQWFxY2PwE+ASc0JicD9KgKDwYGBwEjdDoCBQITJxQ0MzNSGxsCAQIBBgYGEAmoBgcBBgb8Uh8qAQIuHwMYGE0zMjcECQQQJBRFQUBoIyIJA66oCg8GBgYBAgEDJidxQUI6Pjs7Xh4eAx8uAgEpHwIEAhMvL4FLTEshJSREHx4UBgYGEAmpBgYBBga0qAoFAgMODV4QUk4DBwMiOxs8JicuCQkBAWoMDwMDBwipBg4ICBAGAp4BLx8gKQEBBAMoKipOBw4HHDQZVi4vKgMDAUypCgUCAw4NYwEPDklAP2RsOzs3BgUCKh8fLwIJCElKSoI5Kio7EhIJZQwPAwIGCakGDQgIDwYAAAMATQAIA7UDegApAEYAZgAAJSc+ATU0Jy4BJyYjIgcOAQcGFRQXHgEXFjMyNjcXHgEzMjY3PgE1NCYnAxQHDgEHBiMiJy4BJyY1NDc+ATc2MzIXHgEXFhUnIzU0JiMiBh0BIyIGFRQWOwEVFBYzMjY9ATMyNjU0JgOlkCkrHx9tSElSUklJbB8fHx9tSElSQHc0kQgUCwsUCAgICAiqFhdONTQ8PDQ1ThcXFxdONTQ8PDQ1ThcWh2waExMabBIbGxJsGhMTGmwSGxtmkDV+QlNISWwfICAfbElIU1JJSGwgHycmkggICAgIFAsLFAgBhTs1NE8WFxcWTzQ1Ozw1NE4XFxcXTjQ1PC5rExoaE2sbEhMabBMaGhNsGhMSGwAAAAIABAA3A/4DTwAvAFsAAAEWBgceARceAQcGJicuAScuAScmBiMGJy4BJyYnFjc+ATc2NzY3PgE3Nic6ARUeAScWBgcGBw4BBwYnLgEjDgEHDgEHDgEnJjY3PgE3LgE3PgE3PgE3NhYXHgEXA/4GZDoHEw0GJQUFKwwjNR0LHgoKGg0vLS5TIiMYMi8wWCgoIyclJTEIBxMBATpf1QMfFR0pKmg8PUILGAgJIgobMiYQKQUIJggNEAo1aAUDSC8xfkhYjzk0VQYBqV1uJxMdEAghEBIIAwgXDgcWAQIIBAQEFA8PEgQEBBURERYaJSVdNzg/AiVhPjJPGyYdHicICAcBBQEYBQ4WCAQFDREhChAdECpqYENjICIqAwUmISBoSwAAAAABAMUAdANAAxMAIQAANyoBJy4BNxM+ATc2FhcbAT4BFx4BBwMOAQcGJi8BAw4BI/ACBAISFANYAxAMCxgI75sHIRAQDge0BBELCxUH40gDGA90AQMeEQHRDBIDBAcJ/v4BcRAOBwchEP5RCg0CAgcI9P6DDxQAAAABAR8AqQLhAusAGgAAAREUBiMhIiY1ETQ2OwE1NDY7ATIWHQEzMhYVAuEPC/5yCw8PC2sPC4UKD2sLDwJJ/noLDw8LAQcLD+4KDw8Kbw8LAAQBHwCpAuEC6wAaAB8AJQApAAABIzU0JisBIgYdASMiBhURFBYzITI2NRE0JiMFMxUjNTc1MxEjNRcjETMCx2sPC4UKD2sLDw8LAY4LDw8L/otSUoVSUtdSUgJjbwoPDwruDwv++QsPDwsBhgsPstXVGe7+JO7uAVMAAAABAHIBLwNpAlEADwAAAS4BIyIGBw4BIxUhNSImJwKnJE4zMUolLmxWAvdAWigB8SM9NiIrSVZWRCgAAAAB/rgBLwSvAlEAIgAAASImJy4BIyIGBw4BIyEVITI3PgE3Njc+ATMyFhceATMhNSEDZkBaKCROMzBLJS5sVv5JAbc4LSxJHB0YHjAXGDMdLXdbAUn+twGFRCgjPTYiK0lWDQ4pGBkWGyYqHS1YVgAACQEtAMEC0wL8ADMAZgCZAM0A+AElAVgBkgHCAAABMS4BIyIGDwEnLgEjIgYHDgEVFBYfAQcOARUUFhceATMyNj8BFx4BMzI2NzY0LwE3NjQnJyIGDwEnLgEjIgYHDgEVFBYfAQcOARUUFhceATMyNj8BFx4BMzI2NzY0LwE3NjQnLgEjAxQWFx4BMzI2PwEXHgEzMjY3PgE1NCYvATc2NCcuASMiBg8BJyYiBw4BFRQWHwEHDgEVFzEuASMiBg8BJyYiBw4BFRQWHwEHDgEVFBYXHgEzMjY/ARceATMyNjc+ATU0Ji8BNzY0JzcxHgEzMjY/ARceATMyNjc2NC8BNzY0Jy4BIyIGDwEnJiIHBhQfAQcGFBcVMR4BMzI2PwEXHgEzMjY3NjQvATc2NCcuASM4ATEiBg8BJyYiBwYUHwEHBhQXNz4BNTQmJy4BIzgBMSIGDwEnLgEjIgYHBhQfAQcGFBceATMyNj8BFx4BMzI2NzY0LwEnMR4BMzI2PwEXHgEzMjY3PgE1NCYvATc+ATU0JicuASM4ATEiBg8BJy4BIzgBMSIGBwYUHwEHBhQXFzQmJyYiDwEnLgEjIgYHBhQfAQcGFBceATMyNj8BFx4BMzI2Nz4BNTQmLwE3PgE1AjECBwQEBwIXFwIHBAQGAwMDAwMWFgMDAwMCBwQEBwIXFwIHBAQGAwYGFhYGBg0EBwIXFgMHBAMHAwMCAgMXFwMCAgMDBwMEBwMWFwIHBAQHAgYGFhcFBQMHBPcDAgMHBAMHAxcWAwcDBAcDAgMDAhcXBQUDBwMEBwMWFwUQBQMDAwMWFgMDaAMHAwQHAxYXBRAFAwMDAxYWAwMDAwIHBAQGAxcWAwcEAwcDAwICAxYWBgbWAwcEAwcDFhcDBgQEBwMFBRcXBQUDBwQDBwMXFgYPBQYGFhYGBQMHBAMHAxYXAwYEBAcDBQUXFwUFAwcEAwcDFxYGDwUGBhYWBlEXAgMDAgMHBAMHAxcWAwcDBAcDBQUXFwUFAwcDBAcDFhcCBwQEBwIGBhboAgcEBAcCFxcCBwQEBgMDAwMDFhYDAwMDAgcEBAcCFxYDBwQDBwMFBRcXBgZoAwMFEAUXFgMHAwQHAwUFFxcFBQMHAwQHAxYXAgcEBAcCAwMDAxYXAgMCXAMDAwMWFgMDAwMCBwQEBgMXFgMHBAMHAwIDAwIXFwIDAwIGDwYWFwYPBaADAxYWAwMDAwMGBAQHAxYXAgcEBAYDAwMDAxYWAwMDAwUQBRcWBg8GAwP+cgQGAwMDAwMWFgMDAwMCBwQEBwIXFgYPBgIDAwIXFwUFAwcDBAcDFhcCBwRFAwMDAxYWBgYCBwQEBwIXFgMHBAMHAwMDAwMWFgMDAwMDBgQEBwMWFwUQBdECAwMCFxcCAwMCBg8GFhcGDwUDAwMDFhYGBgUPBhYXBg8GmQMDAwMWFgMDAwMFEAUXFgYPBgIDAwIXFwUFBg8GFhcFEG4XAgcEBAcCAwMDAxYWAwMDAwUPBhYXBg8FAwMDAxYWAwMDAwUPBhZpAwMDAxYWAwMDAwIHBAQHAhcWAwcEAwcDAwMDAxYWAwMDAwUQBRcWBhAFRQQHAgYGFhYDAwMDBRAFFxYGDwYCAwMCFxcCAwMCAwcEAwcDFxYDBgQAAAAAEgEuAMQC0gL5AAsAGAAkADEAPQBKAFYAZABwAH0AiQCWAKIArwC7AMgA1ADhAAABMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjBTIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIwcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiM1MhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjMRcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMnMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjAzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIxcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMXMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjAWcKEBAKCw8PCxghIRgXISEXATILDw8LChAQChchIRcYISEYmQsPDwsLDw8LGCEhGBghIRgLDw8LCw8PCxghIRgYISEYmQsPDwsKEBAKFyEhFxghIRiZCw8PCwsPDwsYISEYGCEhGJkKEBAKCw8PCxghIRgXISEXmQsPDwsLDw8LGCEhGBghIRiZCw8PCwoQEAoXISEXGCEhGAGuEAoLDw8LChAeIRcYISEYFyEeEAoLDw8LChAeIRcYISEYFyEeEAoLDw8LChAeIRcYISEYFyF4DwsLDw8LCw8fIRgXIiEYFyIfDwsLDw8LCw8fIRgXIiIXGCF4EAoLDw8LChAeIRcYISEYFyH+Hg8LCw8PCwsPHyEYFyIiFxghHw8LCw8PCwsPHyEYFyIiFxghHw8LCw8PCwsPHyEYFyIiFxghAAkBLwDEAtIC+QAMABgAJAAwADwASABUAGAAbAAAAR4BBw4BJy4BNz4BFwUUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFiceAQcOAScuATc+ARcUBiMiJjU0NjMyFiceAQcOAScuATc+AQMeAQcOAScuATc+ARcUBiMiJjU0NjMyFhcUBiMiJjU0NjMyFgFwFxwEBCYXGBsEBCYXAWIhGBchIRcYIZkiFxciIhcXIjAXHAQEJhcXHAQEJuAhGBchIRcYIckXHAQEJhcXHAQEJoIXGwMEJhcYGwQDJ+AiFxciIhcXIpkhGBchIRcYIQHLAycXFxsDBCYXGBsEOBchIRcYISEYFyEhFxghIbcEJhcXHAQEJhcXHDwXIiIXGCEhtwQmGBcbBAMmGBcb/jkEJhcXHAQEJhcXHDwYISEYFyIiFxghIRgXIiIAAAADANEBNwMvAkkANAA4ADwAAAEVIzU0JiMiBh0BFBYzMjY9ATMVFBY7ATI2PQEzFRQWMzI2PQE0JiMiBh0BIzU0JisBIgYVFzMVIzMjNTMBhHYSDQwSEgwNEnYSDd8NElESDQ0REgwNElESDd8NEj1DQ6MjIwIqSxwNEhINdg0SEg0dTA0SEg1MHQ0SEg12DRISDR1MDRISDR6YmAAEAIEANAN/A0wACwAYACQAMQAAJRQGIyImNTQ2MzIWExQGIyImNTQ2MzIWFQEUBiMiJjU0NjMyFhMiBhUUFjMyNjU0JiMBVj4sLD8/LCw+Uz4tLD4+LC0+ATI+LSw+PiwtPjksPj4sLD8/LJ8sPz8sLD8/AY4sPz8sLD8/LP7zLT4+LSw+PgHUPywsPz8sLD8AAAAABQEkACAC3wNeAA8AIAAxAEIAUAAAASMiJj0BNDY7ATIWHQEUBgMiBh0BFBY7ATI2PQE0JisBEyMiJj0BNDY7ATIWHQEUBiMDIgYdARQWOwEyNj0BNCYrASUhIiY1NDYzITIWFRQGAl+7GicnGrsaJybWBQcHBbsFBwcFu7u7GicnGrsaJyYbuwUHBwW7BQcHBbsBIP57CxAQCwGFCxAQAiEmG7saJycauxsmAQgHBbsFBwcFuwUH/PcnGrsbJiYbuxonAQgHBbsFBwcFuwUHfQ8LCw8PCwsPAAAAAAEBSgD+ArYCdgAmAAABFhQHDgEjIiYvAQcOASMiJicmND8BJyY0NzYyHwE3NjIXFhQPARcCtgwMBg8ICA8GfHwGDwgIDwYMDHx8DAwMIg17fAwiDAwMfHwBRAwiDAYGBgZ8fAYGBgYMIgx8fAwiDAwMfHwMDAwiDHx8AAACATwA/ALEAoQAGwAoAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmAyImNTQ2MzIWFRQGIwIAKCQkNQ8QEA81JCQoKCQkNQ8QEA81JCQoL0JCLy9CQi8ChBAPNSQkKCgkJDUPEBAPNSQkKCgkJDUPEP7LQi8vQkIvL0IAAAEBZgEmApoCWgAMAAABFAYjIiY1NDYzMhYVAppaQEBaWkBAWgHAQFpaQEBaWkAAAAEAnf/EA/wDIwAWAAABFAcOAQcGIyInLgEnJicBFhceARcWFQP8KCiKXF1pNDExWigoIwLOIhsbJQoKAcBpXVyKKCgKCiUbGyECzyIpKFoxMTQAAAUAeAA7A+4DSAAFABgAHgAkADQAAAEuASceAScHJzcUMhUeARceARcWFDMUFhUPAS8BNxcDBy8BNxcDBy4BJy4BJzgBMS4BJzcXA+4BAQEBAWhMP00BBhoGBQkFAQECtIEZJoEn0YEZJoEm0EcDBwQDBQMHGgZIPwI6AwQCAgTLTUBNAQEFGQYFCwUBAQEBAbSCGSeBJ/7/ghkmgif+/0cDBgMDBQMGGwZIPwABAU0CqQKyA6EARQAAAS4BJzQmNSMuAS8BLgEHDgEHDgEPATAGBw4BFzEeARceARUyFhUeATMyNjc+ATc+ATceAR8BMBYXHgEzMjY3MzA0Mz4BJwKyAw8GAgEbNR0CBhYSDhIFAQEBbQIBBhIDAQ8FAQEBAQYUEBIZBwEBAQ8dDw4eDgECAQcXEhAUBgEBBhgGAvsLDwUBAQEcNhwCBhACAg8FAQEBbQIBBhcTDhIFAQEBAQEGDxUIAQIBDx0ODh4OAQICCBQQBgEFHxcAAAAABQBK//0DtgODACcAUAB4AKAArAAAATYWHwEeARcWBgcOAQcOAQcGJicuATU0Njc+ATcuAScuATU0Njc+AQEGJi8BLgEnJjY3PgE3PgE3NhYXHgEVFAYHDgEHHgEXHgEVFAYHDgEHEyY2PwE+ATcyFhceARceARcWBgcOASMiJicuAScOAQcOASMiJicuAQEWBg8BDgEHIiYnLgEnLgEnJjY3PgEzMhYXHgEXPgE3PgEzMhYXHgEDFAYjIiY1NDYzMhYDHwgMBm0ECwEBCQYcNxwECgUKDwQFCRIFFCoTFSYWBRIJBQUK/ckIDAZtBAsBAQkGHDccBAoFCg8EBQkSBRQqExUmFgUSCQUFCgeKAQsGbQUKBggKBR02HAULAQMOBAULBgkQBRMrEhYmFQUQCgcKBgQKASkBCwZtBQoGCAoFHTYcBQsBAw4EBQsGCRAFEysSFiYVBRAKBwoGBAo5NCUkNDQkJTQCVQELBm0FCgYICgUdNhwFCwEDDgQFCwYJEAUTKxIWJhUFEAoHCgYECv7XAQsGbQQLBgcLBR02HAQMAQMOBAULBwkPBRQqEhYmFgQRCgYLBQQKAQHBCAwGbQQLAQkFHDccBAoFCg8EBQkSBRMrExUnFQUSCQUFCv2vCAwGbQQLAQkFHDccBAoFCg8EBQkSBRMrExUnFQUSCQUFCgEfJTQ0JSQ0NAABAD7/0wPCAp4AMAAAARQHDgEHBiMiJy4BJyYnNz4BNz4BNz4BMzIWFx4BFx4BFx4BMzI2Nz4BNx4BFRYUFQPCJSV8UlFZQUxLhS8vBxkMKQkdOiMQJhUWKxIVJhITJRcRKxcmQBodNR8FKgYBwK1iY2INDBERSDk5UQISUhQ8gDAYICodIU4oKFAiHChhNzl5MAMBBTE9JQAAAAAC/9UAoAQgAtoAVQBXAAABIgcOAQcGMQ4BBw4BIyImNTQ2Nz4BNz4BNz4BNz4BMzEyFhceAR8BHgEzMjY3PgE3PgE3PgEzMhYVFAYHDgEHDgEHDgEHDgEjIiYnLgEnMCcuAScmIyUxAVcMEhIhDAsIEQkaV0cbJSUZCCMgCBAIFS4bCz80OEULFSQSDRBFDw4bHQgQCBUuGwtAMxslIhoBDwkXKBUIEAobWEY3RwsWJxIMDCMSEw0CjQJXHBxEHRwRJRA4hCUbGiQCBS5AECMRL1wnDkNRFCBJIxojijg5ECMRL1wnDkMlGxolAQIMDh9TKhElEDiEThIiTyYeHkgeHgUAAAT/1QCkBCAC3gARAC0ATwBrAAA3IiY1NDY3PgE3PgEXHgEHDgEhIiYnLgEnJjY3NhYXHgEzMjY3PgEXHgEHDgEjASImJy4BNz4BNz4BMzIWFx4BFxYGBwYmJy4BIyIGBw4BIyUiJicuATc+ATc+ATMyFhUUBgcOAQcOAQcOASMVGyUlGQMdGAwzFhgODBxNAks3RwsJFAkNERgYMgsIJhAQGR0LMhgYEgwbWEb+PgcPBhgRCxAdDytGDThFDQoRCgwQGBgyDAggExMlDwsfEQKZCA8HGA4NCRQJK0YNGyUiGgEPCQgPCQggEKQlGxolAQIfLhgPDQ0yFzhbTxEPIhQYMgsNERgRTTc4GBELCzIYN4EBJQMDCzIYIDMUPBVRFA4gFBgyCw0RGBBOVBsQEiQEBA0zGBMeDz0UJRsaJQECCw8LGBAQEgAK/9EAogQkAuQAXQBwAIQAmACsAL8A0gDnAPoBWAAANyImJyImJy4BJy4BJy4BJy4BJy4BJzQmNTQ2NzQ2Nz4BNz4BNz4BNz4BNz4BNzYyFzIWFx4BFx4BFx4BFx4BFx4BFxwBFRwBBxQGBw4BBw4BBw4BBw4BBw4BBzQiIyU0NjMxMhYVMRQGIzE4ATkBLgElLgE3MT4BFzEeAQcxDgEjMSImJyEuATcxPgEXMR4BBzEOASMxIiYnJSY2NzE2FhcxFgYHMQ4BIzEGJiclLgE3MT4BFzEeAQcxDgEjMSImJS4BNzE+ARcxHgEHMQ4BIzEiJiUxJjY3MTYWFzEWBgcxDgEjMSImJyc0NjMxMhYVMRQGIzE4ATkBLgEFKgEnIiYnLgEnLgEnLgEnLgEnLgEnNCY1PAE3NDY3PgE3PgE3PgE3PgE3PgE3NjIXMhYXHgEXHgEXHgEXHgEXHgEXFBYVHAEHFAYHDgEHDgEHDgEHDgEHDgEHBiIjFQMGAwQGAwMGAgMEBAEGAQIDAgEBAgIBAQMBAgMCAQQDAgYDAwUDAwYEBg0GAwcDAwYCAwQBAgUCAQMCAgEBAgICAgMBAgQDAgUEAwQDBAYDBQQCRyUbGyUlGxom/hcYEAwMMhgYEAwIIBIIDQcChBgQDQsyGBgRDQggEgYOCP70DA8YGDMLCw8YBg8HESAI/tcYEAwMMhgYEA0IIBEHDQJ/GBENCzIYGBENCCASBg3+SQwPGBgyDAsPGAYPBxEgCIAkHBslJRscJALGAwcDAwYEAwYBAwUDAgUBAgMCAQIBAgIDAQIDAgEEAwIGAwMEAwQGAwcMBwMGBAMGAQMFAwIFAQIDAgECAQICAwECAwIBBAMCBgMDBAMEBgMDBwOkAQEDAgEDAgIDBAEGAwMFAwMHAwMGBAMGAwQGAwMGAgMEAwIFAgIDAQIBAgEBAwIBAwIIBQICBQQDBAMDBwMDBQMDBgQDBgMEBQIDBAQBBgECAwIBAQICPhslJRsbJQIlaAsyGBgRDQsyGBASAwMLMhgYEQ0LMhgQEgMDHhgyCwsOGBgzCwMDAhISjQsyGBgRDQszGBASBAMNMBgYEQ0LMxgQEgQeGDMLCw8YGDILAwQSEKUZJyUbGyUBJSQCAwECAwIBBAMCBgMDBAQDBgMEBgMDBwMDBwMDBgEEBAMCBQIBAwICAQECAgICAgMBAgQDAgUEAwQDAwcDAwcDAwYEAwYDBAYBAwUDAQYBAgMCAQECAgAAAQEmAPcC3AKPAAIAAAETJQEmdAFCAo/+aKAAAAgBCQDVAvoCpgAXACkAOwBTAGUAfQCPAKEAAAEiJi8BJjY3NjIfAR4BBw4BBw4BBwYiIxMiJi8BJjY3NhYfARYGBw4BIyciJi8BJjY3NhYfARYGBw4BIxciJicuAS8BJjY3NhYXNhYXFgYPAQ4BIzciJicmNj8BNhYXFgYPAQ4BIzciJicmNDcmNDc+AR8BHgEVFAYPAQ4BIyciJi8BLgE3PgEfAR4BBw4BIyciJi8BLgE3PgEfAR4BBw4BIwEvCxECCAQGCAgTCRwLCAYDCgYDCgYEBQJNCxIBEQMLDQ0XBREDDA0EBQEnCxECEQMMDQ0WBREEDA0FBAJFBAYDBwkBCQMMDQsVBgsVBgcJDRsHBwN7CQ8DBwkNSAsZBwYIDUkDBwWpCg8DAwMDAwcZCxwICQkIHAMHBVMFBwNACwgGBhkMQAsIBwQPCJYEBwRACwgHBhkLQAsIBgMPCgJNDAseChIGBwUPBhkLBwcBBQgCAv7zDAs6DRcFAwwNOQ0XBQEBhg0LOQ0XBQMMDDoNFwQCAfEBAQQKCB4MFwUDCQsDCQsLGQcPAQE+CQgLGgYkBwkNCxkGJQEBUwkICBAGBxEGCwgGDwUPCAkPAw8EAU0DASUGGQsMCAckBhoLCAlWAgIkBhoLCwgGJQYZCwoHAAANAQkA1QL6AqkAEQAjADUARwBcAG0AfgCPAKUAtgDHANgA6QAAASImJyY2Nz4BFx4BBw4BByoBEyImJzUmNjc2FhcVFgYHBiIjJyImJzUmNjc2FhcVFgYHIgYjJyImJzUmNjc2FhcVFgYHDgEjEyImJy4BJyY2NzYWFx4BFxYGBw4BNyImJyY2NzM2FhcWBgciBiM3IiYnJjY3MzYWFxYGByIGIzciJicmNjczNhYXFgYHBiIjNyImJyY0NzA0MT4BFx4BFRQGBw4BIyciJicjLgE3PgEXHgEHDgEjJyImJyMuATc+ARceAQcOASMnIiYnIy4BNz4BFx4BBw4BIyciJicjLgE3PgEXHgEHDgEjASYJEQMEBggIEwkMCAcDDAgDAlYLEQIDDAwNFwUDDAwFBQEeCxECAwwMDRcFAwwMBAUCHgsRAgMMDQwXBQMLDQMFA1gEBgMHCQEDCw0KEAYCAwEHCQwECE4KDwUHCAwCCxkGBwkNAQgDUQoPBQcIDAILGQYHCQwEBgNPCg8FBwgMAgsZBgcJDQEHBFEKDwUDAwYZDAgJCQgEBgNYAwgEAgsIBgcZCwsIBgMPCFcDCQMCCwgGBhkMCwgHAw4IWAMIBAILCAYHGQsLCAYDDwhXAwkDAgsIBgYZDAsIBwMOCAJrDAsKEgYHAgQHGQ0HCQH+zwwLAg0XBQMMDQINFgUCZAwLAg0XBQMMDAINFwUCZg0LAg0XBAQMDQINFwUBAf7RAQEECQcMGQMDBQYCBQILGQcBAScJCAsZBgcJDAwZBgIoCQgMGQYGCA0LGQcCKQkICxkHBgkMDBkGAiYJCAcPCAILCAYFDwoJDwQBAzEDAgYZCwsIBgYaDQYJMQMCBhkLCwgGBhoNBgk0AgIGGQsMCAcGGg0IBjECAgYZDAsIBwYaDAcIAAIBCQDVAvwCqQAYABwAACUiJicuAScDJjY3NjIXBR4BFRQGBwUOASMDEzclAZoEBgMHCQFzBAYICBMJAbQICQkI/r4FBwNAU+r+w9UBAQQKCAGXChIGBwT6BQ8ICBAEoAEBAXT+2XO0AAAAAAEAkAAQA20DdAA1AAABFRQGIyImPQE0JisBAxQWOwEyFhUUBiMhIiY1NDY7ATI2NRMjIgYdARQGIyImPQE0NjMhMhYDbRkREhgaEsQCGRI+ERkZEf7bEhgYEjwSGQLEEhkZERIZGRICiBEZA0qsERkZEVYSGv1wEhkZERIZGRIRGRkSApAaElYSGBkRrBEZGAAAAAABAAQAFQPvAZUAUQAAJQcOAQcwIhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwNjUwMjE6ATMwMjEwMjEwFjEwMhUeAR8BFhQPAQPkkQMGBAIBAQICAwUDAwP9jQUKBRErFTMNEWpMAnECAgICAgICAQICAgQCAgUCoAgIC7ORAwYCAgMCAwwIZAICAxUVMw0GECZLamIICwMBAQICAQECAgIDA6AIGQgNAAABAAv/zQP3A7oAbgAAJQcOAScmNjc+ATcOAQcGJi8BFwcOAQcGJi8BDwEGJicuAT8BByoBLwE3PgE/AScuATc+ATczFycuATc+ATcOAQcOAScuATc+ATc+ATc+ATc+ATc+ARc2Nz4BNzY7ATYWBxUUBw4BBwYHFgYHDgEHAkVfESEMDRIcHRsFFCkVESgNHAQBBAwFChMECVYDEBUCBgIDO44FEAcIAgEOBHo6DwoEBBQEBYUhDQgGCRQKFkctKicMBwEDAwoFCBoNCRADCBkMRWwZUl1cqkVFJAIUIAEGBkBERH0GCi4IHAslSgsQDQwnKitEFwkSCAcJDRuaBAwLAQMMDkVGAg8JAgUQCWg0BwcMCQsCQxsFEgoLBQEbIg0oEhcuFgQbHxwRDAYPBwgRCAshDwwUBQscCDAHBXtEQ0AGBwEgFAIlR0atXV5TG2lCDBkIAAAAAAEADv/EA/cDvABsAAATHgEXHgEXNjc+ATc2NzYXHgEXFhcWFx4BFxYXFhcWBgcGBw4BBwYHDgEHBicmJy4BJyYnLgEnJjY3NhYXHgEXHgEXHgEzPgE3PgE1NCYnLgEnIgYHHgEXHgEHDgEjKgEjIgYnJjY1PAE1NDYzMxYkDxIeDyEiIkwrKjMyLi1RIyQfHRobLRISCw0EBQcLChMiZ0YhJyhZMTE0SD8/ZSUlFAIEAgImHR0vBAQFAg4yIip6VVJ6Ky07PSsrelBKZTARGhMJMQMCORUcLhwvhQ8IAgITA7wBKA8SIA0ZFhUfCgkBAQgHHBQUFxccHEAlJCgqMDBfLS0nSW4pFA8QEQEBCg8fH107PEYHGQ0TIAQEDg4KEwUyUB8oOgE/LC1+Tk9/Kyw/ASohFBsSCSgUEwMDHg8zFTJRNRY+AAAJAAABVgQAAioAGAAxAKMAxgFFAVoBwgH3AiwAAAEuASMiBgcOARUUFhceATMyNjc+ATU0JicHMhYXHgEVFAYHDgEjIiYnLgE1NDY3PgEzJSIGBxUuAScjNCIjKgEjKgErASoBIyIGKwEqASMiBiMOAQcxDgEPATAGBw4BBxQGMQcOARUcARUcARcVMBYdAR4BFx4BHwEwFDEzHgEXMhYXHgE7AToBMTI2MTAyMTMwMjE+ATcdAR4BFzM+AT0BNCYjBxQGBw4BIyImJzAiOQEuAScuASc0JjU0Njc+ATMyFhceARU3PAE1LgEnLgEnLgEnIzAmIyoBIyoBIyoBIyIGBw4BBw4BByIGBw4BFRQWFx4BFx4BFx4BFx4BFx4BFzIWMzoBMxYyOwE6ATsBOgEzMDIxNz4BNz4BNz4BNzU2NDU0JiMiBgcOAQcOASMiJicuASc1LgEnLgE1OwE+ATcxPAExJz4BNzU+ATc+ATMyFhceARceARUjJRUUBiMiJic1NCYnLgEnMCIjIgYHDgEdAjEVFAYjIiY9AjA0MS4BMTAmJy4BIyIGBw4BHQEOASMiJj0BNDYzMhYXNjI3PgEzMhYXHgEXMhYzMDYxPgE3PgEzOgEzHgEXFBYXHgEVBxQGKwEiJjU0NjsBMjY1NCYrATAiMSImNTQ2OwEyFhUUBisBIgYVFBYzMTAyMTMyFhceARUhFAYrASImNTQ2OwEyNjU0JisBKgExIiY1NDY7ATIWFRQGKwEiBhUUFjsBOAE7ATIWFx4BFQNcDBwRER0MCwwMCwwdEREdCwwMDAw5ChMHCAgIBwgSDAsSBwgHCAcIEgv9bwUIAQkVDAECAQEBAQIDAgEBAQEBAgEBAQEBAQIBCREIAQEBAQEBAQICAQEGBwEBAwoIAwcDAwEBAwEBAgEHEAgBAQIBAQECAQwVCQEHBAQFBwgGDwcIBxILBQkEAQUJAwYGAgEHCAgSCgsRCAgH0gEGBQIGAwkVCwICAQEDAQEBAQIEAgsTCQEDAQIDAQEBAQwMAwMDCQYBAwICBQICAwIFCQUBAgEBAgEBAgEBAQEBAQECAQIBDxkKAgQCAQEBAQgGBAYCAgMCCBILCxIIAQICAQIBAQN3AQQGAYMBBAICAwIIEgoLEggDBgIBAWQB7QkGBQgBBAQFCQUBAQYKBAUECAYGCAEDBAEFCgYGCgQFBAEIBQYICAYEBwIBAQEGDgcLEwgBAQEBAQECAQIBBxMLAQMBCREHAgEICd4bFDkGCAgGOAkMDAkZAhQcHBQ4BggIBjgJCwsJARoFCgUNDwIfHBM6BQgIBTkIDAwIGQEBFB0dFDgGCAgGOAkMDAgBARoFCgQNEAHiDAwMDAwdEREdDAwMDAwMHRERHQwECAgIEwsMEwcICAgHCBMLDBMICAhMBwU3CAkBAQEBAwkHAQEBAQEBAQMCAQEBChcNAQIBAgQBBAIBAgoTCAMFAwEBAQEBAQEDAwEBCgcGAQQHAQEIBbcGCIILEwgIBwECAgYEBQ0HAwYECxMICAgICAgTCwMCAwIJEAgECAMJDAIBBgYBAgEBAwECAQwdEQgPBwgNBwEDAQIEAQECAQIDAQEBAQEMCgMFAgECAQEBAwEGCAMDAgQCCAgIBwIDAQEBAwIDBwQBBwUBAQsECAMBAgQCCAgICAQIBQEEAgtcBQkHBl0GCwUEBAEFBAUKBgEBWwUJCAUBXAEECgUCBAUFBAULBl0GBwkFiQUJBQQBAQMEBwcBAgECAgECAQcHAQcGAQIBCBUMOxQcCAYGCAwICQsdExQdCAYGCAwJCAwCAgYYDhQcCAYGCAwICQsdExQdCQUGCAwICQwCAgYYDgACAEcADwO5A3EAMABPAAABLgEjIgYPARE0JiMiBhURJyYiBwYUHwEeATMeARc4ATEWMjc4ATE+ATcyNj8BNjQnEyEiJj0BNDYzMhYdARQWMyEyNj0BNDYzMhYdARQGIwL6BxEJChEHhxwUFByHDicODg7YAQIBAgMCCxgLAgMCAQIB2A4OJf3CQFocExQcIxgCPhgjHBQTHFpAAgkHBwcHiAHAFBwcFP5Bhw4ODicO2QECAgIBBQUBAgICAdkOJw7+BltA1BQcHBTUGSMjGdQUHBwU1EBbAAADABQAbQPsAxIAGQAzAEUAACUiJi8BLgE1NDY/ATYWFxYGDwEXHgEHDgEjISImJyY2PwEnLgE3PgEfAR4BFRQGDwEOASMFIiYjLgE3Ez4BFx4BBwMOASMBFgcPBtcHCAgH1w4jCwwDDbKyDQMMBhEJAdQJEQYMAw2ysg0DDAsjDtcHCAgH1wYPB/7HAwYDEREEnwUeERESBZ4EFw7eBQW4BhEJChEGtwwDDQ4jC5iXDCMNCAcHCA0jDJeXDCMNDgILuAYRCQoRBrcFBXEBBR8RAlAREgQFHxH9sA8RAAAAAAMARgAOA7sDcgAwADoAWQAAAQ4BIyImLwERFAYjIiY1EQcGIicmND8BPgE3PgE3OAExNjIXOAExHgEXHgEfARYUBwMyFhcmIgc+ATMBISImPQE0NjMyFh0BFBYzITI2PQE0NjMyFh0BDgEjAvsHEgkJEQeIHBQUHIcOKA4ODtkBAgECAwILGQoCAwIBAgHZDg77BgwFCxkKBQwGAR/9wkBbHBQTHCMZAj8YIxwUFBwBW0ACSAcHBweH/j8THBwTAcGHDg4OJw7ZAQIBAQIBBgYBAgEBAgHZDicOASoDAwYGAwP8nFtA1RMcHBPVGSMjGdUTHBwT1UBbAAAAAAYACABIA/gDNwAMADEAQABPAH4AiwAAJQ4BIzI2NzQwMQ4BBwEjNTQmJy4BIyIGBy4BIyIGBw4BHQEjIgYVERQWMyEyNjURNCYlPgEzMhYXES4BIyIGBxEFPgEzMhYXES4BIyIGBxEBIREzERQWFx4BMzI2Nz4BMzIWFx4BFx4BMzI2Nz4BNz4BMzIWFxY2Nz4BNREzESUwIiMiJiceARceARcCDAMGAwYLBQIGAgHBRgwKKmI0MFonJ1owNGIqCgxGEhkZEgOaEhkZ/kYgRyUnSCAhSCYlRiH+myBIJydIICFIJiZIIQLx/J4qCAcFCgUEBgQjVC4qTyICBgIDBgMDBgMCBgIiTyouVCMJEQgHCCr+TwEBBQsEAgYCAwYDtAECAwMBAQIBAhQsCxIEEREODg4OEREEEgssGhL92BIaGhICKBIaFAoKCwr+KwkJCAkB1QEKCwsK/isJCQkJAdX9tQHx/lQJEAUDAwIBDg8NDAECAQECAgEBAgEMDQ8OBAIFBRAJAaz+DyEEAwECAQEBAQAABAARAA8D7wNxACQAKQAuAEkAAAEjNTQmIyEiBh0BIyIGFREUFjsBFRQWMyEyNj0BMzI2NRE0JiMlIRUhNQEhNSEVNxQGKwE1NCYjISIGHQEjIiY1ETQ2MyEyFhURA4JrIBb+PxcfbC1AQC1yHhUBxhUeZi1AQC39tQGS/m4Bmf5tAZLTEw1lHxX+OhUecg0TEw0DBA0TAn2+Fx8fF71ALf7TLUA1FR4eFTVALQEsLj+np6f9OIODiA0TNRUfHxU1Ew0BLA4SEg7+1AAACABI//MDwgONAAEABAAVACYALwA4AEEASgAAATElMRUHJyYiBwEGFB8BFjI3ATY0Jw8BBiIvASY0PwE2Mh8BFhQHNxUXJzcHJxcHExUXJzcHJxcHJRU3LwEPAR8BNzM3BycXBzcXAh0BQiUZDikP/W0ODhkPKQ4Ckw4OD54ECgQmBASdBAsEJgQEKTIaGjIyGhthQC0OMEAtDf7SLi4QDS0uEHgBMkk3ETNJNwKYngFpGQ4O/W0OKg4ZDg4Ckw8pDi6eBAQmBAsDngQEJgQLA30BGjIyGhszMv7vAQ0vQCwNL0DIARANLS4QDS3aNxEySDgRMgAAAAABAOD/1QMaA6sAHwAAAQciBhcTFgYPAQYmJwMuAQ8BBiY1AzQ2NzYWFwEWBgcDE+YFAwG2AwYIUwgPA7UCBwKiCQwNBAUDBwcCIAgECwG3EwcD/n0IDgMpAwUHAYIDAgOiCAYNAtEGBwIBAQX+JwgMAgAAAAQAMwCmA8ICxgAbADQAUwB1AAABIiYnLgE3PgE3PgE3PgEXHgEHDgEHDgEHDgEjAyImJyY2NzYWFx4BFz4BNz4BFx4BBw4BIwMiJicuAScOAQcOAScuATc+ATM6ATMeARcWBgcOASMBIiYnJjY3PgE3PgE3PgE3PgEXHgEHDgEHFAYVDgEHDgEjA2IFCwUVDwgLEQYFBgIKKBQVDwgBBgQGEgoIGxC3Ok4dCw4TEyoLHSMFAw0JDSwSEQYPGzQb6w4YBxYcBQMUEAssERMJDRNAKwEEATJFFgsLEwcPBv6eCxgIDgUSAw0LAgECAQgECCkVFRAJBQcDAgwbEwgSCAG3AwIIKRUYKxAMDQUVDwgKKBQEDggQLBkQE/7vWzQUKgsLDRM1IQICCw0RBg8NLBEgIwFaDQ0mGgICExgTCQ0LLBIePwNMJhMqCwUE/sYKChErDgMVGQQDAgUQBxQRCggpFQ0QBQIBBBgvDgUGAAAAAQBaAKsDrwLEAEAAAAEOAQcOAQcOASMqASMmJy4BJyYnLgEHDgEHDgEHDgEHLgEnPgE3Njc+ATc2MzEyFx4BFxYXHgEzMjY3PgE3HgEXA68NFQ0TJxULRDwBBgElHBwvFhUYEDwjIzMQFCcUBRMNEBYGDBgNFxYWMR0dJSgeHzIWFxgQOyEgORAbNCAQGwYCERo4HSlTIBFKAhQUQywsMiOUAgGLICpSIAgWDR1DJRgzGzMtLUITExQVRS4uNCGQkCE9bSMdQCUAAAAABQBPAA8DsQNzAFQAXgBoAHIAfAAAAQcGIic4ASMuAT0BIxUzMhYPAQYiLwEmNjsBNSMVFAYvAiY0PwM2Fh0BMzUjIiYnOAExJjQ/ATYyHwEWFAc4ATEOASsBFTM1NDY3NjIfARYUByUxByImJx4BOwE3DgErATUzPgE3Ey4BPQEzFR4BFzUOAR0BIzU0NjcDscQCBQICAwW6JAsMBFEEDgNRAwsLJLULBo01CwszBIsGC7UmBgwBAgJTBQ4FUwEBAgsGJ7oDAwIGA8QLC/4pJQgJAgILBiWCAgkIJScECgOGBQYDAQQDAwMCAwUBs1MCAgILBie4CwbCCwvCBgu4JQsLAzwXBQ0EFQI6AwsLJboEBAIFAsQLC8QDBAIDBbonBgoDAQFTBQ4F6QIFBQMFBgUGAwEEA/6+AgkIJCYFCQO8AwoGJyQIDAIAAAABAG8ALwOzA28ALgAAAQcGJj0BIxEUBiMiJjURISImNTQ2MyE1IyImPwE2Mh8BFgYrARUzNTQ2HwEWBgcDscQICboWDg8V/rkOFhYOAUcnCwsDUwUOBVMDCwsnugsGxAoBCwGzUwMLCyf+uQ4WFg4BRxUPDha4CgfECwvEBwq4JwsLA1MEDQUAAwBj/8ADngPAASYB3AILAAABIgYjDgEHDgEHMAYxIgYjOAExDgExBiIHMAYxDgEHDgEHMCIxDgEHDgEnIiYnLgEnLgEnLgEnLgEnLgEnLgEnLgEnHgEXLgEHNjIXJgYHMCIxIgYjBiIHOAEjDgEjDgEHDgEHPgE3DgEHMjYxDgEHDgEHOAExDgEjFDAjOAEVIzAGBzAGMQ4BIwYwByIGIw4BBzAiMQYwBzgBMQ4BByoBIzEiMCMuASceARcuASciMDE0IjEiJjUuAScmJy4BJyY3PgE3HgEXMRYXHgEXFhceARcVPgEzPgE3PgE3MDYzLgEnJicuAScmJzY3PgE3NjEwFx4BFxYXDgEHDgEHDgEHMhYVHgEXHgEzMDIzOgE3MT4BNzY3PgE3NjcwNjceARcWFQ4BBwYHBzAGIzAGMQ4BIzgBIw4BBw4BBw4BDwEOAQcGIhUiMDEOAQcwIjEOATEOAQc4ATEOAQciFCMiBgciBiMwBjEwIjEOASMwIjEUIjEwIiMOAScuAScwJiM4ATEiJjEiNCMiJic4ASMuASc1LgEnLgEnLgEnLgEnLgEnLgEnLgEjDgEHMAYxDgEHDgEHDgEHDgEHDgEHDgEHPgE3DgEjMjY3DgEjBiYnFhceARcWFzY3PgE3NjcOAQcFDgErASImJy4BJzI2Nz4BPwE+ATc+ATMxHgEXHgEzMjY3MhYXHgEXHgEXMhYzBwOAAwYDCBAHBAcEAQECAQECAQEBARQhEQgQCQEBAgEKFw0KEQgEBwQFCwUBAQEBAgEEBwQGCwULFg0CAwIQJBMECAUHDwcBAQMCAQMBAQEEAgcOBgoQCAECAQMGAwECCRIKBAgFAQEBAQECAQEBAQEBAQEBAQEBAQEBAQkSCgEBAQEBBQsFAgUDCRAHAQEBAQgOBhAMCw8CAgQOHA4BAQELDAwaDQ4OCxgPAQEBAwgDBg4HAQEMFggQDQ4ZCgsKRDc3TBQVFRRONzdFGDAaECcZAQMCAQEHDwgECQQBAQECARwqDw8ODhkLDAoBAg0aDgMBBwcGCRgBAQECBAIBAwYDBAcDAgMCARIkFAEBAQEBAQEBAgIEAgICAQEBAQEBAQEBAgEBAgEBAQEBCxgNChIJAQEBAQEBAQEBAQ8aDQYLBQMFAwEDAgECAQQJBQQKBQcPCAkQBwEEBwMFCAQHDwcLGQ0GDQcCBAICBAIMGQwJEwoIDwgLFwsrMzRcIiMJCywscTs6JgIDAv7+FzIaARszGgwYCwEBAQYOBwQCBAEBAQEKFAoNIRQNGA0BAQEJEQkCBgMBAQEBAdABAQQDAQQCAQIBAQEBAQ0iEAgQBwECAQgLAQgEAwUDBQoFAQEBAQIBBAgEBgsFChIHAQIBCgsBAQEBAQEBAQEBAQMHBAYPBwECAQMGAgIIEgkECAQBAgEBAgEBAQEBAQIBAQEBAQYIAQECAgEBAQIJBgEBAQYNBy0zM3JAP0YBAQIDBQMoKCdNJiYlGjodAQEBBAcDBg0GAhoyFiYnJ00lJSINExQmDg4ODiYUFAxXk0IpVCcCBQMBAQYKBAICAS1aJSYnJ04nJiUGBQIBATUyMVwqKiZBAQEBAwMEAwMGBAEEAQESJQ8BAQEBAQEBAgIBAQEBAQEBAQEBAQEEBAIBBgQBAQEBAQkWDAEFDAUDBgICAwEBAgEFCAMEBwMEAwEGBAECBgIECQQHDgcMFwoECQMBAgEBAgEGBgMEAwQCBARZPj5OFBMEBRoZbVdXfwEBAYwVFRcXDBsPAQEGDQcFAgMCAQEPFwkNFgoJAQEIDQUCAwIBAQAAAAIAE//TA+0DrQAtAFsAAAE1NDY3NhYfAR4BFRYGDwEOAScuATc1IRUUBgcGJi8BLgE3NDY/AT4BFx4BBxU3IyImJyY2PwE+ATM2Fh8BHgEHDgEnIxEzMhYXFgYPAQ4BJyImLwEuATc+ARczAxwGBQYOCZ8FBQEFBp0JDQcFBgH9xAUFBg8IngYGAQUGngkOBgUGAd9rCw8CAgUJnwUOCAcOBp0JBgMDDQxrawsOAwIGCJ4GDQcIDgaeCQUCAg4MawH+awsPAgIFCZ8FDggHDgadCQYDAw0Ma2sLDgMCBgieBg0HCA4GngkFAgIODGveBgUGDgmfBQUBBQadCQ0HBQYB/cQFBQYPCJ4GBgEFBp4JDgYFBgEAAAABABMA+wPtAoUALQAAATU0Njc2Fh8BHgEVFgYPAQ4BJy4BNzUhFRQGBwYmLwEuATc0Nj8BPgEXHgEHFQMcBgUGDgmfBQUBBQadCQ0HBQYB/cQFBQYPCJ4GBgEFBp4JDgYFBgEB/msLDwICBQmfBQ4IBw4GnQkGAwMNDGtrCw4DAgYIngYNBwgOBp4JBQICDgxrAAAAAQE7/9MCxQOtAC0AACUzMhYXFgYPAQ4BIwYmLwEuATc+ARczESMiJicmNj8BPgEXMhYfAR4BBw4BJyMCPmsLDwICBQmfBQ4IBw4GnQkGAwMNDGtrCw4DAgYIngYNBwgOBp4JBQICDgxrpAYFBg4JnwUFAQUGnQkNBwUGAQI8BQUGDwieBgYBBQaeCQ4GBQYBAAAAAAEAFQEEA+sCegAeAAABITU0JicmBg8BDgEVFBYfAR4BNz4BPQEhMjY9ATQmA9z8/gYFBQ0IlQUGBgWVCA0FBQYDAgYJCQH8ZAsNAgEGCJYDDAgICweVCAYBAg4KZgkGVgYLAAABABUBBgPrAn4AHwAAExUUFjMhFRQWFxY2PwE+ATU0Ji8BLgEHDgEdASEOARUVBwgDAgYFBQ0IlQUGBgWVCA0FBQb8/gYJAetWBAtmCw0CAQYIlgQNCAgNBZUIBgEDDQpkBQwEAAAAAAIADwDLA+8CtwA+AEQAAAE4ATEOASMhFRQGBwYmLwEuATU0Nj8BPgEXHgEdASE6ATMxMjY3OAExPgE1PAE1NCYnNDY7ATIWFRwBFRYGBycOASMyNgNmFC8Y/awDBQUMB4AEBAQEgAcMBQUDAlQBAQIIDQcpOQEBBgRNBQgCTD87Bw8GCA0BTQgJWgkLAwIECIAFCgcGDAOABgYBAgwKVwICCkctAycYFSkNBAgGBhptBkdxGVMCAgIAAAAAAQBr/9EDlQOvAB8AAAURIyImJyY2NwE+ARcyFhcBHgEHDgErAREUBisBIiY1AW/LGB0EBQ0RAUULGhARGwsBRxENBQQdGM0RDeQNERECEQwLDR4RAUcLDAIKC/65ER4NCwz97w0REQ0AAAAACQAA/8AEAAPAAAMABwALAA8AEwAXABsAHwAjAAA3IREhESERIREhESEBIREhFSERIRUhESEBIREhFSERIREhESEAAQD/AAEA/wABAP8AAYABAP8AAQD/AAEA/wABgAEA/wABAP8AAQD/AMD/AAKA/wACgP8AAQD/AID/AID/AAKA/wCA/wAEAP8AAAAFACb/wAPaA8AACAAMABYAGQAhAAABNSEBETMVIRElFSM3AyMRNzUhFSMBERMVIwEhETM1IREjAvf+Nv754wLR/TtoaAyS7wFDmP747mgB+v3O8gFCAgMEvP7z/cm8A0QxaGj9mAGvAvFt/vX+1gGtaf4AAa/z/V4AAAAAAwANAAAD8wNiAAsAGwAsAAAlASYiBwEGFjMhFjYlIyImPQE0NjsBMhYdARQGJyMiJj0BNDY7ATIWHQEUBiMD8/46EzUS/joTGyUDjyQZ/idaCAkLBloICQkIWggJCwZaCAkJCE0DFSAg/OsgLQIvTwoHVQgJCgdVBwrGCwb+CAkLBvwICwAAAAEBEf/AAu8DwAAUAAAFIxEjNTM1NDY7ARUjIgYdATMHIxMCUcCAgFGAjVoxE54TjQJAAgCxaWt7sSUhWLH+AAAIAAkARgP3AzoAEAAhADIAQwBTAGMAdACEAAATERQWMyEyNjURNCYjISIGFRMjIiY9ATQ2OwEyFh0BDgEjNSMiJj0BNDY7ATIWHQEOASM1IyImPQE0NjsBMhYdAQ4BIwEhIiY1ETQ2MyEyFhURFAYzIyImPQE0NjsBMhYdARYGJyMiJj0BNDY7ATIWHQEWBiM1IyImPQE0NjsBMhYdARYGCQsIA8gICwsI/DgIC6hVCAsLCFcICwEMCFUICwsIVwgLAQwIVQgLCwhXCAsBDAgCOP4uCAsLCAHSCAsLs1cICwsIVwgLAg0IVwgLCwhXCAsCDQhXCAsLCFcICwINAyb9NAgMDAgCzAgMDAj9XgsIWAgLCwhYBg38CwhYCAsLCFYIDf4LCFgICwsIWAgL/gYLCAJPCAwMCP2xBg0LCFgICwsIWAYN/AsIWAgLCwhWCA3+CwhYCAsLCFgICwACAAoAGgP3A2IAHABFAAABIQYHDgEHBgcOAQcGJiMhNjc+ATc2Nz4BNzYWMyUhIiYHDgEHDgEHJjUmNDU2NTQ2NzYWOwEyFh8BFjYzMjYXHgEXFgYXAS8CyA8QECAREREGDBISORn9Nw4PDx8PDw8IDRoUNhoCQP36LGQkQSwVCRUIAgEBECkrbDZmL0kPCxBsNx1WGgsWAwkMBQHXLy8vXzAvMBUhCAcDKy4vXzAvLRgsBAcFVgUJEHBAID4ePUBAhEJCQTA6BQUFBCAzKAEGCgUVCBtZHQAB//4AIgQAA14AIAAAAREOAQchLgEnNjU2NDU0NT4BNzMeARcWMzoBNzIzHgEXBAAFJiL8mCAnBgEBBSYi6FQ+TjIzNGg1NDQiJQYCi/3mIiYHByYiVFRTqFNUVCImBwVyCwMBBSkhAAMACQATA/UDawAQACEAMgAAEyEyFh0BFAYjISImPQE0NjMRITIWHQEUBiMhIiY9ATQ2MxEhMhYdARQGIyEiJj0BNDYzLQOkDhYWDvxcDxUVDwOkDhYWDvxcDxUVDwOkDhYWDvxcDxUVDwNrFg9KDxYWD0oQFf6eFg9KDxYWD0oQFf6dFQ9LDhYWDksQFAAAAAUABgAeA/wDZgAoADkASgBWAGIAACU0JicwJy4BJyYnLgEjISIGBwYHDgEHBgcGFhcVFBYzITI2Nz4BNT4BAT4BMyEyFhcTITY3PgE3NjcBFAYjISImPQE0NjMhMhYdAScUBiMiJjU0NjMyFhcUBiMiJjU0NjMyFgP8AQQUFDMXFwUMNCf97RozCAQXFjQWFQQDAgE3IwM1GCEMDhIBAfzoBRIFAfoEFgNp/P4EDw8jDw8DAsIOC/zoCw4OCwMYCw7zHhUVHh4VFR6nHhYVHh4VFh6VSoIKQUGfRkYMGCokGQtERJ5DRAgKfzMzGkIUCg4lDwENAm4OBwcO/soLLy5pLi0K/YwJDg4JzQoODgrNaRUeHhUVHh4VFR4eFRUeHgAAAAACADP/0QOxA7EAGAAxAAATJjQ3ATYmLwEmBgcBBhQXAR4BPwE+AScBISY0NwE2Ji8BJgYHAQYUFwEeAT8BPgEnAdcEBAFSDAIPJA4lDf5zDQ0BjQ0lDiQPAgz+rgGJBQUBUQ0DDiQPJQz+dQ0NAYsMJQ8kDgMN/q8BtQUOBQGEDiUNIA0DDv41DigO/jcOAw0gDSUOAYQFDgUBhA4lDSANAw7+NQ4oDv43DgMNIA0lDgGEAAACAA8ANQPxA0sAXgCgAAATIiYnLgE1NDY3PgExMDc+ATc2PwM+ATc+ATM2FhcwFx4BFxYXMBYzNiY3NDY3NhYzMjYXFgYVFAYXHgEXHgEXHgEVFAYHDgEHKgEnLgEjJicuAScmIyIHDgEHBicBJjY9ASYiBwYVHAEXFBUUFgcGJisBKgEnLgEnJjY9ATQmNz4BNwE+ATMwNjMWFx4BFxYXFgYdARQWBw4BBwYiKwFJChAEBRcQCgMQMjOAOjoPDQsGCA4IBREBEh0LFRUzFhYCCQEEBQEDAgg2DBAzCAUBAwMCCQYUTwIEEwwFBRgJBAYDBRUCFkFBijc2AgJDQ6JFRAQCBgICApoCAQECAgI5BYISIAoDDAIFAQICAQwIAUQCAQICAgY3OII1NQECAgEFAgwDCyESwAF8EQgIFQoIDggDDCorajEwDAsLAgYOAwIDAQcJEhIrEhIBCANoDgIKAQgBAwoGmSUSJAoFBwUQRAEFDQgIDwcGHwECARYTNjZyLS04OIY3OAH+uQIyCLECAgEYGUMiIxUDGQIBAQUBCwULKxbFCxYFBwYGAQsCAgIDLS1qLSwCBRgLxxQrCwQMAQUAAAIAAABABAADQAALABAAAAEUFjMyNjU0JiMiBgEhCQE3AwBLNTVLSzU1SwEA/AABAAFVqwLANUtLNTVLS/1LAqv+VYAADAANAJED8QMNAA8AIAAxAEIAUwBkAHUAhQCXAKcAuADIAAAlISImNRE0NjMhMhYVERQGASIGFREUFjMhMjY1ETQmIyEXFAYrASImPQE0NjsBMhYdATMUBisBIiY9ATQ2OwEyFh0BMxQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYdAQUUBisBIiY9ATQ2OwEyFh0BMxQGKwEiJj0BNDY7ATIWFRcUBisBIiY9ATQ2OwEyFh0BIzMUBisBIiY9ATQ2OwEyFhU3FAYrASImPQE0NjsBMhYdAQMUBiMhIiY9ATQ2MyEyFhUDk/zYJzc3JwMoJzc3/LEMEBAMAygLEREL/NiXCQg1BwoJCDUGC5UJCDUGCwkINQcKlAkINgYLCQg2BguTCQg2BgsJCDYGC/6gCQg2BgsJCDYGC5MJCDUHCgkINQYLkwkIMwYLCQg1BwoCkwkINQYLCQg1Bwo+CQg1BgsJCDUHCnsJCP6IBgsJCAF6BguROCYBwCY4OCb+QCg2AjgRC/5ACxERCwHACxGNBwoJCDUGCwkINQcKCQg1BgsJCDUHCgkINQYLCQg1BwoJCDUGCwkINZgGCwkINgYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCDYGCwkINgYLCQhiBwoJCDUGCwkINf7iBwoJCDUHCgkIAAIAYv/JA6ADtwAhACoAAAE0Jy4BJyYjIgcOAQcGHQEjIgYVERQWMyEyNjURNCYrATUhNDYzMhYdASEDFRIRRjQ0REQ0NEYREkUcKDAhApwiLycdR/5LTlJTTf7AAqY0MTFNFxcXGE0xMTOzLyL+eCIvLyIBiCIvszhmZDqzAAAAAQALAVMD9QIvABQAAAEGJiMhIgYnLgE3NhYzITIWFxYUBwP1EYY4/bY6ghMKAgoRhjoCpCs+DAoKAXUkAgUlEnEXJQMFHRVvFAAAAAQABgCkA/wC3ABjAH4A7gEMAAABBw4BBw4BBw4BIyImJy4BNTQ2Nz4BMzIWFx4BFRQGBw4BHQEXMjY3PgE3PgE/ASM3MjY3PgE3PgE3PgEzMhYXHgEVFAYHDgEjIiYnLgE1NDY3PgE1PAEnJiIjIgYHDgEHMw8BJQcOAQcOAQcOARUUFhcHLgE1NDY3PgE3PgE3BzceARc+ATc+ATc+ATMyFhceARUUBgcOASMiJicuASMiBgcOAQceARceATMyNjc+ATcXDgEHDgEjIiYnLgEnLgEnDgEHDgEHDgEjIiYnLgE1NDY3PgEzMhYXHgEzMjY3PgE3PgE3LgEnLgEjKgEHNxM3PgE3PgE3PgE3PgE1NCYnNx4BFRQGBw4BBw4BBwERJA0ZCw0bEBAmFA0TBwYHBgUFDQoGDAMDBAMCAQMEBQcDCAwEAwoIQCsLCxIFBQwEEiQTEyoWDxUHBgcEBQUKBgcKBQQEAwEDAQIBAwIKEwkQGgotCyYBQAYXIw8WJA4PDQwLBCopDQ8QMCIYOyIibQ4VBQ8YBgoSBgcPBggNBQQEBAQFCwgFDAYHCQEHDQYIFA0NFggFCQUFBwMFDQoLDxoNCRQJChAGBwwFBA0GEhwMCRIHBhAICAwFBQQGBQUMCAUKBQgKAwUHBQUMBwQQDA8YCAUNCAUKBgTXBxEfDAwaDQ0VCAwKDQsFKSoODhAxIRo6JAIgjzNKFhciCwwKBgUFDAYHCgUFAwMDAwkFBQcDAwICAgIDBAgRCwYmH/ckAwQDDQsgLQ0ODgYFBg4KCA0EBQQEBQQIBwMJBQUGAgEDAgIMCxI5KCUEvBEQJBUgTy8uVygZORwSOHA2IEAeJUEcFSMPohMXMx0XHwgNDgUDBAQFBQwICAsFBQMCAgEDBAQHGhUuOQoGBwMCAxANBxYeCgYJBAUFDQoJIBcXIgwLDQMEAwQFBQwGCA0FBQYDAgMDAwECCwYFFBA2QwsHCAIL/nsRDRwPDisaGzoeKEokGTkdEThwNiBAHiVAHRUjDwABAAAAJAQAA14AGgAAASIjBiIjIicuAScjDgEHER4BFyE+ATcRLgEnA7EzNDRoNDMyTD9V6CImBQUmIgNmICcGBiYjAtoBAwtyBQcmIv1kIScHBychAhghKQUAAAQAAAAiBAADYAADAAcAEwAYAAATESERAyERIQUUFjMyNjU0JiMiBhMhEwE3AAQAQPyAA4D/ADgoKDg4KCg4wP0AwAEAgANg/MIDPv0AAsCgKDg4KCg4OP34AgD+wGAAAAcACf/NA/oDswAEAAkADgATABcAGwAfAAATESERIQEhNSEVNyE1IRU3ITUhFQEhNSE1ITUhNSE1IQkD8fwPAer+SwGzAv5LAbMC/ksBswHR/lEBr/5RAa/+UQGvA7P8GgPm/EnGxubT0/XHx/4lxiDTIscABAAEAPUD/AKLABEAIwA1AEcAABMVIzU0Njc+ATcXDgEHDgEHMwUVIzU0Njc+ATcXDgEHDgEHMzc1MxUUBgcOAQcnPgE3PgE1IyU1MxUUBgcOAQcnPgE3PgE1I6SgDQ0RNyUkFiMJCwsCTwEAoA0NETclJBYjCQsLAk+4oA0NETcnJBYhCwsNTQEAoA0NETcnJBYhCwsNTQGrrYg4UBgiMRI6ChwRFDYjAq2IOFAYIjESOgocERQ2IyitiDhPGSIzEDoKHBQTNiECrYg4TxkiMxA6ChwUEzYhAAAAAAIADf/LA/MDtwAQACEAAAUhIiY1ETQ2MyEyFhURDgEjKQEiJjURNDYzITIWFREUBiMBi/6qEBgXEQFWEBgBFxACQP6qEBgXEQFWEBgXETUXEQOcEBgWEvxiEBYXEQOcEBgWEvxiEBYABAAC/8ID/gO+AAcAGwAgADEAAD8BJwcVMxU3ATQmIyIGBwEOARUUFjMyNjcBPgEnCQEhEQEUBg8BATc+ATMyFh8BHgEV9z6gPlZKAV4HCAMGAf6TAgIHCAMGAQFtAwEkARj90f7oA/wNDW/+6W8NHRIRIAyeDQ0aPZw+SFYDAm8IBgIC/pMBBgMIBwICAW0BBoT+6P3RARgB7xIfC28BF28NDQ0NngwgEQAAAAEAN//NA8kDsQAhAAABFgYHBgcOAQcGBw4BJy4BNRE0Jjc2FhcWFx4BFxYXHgEVA8kBJQtlZGPGY2NkCyINCQQBCA4rDWNiYsRjYmMNJQHCDRcEODc3bjY3NwYWBwUZFQM3HFQKDhsINzc2bDc3OAYTCwAAAQAR/80D8wO1ADAAAAEWFAcGJisBBhYVFAYHBiInJjY9ASMiBicuATc2FjsBNiY1NDY3NhYXFgYVESE2FhcD8woKEYQ4tQMBBR0TbxQkArU4ghMJAwoShTizAwELLTFgDQYCAREoPQ4CCxRuFCQCO5FDKz4OCgoRiDizBSUScRUkAjuQRDNEBAcLIhAzFf7yAwUcAAMAD//NA/MDswA3AGcAfQAAARYHDgEHBgcGBw4BBwYHBicuAScmJyYnLgEnJicmNz4BNzY3PgE3PgE3NhceARcWFxYXHgEXFhclNicuAScmJyYGBw4BFRQWFx4BMzI2Nz4BFxYGBw4BBw4BFxYyMzoBPwE+ATc+ATcDPAEnLgEHBhYVFAYXFjYzMhY3NiY1A/MECAkkGRkdHSMkVDAwNzk2NV4pKCAhHBwqDg0EBggIIxoZHh5BKyhnOD02NV4nJx8eHBwrDw4E/tMPCgszJSUnK0AgECwZCQoUCwgLBBxZCQo6GBUhBgMECQcpEBMmCQkIORgPGgaKBRhGGxABAwkKKBAPKwYIAwHiPTU2XScnICAcHCsNDgQECAkkGRkdHiQjUzAwNz42NlwmJyAgNhcVHQUECQkkGRkcHCMkVTExNycwKSg7EREEAw8OCB0QDxYMDB0KAxIFKCUvFRMtGQ9GCQcHQhooGg4oF/6mECENAwcGAygVDioKCgQCCgonDQAAAAABAA0AqwP3AtUAOgAAASYnLgEHBgcOAScmNjc2Nz4BNzYXFhceARcWFzY3PgE3NhcWBhUUFhUUFgcGJiMiJiMiBicmNjc+ATcCs01QUKJQUE8LFQgSThMoKChRKSgoODU2ajU2Nw0XFi8UFQwRBwIGIxVAGDdpOBFOCwowERUmFgFiSzU2MQkJMwgICBFHDiEXFxwFBgMDDg40Jyg1BxkYMA8ODhRCFDRoOhhRFwwCAgQVETASFiYVAAAAAAEAC//JA/cDtwBiAAAlFAYHDgEnLgEnJicuAScmJwYHDgEHBgcOAScuAScuATc+ATc2Nz4BNzY3JicuAScmJy4BJyY2Nz4BFx4BFxYXHgEXFhc2Nz4BNzY3PgEXHgEXHgEHDgEHBgcOAQcGBwEeARUD9yIPECYjGzYRICIiRCEhHyIiIkMjIiMVNyUWIQsQKwgGOhMfIyNGISIdHiEhRSMiIRM6BggnEhArJRgyESEiIUIgIB8iIiFCIiEjFDwlFSANEigHBTkVICIiRCIhIAERFTxLHSAOECwFAzoUICIiRSIiHyAhIUMiIiMVQQUDIQ0QKiEaMxMgIiNGIiIeGyEhRiMiHxEyGCUoERAvDAY6EyEhIUMgIR8gICFDIiIiFUEFAyENESkhHTATICMiRiIiIP7zEjQeAAIAC//NA/MDtwA5AFQAABMmJyY2NzY3Njc+ATc2NzYXHgEXFhceAQcOAQceARceARceARcWBicuAS8BBgcOAScmJyYnLgEnJicFFjc+ATc2Jy4BJy4BBw4BBw4BFxYXHgEXFhciEwQFEBITGhoiIlIwMDVFPTxjJiYZGyYDAyggCxwPHDofDiEGD0MwEh8NryEvL2o3NzErJiY/GRkQAVFLRkZhEhEfE0IrG04vUW4YEA8BAxESNyUlKgF6NDY2Zy8vJSUfIC8PDgMFEA87JycpL3lFQ24tEB0PHTggDiASLUcSBiINrRwSEg0FBhMQGRlAJiYsdBAXGGZJSFExTBYOEQMIWDEgTCguKCg+FhUKAAAAAAL//v+8BAQDwgCUAKAAAAEuAScuAScmNjc+ATc2Ji8BLgEPAQ4BJy4BJy4BJy4BKwEiBgcOAQcOAQcGJi8BJgYHDgEHDgEXHgEXHgEHDgEHDgEHDgEdARQWHwEeARcWBgcOAQcGFh8BHgE3PgE3PgEXHgEXHgEXHgE7ATI2Nz4BNz4BNzYWFx4BFxY2PwE+AScuAScuATc+ATc+ATc+AT0BLgEnASImNTQ2MzIWFRQGA+IVKRUNGQUFBAgMGgsIAwpbChwLRQsfCwsSAwIFBAEWDYANGAEFBwMCEwsLHwxECxwKFi8XCQMIDRkLCAIDBRkNEykVDRMTDVMNGQUFBQcMGgsIAwpbChwLEiMSCx0LCxECAwcFARcOfg0WAQMHBQITCwsdCxIjEgscClwJAwgNGQsIAwQFGA4VKRUNEwEUDf4eS2xqTUtsbAImBAcEAhMLDB4MESMQCxwKXAkDCDEIAwUEGQ0SKBUNExMNFSkVDRkFBQYIMQgDCRguFgocCxIhEQwfCwsRAgQHBAEXDoANFgMNAhMLCx8MESMQCxwKXAkDCA0ZCwgCAwUZDRUpFQ0TEw0VKhYNFwUEAwgNGQsIAwlcChwLEiERDB8LCxECAwcFARcOgA4VA/7jbEtLbGxLS2wAAAAAAgAJABcD/ANpADAAdAAAAR4BBw4BBw4BBw4BJy4BPQEGBw4BBwYHDgEjIjY3PgE3Njc+ATc2NzYmFx4BFx4BFwMGFgcOAQcGJiMhIgYnLgEnJjY1NCY3PgE3NhY7AQ4BFQ4BBw4BBwYmKwEiBgcGFhURHAEXFjYzITI2NzYmNz4BNz4BA8AONggFKQ4iPyMLLRMQAVtRUH4rKxACCAkXBgIIQjIkKClgODdCCA8eFyQOHkAiFQQJCgxQOyZUKP6+KFElM04DBQUFBQRbPjx2O+0CAhosFhMnFSNVJE8sPQoIBCgaZh4BlCw8CwUHBgITBxUlAq0PLSIVJBAhPyILMQUFORVkAQ8PRDY2TwsSWRNYgi8gGBggCQgBGpIDBCoOHz4j/q86YCg0SgUDAwMIC1U5PYlFRYg8Q1gFBAQQHxEFBgcEFAEFBQwdGFIg/ug2ag8JBQofECoUBw0GEysAAAIAM//PA7EDsQAYADEAACUGFh8BFjY3ATY0JwEuAQ8BDgEXARYUBwEhBhYfARY2NwE2NCcBLgEPAQ4BFwEWFAcBAb4NAw4kDyUMAYsNDf51DCUPJA4DDQFRBQX+r/51DQMOJQ4lDQGKDQ3+dg0lDiUOAw0BUQUF/q8vDiUNIA0DDgHJDigOAc0OAw0gDSUO/noFDgX+fA4lDSANAw4ByQ4oDgHNDgMNIA0lDv56BQ4F/nwAAAcACf/NA/oDswAEAAoAEAAWABoAHgAiAAATESERIQEhNSEVMzUhNSEVMzUhNSEVMwEhNSE1ITUhNSE1IQkD8fwPAer+SwGzAv5LAbMC/ksBswIBz/5RAa/+UQGv/lEBrwOz/BoD5vxJxsbm09P1x8f+JcYg0yLHAAIAAv/pA/oDlwAZADIAAAERIRE0Nz4BNzY3Njc+ATc2NxcOAQcOAQczBREhETQ3PgE3Njc2Nz4BNzY3Fw4BBw4BBwF+/oQEBBALDA8WGxpCJicsVjdPGBodA7oCYP6EBAQQCwwPFRobQSYmLVY3TxgaHQMBgv5nAURBOTlfJicdJyIjOxkaFIgWRCwtgVcC/mcBREE5OV8mJx0nIiM7GRgUiBdDLSyBVwAAAAADAAD/xAP6A8AAJABJAG4AAAERFAYHDgErASImJy4BPQE0Njc+ATsBNTQ2Nz4BOwEyFhceARUFNCYnLgEnLgEjIgYHDgEHDgEVFBYXHgEXHgEzMjY3PgE3PgE1MxQGBw4BBw4BIyImJy4BJy4BNTQ2Nz4BNz4BMzIWFx4BFx4BFQJRAwMEBgXTBQcDBAMDBAMHBZUDAwMHBSsFBwMBAwETGRgYQigqWjEyWiopQRgYGRkYGEIoKloyMVoqKkAYGheWIyIhXTs7f0ZFgDs7XCMgIiMhIl07O35HRYA7O1sjICMCrf7XBQYEAwMDAwQGBSsFBwMDA+kFBwMDAwMDAwkD6zJaKSpBGBkYGRgYQygpWjIxWykqQBgYGRkYGEIoKVwwRYA7O1sjIiMjIiFdOzuARUWAOztcIyEjIyEiXTs7gEUAAAABAAAAIgQAA14ASwAAAQ4BBz4BNw4BBy4BIyIHDgEHBhUUFhcmJy4BJyYnDgEVFBYXLgEnFRQWFw4BIyImJx4BMw4BIyoBJxYXHgEXFjMyNz4BNzY9AT4BNwQAHT0gIDELHkMlHVAtKyYmORARAwNAPT1vMDAoDA8yLBowFmBIDRwOChUKFWtENoRKDRkLIyYmUSsqLZFvcJcnJx81FQL+DRAFEzslEhkIHiQREDkmJisNFwsDERE4JygwGDQdNlwdAg0LAk1yEAQDAwI/UykwAhYSERgHBjY3rGpqaBwVNiAAAAABAAsAqQP1AtMAOgAAAR4BBwYmIyIGIyIGJyY2NTQ2NTQmNzYXHgEXFhc2Nz4BNzY3NhceARcWFx4BBwYmJyYnJgYHBgceARcBoBIvCgtOEThpNxhAFCIEAgYQDBUVLhcWDTg1NWo2NTgoKShRKCgoEk8SCBULT1BQolBPThUmFgEPEjAREwICBA4XURg6aDQWPxUODg8wGBkHNSgnNQ4OAgMGBRwXFyEORxEICAg0CQoxNzZLEyYYAAAAAAIAAP/EBAADvgBaAN4AAAEuASMuAQcOAQciBgcGBw4BBwYdAR4BHwEeAR8HHgEVHwMeARceARceARczHwIeARceATMeAR8DHgEzHgE3MjY/ATY3PgE3NjU0Jy4BJyYnBRYGFx4BFx4BNzYmJzYWFx4BFx4BFw4BBx4BFx4BFz4BNz4BNz4BNyY2Jy4BLwI2Jic+ARc2MjMXMyc+ATcuASc+ATM2JjU0NjU2JjcOAQciJicmNjcnBiYHDgEHLgEnPgE3MzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NjceARcCsQMHBShXMDFZJwEGAUY6OVMXFwIDBAIDCQUECwQTDQINAQMNBhENBw0ICAsEBAUCAg0CDQMHBQEGAQIEAxEXKwUHBSNLKh43GghTRkZmHRwZGFk+PUr+aw0OAwEQBgUNDgQSBQcOBxU6KAUQBQ4jERAnEwQrIAUKBQQFDhVVGAUQBwQpCrEcBRUMDRgTBikVCRcKESQTAgYFBREGAw4YARwIECcMCAwFAygKDxUjDxERDwwbEAYQCBNXTUxyISEhIXJMTVdXTUxyISEKCygcHCINFQcDogICDQwBAhIOAwIcMC96SUlQKw4bDg0OHQwNGgonFQQUAQMCDwkTDwYNBgUJAwIFAggDCAIFAgEDAQIBCQoRAgMJCQEIBQIVLi+CUFBZU0xLfi8wG8QbPB4MGAsKHQsLGAoBEAcTHQMLEgkVJxMVIBJYiDsECwYmQBolOiUbLhMTChATFx0dDQkhDgwqKggUBwgMBQMBBwMDCAsFDBQTBxkRAgIiExQqAwwEBCMGAwYBECAOISFzTE1WV01MciEhISFyTE1XMS0uUyQkHQYSDgAAAAACABH/zQP8A74APgBEAAABJQYHDgEHBicGBw4BBwYHDgEnLgEnLgE3PgE3Njc+ATc2Nz4BNzYmJyY2Nz4BNzYWFw4BDwEOARUeARceARcBNiYHBhYC4gEaCx4fYUJBUCwtLlstLiwYRzITJRAaLhsOPhghIB8/ICAhCiQDAgsBBTIiJGg+VG4rSYxEFgEFAS8JEBwQ/eQqGS40HQIGZUM3OEoODhEpLS1bLi4sGDAXCCYQGFYwGTcYIR8fPiAfIgohCAopDUJvJCg6BQY2KBk1GG0IFgYLIgYQGgz+Og5eCglrAAABAAL/xAP8A7wALQAAJRceAQcOASMhIiYnLgE1ETQ2NzYWHwEBJy4BNz4BMyEyFhceARURFAYHBiYvAQEiawsJAwMUEv7CCRMICAkICQgTDGoCOmsLCQMDFhABOwwSBwgJCQgIFAtqZmoLFAgICQkIBxIMATkSFAMDCAxrAjpqCxQICAkHCAgTDP7FEhQDAwcNawAAAQANALoD6wLeAAwAAAkBBiYnASY2MyE2FgcD6/5IGTsW/kQXGCUDkRswJAJz/kcaAhgBwBRQAUQoAAAAAQD6/9UDHgOzAAwAAAUBJjY3ATYWFREWBicCs/5HGgIYAcAUUAFEKCsBuBk7FgG8Fxgl/G8bMCQAAAAAAQDi/80DBgOrAAwAAAkBFgYHAQYmNREmNhcBTQG5GgIY/kAUUAFEKAOr/kgZOxb+RBcYJQOWGC4kAAAAAQAPAKAD6wLEAAwAACUhIiY3AT4BFwEWBiMDyfxsJBgWAbwUOxsBtiQuGKBPFQHAGAIa/kkoRQABAAYAUQP6Ay8APAAAATYWFx4BFxYGBwYHDgEHBgcOASMiJicmJy4BJyYnLgE1NDY3PgEXHgEXHgEXHgEzMjY3Njc+ATc2Nz4BNwNxICUVDh8CAS4ROzo6dDo6OhIuGB4/Eh4fHz4fHx8NGiMODyEdFyMPK0otAxoDBS8ILiwsVywrLg0kEwMvBiQTDx4THS0SOzo6dDo6OhIuRhIeHh49IB8hDRoVGx0ODyUDASkNK0gtAx8xCC4sLVgtLCwPJAUAAAAAAQALAIQD9wL8ADQAACUeATc+ATcBPgEnLgEnLgEjIgYHBgcOAQcGByYnLgEnJicuASMiBgcOARceARcWFx4BFxYXAbwRJBoTJQ4BcRMmBAMgEBEjFiI3ECQiIkMiIiQfISJGIyMhEjQeFyQQEC8KBCcQLy4tXS8vMbESHgMCJQ8BcRMnHRghEBEgPxAkIiJDISIjHyIiRyMjIRE+HxAPMiESIg4wLi9dLy8wAAEBUv/6A4wDhAA6AAABDgEXHgEXFhceARcWFx4BNz4BNz4BNzQmJyYnLgEnJic2Nz4BNzY3PgE3NCYnLgEHDgEHBgcOAQcGBwF7EBsCAiENKiopUioqKhEkGRUfDhAcATkOIR4ePB8eIBwfHz8gHx4QNgEdDg0uHhAfDSspKlMqKiwB/g8hFxIhDSopKVMpKisQIgIDHQ8PIBQeMg8gHh88Hx8gGx8eQB8gHRAuHBQhDw4qCAQkDSspKlMqKiwAAAEBUv/6A4sDhAA6AAABHgEHDgEHBgcOAQcGBw4BJy4BJy4BNTQ2NzY3PgE3NjcmJy4BJyYnLgE1NDY3PgEXHgEXFhceARcWFwNiEBwDAiAOKikpUykqKhEkGhUeDw8dOQ4gHx48Hh8gHB8fQB8gHRA3HQ4NLR8PIA0qKilUKiorAf4PIRcSIQ0qKSlTKSorECICAx0PDyAUHjIPIB4fPB8fIBsfHkAfIB0QLhwUIQ8OKggEJA0rKSpTKiosAAAAAAEACQCEA/cC/AA0AAATDgEHBhYXHgEzMjY3Njc+ATc2NxYXHgEXFhceATMyNjc+ATc2JicBLgEnJgYHBgcOAQcGB0QOKQQILxAQJhUeNBIgIyNGIiIfJCIiQyIiJBA3IhYjERAiAQQmE/6PDiUTGiQRMS8vXS4vLwFaDyQQIzIPEB8+ESAjI0cjIh8jISJDIiIkED8gERAiFx0nEwFxDyUCAx4SMS8vXC4uLgACAAYAcQP6Aw0AHQAqAAAlETYmByEwBgcGBw4BBwYxMBceARcWFx4BMSUWNicnBycHJzcnNxc3FwcXA/oDHx79pBYKDTQzcC0tLy5zNDMMCRICaREfA7xLhotLiYlLiYZNiYmpAiwaIQMDCA00NHItLjAwdjQ0CAcCAgEfGI5KiopNiIlKhoZKiYsAAAUAAP/ABAADwAAfAC8BOgHsAhsAAAEhIgcOAQcGFREUFx4BFxYzITI3PgE3NjURNCcuAScmExQGIyEiJjURNDYzITIWFQEqASMiBgciBgc4ATEwBhU4ATEwBhUwIiM4ATEOAQcOAQc4ATEwBjEOASciJicuASMuAScwJicwJjEuAScuAScuAScyFjMuASM6ATMqASM4ATEqASMwIjE4ATEiBgcOAQcOAQcwNjEOAQc4ATcOAQcOAQc4ATEwBjE4ATE4ATkBMCIVOAExMCIHOAExMAYHMAYVOAExOAExOAExDgEjOAEjMTgBMSImJzIWMy4BJzgBMTgBMTAiIy4BJy4BNzI2NxwBFzEeARceARcxMDY3PgE3PgE3OAEzLgEnLgEnPgExMBYXDgEHDgEHFAYVMDIXHgEXHgEzOAExMDI5AT4BNz4BNzA0NzIWMxYGBwcUMDUGMDcOASM4ATEOAQcOAQcOAQcxDgEHOAExOAExOAEjOAExMCIVIgYjOAExMCIVOAExMCIxMCIjMCIjOAExMCIxOAExOAExOAExDgEnIiYnOAExOAExOAExOAExMCIjOAExLgEnMS4BJy4BJzAmMTAmMTAmJy4BJwYmIyIGBzgBMQ4BIw4BBw4BBw4BBw4BByIGIzI2Mw4BIzI2Nw4BByImJx4BFzY3PgE3NjcqATEHDgEjMSImJy4BJzAyNz4BPwE+ATcwNDcxHgEXHgEzMjY3OAEXHgEXBhYXNDAVMQMz/ZorJSU4EBAQEDglJSsCZislJTgQEBAQOCUld19D/ZpDX19DAmZDX/7rAgMBBQcDAgMCAgIBAQoQCAUIBAIFDQYFCQMCAwEEBQIBAQICBAMDBAQDDgYCAQEIEgoCBQIEBwQCAQICAQECAwcFBQkDAgIDAQIFCgQCBQICAgEBAQEDBAoFAgMEBAIBAgUIBAECAwcEEA8DCA0HAgsZDwUMCAECAQMCAggDAgYLBBAYCURPUEULGQ0IFA0CAQEEBwQCBQICDhUIEBgLAgYOCAUICgsBAQEDAgIDAQIDAgECAQoRDAICAQECAgIBAQECAgYLBgUKBAECCA0GAwUDAgMBAgMHAQIGAwYIAwUHAwEEAQIFAgMHBQYLCAMHAwIBAQEBAgYNBQUKBQQIAwcKBytrCAYWFjgdHRQCA4ILGQ0NGQ0GDQUBAgMGAwMBAQICBQkFBxALBwwHAgUJAwIDAQPAEBE4JSUq/ZwqJiY4ERAQEDglJSsCZiolJTgREPzNQ19fQwJmQ19fQ/7WAwICAgEBAQEHEQgDCQMCBAYBAwQBAwMEAwECAgEEAwMGAgIMAwIFBgECAQMCAwcFAgEEAQIFCQMCBQICAgIBAQEBBAMBAQICBAMDBgQsdEYBAQEEAShPJQ0eDwECAQMCAggDDRkLJk4jDS8vDStLIRUqFAIBAgIDBgECARcuEyZPJwICAjJbJiACAgICAgEBAQIBBAECAQIJEgcCAgICAgIDAwUKBwMGAQIDAgICBwECAwIDAQQDAQMCBQIDCAMHCgUBBgECAgQDAwICAQIBAVlKBQINDTcsLEBJCgsMCwcNCAIDBwMCAgEBAQEICgUHCgQEAgUGAgEDAgICAAAAAAIAngBtA2IDEwASAC4AAAEHIyIGHQEUFjsBFxY2NRE0JgcTIiYnJjY3PgE1NCYnLgE3PgEXHgEVFAYHDgEjAlbxkRYgHxeR8gwYGQyZChEGCAcOGyAgGw4HCAgeDS00NC0ECQUDE78fF7wWIL8JDQ4Cgg4NCf3/CggNHgkQOCAgOBAJHg0OBwgaXDMzWxsCAwAAAAAEAAAAQgQAAzIAEgAuAFIAfgAAAQcjIgYdARQWOwEXFjY1ETQmBxMiJicmNjc+ATU0JicuATc+ARceARUUBgcOASMXIiYnJjY3PgE1NCYnLgE3PgEXFhceARcWFRQHDgEHBgcOASMXIiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBw4BIwG48ZEXHx8XkfIMGBkMmQoRBggHDhsgIBsOBwgIHg0tNDQtBAkFeggOBgoBCzA0NDALAQoKHwwdGBcfCQgICSAXFx0FDQd4Bw8GCgELIRoaJAkJCQkkGhohCwEKCx8LJx8eKgsLCwsqHh4nBg0HAxO/Hxe8FiC/CQ0OAoIODQn9/woIDR4JEDggIDgQCR4NDgcIGlwzM1sbAgN2BgYLHwosd0FBdywKHwsMAQsbICFJJycoKCcnSSEgGwQEWgYGCx8LHiUkUSssLS0sK1EkJR4LHwsLAQojKypfMzM1NTM0XyorJAQGAAAAAAMAUABtA68DEwASAC4AUgAAAQcjIgYdARQWOwEXFjY1ETQmBxMiJicmNjc+ATU0JicuATc+ARceARUUBgcOASMXIiYnJjY3PgE1NCYnLgE3PgEXFhceARcWFRQHDgEHBgcOASMCCPKRFh8fFpHzCxkaC5gKEQYICA0cICAcDQgICB8NLTMzLQUJBXoHDwULAQswNTUwCwELCh8LHhcXIAgICAggFxceBA0IAxO/Hxe8FiC/CQ0OAoIODQn9/woIDR4JEDggIDgQCR4NDgcIGlwzM1sbAgN2BgYLHwosd0FBdywKHwsMAQsbICFJJycoKCcnSSEgGwQEAAAAAAEBGv/RAw8DsQAeAAAlBhYfARY2NwE2NCcBLgEPAQ4BFwEWFAcwBw4BBwYxARoNAg8kDyQNAY0NDf5zDSQPJA8CDQFRBAQ1NX41NDEOJQ0gDQMOAckOKA4Byw4DDSANJQ7+fAUOBTw9kjw9AAEA8f/RAuYDsQAeAAABJjQ3ATYmLwEmBgcBBhQXAR4BPwE+AScwJy4BJyYxAZUEBAFRDQIPJA8kDf5zDQ0BjQ0kDyQPAg00NX41NQG1BQ4FAYQOJQ0gDQMO/jUOKA7+Nw4DDSANJQ49PJI9PAAAAAABAA3/ywPzA7cAEAAABSEiJjURNDYzITIWFREOASMDy/xqEBgXEQOWEBgBFxA1FxEDnBAYFhL8YhIUAAAGAFcAFwOmA2YACwAXACMALwA7AEcAAAEUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFgOmJRsaJiYaGyWPJRsaJiYaGyWRJRsaJiYaGyWPJRsaJiYaGyWRJRsaJiYaGyWPJRsaJiYaGyUDJhomJhobJSWqGiYmGhslJawaJiYaGyUlqhomJhobJSWsGiYmGhslJaoaJiYaGyUlAAMAawAXA5UDVQARACMANQAANyImJyY0PwE2MhcWFA8BDgEjASImJyY0PwE2MhcWFA8BDgEjASImJyY0PwE2MhcWFA8BDgEjlwwXCRQUlxM1EhMTmAgYDQEvDBcJFBSXEzUSExOYCRgMAS0NFgoTE3YTNREUFHUKFg0XCgoTNRGYExMTNRKXCgoBLwoKEzURmBMTFDQSlwoKAS0KCRQ0EnUUFBM1EXYJCgAAAAABAGsAFwOVA1UAEQAANyImJyY0NwE2MhcWFAcBDgEjlwwXCRQUAtETNREUFP0vCBgNFwoKEzURAtEUFBM1Ef0vCgoAAAUAWgBJA/EDNwAQABQAGAAhACUAAAEhIgYVERQWMyEyNjURLgEjFREnNyUhCQETFx4BPwEFITcnBxEXA6b8/R4rKx4DBR4rASsf8/P9LAKu/qX+rflACh4LRAEA/U77M/X1AzcrHv2kHisrHgJcHiuH/iTu7j7+rAFU/p9ACgELQv37NfcB7vcAAAAAAgAAAB4EAANkADAAQAAAATYWFwEeARcWBgcGBw4BBwYHDgEHBiYnLgE1NDY3Njc+ATc2Ny4BJy4BNTQ2Nz4BNwMhIiY9ATQ2MyEyFh0BDgECVxghEAEzDR4CAxkOKCgnTicnJwseDhwqCw0aNA4cHR07HB0bPGw9DDYaDw0aFFX+NRYhIRYByxchAh8DZAMgEP7NCx8RFR8PKCgnTSYnJg0hAwgoDQweFBkrDxsdHTscHBo9bD0NLh0THA8MGwP+ACEXSBchIRdIFyEAAwBa/8ADpAO6ADQASABPAAAlLgEnMS4BNQMmJy4BJyYnLgErASIGBycuAQcOAR8BDgEHAw8BDgEHDgEXHgEzITI2NzYmJwE+ATsBMhYXHgEXEyE0JicDPgE3BzE+ATcTIwOaBQwFBQhuCg0NGQsKBho9J1kqSxZACCYSFQ8IaQsUCHEGEwIBAgkHBAxcOgIIOFoOBQQL/eoPKxlaFiIOBzMYav7+AwG8CAoBUwUHA4b7lw8eDQ4TAQEkICcnSRscCCUjKCSXEw8IByQT+B4/GP7XEy8DBAMaLhA4SkU1Ey8bAk8XGBQWDJBL/uUDBgMBwBQZBO8NGA3+wAAAAgBa/8ADpANVACwAQQAAJS4BJy4BNQMmJy4BJyYnLgErASIGDwEOAQcDDwEOAQcOARceATMhMjY3NiYnJRM+AT8BPgE3PgE7ATIWFx4BFxMhA5oFDAUFCG4KDQ0ZCwoGGj0nWSpLFjMLFAhxBhMCAQIJBwQMXDoCCDhaDgUEC/0xZgUHAzEICgEPKxlaFiIOBzMYav2Ylw8eDQ4TAQEkICcnSRscCCUjKCSFHj8Y/tcTLwMEAxouEDhKRTUTLxtSAQ4NGA2MFBkEFxgUFgyQS/7lAAACABEATwPxAyYAHQAjAAAlISYnLgEnJic3NiYnJiIHAQ4BFx4BMyEyNjU2JiMBHgEXIQEDyf6oAwsKJBgYH/YLAQwNJAv9fAoEBQUVDAOPEhkCGRH94jE5B/6CAQ2kLywtVCcnI/oLJAwNDf1xCRkMDA4ZEhEZAQ85i0sBDwAAAAMAKwBkA9MDHgAEAAkADgAAEyEVITURIRUhNTUhFSE1KwOo/FgDqPxYA6j8WAErx8cBEXx84ktLAAAAAAMAHv/cA+QDogAaAC0AQAAAASM1NCYjISIGFREUFjsBFRQWMyEyNjURLgEjARE0NjMhMhYdASEiBhURIy4BNQUUBiMhIiY9ASEyNjURMzIWFREDSz5ZP/5APllZPj5ZPwHCPlkBWj79EzMkAcIkNP68P1k+JDMDRDMk/kAkNAFEP1k+IzQCzT4+WVk+/j4/WT4+WVk+AcI/Wf5+AcAkMzMkPlk//rwCMyXWJDMzJD5ZPwFCMyX+QAABAAAAAQAA7VXhE18PPPUACwQAAAAAANzwENkAAAAA3PAQ2f64/7wErwPCAAAACAACAAAAAAAAAAEAAAPA/8AAAATe/rj/UQSvAAEAAAAAAAAAAAAAAAAAAACFBAAAAAAAAAAAAAAAAgAAAARJADEEAAAABAAAAAQAAAAEAAAABAAAdQQAAAQEAAAEBAAABAQAAAQEAP/+BAAATQQAAAQEAADFBAABHwQAAR8EAAByBAD+uAQAAS0EAAEuBAABLwQAANEEAACBBAABJAQAAUoEAAE8BAABZgQAAJ0EAAB4BAABTQQAAEoEAAA+BAD/1QQA/9UEAP/RBAABJgQAAQkEAAEJBAABCQQAAJAEAAAEBAAACwQAAA4EAAAABAAARwQAABQEAABGBAAACAQAABEEAABIBAAA4AQAADMEAABaBAAATwQAAG8EAABjBAAAEwQAABMEAAE7BAAAFQQAABUEAAAPBAAAawQAAAAEAAAmBAAADQQAAREEAAAJBAAACgQA//4EAAAJBAAABgQAADMEAAAPBAAAAAQAAA0EAABiBAAACwQAAAYEAAAABAAAAAQAAAkEAAAEBAAADQQAAAIEAAA3BAAAEQQAAA8EAAANBAAACwQAAAsEAP/+BAAACQQAADMEAAAJBAAAAgQAAAAEAAAABAAACwQAAAAEAAARBAAAAgQAAA0EAAD6BAAA4gQAAA8EAAAGBAAACwTeAVIE3gFSBAAACQQAAAYEAAAABAAAngQAAAAEAABQBAABGgQAAPEEAAANBAAAVwQAAGsEAABrBEkAWgQAAAAEAABaBAAAWgQAABEEAAArBAAAHgAAAAAACgAUAB4AegOKBVAG9ggACMgJdAooCuYLoAxoDPgNig3GDe4OLA5KDoIQ7BIUErgTBhNQE74T/BQ8FFQUfhTUFTwWQhaQFxIXthmMGZoakhvsHCIcbBzMHXgeHCDUIUAhsCIuIvgjXiPaJBQkzCUyJdgmHCjEKVApminkKhYqSiqoKt4rJCtiK6Yrxix0LOAtFC1cLe4uSC8qL0wwSjCKMLAyMjJgMpAyyjM4M2wzwjP8NEY1CDVmNgI2jDeAODA4ijjGORw5vjowOo471DxGPJA8rjzMPOo9Bj1oPb4+Hj5+PtQ/GkF4QcJCgEL+QzRDbEOKQ+5ERERmRKxFEkWQRfpGOkZYRrQAAQAAAIUCjgASAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAkAAAABAAAAAAACAAcAcgABAAAAAAADAAkAPAABAAAAAAAEAAkAhwABAAAAAAAFAAsAGwABAAAAAAAGAAkAVwABAAAAAAAKABoAogADAAEECQABABIACQADAAEECQACAA4AeQADAAEECQADABIARQADAAEECQAEABIAkAADAAEECQAFABYAJgADAAEECQAGABIAYAADAAEECQAKADQAvGRjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGRjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac2RjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmRjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n\n.dcg-calculator-api-container [class^="dcg-icon-"],\n.dcg-calculator-api-container [class*=" dcg-icon-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'dcg-icons\' !important;\n  speak: never;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.dcg-calculator-api-container .dcg-icon-metronome-2:before {\n  content: "\\e90d";\n}\n\n.dcg-calculator-api-container .dcg-icon-play-once:before {\n  content: "\\e90b";\n}\n\n.dcg-calculator-api-container .dcg-icon-metronome:before {\n  content: "\\e90c";\n}\n\n.dcg-calculator-api-container .dcg-icon-mail:before {\n  content: "\\e90a";\n}\n\n.dcg-calculator-api-container .dcg-icon-line-dotted:before {\n  content: "\\e907";\n}\n\n.dcg-calculator-api-container .dcg-icon-line-dashed:before {\n  content: "\\e908";\n}\n\n.dcg-calculator-api-container .dcg-icon-line-solid:before {\n  content: "\\e909";\n}\n\n.dcg-calculator-api-container .dcg-icon-angle:before {\n  content: "\\e910";\n}\n\n.dcg-calculator-api-container .dcg-icon-line-thickness:before {\n  content: "\\e911";\n}\n\n.dcg-calculator-api-container .dcg-icon-opacity:before {\n  content: "\\e912";\n}\n\n.dcg-calculator-api-container .dcg-icon-stop:before {\n  content: "\\e906";\n}\n\n.dcg-calculator-api-container .dcg-icon-thin-arrow-right:before {\n  content: "\\e904";\n}\n\n.dcg-calculator-api-container .dcg-icon-thin-arrow-left:before {\n  content: "\\e905";\n}\n\n.dcg-calculator-api-container .dcg-icon-volume:before {\n  content: "\\e903";\n}\n\n.dcg-calculator-api-container .dcg-icon-volume-down:before {\n  content: "\\e901";\n}\n\n.dcg-calculator-api-container .dcg-icon-volume-up:before {\n  content: "\\e902";\n}\n\n.dcg-calculator-api-container .dcg-icon-app-test-mode:before {\n  content: "\\e900";\n}\n\n.dcg-calculator-api-container .dcg-icon-trophy:before {\n  content: "\\e200";\n}\n\n.dcg-calculator-api-container .dcg-icon-app-graphing:before {\n  content: "\\e201";\n}\n\n.dcg-calculator-api-container .dcg-icon-app-geometry:before {\n  content: "\\e202";\n}\n\n.dcg-calculator-api-container .dcg-icon-app-scientific:before {\n  content: "\\e203";\n}\n\n.dcg-calculator-api-container .dcg-icon-app-four-function:before {\n  content: "\\e204";\n}\n\n.dcg-calculator-api-container .dcg-icon-clipboard:before {\n  content: "\\e205";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-infinite:before {\n  content: "\\e206";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-once:before {\n  content: "\\e207";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-two-way:before {\n  content: "\\e208";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-one-way:before {\n  content: "\\e209";\n}\n\n.dcg-calculator-api-container .dcg-icon-randomize:before {\n  content: "\\e20a";\n}\n\n.dcg-calculator-api-container .dcg-icon-zoom-fit:before {\n  content: "\\e20b";\n}\n\n.dcg-calculator-api-container .dcg-icon-comments:before {\n  content: "\\e20c";\n}\n\n.dcg-calculator-api-container .dcg-icon-lines-solid:before {\n  content: "\\e20d";\n}\n\n.dcg-calculator-api-container .dcg-icon-histogram-fill:before {\n  content: "\\e20e";\n}\n\n.dcg-calculator-api-container .dcg-icon-histogram:before {\n  content: "\\e20f";\n}\n\n.dcg-calculator-api-container .dcg-icon-distribution-fill:before {\n  content: "\\e210";\n}\n\n.dcg-calculator-api-container .dcg-icon-distribution:before {\n  content: "\\e211";\n}\n\n.dcg-calculator-api-container .dcg-icon-dotplot-cross:before {\n  content: "\\e212";\n}\n\n.dcg-calculator-api-container .dcg-icon-dotplot-open:before {\n  content: "\\e213";\n}\n\n.dcg-calculator-api-container .dcg-icon-dotplot-default:before {\n  content: "\\e214";\n}\n\n.dcg-calculator-api-container .dcg-icon-boxplot:before {\n  content: "\\e215";\n}\n\n.dcg-calculator-api-container .dcg-icon-points:before {\n  content: "\\e216";\n}\n\n.dcg-calculator-api-container .dcg-icon-fraction:before {\n  content: "\\e217";\n}\n\n.dcg-calculator-api-container .dcg-icon-cross:before {\n  content: "\\e218";\n}\n\n.dcg-calculator-api-container .dcg-icon-open:before {\n  content: "\\e219";\n}\n\n.dcg-calculator-api-container .dcg-icon-point:before {\n  content: "\\e21a";\n}\n\n.dcg-calculator-api-container .dcg-icon-shaded-inequality-shade2:before {\n  content: "\\e21b";\n}\n\n.dcg-calculator-api-container .dcg-icon-shaded-inequality-dash:before {\n  content: "\\e21c";\n}\n\n.dcg-calculator-api-container .dcg-icon-position-arrows-single:before {\n  content: "\\e21d";\n}\n\n.dcg-calculator-api-container .dcg-icon-position-arrows:before {\n  content: "\\e21e";\n}\n\n.dcg-calculator-api-container .dcg-icon-parametric-filled:before {\n  content: "\\e21f";\n}\n\n.dcg-calculator-api-container .dcg-icon-parametric-solid:before {\n  content: "\\e220";\n}\n\n.dcg-calculator-api-container .dcg-icon-parametric-dashed:before {\n  content: "\\e221";\n}\n\n.dcg-calculator-api-container .dcg-icon-parametric-dotted:before {\n  content: "\\e222";\n}\n\n.dcg-calculator-api-container .dcg-icon-polygon-filled:before {\n  content: "\\e223";\n}\n\n.dcg-calculator-api-container .dcg-icon-polygon-dashed:before {\n  content: "\\e224";\n}\n\n.dcg-calculator-api-container .dcg-icon-polygon-dotted:before {\n  content: "\\e225";\n}\n\n.dcg-calculator-api-container .dcg-icon-polygon-solid:before {\n  content: "\\e226";\n}\n\n.dcg-calculator-api-container .dcg-icon-title:before {\n  content: "\\e227";\n}\n\n.dcg-calculator-api-container .dcg-icon-bottom-arrow:before {\n  content: "\\e228";\n}\n\n.dcg-calculator-api-container .dcg-icon-rocket:before {\n  content: "\\e229";\n}\n\n.dcg-calculator-api-container .dcg-icon-reset:before {\n  content: "\\e22a";\n}\n\n.dcg-calculator-api-container .dcg-icon-desmos:before {\n  content: "\\e22b";\n}\n\n.dcg-calculator-api-container .dcg-icon-download:before {\n  content: "\\e22c";\n}\n\n.dcg-calculator-api-container .dcg-icon-embed:before {\n  content: "\\e22d";\n}\n\n.dcg-calculator-api-container .dcg-icon-export:before {\n  content: "\\e22e";\n}\n\n.dcg-calculator-api-container .dcg-icon-book:before {\n  content: "\\e22f";\n}\n\n.dcg-calculator-api-container .dcg-icon-print:before {\n  content: "\\e230";\n}\n\n.dcg-calculator-api-container .dcg-icon-magic:before {\n  content: "\\e231";\n}\n\n.dcg-calculator-api-container .dcg-icon-cursor:before {\n  content: "\\e232";\n}\n\n.dcg-calculator-api-container .dcg-icon-dashed-function:before {\n  content: "\\e233";\n}\n\n.dcg-calculator-api-container .dcg-icon-function:before {\n  content: "\\e234";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrows-two:before {\n  content: "\\e235";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrows-one:before {\n  content: "\\e236";\n}\n\n.dcg-calculator-api-container .dcg-icon-desmos-badge:before {\n  content: "\\e237";\n}\n\n.dcg-calculator-api-container .dcg-icon-move:before {\n  content: "\\e238";\n}\n\n.dcg-calculator-api-container .dcg-icon-move-horizontal:before {\n  content: "\\e239";\n}\n\n.dcg-calculator-api-container .dcg-icon-move-vertical:before {\n  content: "\\e23a";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-left:before {\n  content: "\\e23b";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-right:before {\n  content: "\\e23c";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-enter:before {\n  content: "\\e23d";\n}\n\n.dcg-calculator-api-container .dcg-icon-shift:before {\n  content: "\\e23e";\n}\n\n.dcg-calculator-api-container .dcg-icon-dragdots:before {\n  content: "\\e23f";\n}\n\n.dcg-calculator-api-container .dcg-icon-duplicate:before {\n  content: "\\e240";\n}\n\n.dcg-calculator-api-container .dcg-icon-error:before {\n  content: "\\e241";\n}\n\n.dcg-calculator-api-container .dcg-icon-facebook:before {\n  content: "\\e242";\n}\n\n.dcg-calculator-api-container .dcg-icon-film:before {\n  content: "\\e243";\n}\n\n.dcg-calculator-api-container .dcg-icon-folder-open:before {\n  content: "\\e244";\n}\n\n.dcg-calculator-api-container .dcg-icon-folder:before {\n  content: "\\e245";\n}\n\n.dcg-calculator-api-container .dcg-icon-hamburger:before {\n  content: "\\e246";\n}\n\n.dcg-calculator-api-container .dcg-icon-hdd:before {\n  content: "\\e247";\n}\n\n.dcg-calculator-api-container .dcg-icon-hide:before {\n  content: "\\e248";\n}\n\n.dcg-calculator-api-container .dcg-icon-home:before {\n  content: "\\e249";\n}\n\n.dcg-calculator-api-container .dcg-icon-image:before {\n  content: "\\e24a";\n}\n\n.dcg-calculator-api-container .dcg-icon-keyboard:before {\n  content: "\\e24b";\n}\n\n.dcg-calculator-api-container .dcg-icon-lock:before {\n  content: "\\e24c";\n}\n\n.dcg-calculator-api-container .dcg-icon-minus:before {\n  content: "\\e24d";\n}\n\n.dcg-calculator-api-container .dcg-icon-new-expression:before {\n  content: "\\e24e";\n}\n\n.dcg-calculator-api-container .dcg-icon-new-folder:before {\n  content: "\\e24f";\n}\n\n.dcg-calculator-api-container .dcg-icon-new-image:before {\n  content: "\\e250";\n}\n\n.dcg-calculator-api-container .dcg-icon-new-table:before {\n  content: "\\e251";\n}\n\n.dcg-calculator-api-container .dcg-icon-new-text:before {\n  content: "\\e252";\n}\n\n.dcg-calculator-api-container .dcg-icon-pause:before {\n  content: "\\e253";\n}\n\n.dcg-calculator-api-container .dcg-icon-pencil:before {\n  content: "\\e254";\n}\n\n.dcg-calculator-api-container .dcg-icon-play:before {\n  content: "\\e255";\n}\n\n.dcg-calculator-api-container .dcg-icon-plus:before {\n  content: "\\e256";\n}\n\n.dcg-calculator-api-container .dcg-icon-question-sign:before {\n  content: "\\e257";\n}\n\n.dcg-calculator-api-container .dcg-icon-redo:before {\n  content: "\\e258";\n}\n\n.dcg-calculator-api-container .dcg-icon-remove:before {\n  content: "\\e259";\n}\n\n.dcg-calculator-api-container .dcg-icon-search:before {\n  content: "\\e25a";\n}\n\n.dcg-calculator-api-container .dcg-icon-settings:before {\n  content: "\\e25b";\n}\n\n.dcg-calculator-api-container .dcg-icon-share:before {\n  content: "\\e25c";\n}\n\n.dcg-calculator-api-container .dcg-icon-show:before {\n  content: "\\e25d";\n}\n\n.dcg-calculator-api-container .dcg-icon-table:before {\n  content: "\\e25e";\n}\n\n.dcg-calculator-api-container .dcg-icon-text:before {\n  content: "\\e25f";\n}\n\n.dcg-calculator-api-container .dcg-icon-time:before {\n  content: "\\e260";\n}\n\n.dcg-calculator-api-container .dcg-icon-twitter:before {\n  content: "\\e261";\n}\n\n.dcg-calculator-api-container .dcg-icon-undo:before {\n  content: "\\e262";\n}\n\n.dcg-calculator-api-container .dcg-icon-world:before {\n  content: "\\e263";\n}\n\n.dcg-calculator-api-container .dcg-icon-wrench:before {\n  content: "\\e264";\n}\n\n.dcg-calculator-api-container .dcg-icon-zoom:before {\n  content: "\\e265";\n}\n\n.dcg-calculator-api-container .dcg-icon-caret-down:before {\n  content: "\\e266";\n}\n\n.dcg-calculator-api-container .dcg-icon-caret-left:before {\n  content: "\\e267";\n}\n\n.dcg-calculator-api-container .dcg-icon-caret-right:before {\n  content: "\\e268";\n}\n\n.dcg-calculator-api-container .dcg-icon-caret-up:before {\n  content: "\\e269";\n}\n\n.dcg-calculator-api-container .dcg-icon-check:before {\n  content: "\\e26a";\n}\n\n.dcg-calculator-api-container .dcg-icon-chevron-down:before {\n  content: "\\e26b";\n}\n\n.dcg-calculator-api-container .dcg-icon-chevron-left:before {\n  content: "\\e26c";\n}\n\n.dcg-calculator-api-container .dcg-icon-chevron-right:before {\n  content: "\\e26d";\n}\n\n.dcg-calculator-api-container .dcg-icon-chevron-up:before {\n  content: "\\e26e";\n}\n\n.dcg-calculator-api-container .dcg-icon-delete:before {\n  content: "\\e26f";\n}.dcg-calculator-api-container .dcg-display-domain {\n  padding: 5px 0 13px;\n  font-size: 95%;\n  white-space: nowrap;\n  margin-bottom: -5px;\n  margin-top: -5px;\n}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem {\n  display: block;\n  position: relative;\n  margin-top: -1px;\n  border-top: 1px solid rgba(206,206,206,0.8);\n  border-bottom: 1px solid transparent;\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem:not(.dcg-expressionimage) {\n  cursor: text;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected,\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging {\n  border-color: #6399cb;\n  border-width: 2px 0;\n  border-right: 1px solid #6399cb;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-fade-container,\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-fade-container {\n  margin-top: -1px;\n  margin-bottom: -1px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-tab,\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-tab {\n  color: #fff;\n  border-right: 1px solid transparent;\n  background: #6399cb;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-expression-bottom.dcg-fadein-bottom {\n  position: relative;\n  -webkit-animation: dcg-fadeIn 0.8s;\n  -moz-animation: dcg-fadeIn 0.8s;\n  -o-animation: dcg-fadeIn 0.8s;\n  -ms-animation: dcg-fadeIn 0.8s;\n  animation: dcg-fadeIn 0.8s;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-indent-in-folder {\n  padding-left: 53px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-fade-container:after {\n  position: absolute;\n  top: 5px;\n  bottom: 5px;\n  left: 56px;\n  content: \'\';\n  border-left: 1px solid rgba(0,0,0,0.2);\n  -webkit-animation: dcg-fadeIn 0.3s;\n  -moz-animation: dcg-fadeIn 0.3s;\n  -o-animation: dcg-fadeIn 0.3s;\n  -ms-animation: dcg-fadeIn 0.3s;\n  animation: dcg-fadeIn 0.3s;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-indent-in-folder,\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-main {\n  margin-left: 20px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-shell {\n  height: 54px;\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container {\n  position: relative;\n  padding-bottom: 6px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-main {\n  position: relative;\n  padding-top: 15px;\n  padding-left: 53px;\n  padding-right: 35px;\n  padding-bottom: 9px;\n  white-space: nowrap;\n  font-size: 110%;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-expression-mathquill {\n  position: relative;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 8px 7px 20px 20px;\n  z-index: 2;\n  opacity: 0.2;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n  filter: alpha(opacity=20);\n  font-size: 115%;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-hovered {\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-depressed {\n  opacity: 0.8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved {\n  font-size: 80%;\n  color: #666;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved i {\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a {\n  color: #666;\n  margin-left: 5px;\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a.dcg-hovered {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved .dcg-btn {\n  padding: 2px 5px;\n  margin-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-tab {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  padding: 1px 2px;\n  font-size: 65%;\n  text-align: left;\n  color: rgba(0,0,0,0.5);\n  background: rgba(0,0,0,0.03);\n  border-right: 1px solid rgba(0,0,0,0.06);\n  cursor: move;\n  width: 38px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontext .dcg-icon-text {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -7px 0 0 -7px;\n  font-size: 140%;\n  opacity: 0.25;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";\n  filter: alpha(opacity=25);\n}\n\n.dcg-calculator-api-container .dcg-expressiontable {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-expressiontable .dcg-fade-container.dcg-hovered {\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem:not(.dcg-mathitem).dcg-selected .dcg-top-level-delete {\n  padding-bottom: 0;\n  padding-left: 0;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-top-level-delete {\n  right: -1px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-expression-bottom {\n  margin-right: -1px;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel input.dcg-image-name {\n  display: block !important;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel div.dcg-image-name {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-top-level-delete {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-edit-domain {\n  display: block !important;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext .dcg-displayTextarea,\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder .dcg-displayTextarea {\n  pointer-events: none;\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext textarea,\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder textarea {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-drag-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n}\n\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem {\n  background: #fff;\n  overflow: hidden;\n  -webkit-box-shadow: 0 0 10px #888;\n  box-shadow: 0 0 10px #888;\n  border-color: #6399cb;\n  border-right: 1px solid #6399cb;\n}\n\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-indent-in-folder,\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-fade-container:after,\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-main {\n  -webkit-transition: 0.3s;\n  -moz-transition: 0.3s;\n  -o-transition: 0.3s;\n  -ms-transition: 0.3s;\n  transition: 0.3s;\n}\n\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-tab {\n  background: #6399cb;\n}\n\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-num {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-template-expressioneach .dcg-expressionitem.dcg-dragging {\n  visibility: hidden;\n}\n\n.dcg-calculator-api-container .dcg-exppanel.dcg-isDragging .dcg-expressionitem.dcg-new-expression {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field {\n  border: none;\n  -webkit-box-shadow: none !important;\n  box-shadow: none !important;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field textarea {\n  resize: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field.dcg-hasCursor {\n  -webkit-box-shadow: none !important;\n  box-shadow: none !important;\n}\n\n.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-supsub {\n  margin-bottom: -0.2em;\n}\n\n.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-sub {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-int .dcg-mq-sub {\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-clear {\n  clear: both;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-expressionitem {\n  border-top-color: rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-expression-icon-container {\n  position: absolute;\n  top: 28px;\n  left: 50%;\n  height: 29px;\n  width: 29px;\n  margin-top: -14.5px;\n  margin-left: -14.5px;\n  text-align: center;\n  line-height: 29px;\n  border-radius: 50%;\n}.dcg-calculator-api-container .dcg-action-icon-view i.dcg-icon-chevron-right {\n  font-size: 115%;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-action-icon-view i.dcg-icon-minus {\n  -webkit-transform: translate(3.5px, -1px);\n  -moz-transform: translate(3.5px, -1px);\n  -o-transform: translate(3.5px, -1px);\n  -ms-transform: translate(3.5px, -1px);\n  transform: translate(3.5px, -1px);\n  font-size: 90%;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-action-icon-view.dcg-action-icon-view-animating i.dcg-icon-chevron-right {\n  -webkit-transition: 0.15s;\n  -moz-transition: 0.15s;\n  -o-transition: 0.15s;\n  -ms-transition: 0.15s;\n  transition: 0.15s;\n  -webkit-transform: rotate(360deg);\n  -moz-transform: rotate(360deg);\n  -o-transform: rotate(360deg);\n  -ms-transform: rotate(360deg);\n  transform: rotate(360deg);\n}.dcg-calculator-api-container .dcg-action-info {\n  cursor: default;\n  color: #666;\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-action-info .dcg-click-edit {\n  margin-left: 5px;\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-action-info .dcg-click-edit.dcg-hovered {\n  opacity: 0.8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-action-info .dcg-click-edit.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}.dcg-calculator-api-container .dcg-cdf-footer-container {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-component-checkbox {\n  margin-bottom: 4px;\n}\n\n.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-mathquill-wrapper {\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-parameter-name {\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-cdf-evaluation-container {\n  margin-top: 5px;\n}.dcg-calculator-api-container .dcg-circular-icon-container {\n  width: 29px;\n  height: 29px;\n  border-radius: 50%;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon {\n  display: inline-block;\n  width: 29px;\n  height: 29px;\n  line-height: 29px;\n  border-radius: 50%;\n  position: relative;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-semi-transparent {\n  opacity: 0.4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden {\n  -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.25);\n  box-shadow: inset 0 0 3px rgba(0,0,0,0.25);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  border: 5px solid #999;\n  border-radius: 50%;\n  opacity: 0.25;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";\n  filter: alpha(opacity=25);\n  content: "";\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-white-icon:before {\n  border-color: #fff;\n  opacity: 0.4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-hovered:before {\n  opacity: 0.3125 ;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=31)" ;\n  filter: alpha(opacity=31) ;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-hovered.dcg-white-icon:before {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-depressed:before {\n  opacity: 0.375 ;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=38)" ;\n  filter: alpha(opacity=38) ;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-depressed.dcg-white-icon:before {\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline {\n  border: 2px solid #000;\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n  color: #000;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-hovered {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-depressed {\n  opacity: 0.9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-folder {\n  position: relative;\n  top: -1px;\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-pause {\n  position: relative;\n  top: -1px;\n  left: 0.25px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-play {\n  position: relative;\n  top: -1px;\n  left: 1.5px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-fraction {\n  font-size: 20px;\n  position: relative;\n  top: 2px;\n  left: 0.5px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon {\n  color: #fff;\n  border-color: #fff;\n  opacity: 0.9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-hovered {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image {\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image:after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  content: \'\';\n  border-radius: 50%;\n  overflow: hidden;\n  -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,0.7);\n  box-shadow: inset 0 0 4px rgba(0,0,0,0.7);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image .dcg-background-image {\n  width: 29px;\n  height: 29px;\n  display: inline-block;\n  border-radius: 50%;\n  -webkit-background-size: 29px 29px !important;\n  -moz-background-size: 29px 29px !important;\n  background-size: 29px 29px !important;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i {\n  text-shadow: 0 0 6px rgba(0,0,0,0.2), 0 0 1px rgba(0,0,0,0.5);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon .dcg-spinner {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-top: -10px;\n  margin-left: -10px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon {\n  -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.25);\n  box-shadow: inset 0 0 3px rgba(0,0,0,0.25);\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon {\n  text-shadow: 0 0 3px rgba(0,0,0,0.25);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon {\n  font-size: 35px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-medium,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-medium {\n  font-size: 42.25px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-large,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-large {\n  font-size: 56.75px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-small,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-small {\n  font-size: 32.1px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-rotated,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-rotated {\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -o-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon {\n  position: absolute;\n  top: -3px;\n  left: -30px;\n  right: -30px;\n  bottom: -3px;\n  color: #fff;\n  line-height: 35px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-check,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-check {\n  font-size: 50%;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-vertical,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-vertical,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-horizontal,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-horizontal {\n  font-size: 55%;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-point,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-point,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-cross,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-cross,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-open,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-open {\n  font-size: 75%;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-points,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-points,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-lines-solid,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-lines-solid {\n  font-size: 68%;\n}.dcg-calculator-api-container .dcg-clickable-image-info-view {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin-top: 20px;\n  -webkit-box-pack: space-evenly;\n  -moz-box-pack: space-evenly;\n  -o-box-pack: space-evenly;\n  -ms-flex-pack: space-evenly;\n  -webkit-justify-content: space-evenly;\n  justify-content: space-evenly;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-icon {\n  padding-right: 10px;\n  padding-left: 10px;\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-tooltip-hit-area-container {\n  margin-left: 5px;\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container {\n  position: relative;\n  color: #666;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state {\n  background: #fff;\n  -webkit-background-size: cover;\n  -moz-background-size: cover;\n  background-size: cover;\n  background-repeat: no-repeat;\n  width: 60px;\n  height: 60px;\n  border-radius: 10px;\n  border: 1px solid rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state-close {\n  position: absolute;\n  top: -10px;\n  right: -2px;\n  width: 25px;\n  height: 25px;\n  padding-top: 5px;\n  font-size: 14px;\n  background: #666;\n  color: #fff;\n  border-radius: 50%;\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state-close.dcg-hovered {\n  opacity: 0.8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state-close.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-component-checkbox {\n  font-size: 85%;\n}.dcg-calculator-api-container .dcg-evaluation-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-align: end;\n  -moz-box-align: end;\n  -o-box-align: end;\n  -ms-flex-align: end;\n  -webkit-align-items: flex-end;\n  align-items: flex-end;\n  margin-right: 5px;\n  padding: 1px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle {\n  color: #bbb;\n  margin-bottom: 2px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle.dcg-depressed {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle .dcg-toggle-letter {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle i {\n  margin: 0 2px;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-color-swatch {\n  margin-right: -2px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation {\n  margin-top: -3px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation.dcg-hidden {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-mathquill-braille {\n  padding: 5px 0;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {\n  text-align: right;\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-typeset-math {\n  padding: 3px 6px 3px 3px;\n  display: table;\n  border: 1px solid rgba(206,206,206,0.8);\n  background: rgba(0,0,0,0.04);\n  color: #222;\n  border-radius: 4px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container {\n  font-weight: normal;\n  cursor: pointer;\n  white-space: nowrap;\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container .dcg-mq-math-mode {\n  cursor: pointer;\n  padding-right: 2px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html {\n  white-space: nowrap;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  display: table-cell;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html.dcg-color-evaluation {\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html .dcg-evaluation-list {\n  position: relative;\n  top: 2px;\n}.dcg-calculator-api-container .dcg-exp-list-resizer {\n  position: absolute;\n  top: 0;\n  right: -12px;\n  bottom: 0;\n  width: 15px;\n  cursor: ew-resize;\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-exp-list-resizer.dcg-depressed {\n  width: 215px;\n  right: -112px;\n}.dcg-calculator-api-container .dcg-expression-edit-actions {\n  padding-left: 5px;\n  padding-right: 7px;\n  white-space: nowrap;\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions:not(.dcg-limited-height) {\n  bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-graphic {\n  height: 100%;\n  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: linear-gradient(to right, rgba(255,255,255,0), #fff);\n  position: absolute;\n  top: 0;\n  right: 100%;\n  width: 40px;\n  cursor: default;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button {\n  margin-left: 2px;\n  width: 44px;\n  height: 44px;\n  padding: 12px 10px;\n  text-align: center;\n  margin-top: 4px;\n  display: inline-block;\n  font-size: 125%;\n  line-height: 20px;\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n  border-radius: 5px;\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-hovered {\n  background: rgba(0,0,0,0.1);\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}.dcg-calculator-api-container .dcg-slider_menu {\n  position: relative;\n  top: -3px;\n}\n\n.dcg-calculator-api-container .dcg-expression-footer-title {\n  text-transform: uppercase;\n  font-size: 80%;\n  color: rgba(0,0,0,0.5);\n  margin-bottom: 4px;\n}\n\n.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help {\n  padding: 10px;\n  color: rgba(0,0,0,0.5);\n  margin: -10px -10px -10px -6px;\n  cursor: pointer;\n  text-decoration: none;\n}\n\n.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help.dcg-hovered {\n  color: #888;\n}\n\n.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-expression-bottom .dcg-expression-braille-error {\n  color: #666;\n  margin: 10px;\n  margin-left: 0;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-expression-bottom .dcg-expression-braille-error .dcg-icon-error {\n  font-size: 80%;\n  margin-right: 5px;\n  color: #fa824c;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container .dcg-slider-step-container {\n  margin-left: 10px;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,\n.dcg-calculator-api-container .dcg-mq-underline-container .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille {\n  opacity: 0.3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container .dcg-slider-step-label {\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container .dcg-mq-editable-field {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 35px;\n  max-width: 60px;\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-mq-underline-container .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #6399cb;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper {\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 35px;\n  max-width: 35px;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,\n.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid {\n  border-bottom: 2px solid #6399cb;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-mq-underline-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {\n  font-size: 95%;\n}.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row {\n  font-size: 90%;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: baseline;\n  -moz-box-align: baseline;\n  -o-box-align: baseline;\n  -ms-flex-align: baseline;\n  -webkit-align-items: baseline;\n  align-items: baseline;\n  margin-right: 2px;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-input-label {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-mq-container {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 100%;\n  max-width: 100%;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #6399cb;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-clickable-info-error-container {\n  margin-left: -20px;\n  width: 20px;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-list-index-notice {\n  font-size: 90%;\n  color: #444;\n  padding-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-index-variable-marker {\n  padding-left: 4px;\n  padding-right: 4px;\n  font-size: 90%;\n  border: 1px solid rgba(0,0,0,0.2);\n  border-radius: 4px;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-index-variable-marker:not(.dcg-mathquill-has-focus) {\n  background: transparent;\n  pointer-events: none;\n  opacity: 0.75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}.dcg-calculator-api-container .dcg-color-picker-container {\n  margin: -2px;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: justify;\n  -moz-box-pack: justify;\n  -o-box-pack: justify;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  -webkit-box-orient: horizontal;\n  -moz-box-orient: horizontal;\n  -o-box-orient: horizontal;\n  -webkit-box-lines: multiple;\n  -moz-box-lines: multiple;\n  -o-box-lines: multiple;\n  -webkit-flex-flow: row wrap;\n  -ms-flex-flow: row wrap;\n  flex-flow: row wrap;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-picker-placeholder {\n  width: 30px;\n  height: 30px;\n  margin: 2px;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile {\n  margin: 2px;\n  display: inline-block;\n  position: relative;\n  height: 30px;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile i {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  height: 20px;\n  line-height: 20px;\n  color: #fff;\n  margin-top: -10px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile.dcg-light-color i {\n  color: #444;\n}.dcg-calculator-api-container .dcg-color-swatch {\n  width: 30px;\n  height: 30px;\n  border-radius: 3px;\n  display: inline-block;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-color-swatch.dcg-light-color {\n  -webkit-box-shadow: 0 0 0 1px #ccc inset;\n  box-shadow: 0 0 0 1px #ccc inset;\n}\n\n.dcg-calculator-api-container .dcg-color-swatch.dcg-hovered:not(.dcg-color-evaluation) {\n  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,0.15);\n  box-shadow: 0 0 0 2px rgba(0,0,0,0.15);\n}\n\n.dcg-calculator-api-container .dcg-color-swatch.dcg-depressed:not(.dcg-color-evaluation) {\n  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,0.25);\n  box-shadow: 0 0 0 2px rgba(0,0,0,0.25);\n}\n\n.dcg-calculator-api-container .dcg-color-swatch.dcg-color-array {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-color-swatch .dcg-color-array-item {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  height: 30px;\n}.dcg-calculator-api-container .dcg-expressions-options-menu,\n.dcg-calculator-api-container .dcg-table-column-menu {\n  width: 224px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu.dcg-options-menu,\n.dcg-calculator-api-container .dcg-table-column-menu.dcg-options-menu {\n  padding-left: 0;\n  padding-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-content,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-content {\n  -webkit-animation: dcg-fadeIn 0.3s;\n  -moz-animation: dcg-fadeIn 0.3s;\n  -o-animation: dcg-fadeIn 0.3s;\n  -ms-animation: dcg-fadeIn 0.3s;\n  animation: dcg-fadeIn 0.3s;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-flex-container,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-flex-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin: 5px 0 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-left-side,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-left-side {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section {\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section:not(:first-of-type),\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section:not(:first-of-type) {\n  border-top: 1px solid #e2e2e2;\n  padding-top: 10px;\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section .dcg-toggle-view,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section .dcg-toggle-view {\n  margin-top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section .dcg-options-menu-section-title,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section .dcg-options-menu-section-title {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-toggle .dcg-toggle-option,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-toggle .dcg-toggle-option {\n  width: 33px;\n  height: 30px;\n  line-height: 30px;\n  padding: 0;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-style-toggle .dcg-toggle-option,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-style-toggle .dcg-toggle-option,\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-style-toggle .dcg-toggle-option,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-style-toggle .dcg-toggle-option {\n  color: #999;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-style-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle),\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-style-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle),\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-style-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle),\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-style-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle) {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-style-toggle,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-style-toggle {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-style-toggle i,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-style-toggle i {\n  font-size: 140%;\n  position: relative;\n  top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-style-toggle,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-style-toggle {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-style-toggle i,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-style-toggle i {\n  font-size: 150%;\n  position: relative;\n  top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row,\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-clickable-menu-row,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-clickable-menu-row {\n  padding: 7px 0 1px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row i,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row i,\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-font-size,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-font-size {\n  color: #999;\n  margin-right: 5px;\n  cursor: pointer;\n  width: 13px;\n  display: inline-block;\n  position: relative;\n  top: 2px;\n  line-height: 1em;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 42px;\n  max-width: 60px;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #6399cb;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}.dcg-calculator-api-container .dcg-label-orientation-view {\n  width: 78px;\n  height: 78px;\n  display: inline-block;\n  position: relative;\n  -webkit-transition: -webkit-transform 0.1s;\n  -moz-transition: -moz-transform 0.1s;\n  -o-transition: -o-transform 0.1s;\n  -ms-transition: -ms-transform 0.1s;\n  transition: transform 0.1s;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option {\n  display: inline-block;\n  width: 26px;\n  height: 26px;\n  line-height: 26px;\n  text-align: center;\n  border-radius: 50%;\n  color: #bbb;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option.dcg-selected {\n  color: #4781b9;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option.dcg-selected.dcg-hovered {\n  color: #004f9b;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option i {\n  position: relative;\n  top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-right,\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-right,\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-left,\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-left {\n  color: #e2e2e2;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-disabled {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-right {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  -webkit-transform: rotate(225deg);\n  -moz-transform: rotate(225deg);\n  -o-transform: rotate(225deg);\n  -ms-transform: rotate(225deg);\n  transform: rotate(225deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-left {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  -webkit-transform: rotate(315deg);\n  -moz-transform: rotate(315deg);\n  -o-transform: rotate(315deg);\n  -ms-transform: rotate(315deg);\n  transform: rotate(315deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-right {\n  position: absolute;\n  top: 0;\n  right: 0;\n  -webkit-transform: rotate(135deg);\n  -moz-transform: rotate(135deg);\n  -o-transform: rotate(135deg);\n  -ms-transform: rotate(135deg);\n  transform: rotate(135deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-left {\n  position: absolute;\n  top: 0;\n  left: 0;\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-left {\n  position: absolute;\n  top: 26px;\n  left: 0;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-right {\n  position: absolute;\n  top: 26px;\n  right: 0;\n  -webkit-transform: rotate(180deg);\n  -moz-transform: rotate(180deg);\n  -o-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above {\n  position: absolute;\n  top: 0;\n  left: 26px;\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -o-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below {\n  position: absolute;\n  bottom: 0;\n  left: 26px;\n  -webkit-transform: rotate(270deg);\n  -moz-transform: rotate(270deg);\n  -o-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-center {\n  position: absolute;\n  top: 26px;\n  left: 26px;\n  font-size: 200%;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-center:after {\n  content: "";\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  background: currentColor;\n  margin-top: -6px;\n  margin-left: -6px;\n  -webkit-box-shadow: 0 0 2px rgba(0,0,0,0.2);\n  box-shadow: 0 0 2px rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-center.dcg-orientation-disabled:not(.dcg-selected):after {\n  background: #fff;\n  width: 10px;\n  height: 10px;\n  margin-top: -5px;\n  margin-left: -5px;\n  -webkit-box-shadow: 0 0 2px rgba(0,0,0,0.2), inset 0 0 0 1px rgba(0,0,0,0.15);\n  box-shadow: 0 0 2px rgba(0,0,0,0.2), inset 0 0 0 1px rgba(0,0,0,0.15);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-vertical-orientation-indicator {\n  width: 0;\n  height: 0;\n  border: 4px solid transparent;\n  border-bottom: 15px solid #ddd;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -19px;\n  margin-left: -4px;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-vertical-orientation-indicator:after {\n  content: "";\n  width: 0;\n  height: 0;\n  border: 4px solid transparent;\n  border-top: 15px solid #ddd;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: 15px;\n  margin-left: -4px;\n}.dcg-calculator-api-container .dcg-expression-search-bar {\n  padding: 5px;\n  background: #d8d8d8;\n  position: relative;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar.dcg-expressions-scrolled {\n  -webkit-box-shadow: -2px 2px 4px rgba(0,0,0,0.15);\n  box-shadow: -2px 2px 4px rgba(0,0,0,0.15);\n  z-index: 4;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-mathquill-container {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  position: relative;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-placeholder {\n  opacity: 0.3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n  position: absolute;\n  top: 50%;\n  left: 35px;\n  margin-top: -0.5em;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-mq-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-math-field {\n  padding: 6px;\n  margin: 1px;\n  padding-left: 30px;\n  border-radius: 8px;\n  background: #fff;\n  width: 100%;\n  font-size: 100%;\n  color: #888;\n  border: 1px solid #bbb;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-math-field.dcg-hovered {\n  color: #444;\n  border: 2px solid #999;\n  margin: 0;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-math-field.dcg-mq-focused {\n  color: #000;\n  border: 2px solid #4781b9;\n  margin: 0;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search {\n  opacity: 0.2;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n  filter: alpha(opacity=20);\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove.dcg-hovered,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search.dcg-hovered {\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove.dcg-depressed,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search.dcg-depressed {\n  opacity: 0.8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove {\n  font-size: 90%;\n  padding: 10px 7px 10px 12px;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search {\n  pointer-events: none;\n  left: 5px;\n  position: absolute;\n  top: 50%;\n  right: 5px;\n  height: 20px;\n  line-height: 20px;\n  margin-top: -15px;\n  padding: 5px;\n}.dcg-calculator-api-container .dcg-container.dcg-narrow .dcg-expression-top-bar {\n  border-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar {\n  border-right: 1px solid rgba(0,0,0,0.2);\n  height: 46px;\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  line-height: 37px;\n  width: 100%;\n  -webkit-transition: box-shadow 0.2s ease;\n  -moz-transition: box-shadow 0.2s ease;\n  -o-transition: box-shadow 0.2s ease;\n  -ms-transition: box-shadow 0.2s ease;\n  transition: box-shadow 0.2s ease;\n  padding: 5px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  background: -webkit-linear-gradient(#fcfcfc, #eaeaea);\n  background: -moz-linear-gradient(#fcfcfc, #eaeaea);\n  background: -o-linear-gradient(#fcfcfc, #eaeaea);\n  background: -ms-linear-gradient(#fcfcfc, #eaeaea);\n  background: linear-gradient(#fcfcfc, #eaeaea);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar.dcg-expressions-scrolled {\n  -webkit-box-shadow: -2px 2px 4px rgba(0,0,0,0.15);\n  box-shadow: -2px 2px 4px rgba(0,0,0,0.15);\n  z-index: 4;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-btn-red,\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-btn-blue {\n  padding: 0 15px;\n  display: inline-block;\n  height: 35px;\n  line-height: 35px;\n  position: relative;\n  top: -1px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn {\n  width: 38px;\n  height: 38px;\n  line-height: 38px;\n  font-size: 110%;\n  display: inline-block;\n  border-radius: 5px;\n  text-align: center;\n  margin: -1px -1px -1px -1px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-rotated {\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-undo,\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-redo {\n  font-size: 120%;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i {\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn:not(:last-of-type) {\n  margin-right: -2px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-disabled {\n  opacity: 0.3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered,\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active {\n  background: rgba(0,0,0,0.1);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered i,\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active i {\n  opacity: 0.8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed {\n  background: rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed i {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-center-buttons {\n  text-align: center;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-container {\n  position: relative;\n  display: inline-block;\n  height: 37px;\n}.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container {\n  font-size: 95%;\n  position: absolute;\n  top: -1px;\n  left: 38px;\n  width: 32px;\n  height: 48px;\n  color: #999;\n  padding-left: 10px;\n  padding-top: 18px;\n  text-align: left;\n  z-index: 2;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container i {\n  -webkit-transition: 0.2s;\n  -moz-transition: 0.2s;\n  -o-transition: 0.2s;\n  -ms-transition: 0.2s;\n  transition: 0.2s;\n  width: 16px;\n  height: 16px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container.dcg-hovered {\n  color: #666;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-collapsed .dcg-caret-container i {\n  display: inline-block;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-secretFolder {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder {\n  cursor: pointer;\n  color: rgba(0,0,0,0.5);\n  font-size: 75%;\n  padding: 5px;\n  margin-top: 5px;\n  margin-left: 15px;\n  margin-bottom: -5px;\n  margin-right: -5px;\n  position: relative;\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box {\n  display: inline-block;\n  vertical-align: top;\n  height: 15px;\n  width: 15px;\n  border-radius: 3px;\n  color: #127a3d;\n  border: 1px solid #aaa;\n  margin-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box .dcg-icon-check {\n  position: relative;\n  top: -1px;\n  left: 1px;\n  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;\n  display: none;\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-checked .dcg-checkbox-box .dcg-icon-check {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered .dcg-checkbox-box {\n  border-color: #888;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed {\n  color: #444;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed .dcg-checkbox-box {\n  border-color: #444;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-fade-container:after {\n  -webkit-transition: 0;\n  -moz-transition: 0;\n  -o-transition: 0;\n  -ms-transition: 0;\n  transition: 0;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder:not(.dcg-collapsed).dcg-has-items .dcg-fade-container:after {\n  position: absolute;\n  top: 35px;\n  bottom: 5px;\n  left: 56px;\n  content: \'\';\n  border-left: 1px solid rgba(0,0,0,0.2);\n  -webkit-animation: dcg-fadeIn 0.3s;\n  -moz-animation: dcg-fadeIn 0.3s;\n  -o-animation: dcg-fadeIn 0.3s;\n  -ms-animation: dcg-fadeIn 0.3s;\n  animation: dcg-fadeIn 0.3s;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-main textarea.dcg-smart-textarea,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-main .dcg-displayTextarea {\n  padding-left: 20px;\n}@-webkit-keyframes dcg-fade-pulse {\n  0% {\n    opacity: 0.2;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n    filter: alpha(opacity=20);\n  }\n\n  50% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n\n  100% {\n    opacity: 0.2;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n    filter: alpha(opacity=20);\n  }\n}\n\n@keyframes dcg-fade-pulse {\n  0% {\n    opacity: 0.2;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n    filter: alpha(opacity=20);\n  }\n\n  50% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n\n  100% {\n    opacity: 0.2;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n    filter: alpha(opacity=20);\n  }\n}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loading,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-failed {\n  font-size: 100%;\n  padding: 1px;\n  color: #888;\n  font-style: italic;\n  line-height: 37px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-retry-loading-image {\n  color: #407bb5;\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid {\n  font-size: 80%;\n  display: grid;\n  grid-template-columns: min-content 2fr min-content 1fr;\n  width: calc(100% + 20px);\n  max-width: 450px;\n  color: rgba(0,0,0,0.5);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-wrapper {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-wrapper .dcg-braille-input {\n  color: rgba(0,0,0,0.5);\n  font-size: 120%;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-name,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-mathquill {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-align-self: center;\n  align-self: center;\n  -ms-flex-item-align: center;\n  padding-right: 5px;\n  overflow: hidden;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille {\n  width: 100%;\n  border-bottom: 1px solid transparent;\n  cursor: pointer;\n  margin-bottom: 1px;\n  position: relative;\n  top: 2px;\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-hovered,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-hovered {\n  border-bottom: 2px solid rgba(0,0,0,0.2);\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-focus,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-focus {\n  cursor: text;\n  border-bottom: 2px solid #6399cb;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-invalid,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-image-input-grid,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-braille-input {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-mathquill-braille {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: start;\n  -moz-box-pack: start;\n  -o-box-pack: start;\n  -ms-flex-pack: start;\n  -webkit-justify-content: flex-start;\n  justify-content: flex-start;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container {\n  margin-bottom: 8px;\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container textarea,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container .dcg-displayTextarea {\n  padding-top: 0;\n  padding-bottom: 0;\n  margin: 0 10px 0 -1px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-action-changeimage {\n  color: rgba(0,0,0,0.5);\n  text-decoration: underline;\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-action-changeimage.dcg-hovered {\n  color: rgba(0,0,0,0.6);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-action-changeimage.dcg-depressed {\n  color: rgba(0,0,0,0.7);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-smart-textarea-container {\n  margin-top: -1px;\n  margin-bottom: 9px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-main {\n  margin-right: -1px;\n}.dcg-calculator-api-container .dcg-options-menu-container {\n  position: absolute;\n  display: none;\n  z-index: 61;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-options-menu-container .dcg-options-menu {\n  pointer-events: auto;\n}\n\n.dcg-calculator-api-container .dcg-options-menu {\n  padding: 10px;\n  position: relative;\n  border: 1px solid #d3d3d3;\n  border-radius: 7px;\n  -webkit-box-shadow: 0 0 6px rgba(0,0,0,0.15);\n  box-shadow: 0 0 6px rgba(0,0,0,0.15);\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-convert-btn-container {\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-btn-small {\n  font-size: 80%;\n  display: inline-block;\n  padding: 5px 8px;\n  margin: 10px auto 0;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-dividing-line-after {\n  padding-bottom: 10px;\n  border-bottom: 1px solid #e2e2e2;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-triangle {\n  width: 0;\n  height: 0;\n  border-style: solid;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-triangle:before {\n  content: "";\n  width: 0;\n  height: 0;\n  border-style: solid;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-title,\n.dcg-calculator-api-container .dcg-options-menu .dcg-toggle-title {\n  margin-bottom: 5px;\n  opacity: 0.65;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=65)";\n  filter: alpha(opacity=65);\n  font-weight: 500;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icons {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-component-checkbox {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-component-checkbox .dcg-checkbox-children {\n  font-size: 90%;\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container {\n  display: inline-block;\n  width: 29px;\n  height: 29px;\n  border-radius: 50%;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(:last-of-type) {\n  margin-right: 4px;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container.dcg-disabled {\n  cursor: default !important;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-hovered:not(.dcg-disabled) {\n  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,0.1);\n  box-shadow: 0 0 0 2px rgba(0,0,0,0.1);\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-depressed:not(.dcg-disabled) {\n  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,0.25);\n  box-shadow: 0 0 0 2px rgba(0,0,0,0.25);\n}\n\n.dcg-calculator-api-container .dcg-options-menu textarea {\n  width: 100%;\n  height: 3em;\n  border: 1px solid rgba(0,0,0,0.2);\n  border-radius: 4px;\n  font: inherit;\n  font-size: 90%;\n  padding: 5px;\n  margin-top: 5px;\n  outline: none;\n  position: relative;\n  top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-options-menu textarea.dcg-hovered {\n  border: 1px solid #bbb;\n  -webkit-box-shadow: 0 0 0 1px #bbb;\n  box-shadow: 0 0 0 1px #bbb;\n}\n\n.dcg-calculator-api-container .dcg-options-menu textarea:focus {\n  border: 1px solid #4781b9;\n  -webkit-box-shadow: 0 0 0 1px #4781b9;\n  box-shadow: 0 0 0 1px #4781b9;\n}\n\n/*\n * rules specific to the image menu\n */\n\n.dcg-calculator-api-container .dcg-image-options-menu {\n  top: -10px;\n  left: 38px;\n  width: 185px;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-options-menu-section-title {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-triangle {\n  position: absolute;\n  top: 15px;\n  left: -9px;\n  border-width: 9px 9px 9px 0;\n  border-color: transparent #d3d3d3 transparent transparent;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-triangle:before {\n  position: absolute;\n  top: -8px;\n  left: 1px;\n  border-width: 8px 8px 8px 0;\n  border-color: transparent #fff transparent transparent;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-opacities-menu-flex {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: justify;\n  -moz-box-pack: justify;\n  -o-box-pack: justify;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-opacities-menu-flex .dcg-opacity-option {\n  height: 29px;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls {\n  border-top: 1px solid #e2e2e2;\n  margin-top: 10px;\n  padding-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row:first-of-type {\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-input-label {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 100%;\n  max-width: 100%;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #6399cb;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row input {\n  outline: none;\n  border: 1px solid #bbb;\n  border-top: 0 !important;\n  border-right: 0 !important;\n  border-left: 0 !important;\n  color: #000;\n  padding: 5px;\n  -webkit-appearance: none;\n  border-radius: 0;\n  padding-left: 0;\n  padding-right: 0;\n  font-size: 95%;\n  width: 120px;\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row input.dcg-hovered {\n  border-color: #ccc;\n  -webkit-box-shadow: 0 1px #ccc;\n  box-shadow: 0 1px #ccc;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row input:focus:not([disabled]) {\n  border-color: #6399cb;\n  -webkit-box-shadow: 0 1px #6399cb;\n  box-shadow: 0 1px #6399cb;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu,\n.dcg-calculator-api-container .dcg-slider-options-view {\n  top: -7px;\n  left: 38px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-triangle,\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-triangle {\n  position: absolute;\n  top: 12px;\n  left: -9px;\n  border-width: 9px 9px 9px 0;\n  border-color: transparent #d3d3d3 transparent transparent;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-triangle:before,\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-triangle:before {\n  position: absolute;\n  top: -8px;\n  left: 1px;\n  border-width: 8px 8px 8px 0;\n  border-color: transparent #fff transparent transparent;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view {\n  top: -11px;\n  left: 42px;\n}\n\n/*\n * rules specific to the table props\n */\n\n.dcg-calculator-api-container .dcg-table-column-menu {\n  left: -9px;\n  top: 34px;\n}\n\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-style-icons .dcg-graph-icon {\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-triangle {\n  position: absolute;\n  top: -9px;\n  left: 14px;\n  border-width: 0 9px 9px 9px;\n  border-color: transparent transparent #d3d3d3 transparent;\n}\n\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-triangle:before {\n  position: absolute;\n  top: 1px;\n  left: -8px;\n  border-width: 0 8px 8px 8px;\n  border-color: transparent transparent #fff transparent;\n}.dcg-calculator-api-container .dcg-container .dcg-editable-mode-toggle {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  padding-left: 5px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container {\n  cursor: default;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  padding-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-warning-container {\n  position: absolute;\n  bottom: 3px;\n  right: 41px;\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox {\n  cursor: pointer;\n  color: rgba(0,0,0,0.5);\n  margin-top: 5px;\n  font-size: 80%;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox:after {\n  content: ":";\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-checkbox-label-colon:after {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box {\n  display: inline-block;\n  vertical-align: middle;\n  height: 1em;\n  width: 1em;\n  position: relative;\n  top: -0.1em;\n  border-radius: 3px;\n  color: #4781b9;\n  border: 1px solid #bbb;\n  font-size: 125%;\n  margin-right: 2px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box .dcg-icon-check {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -0.6em;\n  margin-left: -0.35em;\n  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check {\n  visibility: hidden;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box {\n  border-color: #999;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check {\n  color: #ccc;\n  visibility: visible;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-depressed .dcg-checkbox-box .dcg-icon-check {\n  color: #004f9b;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container input {\n  outline: none;\n  border: 1px solid #bbb;\n  border-top: 0 !important;\n  border-right: 0 !important;\n  border-left: 0 !important;\n  color: #000;\n  padding: 5px;\n  -webkit-appearance: none;\n  border-radius: 0;\n  min-width: 5px;\n  font-size: 80%;\n  margin: 0 5px 2px 5px;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-hovered {\n  border-color: #ccc;\n  -webkit-box-shadow: 0 1px #ccc;\n  box-shadow: 0 1px #ccc;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container input:focus:not([disabled]) {\n  border-color: #6399cb;\n  -webkit-box-shadow: 0 1px #6399cb;\n  box-shadow: 0 1px #6399cb;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-disabled-editable-input {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container:not(.dcg-label-visible) input.dcg-disabled-input:not(:focus) {\n  border-bottom-color: transparent;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container.dcg-label-visible .dcg-checkbox {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-option-toggle-view .dcg-toggle-container {\n  display: inline-block;\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-option-toggle-view .dcg-toggle-container:not(:last-of-type) {\n  margin-right: 15px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-label-container {\n  font-size: 120%;\n}.dcg-calculator-api-container .dcg-drop-image {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 42;\n  text-align: center;\n  vertical-align: middle;\n  background: rgba(255,255,255,0.5);\n  border: 8px dashed #bbb;\n  font-family: sans-serif;\n  color: #bbb;\n  font-size: 370%;\n}\n\n.dcg-calculator-api-container .dcg-drop-image span {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: 3.6em;\n  line-height: 1.2em;\n  margin: auto;\n  padding: 0 20px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel-outer {\n  display: inline-block;\n  overflow-x: visible;\n  margin-left: 0;\n}\n\n.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container {\n  width: 100%;\n  -webkit-transform: translateZ(0);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  -webkit-transition: -webkit-transform 0.25s ease-out;\n  -moz-transition: -moz-transform 0.25s ease-out;\n  -o-transition: -o-transform 0.25s ease-out;\n  -ms-transition: -ms-transform 0.25s ease-out;\n  transition: transform 0.25s ease-out;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n\n.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container.dcg-add-shadow {\n  -webkit-box-shadow: 0 -4px 6px rgba(0,0,0,0.2);\n  box-shadow: 0 -4px 6px rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-show-expressions-tab {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  -webkit-animation: dcg-fadeIn 0.3s forwards;\n  -moz-animation: dcg-fadeIn 0.3s forwards;\n  -o-animation: dcg-fadeIn 0.3s forwards;\n  -ms-animation: dcg-fadeIn 0.3s forwards;\n  animation: dcg-fadeIn 0.3s forwards;\n  -webkit-animation-delay: 0.4s;\n  -moz-animation-delay: 0.4s;\n  -o-animation-delay: 0.4s;\n  -ms-animation-delay: 0.4s;\n  animation-delay: 0.4s;\n}\n\n.dcg-calculator-api-container .dcg-exppanel {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  overflow-anchor: none;\n  border-right: 1px solid rgba(0,0,0,0.2);\n  z-index: 0;\n  -webkit-overflow-scrolling: touch;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionlist {\n  position: relative;\n  padding-bottom: 50px;\n  min-height: 100%;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-exppanel-container {\n  z-index: 40;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-exppanel {\n  border-right: 0;\n}.dcg-calculator-api-container .dcg-parameter-suggestion-container {\n  font-size: 80%;\n  position: relative;\n  top: -9px;\n  margin-left: 2px;\n  white-space: nowrap;\n  width: 100%;\n  padding-right: 5px;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: #666;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-parameter-suggestion-braille {\n  top: -6px;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-hovered .dcg-default-marker {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-depressed .dcg-default-marker {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container .dcg-default-marker {\n  color: rgba(0,0,0,0.5);\n  margin-left: 0.3em;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container .dcg-parameter-name:not(:last-of-type):after {\n  content: \',\';\n  margin-right: 5px;\n}.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-circular-icon-container.dcg-disabled {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-container {\n  position: absolute;\n  top: 100%;\n  left: -5px;\n  right: -5px;\n  margin-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener {\n  margin-top: -2px;\n  margin-left: 1px;\n  padding: 5px 5px;\n  text-align: center;\n  font-size: 140%;\n  cursor: pointer;\n  opacity: 0.75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener:before {\n  content: "";\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  display: inline-block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-left: -12px;\n  margin-top: -13px;\n  background: currentColor;\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-hovered {\n  opacity: 0.9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-hovered:before {\n  opacity: 0.15;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=15)";\n  filter: alpha(opacity=15);\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-menu-open {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-menu-open:before {\n  opacity: 0.3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-depressed:before {\n  opacity: 0.4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n}.dcg-calculator-api-container .dcg-slider-options-view {\n  width: 200px;\n  padding: 15px 15px 10px 15px;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-title {\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle {\n  margin-bottom: 20px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle .dcg-toggle-option {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  color: #666;\n  font-size: 105%;\n  height: 30px;\n  line-height: 30px;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle .dcg-toggle-option i {\n  position: relative;\n  top: -3px;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu .dcg-title,\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu .dcg-slider-speed-container {\n  display: inline-block;\n}.dcg-calculator-api-container .dcg-slider-speed-container {\n  float: right;\n  position: relative;\n  top: -1px;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-hovered,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-hovered {\n  color: #222;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-depressed,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-disabled,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-disabled {\n  opacity: 0.25;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";\n  filter: alpha(opacity=25);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {\n  -webkit-transform: rotate(180deg);\n  -moz-transform: rotate(180deg);\n  -o-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower i {\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {\n  cursor: pointer;\n  font-size: 70%;\n  display: inline-block;\n  width: 26px;\n  height: 26px;\n  text-align: center;\n  line-height: 26px;\n  border: 1px solid rgba(0,0,0,0.2);\n  border-radius: 4px;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-hovered,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-hovered {\n  background: rgba(0,0,0,0.05);\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-depressed,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-depressed {\n  background: rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster i,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower i {\n  position: relative;\n  left: 1px;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-variable-speed {\n  width: 45px;\n  font-size: 90%;\n  display: inline-block;\n  text-align: center;\n}.dcg-calculator-api-container .dcg-slider-container {\n  min-height: 26px;\n  display: block;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-slider {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin-left: -15px;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}.dcg-calculator-api-container .dcg-smart-textarea-container {\n  position: relative;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea,\n.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea {\n  border: 0;\n  font: inherit;\n  resize: none;\n  background: transparent;\n  overflow: hidden;\n  outline: none;\n  color: #000;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  width: 100%;\n  padding: 3px;\n  margin: -1px;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  position: absolute;\n  top: 1px;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea.dcg-empty {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea:after {\n  content: \'|\';\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  width: 0;\n  overflow: hidden;\n  display: inline-block;\n  height: 1px;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a {\n  z-index: 1;\n  position: relative;\n  color: #4781b9;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a.dcg-hovered,\n.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a .dcg-depressed {\n  color: #004f9b;\n}\n\n.dcg-calculator-api-container .dcg-selected .dcg-smart-textarea-container .dcg-displayTextarea {\n  pointer-events: none;\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-selected .dcg-smart-textarea-container textarea {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}.dcg-calculator-api-container .dcg-stats-footer-container {\n  margin-right: $evaluation-margin;\n  cursor: text;\n  padding-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-stats-footer-container table {\n  margin-left: auto;\n}\n\n.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  margin-top: 3px;\n  border: 1px solid rgba(206,206,206,0.8);\n  border-radius: 4px;\n  background: rgba(0,0,0,0.04);\n  opacity: 0.75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}\n\n.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value .dcg-row-header {\n  display: inline-block;\n  border-right: 1px solid rgba(206,206,206,0.8);\n  margin-right: 5px;\n  width: 68px;\n  padding: 5px;\n}\n\n.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view {\n  padding: 3px 6px 3px 3px;\n}.dcg-calculator-api-container .dcg-suggested-zoom-view {\n  position: absolute;\n  bottom: 7px;\n  left: 50%;\n  font-size: 20px;\n  line-height: 20px;\n  margin-left: -10px;\n  text-align: center;\n  -webkit-animation: dcg-fadeIn 0.3s;\n  -moz-animation: dcg-fadeIn 0.3s;\n  -o-animation: dcg-fadeIn 0.3s;\n  -ms-animation: dcg-fadeIn 0.3s;\n  animation: dcg-fadeIn 0.3s;\n}\n\n.dcg-calculator-api-container .dcg-suggested-zoom-view i {\n  padding: 5px;\n  margin-left: -5px;\n  opacity: 0.75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}\n\n.dcg-calculator-api-container .dcg-suggested-zoom-view i.dcg-hovered {\n  opacity: 0.9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-suggested-zoom-view i.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-icon-container {\n  position: absolute;\n  top: 50%;\n  left: 5px;\n  margin-top: -14.5px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-drag-icon {\n  opacity: 0.4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n  vertical-align: middle;\n  pointer-events: none;\n  font-size: 95%;\n  position: absolute;\n  top: 50%;\n  right: 4px;\n  margin-top: -10px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell-math-content,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-mathquill-braille {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell:not(.dcg-non-editable) .dcg-cell-math-content,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell:not(.dcg-non-editable) .dcg-mathquill-braille {\n  max-width: 100px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container {\n  overflow: hidden;\n  padding-left: 15px;\n  padding-right: 15px;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 1;\n  background: -webkit-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: -moz-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: -o-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: -ms-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: linear-gradient(to left, rgba(255,255,255,0), #fff);\n  width: 20px;\n  content: \'\';\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container:after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: linear-gradient(to right, rgba(255,255,255,0), #fff);\n  width: 20px;\n  content: \'\';\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container .dcg-table-sliding-container {\n  -webkit-transition: -webkit-transform 0.15s;\n  -moz-transition: -moz-transform 0.15s;\n  -o-transition: -o-transform 0.15s;\n  -ms-transition: -ms-transform 0.15s;\n  transition: transform 0.15s;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-main {\n  padding-top: 20px;\n  padding-bottom: 5px;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td {\n  border-top: 1px solid #e5e5e5;\n  text-align: center;\n  font-size: 80%;\n  color: rgba(0,0,0,0.5);\n  padding: 8px 0;\n  font-style: italic;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more {\n  color: #4781b9;\n  font-style: normal;\n  text-decoration: underline;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-hovered {\n  color: #004f9b;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-depressed {\n  color: #033b70;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata {\n  position: relative;\n  display: table;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row {\n  display: table-row;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell {\n  display: table-cell;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell {\n  border-top: 1px solid #e5e5e5;\n  padding: 7px 10px 7px 20px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell.dcg-non-editable {\n  padding: 7px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type).dcg-braille-row .dcg-cell {\n  padding: 7px 20px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:nth-of-type(2) .dcg-cell {\n  border-top: 1px solid #444;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell {\n  vertical-align: bottom;\n  padding: 7px 5px 3px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) {\n  padding: 7px 15px 3px 30px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-static-mathquill-view {\n  margin-left: 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell .dcg-math-field {\n  min-height: 29px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:first-of-type.dcg-error {\n  padding-left: 33px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type.dcg-braille-row .dcg-cell:not(:first-of-type):not(:last-of-type) {\n  padding: 7px 15px 3px 40px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-static-mathquill-view {\n  padding-right: 8px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell {\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  font-size: 72%;\n  min-height: 34px;\n  min-width: 40px;\n  cursor: text;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-braille-input {\n  text-align: center;\n  min-width: 40px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(:first-of-type) {\n  border-left: 1px solid #e5e5e5;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:nth-of-type(2) {\n  border-left: 1px solid #444;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable .dcg-mq-math-mode {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(.dcg-non-editable):not(.dcg-selected).dcg-empty .dcg-empty-line {\n  position: absolute;\n  width: 26px;\n  left: 50%;\n  margin-left: -13px;\n  border-top: 1px dashed #bbb;\n  bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border {\n  position: absolute;\n  left: -1px;\n  top: -1px;\n  bottom: -1px;\n  right: -1px;\n  z-index: 1;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable {\n  background: #f5f5f5;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable .dcg-mathquill-braille-overflow-left .dcg-tooltip-hit-area-container:before {\n  background: -webkit-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);\n  background: -moz-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);\n  background: -o-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);\n  background: -ms-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);\n  background: linear-gradient(to left, rgba(245,245,245,0), #f5f5f5);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable .dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after {\n  background: -webkit-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);\n  background: -moz-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);\n  background: -o-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);\n  background: -ms-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);\n  background: linear-gradient(to right, rgba(245,245,245,0), #f5f5f5);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border {\n  border: 2px solid #6399cb;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-mq-math-mode {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-table-icon-error-container {\n  position: absolute;\n  top: 50%;\n  left: 4px;\n  margin-top: -7px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header {\n  font-size: 85%;\n  min-height: 37px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header .dcg-mathquill-braille {\n  min-height: 30px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-static-mathquill-view,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-static-mathquill-view,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mathquill-braille,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mathquill-braille {\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-right-column):after {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background: -webkit-linear-gradient(right, #fff, rgba(255,255,255,0));\n  background: -moz-linear-gradient(right, #fff, rgba(255,255,255,0));\n  background: -o-linear-gradient(right, #fff, rgba(255,255,255,0));\n  background: -ms-linear-gradient(right, #fff, rgba(255,255,255,0));\n  background: linear-gradient(to left, #fff, rgba(255,255,255,0));\n  width: 60px;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-bottom-row):before {\n  content: \'\';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 30px;\n  pointer-events: none;\n  background: -webkit-linear-gradient(bottom, #fff, rgba(255,255,255,0));\n  background: -moz-linear-gradient(bottom, #fff, rgba(255,255,255,0));\n  background: -o-linear-gradient(bottom, #fff, rgba(255,255,255,0));\n  background: -ms-linear-gradient(bottom, #fff, rgba(255,255,255,0));\n  background: linear-gradient(to top, #fff, rgba(255,255,255,0));\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-bottom-row) .dcg-row:last-of-type .dcg-cell .dcg-empty-line {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type {\n  visibility: hidden;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type .dcg-cell {\n  border-color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row .dcg-cell:last-of-type {\n  border-color: transparent;\n  visibility: hidden;\n}.dcg-calculator-api-container .dcg-ticker {\n  padding: 5px;\n  position: relative;\n  background: #eee;\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  border-right: 1px solid rgba(0,0,0,0.2);\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-ticker.dcg-expressions-scrolled {\n  -webkit-box-shadow: -2px 2px 4px rgba(0,0,0,0.15);\n  box-shadow: -2px 2px 4px rgba(0,0,0,0.15);\n  z-index: 4;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-circular-icon-container {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-icon-remove {\n  position: absolute;\n  top: 0;\n  right: 0;\n  opacity: 0.2;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n  filter: alpha(opacity=20);\n  font-size: 115%;\n  padding: 10px 7px 10px 12px;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-icon-remove.dcg-hovered {\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-icon-remove.dcg-depressed {\n  opacity: 0.8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-mini-play-pause {\n  -webkit-transform: scale(0.5);\n  -moz-transform: scale(0.5);\n  -o-transform: scale(0.5);\n  -ms-transform: scale(0.5);\n  transform: scale(0.5);\n  -webkit-transform-origin: bottom right;\n  -moz-transform-origin: bottom right;\n  -o-transform-origin: bottom right;\n  -ms-transform-origin: bottom right;\n  transform-origin: bottom right;\n  position: absolute;\n  bottom: -5px;\n  right: -4px;\n  background: #eee;\n  border-radius: 50%;\n  border: 1px solid #eee;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-icon-metronome-2 {\n  font-size: 130%;\n  position: relative;\n  left: 1px;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-metronome-bar {\n  width: 2px;\n  height: 24px;\n  -webkit-transform: scale(0.5) rotate(-20deg);\n  -moz-transform: scale(0.5) rotate(-20deg);\n  -o-transform: scale(0.5) rotate(-20deg);\n  -ms-transform: scale(0.5) rotate(-20deg);\n  transform: scale(0.5) rotate(-20deg);\n  -webkit-transform-origin: bottom center;\n  -moz-transform-origin: bottom center;\n  -o-transform-origin: bottom center;\n  -ms-transform-origin: bottom center;\n  transform-origin: bottom center;\n  background: #777;\n  border-radius: 2px;\n  position: absolute;\n  bottom: 10px;\n  left: 50%;\n  -webkit-box-shadow: 0 0 0 1px #eee;\n  box-shadow: 0 0 0 1px #eee;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-metronome-bar.dcg-metronome-playing {\n  -webkit-animation: dcg-tick-metronome infinite 0.5s ease-in-out;\n  -moz-animation: dcg-tick-metronome infinite 0.5s ease-in-out;\n  -o-animation: dcg-tick-metronome infinite 0.5s ease-in-out;\n  -ms-animation: dcg-tick-metronome infinite 0.5s ease-in-out;\n  animation: dcg-tick-metronome infinite 0.5s ease-in-out;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  width: calc(100% - 30px);\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container .dcg-circular-icon-container {\n  font-size: 65%;\n  margin-right: 10px !important;\n  -webkit-box-ordinal-group: 1;\n  -moz-box-ordinal-group: 1;\n  -o-box-ordinal-group: 1;\n  -ms-flex-order: 1;\n  -webkit-order: 1;\n  order: 1;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container .dcg-circular-icon-container.dcg-disabled {\n  opacity: 0.4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container .dcg-create-sliders {\n  margin-top: 5px;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  -webkit-box-ordinal-group: 2;\n  -moz-box-ordinal-group: 2;\n  -o-box-ordinal-group: 2;\n  -ms-flex-order: 2;\n  -webkit-order: 2;\n  order: 2;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  color: #666;\n  -webkit-box-lines: multiple;\n  -moz-box-lines: multiple;\n  -o-box-lines: multiple;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  padding: 3px 0;\n  overflow: hidden;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-mq-container {\n  color: #000;\n  margin-left: 4px;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition {\n  max-width: 100%;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: baseline;\n  -moz-box-align: baseline;\n  -o-box-align: baseline;\n  -ms-flex-align: baseline;\n  -webkit-align-items: baseline;\n  align-items: baseline;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-mq-container {\n  margin-right: 5px;\n  overflow: hidden;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 75px;\n  max-width: 100%;\n  padding-right: 20px;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #6399cb;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 30px;\n  max-width: 90px;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #6399cb;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-clickable-info-error-container {\n  margin-left: -20px;\n  width: 20px;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-toggle-help {\n  text-decoration: none;\n  color: #aaa;\n  padding: 10px 6px;\n  font-size: 85%;\n  position: relative;\n  top: 1px;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-toggle-help.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-toggle-help.dcg-depressed {\n  color: #444;\n}\n\n@-webkit-keyframes dcg-tick-metronome {\n  0% {\n    -webkit-transform: scale(0.5) rotate(-20deg);\n    -moz-transform: scale(0.5) rotate(-20deg);\n    -o-transform: scale(0.5) rotate(-20deg);\n    -ms-transform: scale(0.5) rotate(-20deg);\n    transform: scale(0.5) rotate(-20deg);\n  }\n\n  50% {\n    -webkit-transform: scale(0.5) rotate(20deg);\n    -moz-transform: scale(0.5) rotate(20deg);\n    -o-transform: scale(0.5) rotate(20deg);\n    -ms-transform: scale(0.5) rotate(20deg);\n    transform: scale(0.5) rotate(20deg);\n  }\n\n  100% {\n    -webkit-transform: scale(0.5) rotate(-20deg);\n    -moz-transform: scale(0.5) rotate(-20deg);\n    -o-transform: scale(0.5) rotate(-20deg);\n    -ms-transform: scale(0.5) rotate(-20deg);\n    transform: scale(0.5) rotate(-20deg);\n  }\n}\n\n@keyframes dcg-tick-metronome {\n  0% {\n    -webkit-transform: scale(0.5) rotate(-20deg);\n    -moz-transform: scale(0.5) rotate(-20deg);\n    -o-transform: scale(0.5) rotate(-20deg);\n    -ms-transform: scale(0.5) rotate(-20deg);\n    transform: scale(0.5) rotate(-20deg);\n  }\n\n  50% {\n    -webkit-transform: scale(0.5) rotate(20deg);\n    -moz-transform: scale(0.5) rotate(20deg);\n    -o-transform: scale(0.5) rotate(20deg);\n    -ms-transform: scale(0.5) rotate(20deg);\n    transform: scale(0.5) rotate(20deg);\n  }\n\n  100% {\n    -webkit-transform: scale(0.5) rotate(-20deg);\n    -moz-transform: scale(0.5) rotate(-20deg);\n    -o-transform: scale(0.5) rotate(-20deg);\n    -ms-transform: scale(0.5) rotate(-20deg);\n    transform: scale(0.5) rotate(-20deg);\n  }\n}.dcg-calculator-api-container .dcg-toggle-view {\n  float: right;\n  padding: 5px;\n  margin-top: 5px;\n  display: inline-block;\n  width: 30px;\n  height: 8px;\n  background: #ddd;\n  border-radius: 8px;\n  position: relative;\n  -webkit-transition: all 0.2s;\n  -moz-transition: all 0.2s;\n  -o-transition: all 0.2s;\n  -ms-transition: all 0.2s;\n  transition: all 0.2s;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view .dcg-toggle-switch {\n  position: absolute;\n  top: -4px;\n  left: 0;\n  width: 18px;\n  height: 18px;\n  background: #f5f5f5;\n  border-radius: 50%;\n  -webkit-transition: all 0.2s;\n  -moz-transition: all 0.2s;\n  -o-transition: all 0.2s;\n  -ms-transition: all 0.2s;\n  transition: all 0.2s;\n  -webkit-box-shadow: 0 2px 2px rgba(0,0,0,0.2), 0 0 3px rgba(0,0,0,0.2);\n  box-shadow: 0 2px 2px rgba(0,0,0,0.2), 0 0 3px rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-toggle-view:not(.dcg-toggled).dcg-hovered .dcg-toggle-switch {\n  background: #ebebeb;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view:not(.dcg-toggled).dcg-depressed .dcg-toggle-switch {\n  background: #e0e0e0;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled {\n  -webkit-transition: all 0.2s;\n  -moz-transition: all 0.2s;\n  -o-transition: all 0.2s;\n  -ms-transition: all 0.2s;\n  transition: all 0.2s;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled .dcg-toggle-switch {\n  -webkit-transition: all 0.2s;\n  -moz-transition: all 0.2s;\n  -o-transition: all 0.2s;\n  -ms-transition: all 0.2s;\n  transition: all 0.2s;\n  left: 12px;\n  background: #666;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled.dcg-hovered .dcg-toggle-switch {\n  background: #555;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled.dcg-depressed .dcg-toggle-switch {\n  background: #444;\n}.dcg-calculator-api-container .dcg-ttest-footer-container {\n  margin-right: $evaluation-margin;\n  cursor: text;\n  padding-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-ttest-footer-container table {\n  margin-left: auto;\n}\n\n.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  margin-top: 3px;\n  border: 1px solid rgba(206,206,206,0.8);\n  border-radius: 4px;\n  background: rgba(0,0,0,0.04);\n  opacity: 0.75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}\n\n.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value .dcg-operator .dcg-static-mathquill-view {\n  border-right: 1px solid rgba(206,206,206,0.8);\n  margin-right: 5px;\n  min-width: 35px;\n  text-align: center;\n  padding: 3px;\n}\n\n.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view {\n  padding: 3px 6px 3px 3px;\n}.dcg-calculator-api-container .dcg-visualization-parameters-container {\n  margin-bottom: 5px;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-smaller-font {\n  font-size: 85%;\n  margin-left: 2px;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mathquill-wrapper {\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-parameter-name {\n  font-size: 105%;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-component-checkbox {\n  margin-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container {\n  display: inline-block;\n  margin-bottom: 5px;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container:not(:last-of-type) {\n  margin-right: 15px;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container .dcg-toggle-option {\n  min-width: 65px;\n}.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-column {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-column .dcg-keypad-btn-container {\n  max-height: 40px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-column .dcg-keypad-btn-container .dcg-keypad-btn:not(.dcg-btn-short-blue) {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-btn-playback {\n  height: 40px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-btn-playback .dcg-keypad-btn-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-key-nav-section-container {\n  height: 40px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-key-nav-section-container .dcg-tooltip-hit-area-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-key-nav-section-container .dcg-key-nav-section-title-container.dcg-disabled {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title {\n  text-align: left;\n  color: #666;\n  line-height: 40px;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container {\n  margin-left: 3px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container i {\n  font-size: 80%;\n  cursor: pointer;\n  display: inline-block;\n  padding: 5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container.dcg-hovered {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-spacer {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 0.25;\n  -ms-flex: 0.25;\n  flex: 0.25;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-play-icon-container,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-stop-icon-container {\n  border: 2px solid #fff;\n  border-radius: 50%;\n  width: 22px;\n  height: 22px;\n  line-height: 22px;\n  text-align: center;\n  font-size: 50%;\n  margin-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-icon-play {\n  position: relative;\n  top: -1px;\n  left: 1.5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-stop-icon {\n  background: #fff;\n  display: inline-block;\n  border-radius: 1px;\n  width: 8px;\n  height: 8px;\n  position: relative;\n  top: -1px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-button-icon:not(.dcg-icon-only) {\n  font-size: 70%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-button-icon:not(.dcg-icon-only):not(.dcg-icon-after-text) {\n  margin-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-button-icon.dcg-icon-only {\n  font-size: 120%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link .dcg-shared-dark-gray-link {\n  text-align: right;\n  line-height: 40px;\n  text-decoration: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link .dcg-shared-dark-gray-link i {\n  margin-right: 5px;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link .dcg-shared-dark-gray-link span {\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-keypad-btn-container {\n  width: 40px;\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-keypad-btn-container i.dcg-icon-volume-up,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-keypad-btn-container i.dcg-icon-volume-down {\n  font-size: 115%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-key-nav-section-title-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  width: 70px;\n  padding: 0 5px;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-key-nav-section-title-container .dcg-key-nav-section-title {\n  font-size: 75%;\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-key-nav-section-title-container.dcg-poi-section-container .dcg-key-nav-section-title {\n  display: block;\n}\n\n@media screen and (max-width: 550px) {\n  .dcg-calculator-api-container .dcg-audio-keypad-spacer {\n    max-width: 20px;\n  }\n\n  .dcg-calculator-api-container .dcg-audio-keypad-column .dcg-key-nav-section .dcg-key-nav-section-title-container {\n    font-size: 80%;\n    width: 60px;\n  }\n}\n\n@media screen and (max-width: 430px) {\n  .dcg-calculator-api-container .dcg-audio-keypad-container {\n    font-size: 90%;\n  }\n\n  .dcg-calculator-api-container .dcg-audio-keypad-container .dcg-audio-keypad-column.dcg-playback-column .dcg-key-nav-section .dcg-key-nav-section-title-container {\n    width: 40px;\n  }\n\n  .dcg-calculator-api-container .dcg-audio-keypad-container .dcg-audio-keypad-column.dcg-navigation-column .dcg-key-nav-section .dcg-key-nav-section-title-container {\n    width: 55px;\n  }\n}\n\n@media screen and (max-width: 400px) {\n  .dcg-calculator-api-container .dcg-keypad-link i {\n    display: none;\n  }\n}\n\n@media screen and (max-width: 340px) {\n  .dcg-calculator-api-container .dcg-audio-keypad-column.dcg-navigation-column .dcg-key-nav-section .dcg-key-nav-section-title-container {\n    display: none;\n  }\n}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {\n  top: -306px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-arrow {\n  border-top-color: #f7f7f7;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior {\n  height: 306px !important;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {\n  padding: 0;\n  text-align: left;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior {\n  padding: 0;\n  width: 295px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-popover-header table {\n  border-collapse: collapse;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container {\n  width: 33.3%;\n  float: left;\n  height: 42px;\n  float: none;\n  margin-bottom: -5px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container .dcg-keypad-btn {\n  font-size: 80% !important;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-section-separator {\n  display: block;\n  clear: both;\n  border-bottom: 1px solid #e2e2e2;\n  margin: 0 2px 4px;\n  padding-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section,\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-buttons {\n  margin-bottom: -42px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section:last-of-type .dcg-keypad-keys-buttons {\n  margin-bottom: 7px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section {\n  border: 1px solid transparent;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section + .dcg-keypad-keys-section {\n  margin-top: 100px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading {\n  color: #666;\n  text-transform: uppercase;\n  font-size: 75%;\n  text-align: left;\n  padding: 5px;\n  position: sticky;\n  top: 0;\n  background: #fff;\n  z-index: 2;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a {\n  color: #000;\n  margin-left: 5px;\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-hovered {\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-depressed {\n  opacity: 0.9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-interior-buttons {\n  padding: 5px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-option {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n  cursor: pointer;\n  margin: 4px 1px 0 3px !important;\n  width: 60px;\n  height: 38px;\n  line-height: 28px;\n  text-align: center;\n  line-height: 38px;\n  padding: 0;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-option.dcg-inverse-trig .dcg-mq-supsub {\n  line-height: 0;\n  font-size: 80%;\n  position: relative;\n  top: -0.5em;\n  margin-right: -5px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left {\n  top: auto;\n  bottom: 5px;\n  right: 18%;\n  left: auto;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left .dcg-arrow {\n  top: auto;\n}\n\n.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-popover-interior {\n  width: 330px;\n}\n\n.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-interior-buttons {\n  font-size: 80%;\n}\n\n@media screen and (max-width: 415px) {\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover.dcg-left {\n    left: 5px;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover.dcg-left .dcg-popover-interior {\n    width: calc(100% + 2px);\n    font-size: 90%;\n  }\n}\n\n@media screen and (max-width: 375px) {\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left {\n    left: 5px;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left .dcg-popover-interior {\n    width: calc(100% + 2px);\n    font-size: 95%;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-keypad .dcg-functions-popover.dcg-left .dcg-keypad-keys-buttons {\n    font-size: 85%;\n  }\n}.dcg-calculator-api-container .dcg-keypad .dcg-keys-container {\n  position: absolute;\n  bottom: 0;\n  z-index: 60;\n  width: 100%;\n  margin: 0 auto;\n  padding: 0;\n  -webkit-transition: opacity 0.3s;\n  -moz-transition: opacity 0.3s;\n  -o-transition: opacity 0.3s;\n  -ms-transition: opacity 0.3s;\n  transition: opacity 0.3s;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {\n  position: absolute;\n  right: 8px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-keyboard,\n.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-keyboard {\n  font-size: 175%;\n  float: left;\n  margin-right: 8px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-down,\n.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-caret-down,\n.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-up,\n.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-caret-up {\n  font-size: 75%;\n  line-height: 2rem;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad-container {\n  position: absolute;\n  top: -2.5rem;\n  left: -1px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad-container {\n  z-index: 60;\n  position: absolute;\n  bottom: 5px;\n  left: 5px;\n  -webkit-animation: dcg-fadeIn-show-keypad 0.6s;\n  -moz-animation: dcg-fadeIn-show-keypad 0.6s;\n  -o-animation: dcg-fadeIn-show-keypad 0.6s;\n  -ms-animation: dcg-fadeIn-show-keypad 0.6s;\n  animation: dcg-fadeIn-show-keypad 0.6s;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad {\n  padding: 0.25rem 1.25rem;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad {\n  padding: 4px 14px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys {\n  position: relative;\n  width: 100%;\n  max-width: 835px;\n  margin: auto;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys {\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys-background {\n  background: #f0f0f0;\n  border-top: 1px solid rgba(0,0,0,0.1);\n  -webkit-box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);\n  box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad {\n  background: #f0f0f0;\n  color: rgba(0,0,0,0.7);\n  border: 1px solid rgba(0,0,0,0.1);\n  border-bottom: 1px solid #f0f0f0;\n  -webkit-box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);\n  box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-hovered {\n  color: rgba(0,0,0,0.9);\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-hide-on-narrow {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-keypad .dcg-functions-popover:not(.dcg-left) {\n  position: absolute;\n  margin-left: -70px;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-keypad .dcg-functions-popover.dcg-left {\n  right: 18%;\n}\n\n@-webkit-keyframes dcg-fadeIn-show-keypad {\n  0% {\n    -webkit-transform: translate(0, 10px);\n    -moz-transform: translate(0, 10px);\n    -o-transform: translate(0, 10px);\n    -ms-transform: translate(0, 10px);\n    transform: translate(0, 10px);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  50% {\n    -webkit-transform: translate(0, 10px);\n    -moz-transform: translate(0, 10px);\n    -o-transform: translate(0, 10px);\n    -ms-transform: translate(0, 10px);\n    transform: translate(0, 10px);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    -webkit-transform: translate(0, 0);\n    -moz-transform: translate(0, 0);\n    -o-transform: translate(0, 0);\n    -ms-transform: translate(0, 0);\n    transform: translate(0, 0);\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@keyframes dcg-fadeIn-show-keypad {\n  0% {\n    -webkit-transform: translate(0, 10px);\n    -moz-transform: translate(0, 10px);\n    -o-transform: translate(0, 10px);\n    -ms-transform: translate(0, 10px);\n    transform: translate(0, 10px);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  50% {\n    -webkit-transform: translate(0, 10px);\n    -moz-transform: translate(0, 10px);\n    -o-transform: translate(0, 10px);\n    -ms-transform: translate(0, 10px);\n    transform: translate(0, 10px);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    -webkit-transform: translate(0, 0);\n    -moz-transform: translate(0, 0);\n    -o-transform: translate(0, 0);\n    -ms-transform: translate(0, 0);\n    transform: translate(0, 0);\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container {\n  height: 40px;\n  display: inline-block;\n  position: relative;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container.dcg-disabled {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container.dcg-disabled .dcg-keypad-btn {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn {\n  position: absolute;\n  top: 2px;\n  left: 2px;\n  right: 2px;\n  bottom: 2px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -moz-box-orient: horizontal;\n  -o-box-orient: horizontal;\n  -webkit-flex-flow: row;\n  -ms-flex-flow: row;\n  flex-flow: row;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  padding: 0;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content {\n  text-align: center;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sup,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sup,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sub,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sub,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-to,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-to,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-from,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-from {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-supsub {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-sqrt-stem {\n  width: 4px;\n  padding: 0;\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=shift] {\n  padding-top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="/"],\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="-"] {\n  padding-top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="*"] {\n  padding-top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=left],\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=right],\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=backspace] {\n  font-size: 110%;\n  padding-top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=enter] {\n  font-size: 140%;\n  padding-top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray {\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);\n  box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);\n  background: -webkit-linear-gradient(#fff, #fafafa);\n  background: -moz-linear-gradient(#fff, #fafafa);\n  background: -o-linear-gradient(#fff, #fafafa);\n  background: -ms-linear-gradient(#fff, #fafafa);\n  background: linear-gradient(#fff, #fafafa);\n  border: 1px solid #d8d8d8;\n  border-radius: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray {\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.02);\n  box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.02);\n  background: -webkit-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));\n  background: -moz-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));\n  background: -o-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));\n  background: -ms-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));\n  background: linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));\n  border: 1px solid #bbb;\n  border-radius: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border-radius: 2px;\n  color: #fff;\n  background: #4781b9;\n  border: 1px solid #3f73a6;\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);\n  box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-hovered:not(.dcg-disabled),\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-hovered:not(.dcg-disabled) {\n  background: #3f73a6;\n  -webkit-transition: background 0.2s;\n  -moz-transition: background 0.2s;\n  -o-transition: background 0.2s;\n  -ms-transition: background 0.2s;\n  transition: background 0.2s;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-depressed:not(.dcg-disabled),\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-depressed:not(.dcg-disabled) {\n  background: #35608a;\n  border: 1px solid #35608a;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue {\n  height: 76px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-hovered {\n  background: #f5f5f5;\n  border-color: #d8d8d8;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-depressed {\n  background: #ebebeb;\n  border-color: #cfcfcf;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-hovered {\n  background: rgba(0,0,0,0.16);\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-depressed {\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  background: rgba(0,0,0,0.19);\n}\n\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray {\n  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,0.25), inset 0 1px rgba(0,0,0,0.02);\n  box-shadow: inset 0 -1px rgba(255,255,255,0.25), inset 0 1px rgba(0,0,0,0.02);\n  background: -webkit-linear-gradient(#fafafa, #fff);\n  background: -moz-linear-gradient(#fafafa, #fff);\n  background: -o-linear-gradient(#fafafa, #fff);\n  background: -ms-linear-gradient(#fafafa, #fff);\n  background: linear-gradient(#fafafa, #fff);\n}\n\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray {\n  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,0.1), inset 0 1px rgba(0,0,0,0.02);\n  box-shadow: inset 0 -1px rgba(255,255,255,0.1), inset 0 1px rgba(0,0,0,0.02);\n  background: -webkit-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));\n  background: -moz-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));\n  background: -o-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));\n  background: -ms-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));\n  background: linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray {\n  background: rgba(255,255,255,0.3);\n  border: 0;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-hovered {\n  background: rgba(255,255,255,0.25);\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-depressed {\n  background: rgba(255,255,255,0.15);\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray {\n  background: rgba(0,0,0,0.15);\n  border: 0;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-hovered {\n  background: rgba(0,0,0,0.18);\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-depressed {\n  background: rgba(0,0,0,0.22);\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="/"] .dcg-keypad-btn-content,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="="] .dcg-keypad-btn-content,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="<"] .dcg-keypad-btn-content,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="<="] .dcg-keypad-btn-content {\n  position: relative;\n  left: -1px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-btn[dcg-command=sqrt] {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE:not(.dcg-narrow) .dcg-keys-container.dcg-smaller-functions-text .dcg-keypad-btn[dcg-command=functions] {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-keys-container.dcg-small-ABC .dcg-abc-audio-container .dcg-keypad-btn[dcg-command="ABC"] {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-keys-container.dcg-smaller-ABC .dcg-abc-audio-container .dcg-keypad-btn[dcg-command="ABC"] {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-keys-container.dcg-smallest-ABC .dcg-abc-audio-container .dcg-keypad-btn[dcg-command="ABC"] {\n  font-size: 70%;\n}.dcg-calculator-api-container .dcg-keypad-control-bar {\n  height: 40px;\n  background-color: rgba(0,0,0,0.07);\n  border-left: 1px solid rgba(0,0,0,0.2);\n  border-right: 1px solid rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-bar-contents {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -moz-box-orient: horizontal;\n  -o-box-orient: horizontal;\n  -webkit-box-lines: single;\n  -moz-box-lines: single;\n  -o-box-lines: single;\n  -webkit-flex-flow: row nowrap;\n  -ms-flex-flow: row nowrap;\n  flex-flow: row nowrap;\n  -webkit-box-align: stretch;\n  -moz-box-align: stretch;\n  -o-box-align: stretch;\n  -ms-flex-align: stretch;\n  -webkit-align-items: stretch;\n  align-items: stretch;\n  -webkit-flex-shrink: 0;\n  flex-shrink: 0;\n  padding-top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-spacer {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-spacer-2 {\n  -webkit-box-flex: 2;\n  -moz-box-flex: 2;\n  -o-box-flex: 2;\n  -ms-box-flex: 2;\n  box-flex: 2;\n  -webkit-flex-grow: 2;\n  flex-grow: 2;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-bar {\n  height: 52px;\n}.dcg-calculator-api-container .dcg-keypad-control-btn {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n  min-width: 40px;\n  text-align: center;\n  color: rgba(0,0,0,0.6);\n  font-size: 87.5%;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-narrow-control-btn {\n  max-width: 80px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-selectable-btn {\n  padding: 0 5px;\n  height: 38px;\n  line-height: 40px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-selectable-btn) {\n  height: 32px;\n  line-height: 32px;\n  margin: 5px;\n  border-radius: 5px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-disabled {\n  color: rgba(0,0,0,0.15);\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-hovered {\n  color: rgba(0,0,0,0.8);\n  background: rgba(0,0,0,0.1);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-depressed {\n  color: #000;\n  background: rgba(0,0,0,0.18);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=settings] i {\n  font-size: 120%;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=backspace] i,\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=undo] i,\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=redo] i {\n  font-size: 150%;\n  position: relative;\n  top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=clear] {\n  width: 50px;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=clearall] {\n  width: 50px;\n  line-height: inherit;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:after {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  content: "";\n  height: 0;\n  background: rgba(71,129,185,0.5);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected) {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected):after {\n  height: 4px;\n  -webkit-transition: height 0.2s;\n  -moz-transition: height 0.2s;\n  -o-transition: height 0.2s;\n  -ms-transition: height 0.2s;\n  transition: height 0.2s;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected:after {\n  height: 4px;\n  background: #4781b9;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:first-of-type {\n  margin-left: 6px;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn {\n  min-width: 25px;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clearall],\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clear] {\n  width: 50px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn {\n  font-size: 150%;\n  height: 44px;\n  line-height: 44px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clearall],\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clear] {\n  width: 75px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clearall] {\n  line-height: 20px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=settings] i {\n  top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=backspace] i,\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=undo] i,\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=redo] i {\n  top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-selectable-btn {\n  top: 4px;\n}.dcg-calculator-api-container .dcg-keypad-control-toggle {\n  display: block;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n  line-height: 24px;\n  height: 25px;\n  margin-top: 7px;\n  cursor: pointer;\n  color: rgba(0,0,0,0.6);\n  font-size: 80%;\n  text-transform: uppercase;\n  background: #fff;\n  border: 1px solid rgba(0,0,0,0.2);\n  border-radius: 5px;\n  width: 70px;\n  min-width: 50px;\n  margin-left: 20px;\n  margin-right: 20px;\n  position: relative;\n  -webkit-box-shadow: inset 1px 1px 2px rgba(0,0,0,0.15);\n  box-shadow: inset 1px 1px 2px rgba(0,0,0,0.15);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle .dcg-ctrl-toggle-option {\n  text-align: center;\n  display: inline-block;\n  width: 50%;\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle .dcg-ctrl-toggle-cover {\n  position: absolute;\n  top: -1px;\n  right: -1px;\n  bottom: -1px;\n  left: 50%;\n  border-radius: 5px;\n  border: 1px solid rgba(0,0,0,0.2);\n  -webkit-transition: -webkit-transform 0.2s;\n  -moz-transition: -moz-transform 0.2s;\n  -o-transition: -o-transform 0.2s;\n  -ms-transition: -ms-transform 0.2s;\n  transition: transform 0.2s;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-hovered {\n  border-color: rgba(0,0,0,0.3);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-hovered .dcg-ctrl-toggle-cover {\n  border-color: rgba(0,0,0,0.3);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-depressed .dcg-ctrl-toggle-cover {\n  border-color: rgba(0,0,0,0.5);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-toggled .dcg-ctrl-toggle-cover {\n  -webkit-transform: translate(-100%, 0);\n  -moz-transform: translate(-100%, 0);\n  -o-transform: translate(-100%, 0);\n  -ms-transform: translate(-100%, 0);\n  transform: translate(-100%, 0);\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-keypad-control-toggle {\n  background: rgba(255,255,255,0.3);\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-toggle {\n  margin-left: 5px;\n  margin-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-toggle {\n  font-size: 150%;\n  min-width: 100px;\n  margin: 14px 15px 0 15px;\n  height: 28px;\n  line-height: 26px;\n}.dcg-calculator-api-container .dcg-basic-keypad-container {\n  background: rgba(0,0,0,0.07);\n  border: 1px solid rgba(0,0,0,0.2);\n  border-top: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad {\n  margin: 0;\n  padding: 4px 3px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-to,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-from {\n  display: none !important;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-int .dcg-mq-supsub {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-int {\n  font-size: 70%;\n  position: relative;\n  top: -1px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-touch-callout: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-half-width-placeholder {\n  -webkit-box-flex: 0.5;\n  -moz-box-flex: 0.5;\n  -o-box-flex: 0.5;\n  -ms-box-flex: 0.5;\n  box-flex: 0.5;\n  -webkit-flex-grow: 0.5;\n  flex-grow: 0.5;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-partition-placeholder {\n  width: 4%;\n}\n\n.dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-basic-keypad {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad .dcg-keypad-btn-container {\n  height: 52px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container {\n  height: 46px;\n}\n\n.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container {\n  height: 44px;\n}\n\n@media screen and (max-width: 470px) {\n  .dcg-calculator-api-container .dcg-projector-mode .dcg-sci-func-keypad .dcg-basic-keypad {\n    font-size: 115%;\n  }\n}\n\n@media screen and (max-width: 330px) {\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-either-or-btn {\n    font-size: 85%;\n    white-space: nowrap;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad {\n    font-size: 125%;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-projector-mode .dcg-sci-func-keypad .dcg-basic-keypad {\n    font-size: 90%;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row {\n    font-size: 70%;\n  }\n}.dcg-calculator-api-container .dcg-keypad-row {\n  padding: 0;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -moz-box-orient: horizontal;\n  -o-box-orient: horizontal;\n  -webkit-box-lines: single;\n  -moz-box-lines: single;\n  -o-box-lines: single;\n  -webkit-flex-flow: row nowrap;\n  -ms-flex-flow: row nowrap;\n  flex-flow: row nowrap;\n  -webkit-box-align: stretch;\n  -moz-box-align: stretch;\n  -o-box-align: stretch;\n  -ms-flex-align: stretch;\n  -webkit-align-items: stretch;\n  align-items: stretch;\n  margin: 0;\n}\n\n.dcg-calculator-api-container .dcg-keypad-row .dcg-abc-audio-container {\n  -webkit-box-flex: 2;\n  -moz-box-flex: 2;\n  -o-box-flex: 2;\n  -ms-box-flex: 2;\n  box-flex: 2;\n  -webkit-flex-grow: 2;\n  flex-grow: 2;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}.dcg-calculator-api-container .dcg-settings-view-container {\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-view-container .dcg-settings-container {\n  position: absolute;\n  top: 2px;\n  right: 38px;\n  line-height: 1em;\n}\n\n.dcg-calculator-api-container .dcg-settings-container {\n  bottom: auto;\n  z-index: 61;\n  width: 290px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-arrow {\n  top: 18px !important;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-popover-interior {\n  padding: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  color: rgba(0,0,0,0.85);\n  min-height: 34px;\n  padding: 0 4px;\n  text-align: center;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-padded-segmented-control-btn {\n  padding: 6px 4px;\n  height: auto;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn i {\n  font-size: 120%;\n  margin-right: 4px;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:not(:last-of-type):not(.dcg-selected):not(.dcg-hovered) {\n  border-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected,\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered {\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected:not(:last-of-type),\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered:not(:last-of-type) {\n  margin-right: -1px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered:not(.dcg-selected) {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-depressed:not(.dcg-selected) {\n  background: rgba(0,0,0,0.05);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:first-of-type {\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:last-of-type {\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected {\n  color: #fff;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn) {\n  border: 1px solid rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn).dcg-hovered:not(.dcg-selected) {\n  border-color: rgba(0,0,0,0.35);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn:not(.dcg-dark-gray-segmented-control-btn).dcg-selected {\n  border: 1px solid #4781b9;\n  background: rgba(71,129,185,0.75);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn {\n  border: 1px solid rgba(0,0,0,0.42);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn.dcg-hovered:not(.dcg-selected) {\n  border-color: rgba(0,0,0,0.57);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-dark-gray-segmented-control-btn.dcg-selected {\n  border: 1px solid rgba(0,0,0,0.65);\n  background: rgba(0,0,0,0.65);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-visual-settings {\n  padding-bottom: 10px;\n  border-bottom: 1px solid #ddd;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-visual-settings .dcg-action-projectormode {\n  width: 100%;\n  padding: 8px;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-minor-checkbox,\n.dcg-calculator-api-container .dcg-settings-container .dcg-step-label {\n  font-size: 85%;\n  color: #444;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  padding-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-component-checkbox {\n  margin-top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-grid-settings {\n  min-width: 110px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-grid-settings .dcg-component-checkbox {\n  margin-bottom: 2px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-top-checkboxes-container .dcg-component-checkbox {\n  margin-bottom: 3px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-top-checkboxes-container .dcg-action-zoom-square {\n  float: left;\n  clear: left;\n  font-size: 80%;\n  margin: 3px 0 8px;\n  padding: 3px 10px;\n  line-height: 1.5em;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container {\n  border-top: 1px solid #ddd;\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-action-toggle-y-axis-steps,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-action-toggle-x-axis-steps {\n  margin-right: -2px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-component-checkbox {\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title {\n  font-size: 95%;\n  height: 1.5em;\n  line-height: 2em;\n  margin-bottom: 2px;\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title.dcg-x-axis-title {\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title.dcg-y-axis-title {\n  margin-top: 20px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-checkbox {\n  line-height: 2em;\n  color: #444;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  cursor: pointer;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-checkbox .dcg-checkbox-box {\n  font-size: 105%;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label {\n  width: 55%;\n  outline: none;\n  float: right;\n  border-radius: 5px;\n  color: #444;\n  padding: 7px;\n  font-size: 90%;\n  -webkit-appearance: none;\n  border: 1px solid rgba(0,0,0,0.42);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label.dcg-hovered:not([disabled]) {\n  border-color: rgba(0,0,0,0.42);\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,0.42);\n  box-shadow: 0 0 0 1px rgba(0,0,0,0.42);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label:focus:not([disabled]) {\n  border-color: $selected-expr-color;\n  -webkit-box-shadow: 0 0 0 1px $selected-expr-color;\n  box-shadow: 0 0 0 1px $selected-expr-color;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label[disabled] {\n  opacity: 0.4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup {\n  border-top: 1px solid #ddd;\n  padding-top: 10px;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-displaysizegroup {\n  padding-top: 5px;\n  padding-bottom: 10px;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-displaysizegroup .dcg-action-displaysizelarge {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-arrows {\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-arrows i {\n  font-size: 26px;\n  line-height: 28px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon-group {\n  margin-left: 24px;\n  margin-bottom: 4px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon {\n  display: inline-block;\n  cursor: pointer;\n  width: 28px;\n  height: 28px;\n  border-radius: 14px;\n  -webkit-box-shadow: 0 0 2px rgba(0,0,0,0.25) inset;\n  box-shadow: 0 0 2px rgba(0,0,0,0.25) inset;\n  background-color: #f9f9f9;\n  -webkit-background-size: contain;\n  -moz-background-size: contain;\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n  color: #777;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-active {\n  background-color: #127a3d;\n  color: rgba(255,255,255,0.9);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-active.dcg-hovered {\n  -webkit-box-shadow: inset 0 0 0 2px rgba(13,84,42,0.6);\n  box-shadow: inset 0 0 0 2px rgba(13,84,42,0.6);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-active.dcg-depressed {\n  -webkit-box-shadow: inset 0 0 0 2px #0d542a;\n  box-shadow: inset 0 0 0 2px #0d542a;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon:not(.dcg-active).dcg-hovered {\n  -webkit-box-shadow: inset 0 0 0 2px rgba(0,0,0,0.15);\n  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.15);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon:not(.dcg-active).dcg-depressed {\n  -webkit-box-shadow: inset 0 0 0 2px rgba(0,0,0,0.25);\n  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.25);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian,\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar {\n  background-position: center center;\n  background-repeat: no-repeat;\n  border: 1px solid rgba(0,0,0,0.42);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-active,\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-active {\n  border: none;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABRUlEQVR4Ae2ZJZQcURQF27vx58Sb8SJ2vD+jgzYswzqcCslW4yKDy2CXwSwz84Zuvu//XDj313mqTJnGV1QPJaIssofziOnA1VHiRGC3EM3AdSKe5J0DHehAB/73gTyrMInSPMvSidgNXAslysAeI94HbhExnHcF+rMpeFthEaV5m2UUcRi4XpToDOxnxGDgNhGzefevXyQOdKADHehAB9Ko8B6laWS5j1gO3GmUaAZ2D3E3cIOI13lXoD+bvyCwVqGF0tSyXETMBu4kStQDu404HbhexKu8+9evYgc60IEOdKAD2ahwjNJsZNlHfA3cNkpsBfYbYi9wnxFHefcXvM2cqdCP0pzJUiLWA3cDJa4F9gDxMnCTiLa880XiQAc60IEO9CrMqzCvwnwVO9CBDnSgA70K8yrsJ+FVmK9iBzrQgQ504HdiRjEpheKY1QAAAABJRU5ErkJggg==");\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-active {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABO0lEQVR4Ae2ZJ1AzARBGz7v4GbyJF9h4P9FUS5d0zU+v8lQckt6LpRdD773DDzzO366j8+2bVc88c7kkG8SHEAgDcygENh2XBCDLsRdA2nHjQKvtFKhABSrwzwfSEWMdou0wGQeuHZcBIHTsIzDouH1g0XYB33wC+mPsQ7T9JsvAveOmARh37H9g3nHnwLbtfvtDokAFKlCBClQgqRiDEG3K5B9w6LhcANKOvQHqHTcP9Nou4JvPDwhMxMhAtAmTYmDbcdkAJB17CeQ6bhrosZ2eYgUqUIEKVOBvD+QsxiNEe2ZyC7w47hKAC8e+AjeO+w882O4HfJvJizEL0eaZhMCp46oAqHDsHdDtuHVgxHZ6SBSoQAUqUIE6hekUplOYnmIFKlCBClSgTmE6hX3Q6BSmp1iBClSgAhX4BgYE6hY3llM6AAAAAElFTkSuQmCC");\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHs0lEQVR4Ad2bA5AsSxOFZ3Vt7rNt27Zt27Ztfw/Xtm3btm1zb/7xTlRsdMx27/T09ouY+Csvtounu1KVWZtIXdiHrESowiCMu0P2rU1uIo7CW2zl3vgBMoApnBkHwG8xFlMhXoDchrGLY+MAWJmVGB/HCZAyzMf4NRFP4TGMbRwQI8D3MFZTPS6AOYzDaBkXQPZhE8bzifgKF2AY58cEsBHGFMlwfIWWGOPILjlAzmQPxuWJeAsHsQ3j0ZICJIvhGB0T8Rc+wVhJpRICfABjB4f9FwArsBjj2+gA/eeIsXC/e/voAD/FWEGl/wpgFsMwOhWpr84FPMbn/MkyjD78xFvczNHkRODjyMVHAsniHL5niur8aCNdeIpqhaNb+WuCWAsNkQ6jKm8zG3O0juE05BsWYXTkV7owi92ubTvtuSiR4EI9nRc3In8r0JUNWm4nnXiao/x4kApcxTfMdzCHMEXWKEph/7R6t8BEC3iZWqmEhCzOpzkFmOjstDh+P/3Azezgi5DuVFXaYaK+lAovxZzu+HQ9t4WEdxL9WUA5x7oYS3k4pSE7jQUYu+nkfLnwAL/FWMI0rfQzOSnWqUEdCrTGtf8+ZvMwSzV0eHEeLtexGWOZGL4/Rq+wADmCnRj3Uo56WqcDZQNXKcUrrFOv7hzt1fBfswNjD03Zy3fg9WofTr6eTpSM3hgSYGeMYWTp58c0ciDlfFe5kpkCN4ubijYeSls1buKd5DfkYrZgdKNwWv7WNKVTA+QKvfjpnlfdKnWexMMcRTe3/mtqC3iDKeo0n5u8W8R6TemBQ03VvZ4KIHnivPpJkHdg1PHUVOFb1RVQRzsYXMjlGccD/TjRnR/GYUykclLPVzA2kJ8C4PP6Jvskjb1XKzykn7N5nFV6HsZp4US8Br+xS1L0GzX4RUbr8CK98sQvdYoDSHW97Ns+a/yOsZlDuJCxAreIu8hKhC8cSz+nuQqCPBSu0aacWvhcWs7Eo0kw5lLGZ2xpxsuzMYytfEqFKBbmJma7Ca4M6NFDElmKq6njsb4b6Mdb7M+xqrnVd2Q5GmKiNrJk0Qp3YI46cqhP+1FihZWYDxVIu/b1NWJ3sQATzSSrJP7fGIz6NJSh2sG3ya4mezHfqYZG3MNR2uLXuJC3megAfJcMgJPUy1jFG2zHuCk6wAsFax/5gcOKGkROYZGD8UmykFCaJa6tIXmeF3JGjO+okkjwB8aA6ADrYjQv/JoPOoM4lrNUc7I04QzZ2S3snwTwTXmJ3+jbNybLGTE5aXTDGTGOkRI/KBq8smzEuMp75OFTtjuDeLK+3hiqk8skjCZegOQLysuJBA8J4ttczyxnxK7xriImei8awEslj3n+BlG0hJqqu0Sgz/YArIcxHY3lXbXK7+YVSvmo+yHRAH4WdMDmIqZrwcXc4WraYYwiGwHkVPHZNc6I/YQJYh3yfeY6WhxZMQrAwRgvBbS1xxz14yR91+0YDwrgPRrZTWbzaRkxEacGaIqVGJdFACgOvMi3paa033XOIBbwFzX4EmOZrENnnVWO5ELGuaPBXXTH+MV/HVms59KHl6/J9/Ftuw9jvtugXo67PmINVkjtHadu5WPKuiP/HP+VpGp+Sx/gKRjbAtp+xqjrMYizsCTa42TdGTH2VW0Nv9mkkDoXexDypZswVvu3yQK/73muzVfs8MBzPrF3jA6rl/rNJjke5tsiSmCZTRkPMGiLr8JYG9DWBeOjtLa4msJGF0Xa4kCH1dhBdmDmpGlaQnKIniv7zSZL0yF9Ka6OYf6pB27FWE52GmrmKYzJASv9g/FjIv2iBa/wbanEVlmM8Ip6CMaXxVisJ6MA7IPxVnAQLk1TV8ARATmY9RgXRAH4HkYvf2fBRVmWhXIWfnMA/Z0FGQTKRAF4jnioXDHu1noODeFugbE70N16H6NPIkohj5UYtwU4rEcyGWM+h6ZwWD8WtAcDHdZp6hetyOZ2CXT5D5RPvZK/i3H5m2vEF6rxc/nPkDeYHxXgKeKdwwMPTfs7OTV+KHJoqshapxE/UpP/oamZ11GIKsltijl2lmeygzGEd7lagL/mYf4p1IqvqqP/sfN9gb2wJACvCnVwn4L50Hpmhji4j/U0RA597OTqYkMfWRzJu/RggeBuYhx1uJOyKUIfrXxCHxGCR+skty+HCB4V8mCo4FEV5mIsTA4eRQm/vSP+OyPO8BtZ0qYrqeUffksvgJlDb02wb4wBzDclWFcHBzDTCwHnS+NNpFpMIeCHpRU+ChECDh1EP05WZQw1YwiiPyfl0pCs8EH0MGmIM/TFZnNsSdIQZPOpQDQjJ3QaInQi51SWy6g9GDmRky/Fb/xCdthETnqpsAMZpb4jIqXClksUdiqcEjoVlm4ysTTfuUjVaCqnAfB6TDSXM9NLJkZJx/5WGCr/kVNSAaQCDzIUc3R0hHRspIR248Js+yS+5SqqJgMkl6N4mjZswbRZjZgQJaEd/UpALnfSiwLM0UoG04aVErUuTPOck5fyPYfEeiUg/LUm9uNFOrM+IA0xiV+4gpwIlyrivZYioJfyGG8wTzruRe7gJMoFX6/6P7jYk/lXozL/clnmX8/L/AuOmX9FNPMv2Wb+NeXMv+id+VflM/+XDTL+1zX+Bzz06y/bFKL/AAAAAElFTkSuQmCC");\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-active {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHMElEQVR4AeXbA4wk+xbH8f9gbc+1bdu2bdu2bXNxbdu+s+9ac7W2dwerQffnJZPOS6fTtdPVW0k6ed/FoJBf8ZzzO6dD21hMWSgIX+HQUBAGqAxJ4BJzHZ68QF+osXESAm/HeF2TFegANFs9CYE9TMW1SQrU0WjcH5LBCZhnqQQFXoHp+oRkUOFnvJiUQItpwJkhOWwFtkxI4FOoURmSxIv4WfnCC7SxNHYMyWIZ83D8wgpUZijeDMnjOkzVfSEFHoVGK4Tk0dV43B5fYMQ+kseRuUcfW+D1mJK5CsmjTDXeCjnoYysnuNEjJuET97jEvlZVEXEfJ07EE6jMZu5UIy0/9d5xit4hg5ci3gRJ4knUqNTLpYYDmGWoJ91mHN50v3cM0wKY73XbhGBrsEVIlogo8K460OQtp1ol3z2oq13cZjTgGzV4MRSDJUMMvAAY41z923pIlNnS81KATWPd8Uu0fmNfjW4qMJ3q5TXAp9oX/hTbUBrUOiAUhHV8bozOmVsXEx3bZiDbwBi0eCsil4sWeDsm+AvcqyIsEH0NlEKz3UMIyh1rIhi6oAzXHmZjkm1C8Dk+KlSglTThcJ0NBm/oFCLQ3nlmgfetmv2Gv1Uj0p61SMiDPTViqKrWn9bWgr0LFPg2qpVlcssWfKlzyIOd/QuG2SfkYnmvggaX5R6hbc3Be/63W49hmA5tC7QT0jbMOtS5+CT3HraK90CDCzLL8h5BDRhtn+xLpBafZMvRTy0ubEugdv7CkBzJjRiY9ZuebteIlIEWCQtCpdPMAp9ZO1M//Izf9MhZ8zzUqWpD4JlosFjOtoeDY1q/L3eiaaDaBqEQ9PWAZjR7QF/3od6KIQft/IuBCxKoj1m4NIRcPIjZlrO1n8A4hygLhWN1n4FaqagMxW5IWT9k0EE1js+RMVLHPNt28AumgLmu1zXExz6Gg7l2DnnxAb7U3q4GZkXfOp+5xJJW14L9Qx509iTgFUuGYnEQgDctn2f5KpoxVT5SJuLTvEHsEGMA/ypbmPzvRwzxpDQa3Z6balrEaNDgKYdZRTUusLVL/Qa4I1eAdVSDaS4yH/uEYrE1Gi0Wgo1VkxsQrWcc4Lrch0QHEwBPapd1QJkg5g49Q/AQvgjFYhCez3xf5mgTwU82af3Numrxj9sxx5I5Ai/GLLdJ42llmSBWB96TCWJWQ9oyoRh0Uo9dskse15ufCYjrGocf9VHpdzyTLVCVOpwbgmOkcak9DQPD7Bay8COuCMVge9RpFxEQYYJ+rb/bDmmbZgkcjL+1butypMEs5+UGMefhm1AMbogqsG3jbzDeQZnfvIbvlWsVaH0p7JYJYveAtIGq8uxrVTTrFuLja5wTsex1AJ9ZJwTLm4+jfYXDfI33QlDpVNMArB/xppiKHUJ81GObkAf9NGOPTEBMeVRfN2OSX/A2mqxsaz+DMQ7xPu4LefEZzghxUQUWC3lwBEZnLtBHYJZrzADA614Fc12rU6bkHxHy4iE8EOJiPcyLWHYvBmUFxGFySSPtWZkgZnHQN+TBxXh7wYVQvj/7YHrEsg9wZdbPA9yiEQCZnFj2Ng3YPu/ezkO1XlF/ghInKHGiLvEumBmx7B1cE+sS9zYP2xR1iSMTVhqVR3ZOno31kCyHtB4hDy7HGyEu+kD+1oP9MVl5jNfMKfgj5MXjuDvExwzsFPKgu7k4LMaL+hvcHB2xnBzi4xNcEmXCxQ51KStF9GBqsVWIjyvwUUSy8BeYVFCy8ABIGagqKiDoGOJjM8zVOTrdUmv5AtKth9ESmW5diU9CMWhnKg6ISFhX9gdGW76NhPVacHRkwvoXzg3F4V68E5nyL20cpnpMdMr/PLgphIiUfyM0qwrFYT2krBhZNC3pZ8BduUWTbmaCtGtCiCyansPboXh8gldEl51d/AHSvnG5Xf2MWx3rcTMA54cQWXZeKYWtQ/HYpaDCvUY+av1bQOH+U4ggjvXRZNcFWh9lVna5D4zRjAY/G+hgndqwPl6KaX1EmEezzMe5bZlHEe5WtHnU00iMjWUeRdhvl6HRRknab8q8iqn6x7LfIgzMCh9jnMUTNDAvRtqusQ3MCAu4yjj8pndCFvCx0rgmlgXchom+hqn4Ub8ETPQzpPCksrZN9DhtiI3UYrjVF6YNodz14DkVhbUh4jRy1jcZcxxddCOnyifgPuUxGjkxWmFL+x78p6hW2GTT0BRhp0S0wuI2Ezu4Qxr8oEcMgXsCRto4bjMxfjv2AUCdu63XlkBdHe1bAKvGa8cW39B+2nDA7263i165AlVaxaleMQc0e8qvMRraCYwEVDrYR1IApvraK6ZiqHf8pRHARHdaLrGRgHhjTZZwtrfVykfK7+6zk4r4QxWJjqVkhG7vBBcZheec7SDr6Bw9XvX/OdhT8qNRJT5cVvLjeSU+4FjiI6IlP2Rb4mPKJT/oXfqj8iX9YYMS+LjGfwFgmWfRuP1uXwAAAABJRU5ErkJggg==");\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container {\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container {\n  padding-left: 28px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-braille-options-buttons {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox {\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info {\n  color: #999;\n  text-decoration: none;\n  margin-left: 0.5em;\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info.dcg-active {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info i {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-refreshable-braille-note a {\n  text-decoration: underline;\n  color: #127a3d;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-interval-interior {\n  margin: 0 -6px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container {\n  margin-top: 15px;\n  position: relative;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-step-container {\n  float: right;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-mathquill-wrapper {\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-mathquill-wrapper .dcg-braille-input {\n  max-width: 50px;\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input,\n.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille {\n  position: relative;\n  outline: none;\n  border-bottom: 1px solid rgba(0,0,0,0.42);\n  padding: 2px;\n  margin: 1px;\n  margin-bottom: 1px;\n  min-width: 35px;\n  font-size: 95%;\n  max-width: 55px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-focus,\n.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-focus,\n.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid,\n.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-invalid,\n.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds,\n.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-outofbounds {\n  border-bottom: 2px solid #6399cb;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds,\n.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-outofbounds,\n.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid,\n.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-invalid {\n  border-color: #e15855;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-hovered:not(.dcg-focus),\n.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus) {\n  border-bottom: 2px solid rgba(0,0,0,0.42);\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-settings-container {\n  right: 35px;\n  width: 260px;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mq-editable-field.dcg-math-input,\n.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-braille-input {\n  padding-left: 0;\n  padding-right: 0;\n  font-size: 90%;\n  max-width: 50px;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mq-editable-field.dcg-math-input,\n.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mathquill-braille {\n  max-width: 45px;\n}.dcg-calculator-api-container .dcg-toast-view {\n  position: absolute;\n  top: 7px;\n  left: 50px;\n  right: 50px;\n  height: 0;\n  text-align: center;\n  z-index: 45;\n  overflow: visible;\n  text-shadow: none;\n  color: #222;\n  line-height: 1em;\n  -webkit-transition: 0.3s opacity;\n  -moz-transition: 0.3s opacity;\n  -o-transition: 0.3s opacity;\n  -ms-transition: 0.3s opacity;\n  transition: 0.3s opacity;\n}\n\n.dcg-calculator-api-container .dcg-toast-view:not(.dcg-visible) {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast-wrapper {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast {\n  display: inline-block;\n  padding: 6px 10px;\n  background: #fef2ad;\n  border: 1px solid #fed973;\n  border-radius: 4px;\n  font-size: 85%;\n  -webkit-box-shadow: 0 2px 6px rgba(0,0,0,0.15);\n  box-shadow: 0 2px 6px rgba(0,0,0,0.15);\n  position: relative;\n  pointer-events: auto;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-error {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast a.dcg-undo {\n  padding: 8px;\n  margin: -8px;\n  margin-left: 0px;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove {\n  font-size: 87%;\n  padding: 8px;\n  margin: -5px -10px -8px 2px;\n  color: rgba(0,0,0,0.3);\n  cursor: pointer;\n  float: right;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-hovered,\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove:focus {\n  color: rgba(0,0,0,0.6);\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-depressed {\n  color: rgba(0,0,0,0.8);\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast a {\n  margin-left: 6px;\n  text-decoration: underline;\n  cursor: pointer;\n  display: inline-block;\n  color: #333;\n  font-weight: 600;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast a.dcg-hovered {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast-cover {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=\'error\'] .dcg-toast {\n  padding-left: 28px;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=\'error\'] .dcg-toast i.dcg-icon-error {\n  position: absolute;\n  top: 7px;\n  left: 10px;\n  color: #fc944c;\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=\'curriculum\'] {\n  position: relative;\n  top: auto;\n  bottom: auto;\n  left: auto;\n  right: auto;\n  height: auto;\n  z-index: 29;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=\'curriculum\'] .dcg-toast {\n  background: #000;\n  color: rgba(255,255,255,0.9);\n  width: 100%;\n  border: none;\n  border-radius: 0;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=\'curriculum\'] .dcg-toast a {\n  color: rgba(255,255,255,0.9);\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=\'cover\'] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  padding-top: 5px;\n  height: 100%;\n  z-index: 999;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=\'cover\'] .dcg-toast-cover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  opacity: 0.3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n  display: block;\n  background-color: #000;\n}.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression {\n  height: 54px;\n  position: relative;\n  border-bottom: 1px solid transparent;\n  overflow: visible !important;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression .dcg-new-math-div {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression .dcg-new-math-div .dcg-new-expression-fade {\n  background: -webkit-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);\n  background: -moz-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);\n  background: -o-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);\n  background: -ms-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);\n  background: linear-gradient(to top, #fff, rgba(255,255,255,0) 50%);\n  width: 44px;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 3;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-new-expression-fade {\n  display: none;\n}.dcg-calculator-api-container .dcg-settings-pillbox,\n.dcg-calculator-api-container .dcg-action-zoomin,\n.dcg-calculator-api-container .dcg-action-zoomout,\n.dcg-calculator-api-container .dcg-action-zoomrestore,\n.dcg-calculator-api-container .dcg-reset-pillbox {\n  height: 37px;\n}\n\n.dcg-calculator-api-container .dcg-settings-pillbox,\n.dcg-calculator-api-container .dcg-zoominout-pillbox,\n.dcg-calculator-api-container .dcg-action-zoomrestore,\n.dcg-calculator-api-container .dcg-reset-pillbox {\n  width: 37px;\n  line-height: 37px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-zoominout-pillbox .dcg-tooltip-hit-area-container,\n.dcg-calculator-api-container .dcg-reset-pillbox .dcg-tooltip-hit-area-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-settings-pillbox,\n.dcg-calculator-api-container .dcg-zoominout-pillbox,\n.dcg-calculator-api-container .dcg-action-zoomrestore,\n.dcg-calculator-api-container .dcg-reset-pillbox {\n  margin-top: 3px;\n  margin-bottom: 3px;\n}\n\n.dcg-calculator-api-container .dcg-pillbox-container {\n  position: absolute;\n  right: 5px;\n  top: 2px;\n  bottom: 0;\n  width: 0;\n  z-index: 41;\n}\n\n.dcg-calculator-api-container .dcg-pillbox-container .dcg-overgraph-pillbox-elements {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n.dcg-calculator-api-container .dcg-pillbox-container .dcg-settings-pillbox,\n.dcg-calculator-api-container .dcg-pillbox-container .dcg-reset-pillbox {\n  float: right;\n}\n\n.dcg-calculator-api-container .dcg-zoom-container {\n  float: right;\n  clear: right;\n}\n\n.dcg-calculator-api-container .dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomin,\n.dcg-calculator-api-container .dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomout {\n  line-height: 40px;\n  font-size: 75%;\n}\n\n.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomin {\n  border-bottom: 1px solid rgba(0,0,0,0.1);\n}\n\n.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomrestore.dcg-disabled {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomrestore {\n  -webkit-animation: dcg-fadeIn-pillboxes 0.25s;\n  -moz-animation: dcg-fadeIn-pillboxes 0.25s;\n  -o-animation: dcg-fadeIn-pillboxes 0.25s;\n  -ms-animation: dcg-fadeIn-pillboxes 0.25s;\n  animation: dcg-fadeIn-pillboxes 0.25s;\n}\n\n.dcg-calculator-api-container .dcg-btn-flat-gray {\n  -webkit-box-shadow: 0 0 5px rgba(0,0,0,0.15);\n  box-shadow: 0 0 5px rgba(0,0,0,0.15);\n  border: 1px solid rgba(0,0,0,0.1);\n  border-radius: 5px;\n  cursor: pointer;\n  text-shadow: 0 1px #fff;\n}\n\n.dcg-calculator-api-container .dcg-btn-flat-gray i {\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-hovered i,\n.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-hovered i {\n  opacity: 0.9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed,\n.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed,\n.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active,\n.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active {\n  background: #e8e8e8;\n}\n\n.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed i,\n.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed i,\n.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active i,\n.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active i {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-btn-flat-gray {\n  text-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon-container {\n  z-index: 21;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon-container:not(.dcg-bottom-right) {\n  position: absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon-container.dcg-bottom-right {\n  position: absolute;\n  bottom: 5px;\n  right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon {\n  width: 37px;\n  height: 37px;\n  line-height: 40px ;\n  font-size: 110%;\n  text-shadow: -2px -2px 0 #fff, -2px 2px 0 #fff, 2px -2px 0 #fff, 2px 2px 0 #fff, 0 -2px 0 #fff, 0 2px 0 #fff, 2px 0 0 #fff, -2px 0 0 #fff;\n  text-align: center;\n  border-radius: 5px;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon.dcg-rotated {\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon i {\n  opacity: 0.6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon.dcg-hovered {\n  background: rgba(0,0,0,0.15);\n  text-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon.dcg-hovered i {\n  opacity: 0.8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon.dcg-depressed {\n  background: rgba(0,0,0,0.3);\n  text-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon.dcg-depressed i {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n@media only screen and (max-width: 450px) {\n  .dcg-calculator-api-container .dcg-zoominout-pillbox {\n    display: none;\n  }\n}\n\n@media only screen and (max-height: 450px) {\n  .dcg-calculator-api-container .dcg-zoominout-pillbox {\n    display: none;\n  }\n}\n\n@-webkit-keyframes dcg-fadeIn-pillboxes {\n  0% {\n    -webkit-transform: scale(0.75, 0.75);\n    -moz-transform: scale(0.75, 0.75);\n    -o-transform: scale(0.75, 0.75);\n    -ms-transform: scale(0.75, 0.75);\n    transform: scale(0.75, 0.75);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    -webkit-transform: scale(1, 1);\n    -moz-transform: scale(1, 1);\n    -o-transform: scale(1, 1);\n    -ms-transform: scale(1, 1);\n    transform: scale(1, 1);\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@keyframes dcg-fadeIn-pillboxes {\n  0% {\n    -webkit-transform: scale(0.75, 0.75);\n    -moz-transform: scale(0.75, 0.75);\n    -o-transform: scale(0.75, 0.75);\n    -ms-transform: scale(0.75, 0.75);\n    transform: scale(0.75, 0.75);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  100% {\n    -webkit-transform: scale(1, 1);\n    -moz-transform: scale(1, 1);\n    -o-transform: scale(1, 1);\n    -ms-transform: scale(1, 1);\n    transform: scale(1, 1);\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}.dcg-calculator-api-container .dcg-api-shared-keypad-root {\n  background-color: #ededed;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-bar {\n  background-color: transparent;\n  border-left-color: transparent;\n  border-right-color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-fourfunction-keypad-container .dcg-basic-keypad {\n  max-width: 750px;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-basic-keypad,\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-bar-contents {\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-btn.dcg-selectable-btn {\n  max-width: 70px;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: 0;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button {\n  height: 35px;\n  width: 35px;\n  line-height: 35px;\n  margin: 4px 4px 4px auto;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button .dcg-icon-hide {\n  position: relative;\n  top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button,\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner {\n  text-align: center;\n  border-radius: 5px;\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-hovered,\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner.dcg-hovered {\n  color: rgba(0,0,0,0.8);\n  background: rgba(0,0,0,0.1);\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-depressed,\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner.dcg-depressed {\n  color: #000;\n  background: rgba(0,0,0,0.18);\n}.dcg-calculator-api-container .dcg-transparent-bg {\n  background: rgba(0,0,0,0);\n}\n\n.dcg-calculator-api-container .dcg-mouse-over-closed-poi,\n.dcg-calculator-api-container .dcg-mouse-over-opened-poi,\n.dcg-calculator-api-container .dcg-mouse-over-interactive-label,\n.dcg-calculator-api-container .dcg-mouse-over-clickable-object {\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-mouse-over-movable-point {\n  cursor: move;\n}\n\n.dcg-calculator-api-container .dcg-mouse-over-movable-point-ew {\n  cursor: ew-resize;\n}\n\n.dcg-calculator-api-container .dcg-mouse-over-movable-point-ns {\n  cursor: ns-resize;\n}\n\n.dcg-calculator-api-container .dcg-mouse-over-closed-poi .dcg-tracept {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-show-border .dcg-label {\n  border: 1px solid #ddd;\n  background: #fff;\n  border-radius: 5px;\n  -webkit-box-shadow: 0 0 5px rgba(0,0,0,0.2);\n  box-shadow: 0 0 5px rgba(0,0,0,0.2);\n  padding: 8px 6px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-math-field {\n  padding: 3px 10px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-resizing-text-input-container input,\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-text-input-content {\n  padding: 5px 10px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border {\n  background: rgba(255,255,255,0.75);\n  border-radius: 4px;\n  border-width: 1px;\n  border-style: solid;\n  padding: 1px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border:not(.dcg-focus):not(.dcg-hovered) {\n  border-color: #bbb !important;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-empty-label:not(.dcg-focus):not(.dcg-hovered) {\n  border-color: #999 !important;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-empty-label,\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-focus {\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-hovered:not(.dcg-focus) {\n  border-style: solid;\n  padding: 0px;\n  border-width: 2px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-focus {\n  padding: 0px;\n  border-width: 2px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-static-mathquill-view * {\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n  user-select: none !important;\n}\n\n.dcg-calculator-api-container .dcg-tabbable-point {\n  position: absolute;\n  left: -6px;\n  top: -6px;\n  width: 12px;\n  height: 12px;\n  text-align: left;\n  overflow: hidden;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-poi-label {\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 100%;\n  color: #888;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-pt {\n  display: inline-block;\n  position: absolute;\n  top: -4px;\n  left: -4px;\n  border: 4px solid #000;\n  border-radius: 4px;\n  width: 0;\n  height: 0;\n  z-index: 0;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-label {\n  position: absolute;\n  z-index: 3;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-label.dcg-enable-transition {\n  -webkit-transition-property: -webkit-transform;\n  -moz-transition-property: -moz-transform;\n  -o-transition-property: -o-transform;\n  -ms-transition-property: -ms-transform;\n  transition-property: transform;\n  -webkit-transition-duration: 0.3s;\n  -moz-transition-duration: 0.3s;\n  -o-transition-duration: 0.3s;\n  -ms-transition-duration: 0.3s;\n  transition-duration: 0.3s;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-label .dcg-static-mathquill-view {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-label .dcg-mq-sqrt-prefix {\n  text-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-underlined-label .dcg-label-raw-text {\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-has-outline .dcg-label {\n  text-shadow: -1px -1px 0 #fff, -1px 1px 0 #fff, 1px -1px 0 #fff, 1px 1px 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;\n}\n\n.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept) .dcg-pt {\n  border-width: 5px;\n  border-color: transparent !important;\n  border-radius: 5px;\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  top: -5px !important;\n  left: -5px !important;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened {\n  color: #222;\n}\n\n.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-pt {\n  border-color: #000 !important;\n}\n\n.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-label {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-hole .dcg-pt {\n  top: -5px;\n  left: -5px;\n  border-width: 2px;\n  padding: 3px;\n  background: #fff !important;\n  border-radius: 6px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-hide-dot .dcg-pt {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-resizing-text-input-container {\n  position: relative;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-resizing-text-input-container input {\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  right: 1px;\n  font: inherit;\n  border: 0;\n  outline: 0;\n  background: transparent;\n  color: inherit;\n}\n\n.dcg-calculator-api-container .dcg-resizing-text-input-container:not(.dcg-focus) input::selection {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-resizing-text-input-container.dcg-focus input,\n.dcg-calculator-api-container .dcg-resizing-text-input-container.dcg-hovered input {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.dcg-calculator-api-container .dcg-resizing-text-input-container .dcg-text-input-content {\n  min-width: 35px;\n  display: inline-block;\n  color: transparent;\n  white-space: pre;\n}.dcg-calculator-api-container .dcg-constrained-height-popover {\n  position: absolute;\n  top: 40px;\n  bottom: 2px;\n  right: 4px;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-constrained-height-popover .dcg-popover-interior {\n  max-height: 100%;\n  pointer-events: auto;\n}\n\n.dcg-calculator-api-container .dcg-popover {\n  z-index: 80;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-popover-interior {\n  padding: 20px;\n  background-color: #fff;\n  border: 1px solid rgba(0,0,0,0.2);\n  border-radius: 6px;\n  -webkit-box-shadow: 0 5px 10px rgba(0,0,0,0.2);\n  box-shadow: 0 5px 10px rgba(0,0,0,0.2);\n  margin: -1px;\n  overflow: auto;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-top {\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-right {\n  margin-left: 10px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-bottom {\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-left {\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-popover-interior {\n  overflow: auto;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-popover-content {\n  font-size: 85%;\n  color: #444;\n  line-height: 1.5em;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-popover-title {\n  margin-bottom: 10px;\n  font-size: 115%;\n  border-bottom: 2px solid #127a3d;\n  color: #127a3d;\n  font-weight: normal;\n  background-color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-popover-title:not(:first-of-type) {\n  padding-top: 20px;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-arrow,\n.dcg-calculator-api-container .dcg-popover .dcg-arrow:after {\n  position: absolute;\n  display: inline-block;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-arrow:after {\n  content: "";\n  z-index: -1;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-top .dcg-arrow {\n  bottom: -10px;\n  left: 50%;\n  margin-left: -10px;\n  border-width: 10px 10px 0;\n  border-top-color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-top .dcg-arrow:after {\n  border-width: 11px 11px 0;\n  border-top-color: rgba(0,0,0,0.25);\n  bottom: -1px;\n  left: -11px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-right .dcg-arrow {\n  top: 50%;\n  left: -10px;\n  margin-top: -10px;\n  border-width: 10px 10px 10px 0;\n  border-right-color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-right .dcg-arrow:after {\n  border-width: 11px 11px 11px 0;\n  border-right-color: rgba(0,0,0,0.25);\n  bottom: -11px;\n  left: -1px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-bottom .dcg-arrow {\n  top: -14px;\n  margin-left: -14px;\n  border-width: 0px 14px 14px;\n  border-bottom-color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-bottom .dcg-arrow:after {\n  border-width: 0 14px 14px;\n  border-bottom-color: rgba(0,0,0,0.25);\n  top: -1px;\n  left: -14px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-left .dcg-arrow {\n  top: 50%;\n  right: -10px;\n  margin-top: -10px;\n  border-width: 10px 0 10px 10px;\n  border-left-color: #fff;\n  border-top-color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-left .dcg-arrow:after {\n  border-width: 11px 0 11px 11px;\n  border-left-color: rgba(0,0,0,0.25);\n  bottom: -11px;\n  right: -1px;\n}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem textarea.dcg-smart-textarea,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-displayTextarea {\n  font-size: 113%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-image-name {\n  font-size: 113%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-math-mode {\n  font-size: 130%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-editable-field.dcg-math-input {\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label .dcg-pt {\n  border-width: 8px;\n  border-radius: 8px;\n  margin-left: -4px;\n  margin-top: -4px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label.dcg-hole .dcg-pt {\n  border-width: 4px;\n  padding: 5px;\n  border-radius: 9px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label:not(.dcg-tracept) .dcg-pt {\n  border-width: 8px;\n  border-radius: 8px;\n  margin-left: -4px;\n  margin-top: -4px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider-container .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mathquill-braille {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-placeholder {\n  margin-top: -0.88em;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation {\n  font-size: 135%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mathquill-braille {\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-main:after {\n  width: 2px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders {\n  height: 30px;\n  line-height: 30px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-msg {\n  font-size: 100%;\n  padding: 2px 0;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-btn-slider {\n  font-size: 120%;\n  height: 30px;\n  line-height: 30px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider {\n  bottom: 30px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-display-domain {\n  bottom: 12px;\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain {\n  bottom: 6px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-math-mode {\n  font-size: 120%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu table,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain table {\n  border-collapse: collapse;\n  font-size: 20px;\n  margin: 0 auto;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu table input,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain table input {\n  font-size: 81%;\n}.dcg-calculator-api-container .dcg-create-sliders {\n  white-space: nowrap;\n  height: 26px;\n  line-height: 26px;\n}\n\n.dcg-calculator-api-container .dcg-create-sliders .dcg-msg {\n  display: inline-block;\n  margin-right: 5px;\n  font-size: 80%;\n  color: rgba(0,0,0,0.6);\n}\n\n.dcg-calculator-api-container .dcg-create-sliders .dcg-all .dcg-btn-slider {\n  font-style: normal;\n}\n\n.dcg-calculator-api-container .dcg-create-sliders .dcg-btn-slider {\n  padding: 0 10px !important;\n  font-family: times;\n  font-size: 90%;\n  font-style: italic;\n}\n\n.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container {\n  display: inline-block;\n  position: relative;\n  margin-right: 3px;\n  height: 16px;\n  margin-bottom: 4px;\n  margin-top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container .dcg-btn-slider {\n  height: 25px;\n  line-height: 25px;\n}.dcg-calculator-api-container .dcg-regression-container {\n  font-size: 80%;\n  color: #222;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-statistics {\n  display: inline-block;\n  width: 130px;\n  float: left;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-residuals {\n  float: left;\n  width: 130px;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-r-value {\n  padding-left: 0.5em;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  cursor: default;\n  padding: 2px 7px;\n  margin-left: 7px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion:not(.dcg-visible) {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion.dcg-visible {\n  -webkit-transition: opacity 0.25s;\n  -moz-transition: opacity 0.25s;\n  -o-transition: opacity 0.25s;\n  -ms-transition: opacity 0.25s;\n  transition: opacity 0.25s;\n  display: inline-block;\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle {\n  clear: both;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle.dcg-visible {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle {\n  cursor: pointer;\n  padding: 5px 0;\n  color: #444;\n  border-radius: 4px;\n  display: inline-block;\n  margin-bottom: 12px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox {\n  display: inline-block;\n  width: 15px;\n  height: 15px;\n  border: 1px solid rgba(0,0,0,0.2);\n  float: left;\n  margin-right: 6px;\n  border-radius: 3px;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox i {\n  color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-no-hover-styling {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-hovered .dcg-log-mode-checkbox,\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox {\n  border-color: #aaa;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-depressed .dcg-log-mode-checkbox {\n  border-color: #666;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox i {\n  color: #127a3d;\n  position: absolute;\n  top: -1px;\n  right: -2px;\n  font-size: 110%;\n  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help {\n  text-decoration: none;\n  color: rgba(0,0,0,0.2);\n  padding: 10px 6px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-hovered {\n  color: #aaa;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-depressed {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container {\n  clear: both;\n  padding-bottom: 4px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container .dcg-parameter {\n  float: left;\n  min-width: 130px;\n  padding-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container .dcg-parameter:nth-of-type(2n+1) {\n  clear: both;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning {\n  color: #666;\n  cursor: default;\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning i {\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning a {\n  color: #666;\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning a.dcg-hovered {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning .dcg-btn {\n  padding: 2px 5px;\n  margin-top: 4px;\n}@font-face {\n  font-family: Abraham;\n  src: url(data:application/font-woff;base64,d09GRk9UVE8AABesAAoAAAABsHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAGCAAAESoAAZxTwK+1TU9TLzIAAAFMAAAASAAAAGBqcY7HY21hcAAAArwAAAM/AAAM5C7FvppoZWFkAAAA9AAAAC8AAAA2C10Dp2hoZWEAAAEkAAAAHwAAACQGhwJ4aG10eAAAFzQAAAAkAAACiN3nXcBtYXhwAAABRAAAAAYAAAAGAKJQAG1ldGEAABdYAAAAUQAAAFXVMTtBbmFtZQAAAZQAAAEmAAACx11IF6xwb3N0AAAF/AAAAAwAAAAgAAMAAHgBY2BkYADh+nP6yvH8Nl8ZmJlfMADBlQ8P9BH0f3OmFGYjIJeZgQkkCgBSDwurAHgBY2BkYGBW+2/HwMD0myHl/xymX0ARVLAIAIH7BgMAAABQAACiAAB4AWNgZvrC+IWBlYGBqYtpNwMDQw+EZrzPYMjIxIAKmMEkC4QTAQQMDgy8GvbMav/tgJJGDCeBwoxghXLMcgwKQMgAAHxDCyh4AUzOuwkCYRBF4TP7frO7ghgZiBhbwGbagJFlWIAlmduFPckPN7jZx8wwHOAcXwIACJCDHbmcUbPJOUcecmE3JSc+csWBp1zbz8bcmjtzbx7Mo3kyz9awWOea5mlTtEBGyMGFvZwxcZNzNl5yYTcld35yxZW3XNvPxtyaO3NvHsyjeTLP1rBY55rm/6rGGFVDGAjCc5RcQFGws7Kxs7Gwj7pqMCaw6v3/wTwehJCE3Rm+z8B0s9rDXkWIoXiDW+Iq6DBDYXHwXigQEBH4v3wdFk4rZJT99VYxQrAz8ixrXVZV0/4xiUzE/26NEhVPgzaXJEUuyMmT6O1iMMnQx/Dc4jcz2FOUS64xsa+44T6WyWz9t3uYCjw2pgMsTk6amqn9A7mESTQAAHgBDMVlMwQBAADQt9gxY8Y3P0Bb3b2a1d3d3Vzccfx23peHIsUCVPxfRhgrCSOCJKBUgnKVqlSrUatOvQaRRk2atWjVpl2HTl269ejVp9+AQUOGxUaMGjNuwqQp02YkZs2Zt2DRkmUrVq1Zt2HTlm07du3Zd+DQkWMnTp05d+HSlWs3bt259+DRk2cvXr159+FTSlpGVk7el28FP379sU/fOE4GUBDHne1dh83BOdt/55yD78LJEBXX4BbUnIH+Y4opOIAlhOQZ/YrXjvS+EiJMhCgx4iRIkuKOe9JkyJLjgUeeeOaFV95454NP8hQoUqJMhSo16jRo0qJNhy7Qo8+AISPGTJgyY86CJSvWbNiyY8+BIyfOXIJAK15lx9uOwe/g13/dHz+//Nvq26+RWzISSn739U3+TtbCUrOI1C0qDYtJ0+LSsoS0LSkdS0nX7gS7l56lpW8ZGVhWhpaTkT3I2B5lYk8ytWeZ2YvM7VUW9iZLe5eVfcjaPmVjedlaQXZWlL2V5GBlOVpFTlaVs9XkYnX5wwI93TAAAAAQXa22bdt2O3tzyX28BV5AXAfFdQheh8V1RFxHxXVMXMfFdUJcJ8V1SlynxXUGXmfFdU5c58V1QVwXxXVJXJfFdUVcV8V1TVzXxXVDXDfhdQtet+F1B1534XUPXvfh9QBeD+H1CF6P4fUEXk/h9Qxez+H1Al4v4fUKXq/h9QZeb+H1Dl7v4fUBXh/h9Qlen+H1BV5f4fUNXt/h9QNeP+H1C16/4fUHXn/h9U9/EujaCAEAAGAg7u4CfcZmVC6X4hd4r3/qmoG6ZqiuGcVrxvGaSbxmGq+ZxWvm8ZpFvGYZr1mpa9bqmo26Zquu2alr9uqag7rmqK45qWvO6pqLuuaqrrmpa+7qmoe65qmuealr3uqaj7rm+y8pro4aAAAoCF4luLu7lIZD3F1I0mnezH3srHjLK+I9r4qPvCY+87r4yhviO2+Kn7wlfvO2+Ms7opB3RTHviVLeF+V8ICr5UFTzkajlY1HPJ6KRT0Uzn4lWPhftfCE6+VJ085Xo5WvRzzdikG/FMN+JUb4X4/wgJvlRTPOT+M/PYpZfxDy/isUS0BD9swB4AWNgZsALAAB9AAR4AVTRe3RU1RUG8O/bNzElREIAiSEPE9NoxIbm/aCyXAHkUUgoxKYBFpI7M2cyQ2bundyZSYAlVqstVowghVItlAq0gFiEghYFhTZVIxUVSSuIysMSpUBBYyFpinbIYa2u/nN/e+117t777EPEESTTql2O6TODlm1FLb/b9qhZqikaMB2QzO9NR2+G9GYYvZlxy/rn9b3ctzw+E4iX5Nj3hntSlmWCa+uGYZOAyEU5xmESpmEmZsMNP0JYhEfQjjVYj43Ygu3YjZfwCg6gA514C+/iCI7iI5xCNy6iB734mgkcxEQOZhJv5BAmcyhTOIzDOYI3cSRTeTPTOIrpzGAms3gLs5nDW5nLMazgBNaygfN4H+ezkSZddNNDRS+b6KOfC9jMAIO0aDPEFjoMM8IoW9nGB/kw27mGm7mdL3AfO3iQh3mUJ9jNC/yS/SIySIZKqmRJnnxLSmSsVMsUmSH1Mk880iyOLJIHZak8IatlrWyUZ2Wn7JH98rocki45LqflrFySK/KVEW8kGcONUUaOkW982yg3xhkTjWnGLGO20Wg01Ssn7Let7KIxhYWl35lkW5GwCniza8xm5cSSsfT1JyuwbKvg/x/NHTvt2IEJs8Ih063UQnfADLZE7YjyuAJWNOi6VrrJ8tiB2NmQctzKipjBWBA2Lc/AubDfagqokOkoK6C8kYHA8Tf5ImY4ohx/uDkUiIbddjBo+haFfMoKxZK2Jxwww77FyrFtS0Xa7IjPUcprRx2vvzVWcWFYtSpLXati+S3ltgO2FVZB/0AQUOGwaomagSZHmbEWLVEVjsSub0aqx0+YeM+kyVOmfnfa9JraGd+bOavu3u/X/6Bh9pzY9d3NKnJtQFcsGuh+PXd9Vrff7/Y77mgwanmUExvYUU2O2apMl9ujvE0+/4LmQNCyQy1OOBJtbVu4aPG1/5Wu6AzE/6sU8Qc8KrZrl6PM5th+BnYb23txZWGhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURrvAEWFmiJNsaZEU6op05RrKjSVmiqNqXFp3BqPRml0v+JCTZGmWFOiKdWUaco1FZpKTZXG1Lg0bo1HozS6X0mhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURovAD7GZXyc7XyCy7mCT3Ilf8ZVXM2fcw1/waf4NH/JtVzHX3E9f81nuIEbuYm/4W+5mVu4lc9yG5/j77idz3MHd/L33MXdfIEv8g/cw5f4MvdyH1/hq9zPA/wj/8QO/pmv8XW+wU6+yYP8C9/iIb7Nd/guD/M9HmEX/8q/8X0e5TF+wOP8kB/xY57gSZ7iaX7Cv/MMu/kpP+NZ/oPneJ4X+E9e5CV+zi/Ywy/5L17mFfayj/9mP//Dq/yKXwuEImJInMTLDZIg35BBkiiDJUlulCGSLEMlRYbJcBkhN8lISZWbJU1GSbpkSKZkyS2SLTlyq+TKNyVPbpPbJV/ukNHYYAAE4oAEIBGyAvEjkbAWiaORtAPJ5UjZhxHjMbITabVI70LWHGSfRK4XeeeR34o741CwEoXZKN6OsrtQcRBjG3DXadwdQvVlTLwfkwVTH8X0IahdhZmjUHcI9XVoOIa58zHvDBqb4focqg2+AizYhWAV7P2IbETbHVj0PO4vwwN78VA1Hn4DP6nBo0ewbDbaT2CFwspzWN2CNVfw9BKsM7D+p9iQjE2rsXkKtr6N5+7F9g+wsxG7uvFiAHu+wN4teHUMDuxGx1h0ZuHgJhwajXd24L1ydO3D++NxrBMf1uLjLpyag09OotuLz87jnIMLvbj0AHri0JOAngZcHozep9Cfi6tbiRLKm4yfwYRjTJzPpLNMDjPlKkcsY2oa09YzI49Z25hTxdz9vK2G+Ud4p8mCT1kYZHEPy5aw0uDYdo5L593PcPztnLiTkys49TVOn8baw5w5l3VnWG+zoY9zl/K+FDaupzuPahd9P2bzYFo5DG1juIrRDi6s4eLjXOLnDy/yR1E+0s+lD/GxBD7ezuWpfHIdV+X2ZQ35b3vXH1tXXcXvq5TcdRtFs8rohkPHCjRzndK0lrAR1iZbg6nGpzJmSUqmf1DTwQDdEn4IMoP6VWZeTP8QdGo3S5bGOKKsiUVTQjqXVTeYzKX9Z2Rdt1nMuh9dJm3f8d7PTb/t3mt4vcJp77t8EnLv+L737rnnns/9nPM95/s9vVLr//ffF4xI1fbyEmMKpeCba18x/r/Me09iYPzF7gYTfLTy9Zdk7J2uz5QYcb5Q8z2RtyoWiPPZI5dEDvQ8a9zghGEcDAZc/9TxDXzRG67/HH5s3OCEYe/w6mH/osk9rqSPLxo0uiKcE09tlsStQ6W+mOuP1YlcqPmROAt7tomcu73LuMEJwzgYDLj+qbgVX/SGk7/Hj40bnDDsHTq+4l90uNkVWfb9X+pqAiVwULbJz9pXG9WHNWMUJk59dRAo1LUdUKgrIvHwxiOxsN0kCvPdJlHkQjJItN+n+KNQOlP1ma939YTW5ddB6/KFBsPTa31wQuu3L0Drty8aDGe93jjoinHWt+yHNvF4r9QZImpoxPunCxFrO33A62oCTiQKYzBLUYCI3iyFXGhnKfluO6AwQlxIVucsJQKakNWJQmoSgVidsxN6ZHJhFPwY58jkQnIhNSEXEoVEIblQ6JGZLyQKo4FCD2AbVkjBpqLHJiUlGyckFZ8JKtfNkNSXKen2Af+LZf5wk//jVkgavtH4Qtr8z36Niy71lCnd3y9jZysK8875cwGFUV/CAyQ6rz3UCySGlWSRuM0iMUvSJBJlXWslkBj/BWX6y7Ai4ERU0dh46LCmpAk0DrbsDY9G2jBfNCE3crEtNIkLGruW1wVoDPBlL9mULWkqvoL7srDbli1p6n1J4uUlWywaLfgsGi08JX3fQGoCjdAFYTF0yY6WJ3WZcj8HIT07Wr7qfpy22iFTEs4q4SwOmMCGqmIgQVkTZ0d7BeSo2gQzmIElN2eisc+isRmSik8bX/YD06KxY/eEpOHFARpbIansaus/szw1QzSeT2aisQ+aT3c/VvPQ99NWXR4TNHbsmm90H5bVRFMM40YusmDcyOxOCDGMG6uBr+liAouvEDFBuLhx/OiazUCjfrQVF0+dqjeqAZ1RjxkjwIv00ty8GvV6NOtnXKdIFBKFXJtDBuH+FU5mqQl3lHLvEdcpfhTjQmpCLuR6e3LhzlAofP6YbnIRttMVETIFRk1k6chPRUYT48pgT298U8auPLhhAor7MqH4JQzEv3ki17pGXxOiMB81YRBJ28W5hSdRSBRGP7YgCmk7prjJhSy0EIVEIefIJv3kHOKUPpurIn/3z0Fx/tGyNzL5RXIn/0QQAKZaQvg/aQInfBHD2c8KB4MB685Yb4mQTdKjtz0lY4O/uZyD49S4kBUKaqIwmzlxZ4+Hws4q/3au++TrIpd+vkKc+d/uEzl/9m7j+qe1xh8uw2cG467BuP/Ffnzm/7jbuLiGwe/xmcG4K3LLS13iOB97V9l+/ZvrPPudXqWrDYhTV0Ti8UeHPU3OXZv/c7PuE+0y/sYL3ynxFLznQW943q03iVw+ftJ/SH/Z5QYnjOCA/zVucMIIfmLwczc4YSQ44KL+RXrf6/FEXP/OFv+N+3MDDgYDbnASuVD3CoZFzn0qZdzghGEcDAbc4IQvYhg/9kUkNg0n9bU4oKoFTC7OHYU1+a6J5TjuqmMlj3lDopCVPM46+D6RC2k7opAoZCWPHpkemTWRGKCQHpl/sJ5+jKsv2NCBlTmikLnemHhkemR6ZNZO2GKJrE4UEoWcnbDpIVuWsdEX22Ox9SZRyNiC7ebYpI2akAupCf9QPVtvEoVsvUlN2HqTCwZYdNadyhCFLPcRhWx6SBQShSz3EYW0HVPc5EIWWohCopBzZLbepM9m601yJzHJ1pust7D1JisU1IStN9l6k6032XqTrTfZVoSVPDb6IgpZyeOsg+8TuZC2IwqJQlby6JFpO7ZYIhfSI7PRFxt9cY5MFDK2IAqZ66VHJhdy7RmbHpJBiEKikBU8xoVsvcnWm3OIQjY9ZOtNopCxBVtvskkb281dqZ1xxznHaauTsVu6G3L0A2MLu/zThC3sxHntoV4p2FT0mLLm61orZexsRSF3WLNO9H7p89qa7Tkh8vKSLZKe135XSTgB4W5enDU124GTvEeis75l/4z9NsuJIZB4av3RqWSF28cdQ6WwGkNBA2UzNN75B/VX/JEvw3a6mgDsqiKgRBw0sVvvxVnQ3aDmnbn9ntvvR3LwnI0T/a/MRpw4uLV1hnFiZ5W+Fewea3XXeXrVjLWhNtZLczH4XGrCWFGcrp4felKAXnvHTdmKTEVvoLYF9bZsRaaqjUelKwKuE3JmJoaaOHuOjAbZnHCQCQdHSSTaK2w2x9Ka5TlLfJHgQ7aC58IfYA9IzIFYSd93fs8EEvG48BTxuIKHi1GDkexMDkbwKDGag3J0RaSTTbshR5kLOnY1KmtiyVNXjNNWddxoPix1JBKJsdAEEpSRaDM5RZV3q8YkZjbCnqfP9kr646XLcr1T40fXbMY7pWs/Z8cfa/UJy8SGE5HJSXx+2f36mRzAhNNzlXJODGLF6NSfiUbuPmc+kRDR58Too5B/xIr5KKKQKNRndcaH0Qc8d6GTEwkRciL7nDEIiDYnEiKMExsPHdZUxq5PbNlLwDMIICcSIhG1SQRQyAwONVHYSRX5/UcPf+vkrNjuFzfFQBOuSeT6qdwipPHgbXFZf0OvzCY8+cGH+qv4uLKZfCiJgSVbc62MtcpM5qdDK/PM8ntEagrvjNay1RigEe9VDOIMZm7onfNpzmxRyFavjBHnes6czJwz91lf1hz4stPwZQ9M78t2W1+2OHgxWoHEsgxfVl2uHln97Rjsp6sJfJmqCEAkFppYPmQT77lqfsp25BMzlZux7mbKTKXPzlSy8G5nKqHwjplKCutuIka7MZhCdOyaHxXaJSfGgEnYUl4BhfxzACE8M2MM/Wy2bq6KM5Vk00gsnH/QC2x5XWaMCHA3ZWN++iYMByEpG/NTJaEHMmLEuAE+AjFiqn4qTKoBk2mNZ2ESzngGWqiKiBEnxmAaQU5cXYguxsrzZsxTw/XA/UBOV00TvCq6Iuyrkvc2SVzzr+fQxTgHz9kMDnrf6Gdw0PuGifMPVxN54ovFcak1x7++wkRf9G1id09hDU7YmTpY1IafTdlRafaOUqzBiUbCSDpT9XOdiWPdmTnFR36bgcJko13Of8a4AaGAYKZHYZldVtIKFA7fiOX8bdmZOE0R2DGQmp29D1tUNcnqk6jNiYgVPzjgmUSPbZ/ExMmnT0hiZWlVich4+10il4p3ilxu8ERerrxf5OLIYu+D7hpX5N/bfyAy+uZCkf+0/FicT3Q8Ls41i3aLU/L83z0RBRvfEGf+8AZx5u171jscOiLOgqIz3gdrf+X6X3rC+3rFUu+Hqe96l0j+RGR0qNG/bKU/s/nrW5K+Ydk6JpU+9PXAN+yTxKdPHZ40cKc18GoYGB9YAw/dYQ18rzVw76SBt1oDt1sDH7AGXnXRGvhP1sBFfrx5tFmcawvv1dSWlUPGmlHi1YKv9zw3t68deHXs3UdHcqcCvrZIxvpfPRZ/mkBWaWXr7JIitbVVTMS+6lXMGeZJB1JwA5pVM9/OtUO60YTJEUmwUBrxenrEkMhtWwid2yvUa+rM2HMiF6GaeuLUhhXgxbB5MLCovWRTdh7s6r+nW7q/H7z4kZmoASGxSGIaaME8KZEY/ypYdm9cfTSSF99HDFNx8c9xEiLcoxPFnWK24xQ1iYYmRCE1iQCrE4WMLebeJkQhUUguJIMwtuDe7QhVh9j7kXxITRgbEoWMDf8HznRiLwAAeAFj6mJgYFzPkALCTL8Ypg0o/j0y7QeH/W+Y/SMTAwDIkfvpeAFjYGBgZIAAGRA7rTgnDcq2rFZKrSgJSy0qzszPU7JSMtQz1DNQ0lEqTk7MycxLd0tMLskvUrIyNNAzMjAxsDA0MzYyMzU2MDOsBQCPLBJ2AAAA) format(\'woff\');\n}.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {\n  background: none;\n  width: 100%;\n  border: none;\n  font-family: Abraham, serif;\n  font-size: 125%;\n  padding: 1px 0;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input:focus {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-inline-braille {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-braille-overflow-left .dcg-tooltip-hit-area-container:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  width: 14px;\n  background: -webkit-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: -moz-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: -o-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: -ms-linear-gradient(right, rgba(255,255,255,0), #fff);\n  background: linear-gradient(to left, rgba(255,255,255,0), #fff);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after {\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 14px;\n  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: linear-gradient(to right, rgba(255,255,255,0), #fff);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-ne-se .dcg-tooltip-arrow {\n  -webkit-transform: translateX(-1.25ch) rotate(45deg);\n  -moz-transform: translateX(-1.25ch) rotate(45deg);\n  -o-transform: translateX(-1.25ch) rotate(45deg);\n  -ms-transform: translateX(-1.25ch) rotate(45deg);\n  transform: translateX(-1.25ch) rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-ne-se .dcg-tooltip-message-container {\n  -webkit-transform: translateX(-1.25ch);\n  -moz-transform: translateX(-1.25ch);\n  -o-transform: translateX(-1.25ch);\n  -ms-transform: translateX(-1.25ch);\n  transform: translateX(-1.25ch);\n}\n\n.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-nw-sw .dcg-tooltip-arrow {\n  -webkit-transform: translateX(0.8ch) rotate(45deg);\n  -moz-transform: translateX(0.8ch) rotate(45deg);\n  -o-transform: translateX(0.8ch) rotate(45deg);\n  -ms-transform: translateX(0.8ch) rotate(45deg);\n  transform: translateX(0.8ch) rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-nw-sw .dcg-tooltip-message-container {\n  -webkit-transform: translateX(0.8ch);\n  -moz-transform: translateX(0.8ch);\n  -o-transform: translateX(0.8ch);\n  -ms-transform: translateX(0.8ch);\n  transform: translateX(0.8ch);\n}.dcg-calculator-api-container .dcg-tooltip-hit-area-container {\n  display: inline-block;\n  position: relative;\n  cursor: default !important;\n  line-height: initial;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-mount-pt {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container {\n  position: absolute;\n  pointer-events: none;\n  z-index: 10000;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container {\n  position: absolute;\n  z-index: 10000;\n  -webkit-animation: dcg-fadeIn 0.3s;\n  -moz-animation: dcg-fadeIn 0.3s;\n  -o-animation: dcg-fadeIn 0.3s;\n  -ms-animation: dcg-fadeIn 0.3s;\n  animation: dcg-fadeIn 0.3s;\n  white-space: normal;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message {\n  background: #000;\n  color: #fff;\n  border-radius: 4px;\n  padding: 5px 8px;\n  font-size: 14px;\n  text-shadow: none;\n  line-height: 1.1em;\n  display: inline-block;\n  pointer-events: all;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex {\n  background: #fff;\n  color: #000;\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  border: 1px solid #bbb;\n  border-radius: 5px;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex .dcg-static-mathquill-view {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex.dcg-sticky-not-stuck {\n  opacity: 0.95;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=95)";\n  filter: alpha(opacity=95);\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex.dcg-tooltip-overflow:after {\n  content: "";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 8px;\n  width: 14px;\n  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);\n  background: linear-gradient(to right, rgba(255,255,255,0), #fff);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex .dcg-mq-root-block * {\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n  user-select: none !important;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container .dcg-tooltip-arrow {\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container.dcg-tooltip-gravity-n-s .dcg-tooltip-arrow {\n  -webkit-transform: translateX(-50%) rotate(45deg);\n  -moz-transform: translateX(-50%) rotate(45deg);\n  -o-transform: translateX(-50%) rotate(45deg);\n  -ms-transform: translateX(-50%) rotate(45deg);\n  transform: translateX(-50%) rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container.dcg-tooltip-gravity-e-w .dcg-tooltip-arrow {\n  -webkit-transform: translateY(-50%) rotate(45deg);\n  -moz-transform: translateY(-50%) rotate(45deg);\n  -o-transform: translateY(-50%) rotate(45deg);\n  -ms-transform: translateY(-50%) rotate(45deg);\n  transform: translateY(-50%) rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-arrow {\n  position: absolute;\n  -webkit-animation: dcg-fadeIn 0.3s;\n  -moz-animation: dcg-fadeIn 0.3s;\n  -o-animation: dcg-fadeIn 0.3s;\n  -ms-animation: dcg-fadeIn 0.3s;\n  animation: dcg-fadeIn 0.3s;\n  z-index: 10000;\n}.dcg-calculator-api-container .dcg-toggle {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option {\n  padding: 4px 6px;\n  text-align: center;\n  border: 1px solid #ccc;\n}\n\n.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:first-of-type {\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n}\n\n.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:not(:last-of-type) {\n  border-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:last-of-type {\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n\n.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle + .dcg-toggle-option {\n  border-left: 1px solid #4781b9;\n}\n\n.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-hovered:not(.dcg-selected-toggle) {\n  background: rgba(0,0,0,0.05);\n}\n\n.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-depressed:not(.dcg-selected-toggle) {\n  background: rgba(0,0,0,0.2);\n}\n\n.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle {\n  background: rgba(71,129,185,0.15);\n  border-color: #4781b9;\n  color: #4781b9;\n  cursor: default !important;\n}\n\n.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle i {\n  cursor: default;\n}/*\n  we want to position things relative to the dcg-tap-container, e.g. tooltips.\n  but putting position:relative on body breaks layout. if it\'s the whole body,\n  then we don\'t need to worry about absolute positioning of a child relative to\n  the element anyhow\n*/\n\n.dcg-calculator-api-container .dcg-tap-container:not(body) {\n  position: relative;\n  /*so that we can absolutely position e.g. tooltips inside of our API*/\n}\n\n.dcg-calculator-api-container .dcg-focus-by-tap:focus {\n  outline: none;\n}.dcg-calculator-api-container .trip-block {\n  position: absolute;\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  -webkit-transition: 0.3s ease;\n  -moz-transition: 0.3s ease;\n  -o-transition: 0.3s ease;\n  -ms-transition: 0.3s ease;\n  transition: 0.3s ease;\n  display: none;\n  -webkit-transform: scale(0, 0);\n  -moz-transform: scale(0, 0);\n  -o-transform: scale(0, 0);\n  -ms-transform: scale(0, 0);\n  transform: scale(0, 0);\n}\n\n.dcg-calculator-api-container .trip-block.trip-is-loaded:not(.trip-hidden) {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  -webkit-transform: scale(1, 1);\n  -moz-transform: scale(1, 1);\n  -o-transform: scale(1, 1);\n  -ms-transform: scale(1, 1);\n  transform: scale(1, 1);\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior {\n  padding: 10px;\n  text-align: left;\n  min-width: 100px;\n  border-radius: 6px;\n  padding-right: 40px;\n  width: 275px;\n  background: #fff;\n  border: 3px solid #127a3d;\n  color: #444;\n  font-size: 100%;\n  -webkit-box-shadow: 0 2px 7px 0 rgba(0,0,0,0.3);\n  box-shadow: 0 2px 7px 0 rgba(0,0,0,0.3);\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-link {\n  color: #4781b9;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-title {\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-hint {\n  font-size: 80%;\n  line-height: 12px;\n  margin-top: 4px;\n  color: #666;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior i {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior code {\n  border: solid 1px #d3d3d3;\n  border-radius: 3px;\n  padding: 2px 3px;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior code i {\n  font-size: 70%;\n  font-family: Arial, sans-serif;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-close {\n  color: rgba(0,0,0,0.3);\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  font-size: 150%;\n  line-height: 16px;\n  float: right;\n  padding: 6px;\n  text-decoration: none;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-close.dcg-hovered {\n  color: rgba(0,0,0,0.6);\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-close.dcg-depressed {\n  color: rgba(0,0,0,0.8);\n}\n\n.dcg-calculator-api-container .trip-block .trip-arrow {\n  border: 10px solid transparent;\n  height: 0;\n  width: 0;\n  position: absolute;\n}\n\n.dcg-calculator-api-container .trip-block.trip-n .trip-arrow {\n  border-bottom-width: 0;\n  border-top-color: #127a3d;\n}\n\n.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {\n  border-bottom-color: #127a3d;\n  border-top-width: 0;\n}\n\n.dcg-calculator-api-container .trip-block.trip-e .trip-arrow {\n  border-left-width: 0;\n  border-right-color: #127a3d;\n}\n\n.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {\n  border-right-width: 0;\n  border-left-color: #127a3d;\n}\n\n.dcg-calculator-api-container .trip-block.trip-n .trip-arrow,\n.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {\n  left: 50%;\n  margin-left: -10px;\n}\n\n.dcg-calculator-api-container .trip-block.trip-e .trip-arrow,\n.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {\n  top: 50%;\n  margin-top: -10px;\n}\n\n.dcg-calculator-api-container .trip-block.trip-n .trip-arrow {\n  top: 100%;\n}\n\n.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {\n  bottom: 100%;\n}\n\n.dcg-calculator-api-container .trip-block.trip-e .trip-arrow {\n  right: 100%;\n}\n\n.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {\n  left: 100%;\n}\n\n.dcg-calculator-api-container .trip-progress-bar {\n  height: 1px;\n  background-color: #444;\n  width: 0;\n}/*\n * MathQuill vv1.7, by Han, Jeanine, and Mary\n * http://mathquill.com | maintainers@mathquill.com\n *\n * This Source Code Form is subject to the terms of the\n * Mozilla Public License, v. 2.0. If a copy of the MPL\n * was not distributed with this file, You can obtain\n * one at http://mozilla.org/MPL/2.0/.\n */\n\n.dcg-mq-aria-alert {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-mq-mathspeak {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor {\n  border-left: 1px solid currentColor;\n  margin-left: -1px;\n  position: relative;\n  z-index: 1;\n  padding: 0;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor.dcg-mq-blink {\n  visibility: hidden;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {\n  border: 1px solid gray;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-focused,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field.dcg-mq-focused {\n  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  border-color: #709AC0;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {\n  margin: 1px;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input {\n  color: inherit;\n  font-family: "Courier New", monospace;\n  border: 1px solid gray;\n  padding-right: 1px;\n  margin-right: 1px;\n  margin-left: 2px;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-empty {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-hasCursor {\n  border-color: ActiveBorder;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-empty:after,\n.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-text-mode:after,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty:after {\n  visibility: hidden;\n  content: \'c\';\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor:only-child:after,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea + .dcg-mq-cursor:last-child:after {\n  visibility: hidden;\n  content: \'c\';\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-text-mode .dcg-mq-cursor:only-child:after {\n  content: \'\';\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-text-mode {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block {\n  display: -moz-inline-box;\n  display: inline-block;\n  width: 100%;\n  padding: 2px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-digit,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-digit {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-start,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-start {\n  margin-left: 0.11em;\n  margin-right: -0.01em;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-other,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-other {\n  margin-left: -0.01em;\n  margin-right: -0.01em;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-1,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-1,\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-2,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-2 {\n  margin-left: 0;\n  margin-right: -0.01em;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-3,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-3 {\n  margin-left: 0.036em;\n  margin-right: -0.01em;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-start,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-start,\n.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-other,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-other,\n.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-1,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-1,\n.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-2,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-2,\n.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-3,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-3 {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode {\n  font-variant: normal;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 115%;\n  line-height: 1;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-non-leaf,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-scaled {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode var,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-nonSymbola {\n  font-family: "Times New Roman", Symbola, serif;\n  line-height: .9;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode svg {\n  fill: currentColor;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode * {\n  font-size: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n  border-color: black;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty {\n  background: rgba(0, 0, 0, 0.2);\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty.dcg-mq-root-block {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty.dcg-mq-quiet-delimiter {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode.dcg-mq-empty {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode {\n  display: inline-block;\n  white-space: pre;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode.dcg-mq-hasCursor {\n  box-shadow: inset darkgray 0 .1em .2em;\n  padding: 0 .1em;\n  margin: 0 -0.1em;\n  min-width: 1ex;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-font {\n  font: 1em "Times New Roman", Symbola, serif;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-font * {\n  font-family: inherit;\n  font-style: inherit;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode b,\n.dcg-calculator-api-container .dcg-mq-math-mode b.dcg-mq-font {\n  font-weight: bolder;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode var,\n.dcg-calculator-api-container .dcg-mq-math-mode i,\n.dcg-calculator-api-container .dcg-mq-math-mode i.dcg-mq-font {\n  font-style: italic;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-f {\n  margin-right: 0.2em;\n  margin-left: 0.1em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-roman var.dcg-mq-f {\n  margin: 0;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode big {\n  font-size: 200%;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > big {\n  display: inline-block;\n  -webkit-transform: scaleX(0.7);\n  -moz-transform: scaleX(0.7);\n  -ms-transform: scaleX(0.7);\n  -o-transform: scaleX(0.7);\n  transform: scaleX(0.7);\n  vertical-align: -0.16em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > .dcg-mq-supsub {\n  font-size: 80%;\n  vertical-align: -1.1em;\n  padding-right: .2em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > .dcg-mq-supsub > .dcg-mq-sup > .dcg-mq-sup-inner {\n  vertical-align: 1.3em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > .dcg-mq-supsub > .dcg-mq-sub {\n  margin-left: -0.35em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-roman {\n  font-style: normal;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sans-serif {\n  font-family: sans-serif, Symbola, serif;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-monospace {\n  font-family: monospace, Symbola, serif;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overline {\n  border-top: 1px solid;\n  margin-top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-underline {\n  border-bottom: 1px solid;\n  margin-bottom: 1px;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-binary-operator {\n  padding: 0 0.2em;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub {\n  text-align: left;\n  font-size: 90%;\n  vertical-align: -0.5em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only {\n  vertical-align: .5em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only > .dcg-mq-sup {\n  display: inline-block;\n  vertical-align: text-bottom;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sup {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sub {\n  display: block;\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-binary-operator {\n  padding: 0 .1em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-fraction {\n  font-size: 70%;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode sup.dcg-mq-nthroot {\n  font-size: 80%;\n  vertical-align: 0.8em;\n  margin-right: -0.6em;\n  margin-left: .2em;\n  min-width: .5em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-ghost svg {\n  opacity: 0.2;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-middle {\n  margin-top: .1em;\n  margin-bottom: .1em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-l,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-r {\n  position: absolute;\n  top: 0;\n  bottom: 2px;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-l {\n  left: 0;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-r {\n  right: 0;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-container {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-array {\n  vertical-align: middle;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-array > span {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-operator-name {\n  font-family: Symbola, "Times New Roman", serif;\n  line-height: .9;\n  font-style: normal;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-first {\n  padding-left: .2em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-last,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-after-operator-name {\n  padding-right: .2em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction {\n  font-size: 90%;\n  text-align: center;\n  vertical-align: -0.4em;\n  padding: 0 .2em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator,\n.dcg-calculator-api-container .dcg-mq-math-mode x:-moz-any-link {\n  display: -moz-groupbox;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator,\n.dcg-calculator-api-container .dcg-mq-math-mode x:-moz-any-link,\n.dcg-calculator-api-container .dcg-mq-math-mode x:default {\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-numerator,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-denominator,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-dot-recurring {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-numerator {\n  padding: 0 0.1em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-denominator {\n  border-top: 1px solid;\n  float: right;\n  width: 100%;\n  padding: 0.1em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-dot-recurring {\n  text-align: center;\n  height: 0.3em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-prefix {\n  position: absolute;\n  top: 1px;\n  bottom: 0.15em;\n  width: 0.95em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-container {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-stem {\n  border-top: 1px solid;\n  margin-top: 1px;\n  margin-left: 0.9em;\n  padding-left: .15em;\n  padding-right: .2em;\n  margin-right: .1em;\n  padding-top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-diacritic-above {\n  display: block;\n  text-align: center;\n  line-height: .4em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-diacritic-stem {\n  display: block;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-hat-prefix {\n  display: block;\n  text-align: center;\n  line-height: .95em;\n  margin-bottom: -0.7em;\n  transform: scaleX(1.5);\n  -moz-transform: scaleX(1.5);\n  -o-transform: scaleX(1.5);\n  -webkit-transform: scaleX(1.5);\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-hat-stem {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator {\n  vertical-align: -0.2em;\n  padding: .2em;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator big,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from {\n  float: right;\n  /* take out of normal flow to manipulate baseline */\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {\n  cursor: text;\n  font-family: Symbola, "Times New Roman", serif;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarc {\n  border-top: 1px solid black;\n  -webkit-border-top-right-radius: 50% .3em;\n  -moz-border-radius-topright: 50% .3em;\n  border-top-right-radius: 50% .3em;\n  -webkit-border-top-left-radius: 50% .3em;\n  -moz-border-radius-topleft: 50% .3em;\n  border-top-left-radius: 50% .3em;\n  margin-top: 1px;\n  padding-top: 0.15em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow {\n  min-width: .5em;\n  border-top: 1px solid black;\n  margin-top: 1px;\n  padding-top: 0.2em;\n  text-align: center;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow:after {\n  position: absolute;\n  right: -0.1em;\n  top: -0.48em;\n  font-size: 0.5em;\n  content: \'\\27A4\';\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:after {\n  content: \'\';\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:before,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-leftright:before {\n  position: absolute;\n  top: -0.48em;\n  left: -0.1em;\n  font-size: 0.5em;\n  content: \'\\27A4\';\n  -moz-transform: scaleX(-1);\n  -o-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n  filter: FlipH;\n  -ms-filter: "FlipH";\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-non-leaf,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-non-leaf,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-scaled,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-scaled {\n  background: #B4D5FE !important;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled {\n  background: #D4D4D4 !important;\n  color: black;\n  border-color: black;\n}\n\nhtml.dcg-calculator-api-container body .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-nthroot-container *,\nhtml body .dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-nthroot-container *,\nhtml.dcg-calculator-api-container body .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-nthroot-container *,\nhtml body .dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-nthroot-container * {\n  background: transparent !important;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-textarea {\n  position: relative;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea *,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-textarea * {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n  position: absolute;\n  clip: rect(1em 1em 1em 1em);\n  -webkit-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  -o-transform: scale(0);\n  transform: scale(0);\n  resize: none;\n  width: 1px;\n  height: 1px;\n  box-sizing: content-box;\n}',document.getElementsByTagName("head")[0].appendChild(n),"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?(t={},module.exports=t):(t="undefined"!=typeof Desmos?Desmos:{},e.Desmos=t),function(){var n=void 0,o=void 0,a=t;a.config||(a.config={}),"object"===_typeof(r)&&(a.enabledFeatures=r),"object"===("undefined"==typeof desmosLocales?"undefined":_typeof(desmosLocales))&&(a.locales=desmosLocales),"object"===("undefined"==typeof desmosLocaleData?"undefined":_typeof(desmosLocaleData))&&(a.localeData=desmosLocaleData),a.commit=i,function(){var t,r,i;!function(e){var n,o,a,s,c={},l={},d={},u={},p=Object.prototype.hasOwnProperty,g=[].slice;function h(e,t){return p.call(e,t)}function f(e,t){var n,r,i,o,a,s,c,l,u,p,g=t&&t.split("/"),h=d.map,f=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=(g=g.slice(0,g.length-1)).concat(e.split("/")),l=0;l<e.length;l+=1)if("."===(p=e[l]))e.splice(l,1),l-=1;else if(".."===p){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((g||f)&&h){for(l=(n=e.split("/")).length;l>0;l-=1){if(r=n.slice(0,l).join("/"),g)for(u=g.length;u>0;u-=1)if((i=h[g.slice(0,u).join("/")])&&(i=i[r])){o=i,a=l;break}if(o)break;!s&&f&&f[r]&&(s=f[r],c=l)}!o&&s&&(o=s,a=c),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function m(t,n){return function(){return o.apply(e,g.call(arguments,0).concat([t,n]))}}function y(e){return function(t){c[e]=t}}function b(t){if(h(l,t)){var r=l[t];delete l[t],u[t]=!0,n.apply(e,r)}if(!h(c,t)&&!h(u,t))throw new Error("No "+t);return c[t]}function v(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function x(e){return function(){return d&&d.config&&d.config[e]||{}}}a=function(e,t){var n,r=v(e),i=r[0];return e=r[1],i&&(n=b(i=f(i,t))),i?e=n&&n.normalize?n.normalize(e,function(e){return function(t){return f(t,e)}}(t)):f(e,t):(i=(r=v(e=f(e,t)))[0],e=r[1],i&&(n=b(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},s={require:function(e){return m(e)},exports:function(e){var t=c[e];return void 0!==t?t:c[e]={}},module:function(e){return{id:e,uri:"",exports:c[e],config:x(e)}}},n=function(t,n,r,i){var o,d,p,g,f,v,x=[];if(i=i||t,"function"==typeof r){for(n=!n.length&&r.length?["require","exports","module"]:n,f=0;f<n.length;f+=1)if("require"===(d=(g=a(n[f],i)).f))x[f]=s.require(t);else if("exports"===d)x[f]=s.exports(t),v=!0;else if("module"===d)o=x[f]=s.module(t);else if(h(c,d)||h(l,d)||h(u,d))x[f]=b(d);else{if(!g.p)throw new Error(t+" missing "+d);g.p.load(g.n,m(i,!0),y(d),{}),x[f]=c[d]}p=r.apply(c[t],x),t&&(o&&o.exports!==e&&o.exports!==c[t]?c[t]=o.exports:p===e&&v||(c[t]=p))}else t&&(c[t]=r)},t=r=o=function(t,r,i,c,l){return"string"==typeof t?s[t]?s[t](r):b(a(t,r).f):(t.splice||(d=t,r.splice?(t=r,r=i,i=null):t=e),r=r||function(){},"function"==typeof i&&(i=c,c=l),c?n(e,t,r,i):setTimeout((function(){n(e,t,r,i)}),4),o)},o.config=function(e){return(d=e).deps&&o(d.deps,d.callback),o},(i=function(e,t,n){t.splice||(n=t,t=[]),h(c,e)||h(l,e)||(l[e]=[e,t,n])}).amd={jQuery:!0}}(),"undefined"!=typeof ALMOND_OVERRIDES&&ALMOND_OVERRIDES&&(i=ALMOND_OVERRIDES.define||i,r=ALMOND_OVERRIDES.require||r,t=ALMOND_OVERRIDES.requirejs||t),i("core/vendor/almond",(function(){})),i("ipad.ghostevents",["require"],(function(e){var t=!1,n=null;function r(e){t&&o.evtInScope(e)&&(e.stopPropagation(),e.stopImmediatePropagation())}function i(e){t&&o.evtInScope(e)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}var o={isGhostEvent:function(e){return!1},evtInScope:function(e){return!1}};return document.addEventListener("mousedown",(function(e){o.evtInScope(e)&&(n=document.activeElement,t=o.isGhostEvent(e),r(e))}),!0),document.addEventListener("mouseup",r,!0),document.addEventListener("click",(function(e){i(e),t&&document.activeElement!==n&&(document.activeElement&&document.activeElement.blur(),n&&n.focus()),t=!1}),!0),document.addEventListener("focus",i,!0),document.addEventListener("blur",i,!0),o})),function(e,t){"object"==_typeof(n)&&"object"==_typeof(n.exports)?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){var n=[],r=Object.getPrototypeOf,o=n.slice,a=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},s=n.push,c=n.indexOf,l={},d=l.toString,u=l.hasOwnProperty,p=u.toString,g=p.call(Object),h={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},y=e.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,n){var r,i,o=(n=n||y).createElement("script");if(o.text=e,t)for(r in b)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==_typeof(e)||"function"==typeof e?l[d.call(e)]||"object":_typeof(e)}var w="3.6.0",A=function(e,t){return new A.fn.init(e,t)};function E(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!f(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}A.fn=A.prototype={jquery:w,constructor:A,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=A.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return A.each(this,e)},map:function(e){return this.pushStack(A.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(A.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},A.extend=A.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==_typeof(a)||f(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(A.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||A.isPlainObject(n)?n:{},i=!1,a[t]=A.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},A.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e)||(t=r(e))&&("function"!=typeof(n=u.call(t,"constructor")&&t.constructor)||p.call(n)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){v(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(E(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?A.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(E(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a(s)},guid:1,support:h}),"function"==typeof Symbol&&(A.fn[Symbol.iterator]=n[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var k=function(e){var t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v,x="sizzle"+1*new Date,w=e.document,A=0,E=0,k=ce(),I=ce(),S=ce(),M=ce(),C=function(e,t){return e===t&&(u=!0),0},D={}.hasOwnProperty,T=[],L=T.pop,_=T.push,O=T.push,B=T.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",q="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\[[\\x20\\t\\r\\n\\f]*("+q+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+N+"*\\]",z=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",U=new RegExp(N+"+","g"),j=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Q=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),V=new RegExp(N+"|>"),Y=new RegExp(z),H=new RegExp("^"+q+"$"),K={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},W=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){p()},ae=xe((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{O.apply(T=B.call(w.childNodes),w.childNodes),T[w.childNodes.length].nodeType}catch(e){O={apply:T.length?function(e,t){_.apply(e,B.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,l,d,u,h,y,b=t&&t.ownerDocument,w=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return r;if(!i&&(p(t),t=t||g,f)){if(11!==w&&(u=$.exec(e)))if(o=u[1]){if(9===w){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(b&&(l=b.getElementById(o))&&v(t,l)&&l.id===o)return r.push(l),r}else{if(u[2])return O.apply(r,t.getElementsByTagName(e)),r;if((o=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!M[e+" "]&&(!m||!m.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(y=e,b=t,1===w&&(V.test(e)||G.test(e))){for((b=ee.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((d=t.getAttribute("id"))?d=d.replace(re,ie):t.setAttribute("id",d=x)),s=(h=a(e)).length;s--;)h[s]=(d?"#"+d:":scope")+" "+ve(h[s]);y=h.join(",")}try{return O.apply(r,b.querySelectorAll(y)),r}catch(t){M(e,!0)}finally{d===x&&t.removeAttribute("id")}}}return c(e.replace(j,"$1"),t,r,i)}function ce(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function le(e){return e[x]=!0,e}function de(e){var t=g.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ge(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return le((function(t){return t=+t,le((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!W.test(t||n&&n.nodeName||"HTML")},p=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!=g&&9===a.nodeType&&a.documentElement?(h=(g=a).documentElement,f=!o(g),w!=g&&(i=g.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=de((function(e){return h.appendChild(e).appendChild(g.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=de((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=de((function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(g.getElementsByClassName),n.getById=de((function(e){return h.appendChild(e).id=x,!g.getElementsByName||!g.getElementsByName(x).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)},y=[],m=[],(n.qsa=Z.test(g.querySelectorAll))&&(de((function(e){var t;h.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+F+")"),e.querySelectorAll("[id~="+x+"-]").length||m.push("~="),(t=g.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),de((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=g.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=Z.test(b=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&de((function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),y.push("!=",z)})),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),t=Z.test(h.compareDocumentPosition),v=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return u=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==g||e.ownerDocument==w&&v(w,e)?-1:t==g||t.ownerDocument==w&&v(w,t)?1:d?P(d,e)-P(d,t):0:4&r?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==g?-1:t==g?1:i?-1:o?1:d?P(d,e)-P(d,t):0;if(i===o)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]==w?-1:s[r]==w?1:0},g):g},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&f&&!M[t+" "]&&(!y||!y.test(t))&&(!m||!m.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){M(t,!0)}return se(t,g,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=g&&p(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=g&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&D.call(r.attrHandle,t.toLowerCase())?i(e,t,!f):void 0;return void 0!==o?o:n.attributes||!f?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(u=!n.detectDuplicates,d=!n.sortStable&&e.slice(0),e.sort(C),u){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return d=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:le,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+N+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(U," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,d,u,p,g,h,f=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),b=!c&&!s,v=!1;if(m){if(o){for(;f;){for(p=t;p=p[f];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=f="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&b){for(v=(g=(l=(d=(u=(p=m)[x]||(p[x]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===A&&l[1])&&l[2],p=g&&m.childNodes[g];p=++g&&p&&p[f]||(v=g=0)||h.pop();)if(1===p.nodeType&&++v&&p===t){d[e]=[A,g,v];break}}else if(b&&(v=g=(l=(d=(u=(p=t)[x]||(p[x]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===A&&l[1]),!1===v)for(;(p=++g&&p&&p[f]||(v=g=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++v||(b&&((d=(u=p[x]||(p[x]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]=[A,v]),p!==t)););return(v-=i)===r||v%r==0&&v/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[x]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?le((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=P(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:le((function(e){var t=[],n=[],r=s(e.replace(j,"$1"));return r[x]?le((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:le((function(e){return function(t){return se(e,t).length>0}})),contains:le((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:le((function(e){return H.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:me((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ge(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function be(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function xe(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=E++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,c){var l,d,u,p=[A,s];if(c){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(d=(u=t[x]||(t[x]={}))[t.uniqueID]||(u[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=d[o])&&l[0]===A&&l[1]===s)return p[2]=l[2];if(d[o]=p,p[2]=e(t,n,c))return!0}return!1}}function we(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Ae(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ee(e,t,n,r,i,o){return r&&!r[x]&&(r=Ee(r)),i&&!i[x]&&(i=Ee(i,o)),le((function(o,a,s,c){var l,d,u,p=[],g=[],h=a.length,f=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?f:Ae(f,p,e,s,c),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,c),r)for(l=Ae(y,g),r(l,[],s,c),d=l.length;d--;)(u=l[d])&&(y[g[d]]=!(m[g[d]]=u));if(o){if(i||e){if(i){for(l=[],d=y.length;d--;)(u=y[d])&&l.push(m[d]=u);i(null,y=[],l,c)}for(d=y.length;d--;)(u=y[d])&&(l=i?P(o,u):p[d])>-1&&(o[l]=!(a[l]=u))}}else y=Ae(y===a?y.splice(h,y.length):y),i?i(null,a,y,c):O.apply(a,y)}))}function ke(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],c=a?1:0,d=xe((function(e){return e===t}),s,!0),u=xe((function(e){return P(t,e)>-1}),s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?d(e,n,r):u(e,n,r));return t=null,i}];c<o;c++)if(n=r.relative[e[c].type])p=[xe(we(p),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[x]){for(i=++c;i<o&&!r.relative[e[i].type];i++);return Ee(c>1&&we(p),c>1&&ve(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(j,"$1"),n,c<i&&ke(e.slice(c,i)),i<o&&ke(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return we(p)}return be.prototype=r.filters=r.pseudos,r.setFilters=new be,a=se.tokenize=function(e,t){var n,i,o,a,s,c,l,d=I[e+" "];if(d)return t?0:d.slice(0);for(s=e,c=[],l=r.preFilter;s;){for(a in n&&!(i=Q.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),n=!1,(i=G.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(j," ")}),s=s.slice(n.length)),r.filter)!(i=K[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):I(e,c).slice(0)},s=se.compile=function(e,t){var n,i=[],o=[],s=S[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=ke(t[n]))[x]?i.push(s):o.push(s);(s=S(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,c,d){var u,h,m,y=0,b="0",v=o&&[],x=[],w=l,E=o||i&&r.find.TAG("*",d),k=A+=null==w?1:Math.random()||.1,I=E.length;for(d&&(l=a==g||a||d);b!==I&&null!=(u=E[b]);b++){if(i&&u){for(h=0,a||u.ownerDocument==g||(p(u),s=!f);m=e[h++];)if(m(u,a||g,s)){c.push(u);break}d&&(A=k)}n&&((u=!m&&u)&&y--,o&&v.push(u))}if(y+=b,n&&b!==y){for(h=0;m=t[h++];)m(v,x,a,s);if(o){if(y>0)for(;b--;)v[b]||x[b]||(x[b]=L.call(c));x=Ae(x)}O.apply(c,x),d&&!o&&x.length>0&&y+t.length>1&&se.uniqueSort(c)}return d&&(A=k,l=w),v};return n?le(o):o}(o,i))).selector=e}return s},c=se.select=function(e,t,n,i){var o,c,l,d,u,p="function"==typeof e&&e,g=!i&&a(e=p.selector||e);if(n=n||[],1===g.length){if((c=g[0]=g[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===t.nodeType&&f&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(o=K.needsContext.test(e)?0:c.length;o--&&(l=c[o],!r.relative[d=l.type]);)if((u=r.find[d])&&(i=u(l.matches[0].replace(te,ne),ee.test(c[0].type)&&ye(t.parentNode)||t))){if(c.splice(o,1),!(e=i.length&&ve(c)))return O.apply(n,i),n;break}}return(p||s(e,g))(i,t,!f,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=x.split("").sort(C).join("")===x,n.detectDuplicates=!!u,p(),n.sortDetached=de((function(e){return 1&e.compareDocumentPosition(g.createElement("fieldset"))})),de((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&de((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),de((function(e){return null==e.getAttribute("disabled")}))||ue(F,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(e);A.find=k,A.expr=k.selectors,A.expr[":"]=A.expr.pseudos,A.uniqueSort=A.unique=k.uniqueSort,A.text=k.getText,A.isXMLDoc=k.isXML,A.contains=k.contains,A.escapeSelector=k.escape;var I=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&A(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},M=A.expr.match.needsContext;function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,t,n){return f(t)?A.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?A.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?A.grep(e,(function(e){return c.call(t,e)>-1!==n})):A.filter(t,e,n)}A.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?A.find.matchesSelector(r,e)?[r]:[]:A.find.matches(e,A.grep(t,(function(e){return 1===e.nodeType})))},A.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(A(e).filter((function(){for(t=0;t<r;t++)if(A.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)A.find(e,i[t],n);return r>1?A.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&M.test(e)?A(e):e||[],!1).length}});var L,_=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(A.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||L,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:_.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof A?t[0]:t,A.merge(this,A.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),D.test(r[1])&&A.isPlainObject(t))for(r in t)f(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=y.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==n.ready?n.ready(e):e(A):A.makeArray(e,this)}).prototype=A.fn,L=A(y);var O=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}A.fn.extend({has:function(e){var t=A(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(A.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&A(e);if(!M.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&A.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?A.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?c.call(A(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),A.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return I(e,"parentNode")},parentsUntil:function(e,t,n){return I(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return I(e,"nextSibling")},prevAll:function(e){return I(e,"previousSibling")},nextUntil:function(e,t,n){return I(e,"nextSibling",n)},prevUntil:function(e,t,n){return I(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),A.merge([],e.childNodes))}},(function(e,t){A.fn[e]=function(n,r){var i=A.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=A.filter(r,i)),this.length>1&&(B[e]||A.uniqueSort(i),O.test(e)&&i.reverse()),this.pushStack(i)}}));var F=/[^\x20\t\r\n\f]+/g;function N(e){return e}function q(e){throw e}function R(e,t,n,r){var i;try{e&&f(i=e.promise)?i.call(e).done(t).fail(n):e&&f(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}A.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return A.each(e.match(F)||[],(function(e,n){t[n]=!0})),t}(e):A.extend({},e);var t,n,r,i,o=[],a=[],s=-1,c=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){A.each(n,(function(n,r){f(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)}))}(arguments),n&&!t&&c()),this},remove:function(){return A.each(arguments,(function(e,t){for(var n;(n=A.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?A.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},A.extend({Deferred:function(t){var n=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return A.Deferred((function(t){A.each(n,(function(n,r){var i=f(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,c=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,c))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==_typeof(e)||"function"==typeof e)&&e.then,f(l)?i?l.call(e,a(o,n,N,i),a(o,n,q,i)):(o++,l.call(e,a(o,n,N,i),a(o,n,q,i),a(o,n,N,n.notifyWith))):(r!==N&&(s=void 0,c=[e]),(i||n.resolveWith)(s,c))}},d=i?l:function(){try{l()}catch(e){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(e,d.stackTrace),t+1>=o&&(r!==q&&(s=void 0,c=[e]),n.rejectWith(s,c))}};t?d():(A.Deferred.getStackHook&&(d.stackTrace=A.Deferred.getStackHook()),e.setTimeout(d))}}return A.Deferred((function(e){n[0][3].add(a(0,e,f(i)?i:N,e.notifyWith)),n[1][3].add(a(0,e,f(t)?t:N)),n[2][3].add(a(0,e,f(r)?r:q))})).promise()},promise:function(e){return null!=e?A.extend(e,i):i}},o={};return A.each(n,(function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add((function(){r=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith})),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=A.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(R(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||f(i[n]&&i[n].then)))return a.then();for(;n--;)R(i[n],s(n),a.reject);return a.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&z.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},A.readyException=function(t){e.setTimeout((function(){throw t}))};var U=A.Deferred();function j(){y.removeEventListener("DOMContentLoaded",j),e.removeEventListener("load",j),A.ready()}A.fn.ready=function(e){return U.then(e).catch((function(e){A.readyException(e)})),this},A.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--A.readyWait:A.isReady)||(A.isReady=!0,!0!==e&&--A.readyWait>0||U.resolveWith(y,[A]))}}),A.ready.then=U.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?e.setTimeout(A.ready):(y.addEventListener("DOMContentLoaded",j),e.addEventListener("load",j));var Q=function(e,t,n,r,i,o,a){var s=0,c=e.length,l=null==n;if("object"===x(n))for(s in i=!0,n)Q(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,f(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(A(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):c?t(e[0],n):o},G=/^-ms-/,V=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function H(e){return e.replace(G,"ms-").replace(V,Y)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function W(){this.expando=A.expando+W.uid++}W.uid=1,W.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[H(t)]=n;else for(r in t)i[H(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][H(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(H):(t=H(t))in r?[t]:t.match(F)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||A.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!A.isEmptyObject(t)}};var J=new W,X=new W,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$=/[A-Z]/g;function ee(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace($,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}(n)}catch(e){}X.set(e,t,n)}else n=void 0;return n}A.extend({hasData:function(e){return X.hasData(e)||J.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),A.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=X.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=H(r.slice(5)),ee(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==_typeof(e)?this.each((function(){X.set(this,e)})):Q(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=X.get(o,e))||void 0!==(n=ee(o,e))?n:void 0;this.each((function(){X.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){X.remove(this,e)}))}}),A.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,A.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=A.queue(e,t),r=n.length,i=n.shift(),o=A._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){A.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:A.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),A.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?A.queue(this[0],e):void 0===t?this:this.each((function(){var n=A.queue(this,e,t);A._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&A.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){A.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=A.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=y.documentElement,oe=function(e){return A.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(oe=function(e){return A.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===A.css(e,"display")};function ce(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return A.css(e,t,"")},c=s(),l=n&&n[3]||(A.cssNumber[t]?"":"px"),d=e.nodeType&&(A.cssNumber[t]||"px"!==l&&+c)&&ne.exec(A.css(e,t));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;a--;)A.style(e,t,d+l),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),d/=o;d*=2,A.style(e,t,d+l),n=n||[]}return n&&(d=+d||+c||0,i=n[1]?d+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=d,r.end=i)),i}var le={};function de(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=A.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function ue(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&se(r)&&(i[o]=de(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}A.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){se(this)?A(this).show():A(this).hide()}))}});var pe,ge,he=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i;pe=y.createDocumentFragment().appendChild(y.createElement("div")),(ge=y.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),pe.appendChild(ge),h.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",h.option=!!pe.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?A.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,h.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var xe=/<|&#?\w+;/;function we(e,t,n,r,i){for(var o,a,s,c,l,d,u=t.createDocumentFragment(),p=[],g=0,h=e.length;g<h;g++)if((o=e[g])||0===o)if("object"===x(o))A.merge(p,o.nodeType?[o]:o);else if(xe.test(o)){for(a=a||u.appendChild(t.createElement("div")),s=(fe.exec(o)||["",""])[1].toLowerCase(),c=ye[s]||ye._default,a.innerHTML=c[1]+A.htmlPrefilter(o)+c[2],d=c[0];d--;)a=a.lastChild;A.merge(p,a.childNodes),(a=u.firstChild).textContent=""}else p.push(t.createTextNode(o));for(u.textContent="",g=0;o=p[g++];)if(r&&A.inArray(o,r)>-1)i&&i.push(o);else if(l=oe(o),a=be(u.appendChild(o),"script"),l&&ve(a),n)for(d=0;o=a[d++];)me.test(o.type||"")&&n.push(o);return u}var Ae=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Ie(e,t){return e===function(){try{return y.activeElement}catch(e){}}()==("focus"===t)}function Se(e,t,n,r,i,o){var a,s;if("object"==_typeof(t)){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Se(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return A().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=A.guid++)),e.each((function(){A.event.add(this,t,i,r,n)}))}function Me(e,t,n){n?(J.set(e,t,!1),A.event.add(e,t,{namespace:!1,handler:function(e){var r,i,a=J.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(A.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=o.call(arguments),J.set(this,t,a),r=n(this,t),this[t](),a!==(i=J.get(this,t))||r?J.set(this,t,!1):i={},a!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else a.length&&(J.set(this,t,{value:A.event.trigger(A.extend(a[0],A.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&A.event.add(e,t,Ee)}A.event={global:{},add:function(e,t,n,r,i){var o,a,s,c,l,d,u,p,g,h,f,m=J.get(e);if(K(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&A.find.matchesSelector(ie,i),n.guid||(n.guid=A.guid++),(c=m.events)||(c=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(t){return void 0!==A&&A.event.triggered!==t.type?A.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(F)||[""]).length;l--;)g=f=(s=Ae.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),g&&(u=A.event.special[g]||{},g=(i?u.delegateType:u.bindType)||g,u=A.event.special[g]||{},d=A.extend({type:g,origType:f,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&A.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=c[g])||((p=c[g]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(g,a)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,d):p.push(d),A.event.global[g]=!0)},remove:function(e,t,n,r,i){var o,a,s,c,l,d,u,p,g,h,f,m=J.hasData(e)&&J.get(e);if(m&&(c=m.events)){for(l=(t=(t||"").match(F)||[""]).length;l--;)if(g=f=(s=Ae.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),g){for(u=A.event.special[g]||{},p=c[g=(r?u.delegateType:u.bindType)||g]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)d=p[o],!i&&f!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||r&&r!==d.selector&&("**"!==r||!d.selector)||(p.splice(o,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(e,d));a&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,h,m.handle)||A.removeEvent(e,g,m.handle),delete c[g])}else for(g in c)A.event.remove(e,g+t[l],n,r,!0);A.isEmptyObject(c)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),c=A.event.fix(e),l=(J.get(this,"events")||Object.create(null))[c.type]||[],d=A.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(a=A.event.handlers.call(this,c,l),t=0;(i=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(r=((A.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,i,o,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?A(i,this).index(l)>-1:A.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(A.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[A.expando]?e:new A.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&C(t,"input")&&Me(t,"click",Ee),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&C(t,"input")&&Me(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&C(t,"input")&&J.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},A.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},A.Event=function(e,t){if(!(this instanceof A.Event))return new A.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&A.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},(function(e,t){A.event.special[e]={setup:function(){return Me(this,e,Ie),!1},trigger:function(){return Me(this,e),!0},_default:function(){return!0},delegateType:t}})),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){A.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||A.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),A.fn.extend({on:function(e,t,n,r){return Se(this,e,t,n,r)},one:function(e,t,n,r){return Se(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,A(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==_typeof(e)){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each((function(){A.event.remove(this,e,n,t)}))}});var Ce=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&A(e).children("tbody")[0]||e}function _e(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Be(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(J.hasData(e)&&(s=J.get(e).events))for(i in J.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)A.event.add(t,i,s[i][n]);X.hasData(e)&&(o=X.access(e),a=A.extend({},o),X.set(t,a))}}function Pe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&he.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,r){t=a(t);var i,o,s,c,l,d,u=0,p=e.length,g=p-1,m=t[0],y=f(m);if(y||p>1&&"string"==typeof m&&!h.checkClone&&De.test(m))return e.each((function(i){var o=e.eq(i);y&&(t[0]=m.call(this,i,o.html())),Fe(o,t,n,r)}));if(p&&(o=(i=we(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(c=(s=A.map(be(i,"script"),_e)).length;u<p;u++)l=i,u!==g&&(l=A.clone(l,!0,!0),c&&A.merge(s,be(l,"script"))),n.call(e[u],l,u);if(c)for(d=s[s.length-1].ownerDocument,A.map(s,Oe),u=0;u<c;u++)l=s[u],me.test(l.type||"")&&!J.access(l,"globalEval")&&A.contains(d,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?A._evalUrl&&!l.noModule&&A._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},d):v(l.textContent.replace(Te,""),l,d))}return e}function Ne(e,t,n){for(var r,i=t?A.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||A.cleanData(be(r)),r.parentNode&&(n&&oe(r)&&ve(be(r,"script")),r.parentNode.removeChild(r));return e}A.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),c=oe(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||A.isXMLDoc(e)))for(a=be(s),r=0,i=(o=be(e)).length;r<i;r++)Pe(o[r],a[r]);if(t)if(n)for(o=o||be(e),a=a||be(s),r=0,i=o.length;r<i;r++)Be(o[r],a[r]);else Be(e,s);return(a=be(s,"script")).length>0&&ve(a,!c&&be(e,"script")),s},cleanData:function(e){for(var t,n,r,i=A.event.special,o=0;void 0!==(n=e[o]);o++)if(K(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?A.event.remove(n,r):A.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),A.fn.extend({detach:function(e){return Ne(this,e,!0)},remove:function(e){return Ne(this,e)},text:function(e){return Q(this,(function(e){return void 0===e?A.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(A.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return A.clone(this,e,t)}))},html:function(e){return Q(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ce.test(e)&&!ye[(fe.exec(e)||["",""])[1].toLowerCase()]){e=A.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(A.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;A.inArray(this,e)<0&&(A.cleanData(be(this)),n&&n.replaceChild(t,this))}),e)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){A.fn[e]=function(e){for(var n,r=[],i=A(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),A(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}}));var qe=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Re=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ze=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ue=new RegExp(re.join("|"),"i");function je(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=A.style(e,t)),!h.pixelBoxStyles()&&qe.test(a)&&Ue.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(l).appendChild(d);var t=e.getComputedStyle(d);r="1%"!==t.top,c=12===n(t.marginLeft),d.style.right="60%",a=36===n(t.right),i=36===n(t.width),d.style.position="absolute",o=12===n(d.offsetWidth/3),ie.removeChild(l),d=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,c,l=y.createElement("div"),d=y.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===d.style.backgroundClip,A.extend(h,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,r,i;return null==s&&(t=y.createElement("table"),n=y.createElement("tr"),r=y.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",r.style.height="9px",r.style.display="block",ie.appendChild(t).appendChild(n).appendChild(r),i=e.getComputedStyle(n),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===n.offsetHeight,ie.removeChild(t)),s}}))}();var Ge=["Webkit","Moz","ms"],Ve=y.createElement("div").style,Ye={};function He(e){return A.cssProps[e]||Ye[e]||(e in Ve?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in Ve)return e}(e)||e)}var Ke=/^(none|table(?!-c[ea]).+)/,We=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"};function Ze(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function $e(e,t,n,r,i,o){var a="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=A.css(e,n+re[a],!0,i)),r?("content"===n&&(c-=A.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(c-=A.css(e,"border"+re[a]+"Width",!0,i))):(c+=A.css(e,"padding"+re[a],!0,i),"padding"!==n?c+=A.css(e,"border"+re[a]+"Width",!0,i):s+=A.css(e,"border"+re[a]+"Width",!0,i));return!r&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-s-.5))||0),c}function et(e,t,n){var r=Re(e),i=(!h.boxSizingReliable()||n)&&"border-box"===A.css(e,"boxSizing",!1,r),o=i,a=je(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(qe.test(a)){if(!n)return a;a="auto"}return(!h.boxSizingReliable()&&i||!h.reliableTrDimensions()&&C(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===A.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===A.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+$e(e,t,n||(i?"border":"content"),o,r,a)+"px"}function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}A.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=je(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=H(t),c=We.test(t),l=e.style;if(c||(t=He(s)),a=A.cssHooks[t]||A.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=_typeof(n))&&(i=ne.exec(n))&&i[1]&&(n=ce(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=i&&i[3]||(A.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=H(t);return We.test(t)||(t=He(s)),(a=A.cssHooks[t]||A.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=je(e,t,r)),"normal"===i&&t in Xe&&(i=Xe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),A.each(["height","width"],(function(e,t){A.cssHooks[t]={get:function(e,n,r){if(n)return!Ke.test(A.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):ze(e,Je,(function(){return et(e,t,r)}))},set:function(e,n,r){var i,o=Re(e),a=!h.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===A.css(e,"boxSizing",!1,o),c=r?$e(e,t,r,s,o):0;return s&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-$e(e,t,"border",!1,o)-.5)),c&&(i=ne.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=A.css(e,t)),Ze(0,n,c)}}})),A.cssHooks.marginLeft=Qe(h.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(je(e,"marginLeft"))||e.getBoundingClientRect().left-ze(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),A.each({margin:"",padding:"",border:"Width"},(function(e,t){A.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+re[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(A.cssHooks[e+t].set=Ze)})),A.fn.extend({css:function(e,t){return Q(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=A.css(e,t[a],!1,r);return o}return void 0!==n?A.style(e,t,n):A.css(e,t)}),e,t,arguments.length>1)}}),A.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||A.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(A.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=A.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=A.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){A.fx.step[e.prop]?A.fx.step[e.prop](e):1!==e.elem.nodeType||!A.cssHooks[e.prop]&&null==e.elem.style[He(e.prop)]?e.elem[e.prop]=e.now:A.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},A.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},A.fx=tt.prototype.init,A.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===y.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,A.fx.interval),A.fx.tick())}function st(){return e.setTimeout((function(){nt=void 0})),nt=Date.now()}function ct(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(e,t,n){var r,i,o=0,a=dt.prefilters.length,s=A.Deferred().always((function(){delete c.elem})),c=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:A.extend({},t),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=A.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),d=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=H(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=A.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(d,l.opts.specialEasing);o<a;o++)if(r=dt.prefilters[o].call(l,e,d,l.opts))return f(r.stop)&&(A._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return A.map(d,lt,l),f(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),A.fx.timer(A.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}A.Animation=A.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(F);for(var n,r=0,i=e.length;r<i;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,c,l,d,u="width"in t||"height"in t,p=this,g={},h=e.style,f=e.nodeType&&se(e),m=J.get(e,"fxshow");for(r in n.queue||(null==(a=A._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,A.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],it.test(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;f=!0}g[r]=m&&m[r]||A.style(e,r)}if((c=!A.isEmptyObject(t))||!A.isEmptyObject(g))for(r in u&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=m&&m.display)&&(l=J.get(e,"display")),"none"===(d=A.css(e,"display"))&&(l?d=l:(ue([e],!0),l=e.style.display||l,d=A.css(e,"display"),ue([e]))),("inline"===d||"inline-block"===d&&null!=l)&&"none"===A.css(e,"float")&&(c||(p.done((function(){h.display=l})),null==l&&(d=h.display,l="none"===d?"":d)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),c=!1,g)c||(m?"hidden"in m&&(f=m.hidden):m=J.access(e,"fxshow",{display:l}),o&&(m.hidden=!f),f&&ue([e],!0),p.done((function(){for(r in f||ue([e]),J.remove(e,"fxshow"),g)A.style(e,r,g[r])}))),c=lt(f?m[r]:0,r,p),r in m||(m[r]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),A.speed=function(e,t,n){var r=e&&"object"==_typeof(e)?A.extend({},e):{complete:n||!n&&t||f(e)&&e,duration:e,easing:n&&t||t&&!f(t)&&t};return A.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in A.fx.speeds?r.duration=A.fx.speeds[r.duration]:r.duration=A.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){f(r.old)&&r.old.call(this),r.queue&&A.dequeue(this,r.queue)},r},A.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=A.isEmptyObject(e),o=A.speed(t,n,r),a=function(){var t=dt(this,A.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=A.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||A.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=A.timers,a=r?r.length:0;for(n.finish=!0,A.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),A.each(["toggle","show","hide"],(function(e,t){var n=A.fn[t];A.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,r,i)}})),A.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){A.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),A.timers=[],A.fx.tick=function(){var e,t=0,n=A.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||A.fx.stop(),nt=void 0},A.fx.timer=function(e){A.timers.push(e),A.fx.start()},A.fx.interval=13,A.fx.start=function(){rt||(rt=!0,at())},A.fx.stop=function(){rt=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(t,n){return t=A.fx&&A.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var ut,pt=A.expr.attrHandle;A.fn.extend({attr:function(e,t){return Q(this,A.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){A.removeAttr(this,e)}))}}),A.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?A.prop(e,t,n):(1===o&&A.isXMLDoc(e)||(i=A.attrHooks[t.toLowerCase()]||(A.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void A.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=A.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&C(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(F);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ut={set:function(e,t,n){return!1===t?A.removeAttr(e,n):e.setAttribute(n,n),n}},A.each(A.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||A.find.attr;pt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=pt[a],pt[a]=i,i=null!=n(e,t,r)?a:null,pt[a]=o),i}}));var gt=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;function ft(e){return(e.match(F)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}A.fn.extend({prop:function(e,t){return Q(this,A.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[A.propFix[e]||e]}))}}),A.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&A.isXMLDoc(e)||(t=A.propFix[t]||t,i=A.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=A.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(A.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){A.propFix[this.toLowerCase()]=this})),A.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,c=0;if(f(e))return this.each((function(t){A(this).addClass(e.call(this,t,mt(this)))}));if((t=yt(e)).length)for(;n=this[c++];)if(i=mt(n),r=1===n.nodeType&&" "+ft(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ft(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,c=0;if(f(e))return this.each((function(t){A(this).removeClass(e.call(this,t,mt(this)))}));if(!arguments.length)return this.attr("class","");if((t=yt(e)).length)for(;n=this[c++];)if(i=mt(n),r=1===n.nodeType&&" "+ft(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=ft(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=_typeof(e),r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):f(e)?this.each((function(n){A(this).toggleClass(e.call(this,n,mt(this),t),t)})):this.each((function(){var t,i,o,a;if(r)for(i=0,o=A(this),a=yt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ft(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;A.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=f(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,A(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=A.map(i,(function(e){return null==e?"":e+""}))),(t=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=A.valHooks[i.type]||A.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n:void 0}}),A.extend({valHooks:{option:{get:function(e){var t=A.find.attr(e,"value");return null!=t?t:ft(A.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?o+1:i.length;for(r=o<0?c:a?o:0;r<c;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!C(n.parentNode,"optgroup"))){if(t=A(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=A.makeArray(t),a=i.length;a--;)((r=i[a]).selected=A.inArray(A.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),A.each(["radio","checkbox"],(function(){A.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=A.inArray(A(e).val(),t)>-1}},h.checkOn||(A.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),h.focusin="onfocusin"in e;var vt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};A.extend(A.event,{trigger:function(t,n,r,i){var o,a,s,c,l,d,p,g,h=[r||y],b=u.call(t,"type")?t.type:t,v=u.call(t,"namespace")?t.namespace.split("."):[];if(a=g=s=r=r||y,3!==r.nodeType&&8!==r.nodeType&&!vt.test(b+A.event.triggered)&&(b.indexOf(".")>-1&&(v=b.split("."),b=v.shift(),v.sort()),l=b.indexOf(":")<0&&"on"+b,(t=t[A.expando]?t:new A.Event(b,"object"==_typeof(t)&&t)).isTrigger=i?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:A.makeArray(n,[t]),p=A.event.special[b]||{},i||!p.trigger||!1!==p.trigger.apply(r,n))){if(!i&&!p.noBubble&&!m(r)){for(c=p.delegateType||b,vt.test(c+b)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||y)&&h.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=h[o++])&&!t.isPropagationStopped();)g=a,t.type=o>1?c:p.bindType||b,(d=(J.get(a,"events")||Object.create(null))[t.type]&&J.get(a,"handle"))&&d.apply(a,n),(d=l&&a[l])&&d.apply&&K(a)&&(t.result=d.apply(a,n),!1===t.result&&t.preventDefault());return t.type=b,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(h.pop(),n)||!K(r)||l&&f(r[b])&&!m(r)&&((s=r[l])&&(r[l]=null),A.event.triggered=b,t.isPropagationStopped()&&g.addEventListener(b,xt),r[b](),t.isPropagationStopped()&&g.removeEventListener(b,xt),A.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=A.extend(new A.Event,n,{type:e,isSimulated:!0});A.event.trigger(r,null,t)}}),A.fn.extend({trigger:function(e,t){return this.each((function(){A.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return A.event.trigger(e,t,n,!0)}}),h.focusin||A.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){A.event.simulate(t,e.target,A.event.fix(e))};A.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}}));var wt=e.location,At={guid:Date.now()},Et=/\?/;A.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return r=n&&n.getElementsByTagName("parsererror")[0],n&&!r||A.error("Invalid XML: "+(r?A.map(r.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var kt=/\[\]$/,It=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;function Ct(e,t,n,r){var i;if(Array.isArray(t))A.each(t,(function(t,i){n||kt.test(e)?r(e,i):Ct(e+"["+("object"==_typeof(i)&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==x(t))r(e,t);else for(i in t)Ct(e+"["+i+"]",t[i],n,r)}A.param=function(e,t){var n,r=[],i=function(e,t){var n=f(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!A.isPlainObject(e))A.each(e,(function(){i(this.name,this.value)}));else for(n in e)Ct(n,e[n],t,i);return r.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=A.prop(this,"elements");return e?A.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!A(this).is(":disabled")&&Mt.test(this.nodeName)&&!St.test(e)&&(this.checked||!he.test(e))})).map((function(e,t){var n=A(this).val();return null==n?null:Array.isArray(n)?A.map(n,(function(e){return{name:t.name,value:e.replace(It,"\r\n")}})):{name:t.name,value:n.replace(It,"\r\n")}})).get()}});var Dt=/%20/g,Tt=/#.*$/,Lt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Bt=/^\/\//,Pt={},Ft={},Nt="*/".concat("*"),qt=y.createElement("a");function Rt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(F)||[];if(f(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function zt(e,t,n,r){var i={},o=e===Ft;function a(s){var c;return i[s]=!0,A.each(e[s]||[],(function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(c=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),c}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Ut(e,t){var n,r,i=A.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&A.extend(!0,e,r),e}qt.href=wt.href,A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,A.ajaxSettings),t):Ut(A.ajaxSettings,e)},ajaxPrefilter:Rt(Pt),ajaxTransport:Rt(Ft),ajax:function(t,n){"object"==_typeof(t)&&(n=t,t=void 0),n=n||{};var r,i,o,a,s,c,l,d,u,p,g=A.ajaxSetup({},n),h=g.context||g,f=g.context&&(h.nodeType||h.jquery)?A(h):A.event,m=A.Deferred(),b=A.Callbacks("once memory"),v=g.statusCode||{},x={},w={},E="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=_t.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==l&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)k.always(e[k.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||E;return r&&r.abort(t),I(0,t),this}};if(m.promise(k),g.url=((t||g.url||wt.href)+"").replace(Bt,wt.protocol+"//"),g.type=n.method||n.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(F)||[""],null==g.crossDomain){c=y.createElement("a");try{c.href=g.url,c.href=c.href,g.crossDomain=qt.protocol+"//"+qt.host!=c.protocol+"//"+c.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=A.param(g.data,g.traditional)),zt(Pt,g,n,k),l)return k;for(u in(d=A.event&&g.global)&&0==A.active++&&A.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Ot.test(g.type),i=g.url.replace(Tt,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Dt,"+")):(p=g.url.slice(i.length),g.data&&(g.processData||"string"==typeof g.data)&&(i+=(Et.test(i)?"&":"?")+g.data,delete g.data),!1===g.cache&&(i=i.replace(Lt,"$1"),p=(Et.test(i)?"&":"?")+"_="+At.guid+++p),g.url=i+p),g.ifModified&&(A.lastModified[i]&&k.setRequestHeader("If-Modified-Since",A.lastModified[i]),A.etag[i]&&k.setRequestHeader("If-None-Match",A.etag[i])),(g.data&&g.hasContent&&!1!==g.contentType||n.contentType)&&k.setRequestHeader("Content-Type",g.contentType),k.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Nt+"; q=0.01":""):g.accepts["*"]),g.headers)k.setRequestHeader(u,g.headers[u]);if(g.beforeSend&&(!1===g.beforeSend.call(h,k,g)||l))return k.abort();if(E="abort",b.add(g.complete),k.done(g.success),k.fail(g.error),r=zt(Ft,g,n,k)){if(k.readyState=1,d&&f.trigger("ajaxSend",[k,g]),l)return k;g.async&&g.timeout>0&&(s=e.setTimeout((function(){k.abort("timeout")}),g.timeout));try{l=!1,r.send(x,I)}catch(e){if(l)throw e;I(-1,e)}}else I(-1,"No Transport");function I(t,n,a,c){var u,p,y,x,w,E=n;l||(l=!0,s&&e.clearTimeout(s),r=void 0,o=c||"",k.readyState=t>0?4:0,u=t>=200&&t<300||304===t,a&&(x=function(e,t,n){for(var r,i,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){c.unshift(i);break}if(c[0]in n)o=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(g,k,a)),!u&&A.inArray("script",g.dataTypes)>-1&&A.inArray("json",g.dataTypes)<0&&(g.converters["text script"]=function(){}),x=function(e,t,n,r){var i,o,a,s,c,l={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=d.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=l[c+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(g,x,k,u),u?(g.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(A.lastModified[i]=w),(w=k.getResponseHeader("etag"))&&(A.etag[i]=w)),204===t||"HEAD"===g.type?E="nocontent":304===t?E="notmodified":(E=x.state,p=x.data,u=!(y=x.error))):(y=E,!t&&E||(E="error",t<0&&(t=0))),k.status=t,k.statusText=(n||E)+"",u?m.resolveWith(h,[p,E,k]):m.rejectWith(h,[k,E,y]),k.statusCode(v),v=void 0,d&&f.trigger(u?"ajaxSuccess":"ajaxError",[k,g,u?p:y]),b.fireWith(h,[k,E]),d&&(f.trigger("ajaxComplete",[k,g]),--A.active||A.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return A.get(e,t,n,"json")},getScript:function(e,t){return A.get(e,void 0,t,"script")}}),A.each(["get","post"],(function(e,t){A[t]=function(e,n,r,i){return f(n)&&(i=i||r,r=n,n=void 0),A.ajax(A.extend({url:e,type:t,dataType:i,data:n,success:r},A.isPlainObject(e)&&e))}})),A.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),A._evalUrl=function(e,t,n){return A.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){A.globalEval(e,t,n)}})},A.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=A(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){A(this).wrapInner(e.call(this,t))})):this.each((function(){var t=A(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(n){A(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){A(this).replaceWith(this.childNodes)})),this}}),A.expr.pseudos.hidden=function(e){return!A.expr.pseudos.visible(e)},A.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var jt={0:200,1223:204},Qt=A.ajaxSettings.xhr();h.cors=!!Qt&&"withCredentials"in Qt,h.ajax=Qt=!!Qt,A.ajaxTransport((function(t){var n,r;if(h.cors||Qt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(jt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&r()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),A.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return A.globalEval(e),e}}}),A.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),A.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=A("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Gt,Vt=[],Yt=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||A.expando+"_"+At.guid++;return this[e]=!0,e}}),A.ajaxPrefilter("json jsonp",(function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Yt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Yt,"$1"+i):!1!==t.jsonp&&(t.url+=(Et.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||A.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always((function(){void 0===o?A(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(i)),a&&f(o)&&o(a[0]),a=o=void 0})),"script"})),h.createHTMLDocument=((Gt=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),A.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(h.createHTMLDocument?((r=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(r)):t=y),o=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&A(o).remove(),A.merge([],i.childNodes)));var r,i,o},A.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=ft(e.slice(s)),e=e.slice(0,s)),f(t)?(n=t,t=void 0):t&&"object"==_typeof(t)&&(i="POST"),a.length>0&&A.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?A("<div>").append(A.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},A.expr.pseudos.animated=function(e){return A.grep(A.timers,(function(t){return e===t.elem})).length},A.offset={setOffset:function(e,t,n){var r,i,o,a,s,c,l=A.css(e,"position"),d=A(e),u={};"static"===l&&(e.style.position="relative"),s=d.offset(),o=A.css(e,"top"),c=A.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1?(a=(r=d.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),f(t)&&(t=t.call(e,n,A.extend({},s))),null!=t.top&&(u.top=t.top-s.top+a),null!=t.left&&(u.left=t.left-s.left+i),"using"in t?t.using.call(e,u):d.css(u)}},A.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){A.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===A.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===A.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=A(e).offset()).top+=A.css(e,"borderTopWidth",!0),i.left+=A.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-A.css(r,"marginTop",!0),left:t.left-i.left-A.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===A.css(e,"position");)e=e.offsetParent;return e||ie}))}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;A.fn[e]=function(r){return Q(this,(function(e,r,i){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),A.each(["top","left"],(function(e,t){A.cssHooks[t]=Qe(h.pixelPosition,(function(e,n){if(n)return n=je(e,t),qe.test(n)?A(e).position()[t]+"px":n}))})),A.each({Height:"height",Width:"width"},(function(e,t){A.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){A.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Q(this,(function(t,n,i){var o;return m(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?A.css(t,n,s):A.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){A.fn[t]=function(e){return this.on(t,e)}})),A.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){A.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Ht=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;A.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),f(e))return r=o.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(o.call(arguments)))}).guid=e.guid=e.guid||A.guid++,i},A.holdReady=function(e){e?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=C,A.isFunction=f,A.isWindow=m,A.camelCase=H,A.type=x,A.now=Date.now,A.isNumeric=function(e){var t=A.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},A.trim=function(e){return null==e?"":(e+"").replace(Ht,"")},"function"==typeof i&&i.amd&&i("jquery",[],(function(){return A}));var Kt=e.jQuery,Wt=e.$;return A.noConflict=function(t){return e.$===A&&(e.$=Wt),t&&e.jQuery===A&&(e.jQuery=Kt),A},void 0===t&&(e.jQuery=e.$=A),A})),i("browser",["require","jquery"],(function(e){var t,n,r,i,o,a=e("jquery"),s={IS_IE8:null!==navigator.userAgent.match(/MSIE 8.0/i),IS_IE9:null!==navigator.userAgent.match(/MSIE 9.0/i),IS_IE:null!==navigator.userAgent.match(/MSIE/i)||null!==navigator.userAgent.match(/Trident/i)&&null!==navigator.userAgent.match(/rv:11/i),IS_EDGE:null!==navigator.userAgent.match(/Edge/i),IS_IPAD:null!==navigator.userAgent.match(/iPad/i),IS_MOBILE:null!==navigator.userAgent.match(/Mobile|Android/i),IS_ANDROID:null!==navigator.userAgent.match(/Android/i),IS_IOS:null!==navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,IS_CHROME:null!==navigator.userAgent.match(/Chrome/i),IS_FIREFOX:null!==navigator.userAgent.match(/Firefox/i),IS_SAFARI:null!==navigator.userAgent.match(/^((?!chrome|android).)*safari/i),IS_APPLE:null!==navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),IS_WINDOWS:null!==navigator.platform.match(/(Win32)/i),IS_TOUCH:null!==navigator.userAgent.match(/Touch/i),IS_KINDLE:null!==navigator.userAgent.match(/Kindle/i)||null!==navigator.userAgent.match(/Silk/i),IS_BRAILLENOTE:null!==navigator.userAgent.match(/KeyWeb/i),IS_IN_IFRAME:window.parent!==window};return s.IS_TABLET=s.IS_IPAD||s.IS_ANDROID||s.IS_KINDLE,s.IS_TOUCH_DEVICE=s.SHOULD_NOT_AUTOFOCUS=s.IS_IOS||s.IS_ANDROID||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),s.IOS_VERSION=(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)]:null,s.MAC_VERSION=function(){var e=navigator.appVersion.match(/OS X (\d+)_(\d+)_?(\d+)?/);return e?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:null}(),s.CHROME_VERSION=function(){var e=navigator.appVersion.match(/Chrom(e|ium)\/([0-9]+)\.([0-9]+)\.?([0-9]+)?/);return e?[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4]||0,10)]:null}(),s.SUPPORTS_INPUTMODE=(n=s.IOS_VERSION,r=s.MAC_VERSION,i=s.CHROME_VERSION,n&&n[0]>=13||s.IS_IOS&&!n&&r&&(r[0]>10||10===r[0]&&r[1]>=15)||s.IS_ANDROID&&i&&i[0]>=76),s.SUPPORTS_TRANSLATE3D=!1,a(document).ready((function(){var e,t,n=document.createElement("p"),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in document.body.insertBefore(n,null),r)if(void 0!==n.style[i]){if(n.style[i]="translate3d(1px,1px,1px)",!(t=window.getComputedStyle(n)))return;e=t.getPropertyValue(r[i])}document.body.removeChild(n),s.SUPPORTS_TRANSLATE3D=void 0!==e&&e.length>0&&"none"!==e})),s.translateRule=function(e,t){return s.SUPPORTS_TRANSLATE3D?"translate3d("+e+(e?"px":"")+","+t+(t?"px":"")+",0)":"translate("+e+(e?"px":"")+","+t+(t?"px":"")+")"},s.SUPPORTS_CANVAS=!(!(o=document.createElement("canvas")).getContext||!o.getContext("2d")),s})),i("testbridge",["require"],(function(e){var t={ready:function(){try{window.TestBridge=t,parent.USING_SELENIUM&&function(){window.consoleOverride=!0;var e=window.console.log;window.console.log=function(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(window.console,[].concat([t.join(" ")],t))}}()}catch(e){}}};return t}));var s,c=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};!function(){var e=-1,t=Math.min,n=Math.max;function r(){}function i(e,t){if(!t)throw new Error("prayer failed: "+e)}function o(t){i("a direction was passed",t===e||1===t)}function a(e){var t=document.implementation.createHTMLDocument("");if(t.body.innerHTML=e,1===t.body.children.length)return t.body.children[0];for(var n=document.createDocumentFragment();t.body.firstChild;)n.appendChild(t.body.firstChild);return n}new URLSearchParams(window.location.search);var s=function(e,t,n){var r;switch(e){case"svg":case"path":r=document.createElementNS("http://www.w3.org/2000/svg",e);break;default:r=document.createElement(e)}for(var i in t){var o=t[i];void 0!==o&&r.setAttribute(i,"string"==typeof o?o:String(o))}if(n)for(var a=0;a<n.length;a++)r.appendChild(n[a]);return r};s.text=function(e){return document.createTextNode(e)},s.block=function(e,t,n){var r=s(e,t,[n.html()]);return n.setDOM(r),x.linkElementByBlockNode(r,n),r},s.entityText=function(e){var t=a(e);return i("entity parses to a single text node",t instanceof DocumentFragment&&1===t.childNodes.length&&t.childNodes[0]instanceof Text),t.childNodes[0]};var d="​";function u(e){return e.getClientRects().length?e.getBoundingClientRect():{top:0,left:0,height:0,width:0,x:0,y:0,bottom:0,right:0}}var p,g,h=("function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(p=requestAnimationFrame,g=cancelAnimationFrame):(p=function(e){return setTimeout(e,13)},g=clearTimeout),function(e,t){var n,r=Date.now(),i=0;function o(){var n=(Date.now()-r)/e;n<=i?s():i=n,t(i,s,a)}function a(){void 0!==n&&g(n),n=void 0}function s(){a(),n=p(o)}t(e<=0?1:0,s,a)}),f=function(){function t(e){this.span=s("span",{class:"dcg-mq-aria-alert","aria-live":"assertive","aria-atomic":"true"}),this.msg="",this.items=[],this.controller=e}return t.prototype.attach=function(){var e=this.controller.container;this.span.parentNode!==e&&m(e).prepend(m(this.span))},t.prototype.queue=function(e,t){void 0===t&&(t=!1);var n="";if(e instanceof J){var r=e.mathspeak({ignoreShorthand:!0});t&&(e.parent&&e.parent.ariaLabel&&"block"===e.ariaLabel?n=e.parent.ariaLabel+" "+r:e.ariaLabel&&(n=e.ariaLabel+" "+r)),""===n&&(n=r)}else n=e||"";return this.items.push(n),this},t.prototype.queueDirOf=function(t){return o(t),this.queue(t===e?"before":"after")},t.prototype.queueDirEndOf=function(t){return o(t),this.queue(t===e?"beginning of":"end of")},t.prototype.alert=function(e){return this.attach(),e&&this.queue(e),this.items.length&&(this.msg=this.items.join(" ").replace(/ +(?= )/g,"").trim(),this.controller.containerHasFocus()&&(this.span.textContent=this.msg)),this.clear()},t.prototype.clear=function(){return this.items.length=0,this},t}(),m=function(){function t(t,n){var r;1===arguments.length&&(n=t),t&&n&&(this.ends=((r={})[e]=t,r[1]=n,r))}return t.create=function(e,n){1===arguments.length&&(n=e),i("No half-empty DOMFragments",!!e==!!n);var r=new t(e,n);return i("last is a forward sibling of first",r.isValid()),r},t.prototype.isEmpty=function(){return void 0===this.ends},t.prototype.isOneNode=function(){return!(!this.ends||this.ends[e]!==this.ends[1])},t.prototype.isValid=function(){return!this.ends||this.ends[e]===this.ends[1]||(this.eachNode((function(e){return t=e})),t===this.ends[1]);var t},t.prototype.firstNode=function(){return i("Fragment is not empty",this.ends),this.ends[e]},t.prototype.lastNode=function(){return i("Fragment is not empty",this.ends),this.ends[1]},t.prototype.children=function(){var e=this.oneNode(),n=e.firstChild,r=e.lastChild;return n&&r?new t(n,r):new t},t.prototype.join=function(n){if(!this.ends)return n;if(!n.ends)return this;for(var r=!1,o=this.ends[1].nextSibling;o;){if(o===n.ends[e]){r=!0;break}o=o.nextSibling}return i("sibling must be a forward DOM sibling of this fragment",r),new t(this.ends[e],n.ends[1])},t.prototype.oneNode=function(){return i("Fragment has a single node",this.ends&&this.ends[e]===this.ends[1]),this.ends[e]},t.prototype.oneElement=function(){var e=this.oneNode();return i("Node is an Element",e.nodeType===Node.ELEMENT_NODE),e},t.prototype.oneText=function(){var e=this.oneNode();return i("Node is Text",e.nodeType===Node.TEXT_NODE),e},t.prototype.eachNode=function(t){if(!this.ends)return this;for(var n=this.ends[1],r=this.ends[e],i=void 0;r&&(i=r.nextSibling,t(r),r!==n);r=i);return this},t.prototype.eachElement=function(e){return this.eachNode((function(t){t.nodeType===Node.ELEMENT_NODE&&e(t)})),this},t.prototype.text=function(){var e="";return this.eachNode((function(t){e+=t.textContent||""})),e},t.prototype.toNodeArray=function(){var e=[];return this.eachNode((function(t){return e.push(t)})),e},t.prototype.toElementArray=function(){var e=[];return this.eachElement((function(t){return e.push(t)})),e},t.prototype.toDocumentFragment=function(){var e=document.createDocumentFragment();return this.eachNode((function(t){return e.appendChild(t)})),e},t.prototype.insertBefore=function(t){return this.insDirOf(e,t)},t.prototype.insertAfter=function(e){return this.insDirOf(1,e)},t.prototype.append=function(e){return e.appendTo(this.oneElement()),this},t.prototype.prepend=function(e){return e.prependTo(this.oneElement()),this},t.prototype.appendTo=function(e){return this.insAtDirEnd(1,e)},t.prototype.prependTo=function(t){return this.insAtDirEnd(e,t)},t.prototype.parent=function(){if(!this.ends)return this;var n=this.ends[e].parentNode;return n?new t(n):new t},t.prototype.wrapAll=function(t){if(t.textContent="",!this.ends)return this;var n=this.ends[e].parentNode,r=this.ends[1].nextSibling;return this.appendTo(t),n&&n.insertBefore(t,r),this},t.prototype.replaceWith=function(e){var t,n=null===(t=this.ends)||void 0===t?void 0:t[1],r=null==n?void 0:n.parentNode,i=null==n?void 0:n.nextSibling;this.detach();var o=e.toDocumentFragment();return n&&r?(r.insertBefore(o,i||null),this):this},t.prototype.nthElement=function(t){if(this.ends&&!(t<0||t!==Math.floor(t)))for(var n=this.ends[e];n;){if(n.nodeType===Node.ELEMENT_NODE){if(t<=0)return n;t-=1}if(n===this.ends[1])return;n=n.nextSibling}},t.prototype.firstElement=function(){return this.nthElement(0)},t.prototype.lastElement=function(){if(this.ends)for(var t=this.ends[1];t;){if(t.nodeType===Node.ELEMENT_NODE)return t;if(t===this.ends[e])return;t=t.previousSibling}},t.prototype.first=function(){return new t(this.firstElement())},t.prototype.last=function(){return new t(this.lastElement())},t.prototype.eq=function(e){return new t(this.nthElement(e))},t.prototype.slice=function(e){if(!this.ends)return this;var n=this.nthElement(e);return n?new t(n,this.ends[1]):new t},t.prototype.next=function(){for(var e=this.oneNode();e;)if((e=e.nextSibling)&&e.nodeType===Node.ELEMENT_NODE)return new t(e);return new t},t.prototype.prev=function(){for(var e=this.oneNode();e;)if((e=e.previousSibling)&&e.nodeType===Node.ELEMENT_NODE)return new t(e);return new t},t.prototype.empty=function(){return this.eachElement((function(e){e.textContent=""})),this},t.prototype.remove=function(){return this.toDocumentFragment(),this},t.prototype.detach=function(){return this.remove()},t.prototype.insDirOf=function(t,n){var r;if(!this.ends)return this;var i=null===(r=n.ends)||void 0===r?void 0:r[t];return i&&i.parentNode?(function(t,n,r,i){n.insertBefore(r,t===e?i:i.nextSibling)}(t,i.parentNode,this.toDocumentFragment(),i),this):this.detach()},t.prototype.insAtDirEnd=function(t,n){return this.ends?(function(t,n,r){t===e?r.insertBefore(n,r.firstChild):r.appendChild(n)}(t,this.toDocumentFragment(),n),this):this},t.prototype.hasClass=function(e){var t=!1;return this.eachElement((function(n){n.classList.contains(e)&&(t=!0)})),t},t.prototype.addClass=function(e){for(var t=function(e){if(!e)return"continue";n.eachElement((function(t){t.classList.add(e)}))},n=this,r=0,i=e.split(/\s+/);r<i.length;r++)t(i[r]);return this},t.prototype.removeClass=function(e){for(var t=function(e){if(!e)return"continue";n.eachElement((function(t){t.classList.remove(e)}))},n=this,r=0,i=e.split(/\s+/);r<i.length;r++)t(i[r]);return this},t.prototype.toggleClass=function(e,t){if(!0===t)return this.addClass(e);if(!1===t)return this.removeClass(e);for(var n=function(e){if(!e)return"continue";r.eachElement((function(t){t.classList.toggle(e)}))},r=this,i=0,o=e.split(/\s+/);i<o.length;i++)n(o[i]);return this},t}().create,y=function(){function t(e,t,n){this.init(e,t,n)}return t.prototype.init=function(t,n,r){this.parent=t,this[e]=n,this[1]=r},t.copy=function(n){return new t(n.parent,n[e],n[1])},t}();function b(t,n){var r=t[e];if(r){var i=t[1];if(i)for(i=i[1];r!==i&&!1!==n(r);r=r[1]);}}function v(t,n,r){var i=t[e];if(!i)return n;var o=t[1];if(!o)return n;for(o=o[1];i!==o;i=i[1])n=r(n,i);return n}var x=function(){function t(){var i;this[n]=0,this[r]=0,this.parent=0,this.ends=((i={})[e]=0,i[1]=0,i),this.id=t.uniqueNodeId()}var n,r;return t.uniqueNodeId=function(){return t.idCounter+=1},t.getNodeOfElement=function(e){if(e){if(!e.nodeType)throw new Error("must pass an Element to NodeBase.getNodeOfElement");var t=e;return t.mqBlockNode||t.mqCmdNode}},t.linkElementByBlockNode=function(e,t){e.mqBlockNode=t},t.linkElementByCmdNode=function(e,t){e.mqCmdNode=t},t.prototype.setEnds=function(t){this.ends=t,i("No half-empty node ends",!!this.ends[e]==!!this.ends[1])},t.prototype.getEnd=function(e){return this.ends[e]},t.prototype.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},t.prototype.setDOM=function(e){return e&&i("DOM is an element or a text node",e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE),this._el=e,this},t.prototype.domFrag=function(){return m(this._el)},t.prototype.createDir=function(t,n){o(t);var r=this;return r.html(),r.domFrag().insDirOf(t,n.domFrag()),n[t]=r.adopt(n.parent,n[e],n[1]),r},t.prototype.createLeftOf=function(t){this.createDir(e,t)},t.prototype.selectChildren=function(e,t){return new D(e,t)},t.prototype.bubble=function(e){for(var t=this.getSelfNode();t&&!1!==e(t);t=t.parent);return this},t.prototype.postOrder=function(e){var t=this.getSelfNode();return function t(n){return!!n&&(n.eachChild(t),e(n),!0)}(t),t},t.prototype.isEmpty=function(){return 0===this.ends[e]&&0===this.ends[1]},t.prototype.isQuietEmptyDelimiter=function(e){if(!this.isEmpty())return!1;if(!e)return!1;if(!this.parent||void 0===this.parent.ctrlSeq)return!1;var t=this.parent.ctrlSeq.replace(/^\\(left|right)?/,"");return e.hasOwnProperty(t)},t.prototype.isStyleBlock=function(){return!1},t.prototype.isTextBlock=function(){return!1},t.prototype.children=function(){return new A(this.getEnd(e),this.getEnd(1))},t.prototype.eachChild=function(e){return b(this.ends,e),this},t.prototype.foldChildren=function(e,t){return v(this.ends,e,t)},t.prototype.withDirAdopt=function(e,t,n,r){var i=this.getSelfNode();return new A(i,i).withDirAdopt(e,t,n,r),this},t.prototype.adopt=function(e,t,n){var r=this.getSelfNode();return new A(r,r).adopt(e,t,n),this.getSelfNode()},t.prototype.disown=function(){var e=this.getSelfNode();return new A(e,e).disown(),this},t.prototype.remove=function(){return this.domFrag().remove(),this.disown()},t.prototype.shouldIgnoreSubstitutionInSimpleSubscript=function(e){return!!e.disableAutoSubstitutionInSubscripts&&!!this.parent&&this.parent.parent instanceof Ue&&!!this.parent.domFrag().hasClass("dcg-mq-sub")},t.prototype.getSelfNode=function(){return this},t.prototype.parser=function(){i("Abstract parser() method is never called",!1)},t.prototype.html=function(){throw new Error("html() unimplemented in NodeBase")},t.prototype.text=function(){return""},t.prototype.latex=function(){return""},t.prototype.finalizeTree=function(e,t){},t.prototype.contactWeld=function(e,t){},t.prototype.blur=function(e){},t.prototype.focus=function(){},t.prototype.intentionalBlur=function(){},t.prototype.reflow=function(){},t.prototype.registerInnerField=function(e,t){},t.prototype.chToCmd=function(e,t){i("Abstract chToCmd() method is never called",!1)},t.prototype.mathspeak=function(e){return""},t.prototype.seek=function(e,t){},t.prototype.siblingDeleted=function(e,t){},t.prototype.siblingCreated=function(e,t){},t.prototype.finalizeInsert=function(e,t){},t.prototype.fixDigitGrouping=function(e){},t.prototype.writeLatex=function(e,t){},t.prototype.write=function(e,t){},n=e,r=1,t.idCounter=0,t}();function w(t,n,r){i("a parent is always present",t),i("leftward is properly set up",n?n[1]===r&&n.parent===t:t.getEnd(e)===r),i("rightward is properly set up",r?r[e]===n&&r.parent===t:t.getEnd(1)===n)}var A=function(){function t(t,n,r){var a,s;if(this.disowned=!1,void 0===r&&(r=e),o(r),i("no half-empty fragments",!t==!n),t&&n){i("withDir is passed to Fragment",t instanceof J),i("oppDir is passed to Fragment",n instanceof J),i("withDir and oppDir have the same parent",t.parent===n.parent);var c=((s={})[r]=t,s[-r]=n,s);this.setEnds(c);var l=0;this.each((function(e){l=e})),i("following direction siblings from start reaches end",l===c[1])}else this.setEnds(((a={})[e]=0,a[1]=0,a))}return t.prototype.getDOMFragFromEnds=function(){var t=this.ends[e],n=this.ends[1];return 0===t||0===n?m():t===n?t.domFrag():t.domFrag().join(n.domFrag())},t.prototype.setEnds=function(e){this.ends=e},t.prototype.getEnd=function(e){return this.ends?this.ends[e]:0},t.prototype.domFrag=function(){return this.getDOMFragFromEnds()},t.prototype.withDirAdopt=function(t,n,r,i){return t===e?this.adopt(n,r,i):this.adopt(n,i,r)},t.prototype.adopt=function(t,n,r){var i;w(t,n,r);var o=this;this.disowned=!1;var a=o.ends[e];if(!a)return this;var s=o.ends[1];if(!s)return this;var c=((i={})[e]=t.getEnd(e),i[1]=t.getEnd(1),i);return n||(c[e]=a),r?r[e]=s:c[1]=s,t.setEnds(c),s[1]=r,o.each((function(r){return r[e]=n,r.parent=t,n&&(n[1]=r),n=r,!0})),o},t.prototype.disown=function(){var t,n=this,r=n.ends[e];if(!r||n.disowned)return n;this.disowned=!0;var i=n.ends[1];if(!i)return n;var o=r.parent;w(o,r[e],r),w(o,i,i[1]);var a=((t={})[e]=o.getEnd(e),t[1]=o.getEnd(1),t);return r[e]?r[e][1]=i[1]:a[e]=i[1],i[1]?i[1][e]=r[e]:a[1]=r[e],a[e]&&a[1]?o.setEnds(a):o.ends=a,n},t.prototype.remove=function(){return this.domFrag().remove(),this.disown()},t.prototype.each=function(e){return b(this.ends,e),this},t.prototype.fold=function(e,t){return v(this.ends,e,t)},t}(),E={},k={};function I(e){return e&&e.prototype instanceof J}var S,M=function(t){function n(e,n,r){var i=t.call(this,e,n,r)||this;return i.ancestors={},i}return c(n,t),n.fromCursor=function(t){return new n(t.parent,t[e],t[1])},n}(y),C=function(t){function n(e,n,r){var i=t.call(this,e,0,0)||this;return i.upDownCache={},i.cursorElement=s("span",{class:"dcg-mq-cursor"},[s.text(d)]),i._domFrag=m(),i.controller=r,i.options=n,i.setDOMFrag(m(i.cursorElement)),i.blink=function(){m(i.cursorElement).toggleClass("dcg-mq-blink")},i}return c(n,t),n.prototype.setDOMFrag=function(e){return this._domFrag=e,this},n.prototype.domFrag=function(){return this._domFrag},n.prototype.show=function(){if(m(this.cursorElement).removeClass("dcg-mq-blink"),this.setDOMFrag(m(this.cursorElement)),this.intervalId)clearInterval(this.intervalId);else{var t=this[1];if(t){var n=this.selection;n&&n.getEnd(e)[e]===this[e]?this.domFrag().insertBefore(n.domFrag()):this.domFrag().insertBefore(t.domFrag())}else this.domFrag().appendTo(this.parent.domFrag().oneElement());this.parent.focus()}return this.intervalId=setInterval(this.blink,500),this},n.prototype.hide=function(){return this.intervalId&&clearInterval(this.intervalId),this.intervalId=0,this.domFrag().detach(),this.setDOMFrag(m()),this},n.prototype.withDirInsertAt=function(e,t,n,r){var i=this.parent;this.parent=t,this[e]=n,this[-e]=r,i!==t&&i.blur&&i.blur(this)},n.prototype.insDirOf=function(e,t){return o(e),this.domFrag().insDirOf(e,t.domFrag()),this.withDirInsertAt(e,t.parent,t[e],t),this.parent.domFrag().addClass("dcg-mq-hasCursor"),this},n.prototype.insLeftOf=function(t){return this.insDirOf(e,t)},n.prototype.insRightOf=function(e){return this.insDirOf(1,e)},n.prototype.insAtDirEnd=function(e,t){return o(e),this.domFrag().insAtDirEnd(e,t.domFrag().oneElement()),this.withDirInsertAt(e,t,0,t.getEnd(e)),t.focus(),this},n.prototype.insAtLeftEnd=function(t){return this.insAtDirEnd(e,t)},n.prototype.insAtRightEnd=function(e){return this.insAtDirEnd(1,e)},n.prototype.jumpUpDown=function(e,t){var n=this;n.upDownCache[e.id]=y.copy(n);var r=n.upDownCache[t.id];if(r){var i=r[1];i?n.insLeftOf(i):n.insAtRightEnd(r.parent)}else{var o=n.getBoundingClientRectWithoutMargin().left;t.seek(o,n)}n.controller.aria.queue(t,!0)},n.prototype.getBoundingClientRectWithoutMargin=function(){var e=this.domFrag();e.removeClass("dcg-mq-cursor");var t=u(e.oneElement()),n=t.left,r=t.right;return e.addClass("dcg-mq-cursor"),{left:n,right:r}},n.prototype.unwrapGramp=function(){var t=this.parent.parent,n=t.parent,r=t[1],i=t[e];if(t.disown().eachChild((function(e){return e.isEmpty()||(e.children().adopt(n,i,r).each((function(e){return e.domFrag().insertBefore(t.domFrag()),!0})),i=e.getEnd(1)),!0})),!this[1]){var o=this[e];if(o)this[1]=o[1];else for(;!this[1];){var a=this.parent[1];if(!a){this[1]=t[1],this.parent=n;break}this.parent=a,this[1]=a.getEnd(e)}}var s=this[1];s?this.insLeftOf(s):this.insAtRightEnd(n),t.domFrag().remove();var c=t[e],l=t[1];c&&c.siblingDeleted(this.options,1),l&&l.siblingDeleted(this.options,e)},n.prototype.startSelection=function(){for(var e=this.anticursor=M.fromCursor(this),t=e.ancestors,n=e;n.parent;n=n.parent)t[n.parent.id]=n},n.prototype.endSelection=function(){delete this.anticursor},n.prototype.select=function(){var t,n=this.anticursor;if(this[e]===n[e]&&this.parent===n.parent)return!1;for(var r=this;r.parent;r=r.parent)if(r.parent.id in n.ancestors){t=r.parent;break}i("cursor and anticursor in the same tree",t);var o,a,s=t,c=n.ancestors[s.id],l=1;if(r[e]!==c)for(var d=r;d;d=d[1])if(d[1]===c[1]){l=e,o=r,a=c;break}1===l&&(o=c,a=r),o instanceof y&&(o=o[1]),a instanceof y&&(a=a[e]),this.hide().selection=s.selectChildren(o,a);var u=this.selection.getEnd(l);return this.insDirOf(l,u),this.selectionChanged(),!0},n.prototype.resetToEnd=function(t){this.clearSelection();var n=t.root;this[1]=0,this[e]=n.getEnd(1),this.parent=n},n.prototype.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},n.prototype.deleteSelection=function(){var t=this.selection;t&&(this[e]=t.getEnd(e)[e],this[1]=t.getEnd(1)[1],t.remove(),this.selectionChanged(),delete this.selection)},n.prototype.replaceSelection=function(){var t=this.selection;return t&&(this[e]=t.getEnd(e)[e],this[1]=t.getEnd(1)[1],delete this.selection),t},n.prototype.depth=function(){for(var e=this,t=0;e=e.parent;)t+=e instanceof ge?1:0;return t},n.prototype.isTooDeep=function(e){return void 0!==this.options.maxDepth&&this.depth()+(e||0)>this.options.maxDepth},n.prototype.selectionChanged=function(){},n}(y),D=function(t){function n(e,n,r){var i=t.call(this,e,n,r)||this;return i._el=s("span",{class:"dcg-mq-selection"}),i.getDOMFragFromEnds().wrapAll(i._el),i}return c(n,t),n.prototype.isCleared=function(){return void 0===this._el},n.prototype.domFrag=function(){return this.isCleared()?this.getDOMFragFromEnds():m(this._el)},n.prototype.setEnds=function(t){i("Selection ends are never empty",t[e]&&t[1]),this.ends=t},n.prototype.getEnd=function(e){return this.ends[e]},n.prototype.adopt=function(e,n,r){return this.clear(),t.prototype.adopt.call(this,e,n,r)},n.prototype.clear=function(){var e=this.getDOMFragFromEnds();return this.domFrag().replaceWith(e),this._el=void 0,this},n.prototype.join=function(e,t){return void 0===t&&(t=""),this.fold("",(function(n,r){return n+t+r[e]()}))},n}(A),T=function(){function t(e,t,n){this.textareaEventListeners={},this.id=e.id,this.data={},this.root=e,this.container=t,this.options=n,this.aria=new f(this.getControllerSelf()),this.ariaLabel="Math Input",this.ariaPostLabel="",e.controller=this.getControllerSelf(),this.cursor=e.cursor=new C(e,n,this.getControllerSelf())}return t.prototype.getControllerSelf=function(){return this},t.prototype.handle=function(t,n){var r,o=this.options.handlers,a=null===(r=this.options.handlers)||void 0===r?void 0:r.fns[t];if(a){var s=null==o?void 0:o.APIClasses[this.KIND_OF_MQ];i("APIClass is defined",s);var c=new s(this);n===e||1===n?a(n,c):a(c)}},t.onNotify=function(e){t.notifyees.push(e)},t.prototype.notify=function(e){for(var n=0;n<t.notifyees.length;n+=1)t.notifyees[n](this.cursor,e);return this},t.prototype.setAriaLabel=function(e){var t=this.getAriaLabel();return e&&"string"==typeof e&&""!==e?this.ariaLabel=e:this.editable?this.ariaLabel="Math Input":this.ariaLabel="",this.ariaLabel===t||this.containerHasFocus()||this.updateMathspeak(),this},t.prototype.getAriaLabel=function(){return"Math Input"!==this.ariaLabel?this.ariaLabel:this.editable?"Math Input":""},t.prototype.setAriaPostLabel=function(e,t){var n=this;return e&&"string"==typeof e&&""!==e?(e!==this.ariaPostLabel&&"number"==typeof t&&(this._ariaAlertTimeout&&clearTimeout(this._ariaAlertTimeout),this._ariaAlertTimeout=setTimeout((function(){n.containerHasFocus()?n.aria.alert(n.root.mathspeak().trim()+" "+e.trim()):n.updateMathspeak()}),t)),this.ariaPostLabel=e):(this._ariaAlertTimeout&&clearTimeout(this._ariaAlertTimeout),this.ariaPostLabel=""),this},t.prototype.getAriaPostLabel=function(){return this.ariaPostLabel||""},t.prototype.containerHasFocus=function(){return document.activeElement&&this.container.contains(document.activeElement)},t.prototype.getTextareaOrThrow=function(){var e=this.textarea;if(!e)throw new Error("expected a textarea");return e},t.prototype.getTextareaSpanOrThrow=function(){var e=this.textareaSpan;if(!e)throw new Error("expected a textareaSpan");return e},t.prototype.addTextareaEventListeners=function(e){if(this.textarea)for(var t in e){var n=t;this.removeTextareaEventListener(n),this.textarea.addEventListener(n,e[n])}},t.prototype.removeTextareaEventListener=function(e){if(this.textarea){var t=this.textareaEventListeners[e];t&&this.textarea.removeEventListener(e,t)}},t.prototype.exportMathSpeak=function(){return this.root.mathspeak()},t.prototype.updateMathspeak=function(){},t.prototype.scrollHoriz=function(){},t.prototype.selectionChanged=function(){},t.prototype.setOverflowClasses=function(){},t.notifyees=[],t}(),L={},_={},O={},B=function(){function e(e){this.version=e}return e.prototype.assertJquery=function(){return i("Interface versions > 2 do not depend on JQuery",this.version<=2),i("JQuery is set for interface v < 3",this.jQuery),this.jQuery},e}(),P=function(){},F=function(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')};function N(e){return F(),S||(S=z(1)),S(e)}N.prototype=P.prototype,N.VERSION="vv1.7",N.interfaceVersion=function(e){if(1!==e)throw"Only interface version 1 supported. You specified: "+e;return(F=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),N},N.getInterface=z;var q=z.MIN=1,R=z.MAX=3;function z(t){if(1!==t&&2!==t&&3!==t)throw"Only interface versions between "+q+" and "+R+" supported. You specified: "+t;var n=t;if(n<3){var r=window.jQuery;if(!r)throw"MathQuill interface version ".concat(n," requires jQuery 1.5.2+ to be loaded first");B.prototype.jQuery=r}var o=l(l({},O),{handlers:function(e){return{fns:e||{},APIClasses:g}}});function a(e,t){for(var r in t)if(t.hasOwnProperty(r)){if("substituteKeyboardEvents"===r&&n>=3)throw new Error(["As of interface version 3, the 'substituteKeyboardEvents'","option is no longer supported. Use 'overrideTypedText' and","'overrideKeystroke' instead."].join(" "));var i=t[r],a=o[r];e[r]=a?a(i):i}}var d=n<3?B:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t}(B),u=function(e){function t(t){var n=e.call(this)||this;return n.__controller=t,n.__options=t.options,n.id=t.id,n.data=t.data,n}return c(t,e),t.prototype.mathquillify=function(e){var t=this.__controller,r=t.root,i=t.container;t.createTextarea();var o=m(i).addClass(e).children().detach();r.setDOM(m(s("span",{class:"dcg-mq-root-block","aria-hidden":!0})).appendTo(i).oneElement()),x.linkElementByBlockNode(r.domFrag().oneElement(),r),this.latex(o.text()),this.revert=function(){return t.removeMouseEventListener(),m(i).removeClass("dcg-mq-editable-field dcg-mq-math-mode dcg-mq-text-mode").empty().append(o),n<3?this.__options.assertJquery()(i):i}},t.prototype.setAriaLabel=function(e){return this.__controller.setAriaLabel(e),this},t.prototype.getAriaLabel=function(){return this.__controller.getAriaLabel()},t.prototype.config=function(e){return a(this.__options,e),this},t.prototype.el=function(){return this.__controller.container},t.prototype.text=function(){return this.__controller.exportText()},t.prototype.mathspeak=function(){return this.__controller.exportMathSpeak()},t.prototype.latex=function(e){if(arguments.length>0){this.__controller.renderLatexMath(e);var t=this.__controller.cursor;return this.__controller.blurred&&t.hide().parent.blur(t),this}return this.__controller.exportLatex()},t.prototype.html=function(){return this.__controller.root.domFrag().oneElement().innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?dcg-mq-cursor( dcg-mq-blink)?"?>.?<\/span>/i,"").replace(/ dcg-mq-hasCursor|dcg-mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},t.prototype.reflow=function(){return this.__controller.root.postOrder((function(e){e.reflow()})),this},t}(P),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.mathquillify=function(e){return t.prototype.mathquillify.call(this,e),this.__controller.editable=!0,this.__controller.addMouseEventListener(),this.__controller.editablesTextareaEvents(),this},n.prototype.focus=function(){return this.__controller.getTextareaOrThrow().focus(),this.__controller.scrollHoriz(),this},n.prototype.blur=function(){return this.__controller.getTextareaOrThrow().blur(),this},n.prototype.write=function(e){this.__controller.writeLatex(e),this.__controller.scrollHoriz();var t=this.__controller.cursor;return this.__controller.blurred&&t.hide().parent.blur(t),this},n.prototype.empty=function(){var t,n=this.__controller.root,r=this.__controller.cursor;return n.setEnds(((t={})[e]=0,t[1]=0,t)),n.domFrag().empty(),delete r.selection,r.insAtRightEnd(n),this},n.prototype.cmd=function(e){var t=this.__controller.notify(void 0),n=t.cursor;if(/^\\[a-z]+$/i.test(e)&&!n.isTooDeep()){e=e.slice(1);var r,i=E[e];i&&(r=i.constructor?new i(e):i(e),n.selection&&r.replaces(n.replaceSelection()),r.createLeftOf(n.show()))}else n.parent.write(n,e);return t.scrollHoriz(),t.blurred&&n.hide().parent.blur(n),this},n.prototype.select=function(){return this.__controller.selectAll(),this},n.prototype.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},n.prototype.moveToDirEnd=function(e){return this.__controller.notify("move").cursor.insAtDirEnd(e,this.__controller.root),this},n.prototype.moveToLeftEnd=function(){return this.moveToDirEnd(e)},n.prototype.moveToRightEnd=function(){return this.moveToDirEnd(1)},n.prototype.keystroke=function(e,t){for(var n=e.replace(/^\s+|\s+$/g,"").split(/\s+/),r=0;r<n.length;r+=1)this.__controller.keystroke(n[r],t);return this},n.prototype.typedText=function(e){for(var t=0;t<e.length;t+=1)this.__controller.typedText(e.charAt(t));return this},n.prototype.dropEmbedded=function(e,t,n){var r=e-(void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft),i=t-(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop),o=document.elementFromPoint(r,i);this.__controller.seek(o,r,i),(new st).setOptions(n).createLeftOf(this.__controller.cursor)},n.prototype.setAriaPostLabel=function(e,t){return this.__controller.setAriaPostLabel(e,t),this},n.prototype.getAriaPostLabel=function(){return this.__controller.getAriaPostLabel()},n.prototype.clickAt=function(e,t,n){n=n||document.elementFromPoint(e,t);var r=this.__controller,i=r.root.domFrag().oneElement();return i.contains(n)||(n=i),r.seek(n,e,t),r.blurred&&this.focus(),this},n.prototype.ignoreNextMousedown=function(e){return this.__controller.cursor.options.ignoreNextMousedown=e,this},n}(u),g={AbstractMathQuill:u,EditableField:p};i("API.StaticMath defined",L.StaticMath),g.StaticMath=L.StaticMath(g),i("API.MathField defined",L.MathField),g.MathField=L.MathField(g),i("API.InnerMathField defined",L.InnerMathField),g.InnerMathField=L.InnerMathField(g),L.TextField&&(g.TextField=L.TextField(g));var h=function(e){if(!e||!e.nodeType)return null;for(var t,n=0,r=m(e).children().toElementArray();n<r.length;n++){var i=r[n];if(i.classList.contains("dcg-mq-root-block")){t=i;break}}var o=x.getNodeOfElement(t),a=o&&o.controller,s=a&&g[a.KIND_OF_MQ];return a&&s?new s(a):null};function f(e,t){function r(r,i){if(!r||!r.nodeType)return null;var o=h(r);if(o instanceof t)return o;var a=new ie(new t.RootBlock,r,new d(n));return a.KIND_OF_MQ=e,new t(a).__mathquillify(i||{},n)}return i(e+" is defined",t),r.prototype=t.prototype,r}return h.L=e,h.R=1,h.config=function(e){return a(d.prototype,e),this},h.registerEmbed=function(e,t){if(!/^[a-z][a-z0-9]*$/i.test(e))throw"Embed name must start with letter and be only letters and digits";_[e]=t},h.StaticMath=f("StaticMath",g.StaticMath),h.MathField=f("MathField",g.MathField),h.InnerMathField=f("InnerMathField",g.InnerMathField),g.TextField&&(h.TextField=f("TextField",g.TextField)),h.prototype=u.prototype,(h.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"}).prototype=p.prototype,n<3&&(h.saneKeyboardEvents=re),h}N.noConflict=function(){return window.MathQuill=U,N};var U=window.MathQuill;function j(e){e.moveOutOf=function(e){i("controller is defined",this.controller),this.controller.handle("moveOutOf",e)},e.deleteOutOf=function(e){i("controller is defined",this.controller),this.controller.handle("deleteOutOf",e)},e.selectOutOf=function(e){i("controller is defined",this.controller),this.controller.handle("selectOutOf",e)},e.upOutOf=function(){i("controller is defined",this.controller),this.controller.handle("upOutOf")},e.downOutOf=function(){i("controller is defined",this.controller),this.controller.handle("downOutOf")},e.reflow=function(){i("controller is defined",this.controller),this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function Q(e,t){throw"Parse Error: "+t+" at "+(e?"'"+e+"'":"EOF")}window.MathQuill=N;var G=function(){function e(e){this._=e}return e.prototype.parse=function(t){return this.skip(e.eof)._(""+t,(function(e,t){return t}),Q)},e.prototype.or=function(t){i("or is passed a parser",t instanceof e);var n=this;return new e((function(e,r,i){return n._(e,r,(function(n){return t._(e,r,i)}))}))},e.prototype.then=function(t){var n=this;return new e((function(r,o,a){return n._(r,(function(n,r){var s=t instanceof e?t:t(r);return i("a parser is returned",s instanceof e),s._(n,o,a)}),a)}))},e.prototype.many=function(){var t=this;return new e((function(e,n,r){for(var i=[];t._(e,o,a););return n(e,i);function o(t,n){return e=t,i.push(n),!0}function a(){return!1}}))},e.prototype.times=function(t,n){arguments.length<2&&(n=t);var r=this;return new e((function(e,i,o){for(var a,s=[],c=!0,l=0;l<t;l+=1)if(!(c=!!r._(e,d,u)))return o(e,a);for(;l<n&&c;l+=1)r._(e,d,p);return i(e,s);function d(t,n){return s.push(n),e=t,!0}function u(t,n){return a=n,e=t,!1}function p(e,t){return!1}}))},e.prototype.result=function(t){return this.then(e.succeed(t))},e.prototype.atMost=function(e){return this.times(0,e)},e.prototype.atLeast=function(e){var t=this;return t.times(e).then((function(e){return t.many().map((function(t){return e.concat(t)}))}))},e.prototype.map=function(t){return this.then((function(n){return e.succeed(t(n))}))},e.prototype.skip=function(e){return this.then((function(t){return e.result(t)}))},e.string=function(t){var n=t.length,r="expected '"+t+"'";return new e((function(e,i,o){var a=e.slice(0,n);return a===t?i(e.slice(n),a):o(e,r)}))},e.regex=function(t){i("regexp parser is anchored","^"===t.toString().charAt(1));var n="expected "+t;return new e((function(e,r,i){var o=t.exec(e);if(o){var a=o[0];return r(e.slice(a.length),a)}return i(e,n)}))},e.succeed=function(t){return new e((function(e,n){return n(e,t)}))},e.fail=function(t){return new e((function(e,n,r){return r(e,t)}))},e.letter=e.regex(/^[a-z]/i),e.letters=e.regex(/^[a-z]*/i),e.digit=e.regex(/^[0-9]/),e.digits=e.regex(/^[0-9]*/),e.whitespace=e.regex(/^\s+/),e.optWhitespace=e.regex(/^\s*/),e.any=new e((function(e,t,n){return e?t(e.slice(1),e.charAt(0)):n(e,"expected any character")})),e.all=new e((function(e,t,n){return t("",e)})),e.eof=new e((function(e,t,n){return e?n(e,"expected EOF"):t(e,e)})),e}(),V=function(){function e(){this.fn=r}return e.prototype.listen=function(e){this.fn=e,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.fn)},e.prototype.listenOnce=function(e){var t=this;this.listen((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.clearListener(),e.apply(void 0,n)}))},e.prototype.clearListener=function(){this.fn=r,clearTimeout(this.timeoutId)},e.prototype.trigger=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.fn.apply(this,e)},e}(),Y=function(){var e={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},t={ArrowRight:"Right",ArrowLeft:"Left",ArrowDown:"Down",ArrowUp:"Up",Delete:"Del",Escape:"Esc"," ":"Spacebar"};function n(e){switch(r(e)){case"Right":case"Left":case"Down":case"Up":return!0}return!1}function r(n){var r,i;if(void 0===n.key){var o=n.which||n.keyCode;return e[o]||String.fromCharCode(o)}return 1===(i=n.key).length&&i>="a"&&i<="z"?n.key.toUpperCase():null!==(r=t[n.key])&&void 0!==r?r:n.key}function i(e){var t=r(e),n=[];return e.ctrlKey&&n.push("Ctrl"),e.metaKey&&n.push("Meta"),e.altKey&&n.push("Alt"),e.shiftKey&&n.push("Shift"),n.length?(n.push(t),n.join("-")):t}return function(e,t){var r=null,o=null,a=new V;function s(){try{e instanceof HTMLTextAreaElement&&e.select()}catch(e){}}var c=!1;function l(){t.options&&t.options.overrideKeystroke?t.options.overrideKeystroke(i(r),r):t.keystroke(i(r),r)}function d(t){a.trigger(t),t.target===e&&(r=t,o=null,c&&a.listenOnce((function(e){e&&"focusout"===e.type||s()})),l())}function u(t){a.trigger(t),t.target===e&&(r&&o&&l(),o=t,n(t)?a.listenOnce(h):a.listen(g))}function p(t){a.trigger(t),t.target===e&&r&&!o&&(n(t)?a.listenOnce(h):a.listen(g))}function g(){if(!("selectionStart"in e&&e instanceof HTMLTextAreaElement&&e.selectionStart!==e.selectionEnd)&&e instanceof HTMLTextAreaElement){var n=e.value;1===n.length?(e.value="",t.options&&t.options.overrideTypedText?t.options.overrideTypedText(n):t.typedText(n)):h()}}function h(){e instanceof HTMLTextAreaElement&&e.value.length>1&&s()}function f(){r=null,o=null,a.clearListener(),e instanceof HTMLTextAreaElement&&(e.value="")}function m(e){a.trigger(e)}return t.options&&t.options.disableCopyPaste?t.addTextareaEventListeners({keydown:d,keypress:u,keyup:p,focusout:f,copy:function(e){e.preventDefault()},cut:function(e){e.preventDefault()},paste:function(e){a.trigger(),e.preventDefault()},input:m}):t.addTextareaEventListeners({keydown:d,keypress:u,keyup:p,focusout:f,cut:function(){a.listenOnce((function(){t.cut()}))},copy:function(){a.listenOnce((function(){t.copy()}))},paste:function(n){a.trigger(),n.target===e&&(document.activeElement!==e&&e.focus(),a.listen((function(){if(e instanceof HTMLTextAreaElement){var n=e.value;e.value="",n&&t.paste(n)}})))},input:m}),{select:function(t){a.trigger(),a.clearListener(),e instanceof HTMLTextAreaElement&&(e.value=t),t&&s(),c=!!t}}}}(),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.exportText=function(){return this.root.foldChildren("",(function(e,t){return e+t.text()}))},t}(T);T.onNotify((function(e,t){if("edit"===t||"replace"===t||void 0===t){var n=e.controller;if(!n)return;if(!n.options.enableDigitGrouping)return;if(!1!==n.blurred)return;n.disableGroupingForSeconds(1)}}));var K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTextareaFocusEditable=function(){var e=t.cursor;t.updateMathspeak(),t.blurred=!1,clearTimeout(t.blurTimeout),m(t.container).addClass("dcg-mq-focused"),e.parent||e.insAtRightEnd(t.root),e.selection?(e.selection.domFrag().removeClass("dcg-mq-blur"),t.selectionChanged()):e.show(),t.setOverflowClasses()},t.handleTextareaBlurEditable=function(){t.textareaSelectionTimeout&&(clearTimeout(t.textareaSelectionTimeout),t.textareaSelectionTimeout=0),t.disableGroupingForSeconds(0),t.blurred=!0,t.blurTimeout=setTimeout((function(){t.root.postOrder((function(e){e.intentionalBlur()})),t.cursor.clearSelection().endSelection(),t.blur(),t.updateMathspeak(),t.scrollHoriz()})),window.addEventListener("blur",t.handleWindowBlur)},t.handleTextareaFocusStatic=function(){t.blurred=!1},t.handleTextareaBlurStatic=function(){t.cursor.selection&&t.cursor.selection.clear(),setTimeout((function(){m(t.getTextareaSpanOrThrow()).detach(),t.blurred=!0}))},t.handleWindowBlur=function(){clearTimeout(t.blurTimeout),t.cursor.selection&&t.cursor.selection.domFrag().addClass("dcg-mq-blur"),t.blur(),t.updateMathspeak()},t}return c(t,e),t.prototype.disableGroupingForSeconds=function(e){var t=this;clearTimeout(this.__disableGroupingTimeout),0===e?this.root.domFrag().removeClass("dcg-mq-suppress-grouping"):(this.root.domFrag().addClass("dcg-mq-suppress-grouping"),this.__disableGroupingTimeout=setTimeout((function(){t.root.domFrag().removeClass("dcg-mq-suppress-grouping")}),1e3*e))},t.prototype.blur=function(){this.cursor.hide().parent.blur(this.cursor),m(this.container).removeClass("dcg-mq-focused"),window.removeEventListener("blur",this.handleWindowBlur),this.options&&this.options.resetCursorOnBlur&&this.cursor.resetToEnd(this)},t.prototype.addEditableFocusBlurListeners=function(){var e=this.cursor;this.addTextareaEventListeners({focus:this.handleTextareaFocusEditable,blur:this.handleTextareaBlurEditable}),this.blurred=!0,e.hide().parent.blur(e)},t.prototype.addStaticFocusBlurListeners=function(){this.addTextareaEventListeners({focus:this.handleTextareaFocusStatic,blur:this.handleTextareaBlurStatic})},t}(H),W=!1,J=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.keystroke=function(t,r,i){var o=i.cursor;switch(t){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":i.ctrlDeleteDir(e);break;case"Shift-Backspace":case"Backspace":i.backspace();break;case"Esc":case"Tab":return void i.escapeDir(1,t,r);case"Shift-Tab":case"Shift-Esc":return void i.escapeDir(e,t,r);case"End":i.notify("move").cursor.insAtRightEnd(o.parent),i.aria.queue("end of").queue(o.parent,!0);break;case"Ctrl-End":i.notify("move").cursor.insAtRightEnd(i.root),i.aria.queue("end of").queue(i.ariaLabel).queue(i.root).queue(i.ariaPostLabel);break;case"Shift-End":i.selectToBlockEndInDir(1);break;case"Ctrl-Shift-End":i.selectToRootEndInDir(1);break;case"Home":i.notify("move").cursor.insAtLeftEnd(o.parent),i.aria.queue("beginning of").queue(o.parent,!0);break;case"Ctrl-Home":i.notify("move").cursor.insAtLeftEnd(i.root),i.aria.queue("beginning of").queue(i.ariaLabel).queue(i.root).queue(i.ariaPostLabel);break;case"Shift-Home":i.selectToBlockEndInDir(e);break;case"Ctrl-Shift-Home":i.selectToRootEndInDir(e);break;case"Left":i.moveLeft();break;case"Shift-Left":i.selectLeft();break;case"Ctrl-Left":case"Ctrl-Right":case"Ctrl-Up":case"Ctrl-Down":break;case"Right":i.moveRight();break;case"Shift-Right":i.selectRight();break;case"Up":i.moveUp();break;case"Down":i.moveDown();break;case"Shift-Up":i.withIncrementalSelection((function(t){if(o[e])for(;o[e];)t(e);else t(e)}));break;case"Shift-Down":i.withIncrementalSelection((function(e){if(o[1])for(;o[1];)e(1);else e(1)}));break;case"Ctrl-Shift-Del":case"Ctrl-Del":i.ctrlDeleteDir(1);break;case"Shift-Del":case"Del":i.deleteForward();break;case"Meta-A":case"Ctrl-A":i.selectAll();break;case"Ctrl-Alt-Up":o.parent.parent&&o.parent.parent instanceof n?i.aria.queue(o.parent.parent):i.aria.queue("nothing above");break;case"Ctrl-Alt-Down":o.parent&&o.parent instanceof n?i.aria.queue(o.parent):i.aria.queue("block is empty");break;case"Ctrl-Alt-Left":o.parent.parent&&o.parent.parent.getEnd(e)?i.aria.queue(o.parent.parent.getEnd(e)):i.aria.queue("nothing to the left");break;case"Ctrl-Alt-Right":o.parent.parent&&o.parent.parent.getEnd(1)?i.aria.queue(o.parent.parent.getEnd(1)):i.aria.queue("nothing to the right");break;case"Ctrl-Alt-Shift-Down":o.selection?i.aria.queue(o.selection.join("mathspeak"," ").trim()+" selected"):i.aria.queue("nothing selected");break;case"Ctrl-Alt-=":case"Ctrl-Alt-Shift-Right":i.ariaPostLabel.length?i.aria.queue(i.ariaPostLabel):i.aria.queue("no answer");break;default:return}i.aria.alert(),null==r||r.preventDefault(),i.scrollHoriz()},n.prototype.moveOutOf=function(e,t,n){i("overridden or never called on this node",!1)},n.prototype.moveTowards=function(e,t,n){i("overridden or never called on this node",!1)},n.prototype.deleteOutOf=function(e,t){i("overridden or never called on this node",!1)},n.prototype.deleteTowards=function(e,t){i("overridden or never called on this node",!1)},n.prototype.unselectInto=function(e,t){i("overridden or never called on this node",!1)},n.prototype.selectOutOf=function(e,t){i("overridden or never called on this node",!1)},n.prototype.selectTowards=function(e,t){i("overridden or never called on this node",!1)},n}(x);T.onNotify((function(e,t){"move"!==t&&"upDown"!==t||e.show().clearSelection()})),O.leftRightIntoCmdGoes=function(e){if(e&&"up"!==e&&"down"!==e)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+e+'"';return e},T.onNotify((function(e,t){"upDown"!==t&&(e.upDownCache={})})),T.onNotify((function(e,t){"edit"===t&&e.show().deleteSelection()})),T.onNotify((function(e,t){"select"!==t&&e.endSelection()}));var X=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.keystroke=function(e,t){this.cursor.parent.keystroke(e,t,this.getControllerSelf())},n.prototype.escapeDir=function(e,t,n){o(e);var r=this.cursor;if(r.parent!==this.root&&(null==n||n.preventDefault()),r.parent!==this.root)return r.clearSelection(),r.parent.moveOutOf(e,r),r.controller.aria.alert(),this.notify("move")},n.prototype.moveDir=function(e){o(e);var t=this.cursor,n=t.options.leftRightIntoCmdGoes,r=t[e];return t.selection?t.insDirOf(e,t.selection.getEnd(e)):r?r.moveTowards(e,t,n):t.parent.moveOutOf(e,t,n),this.notify("move")},n.prototype.moveLeft=function(){return this.moveDir(e)},n.prototype.moveRight=function(){return this.moveDir(1)},n.prototype.moveUp=function(){return this.moveUpDown("up")},n.prototype.moveDown=function(){return this.moveUpDown("down")},n.prototype.moveUpDown=function(t){var n,r,i=this.notify("upDown").cursor;"up"===t?(n="upInto",r="upOutOf"):(n="downInto",r="downOutOf");var o=i[e],a=i[1],s=a&&a[n],c=o&&o[n];return s?i.insAtLeftEnd(s):c?i.insAtRightEnd(c):i.parent.bubble((function(e){var t=e[r];if(t&&("function"==typeof t&&(t=t.call(e,i)),t instanceof J&&i.jumpUpDown(e,t),!0!==t))return!1})),this},n.prototype.deleteDir=function(t){o(t);var n=this.cursor,r=n[t],i=n.parent.parent,a=n.controller;if(r&&r instanceof J)r.sides?a.aria.queue(r.parent.chToCmd(r.sides[-t].ch).mathspeak({createdLeftOf:n})):r.blocks||"\\text"===r.parent.ctrlSeq||a.aria.queue(r);else if(i&&i instanceof J)if(i.sides)a.aria.queue(i.parent.chToCmd(i.sides[t].ch).mathspeak({createdLeftOf:n}));else if(i.blocks&&i.mathspeakTemplate)if(i.upInto&&i.downInto)a.aria.queue(i.mathspeakTemplate[1]);else{var s=i.mathspeakTemplate,c=t===e?s[0]:s[s.length-1];a.aria.queue(c)}else a.aria.queue(i);var l=n.selection;if(this.notify("edit"),!l){var d=n[t];d?d.deleteTowards(t,n):n.parent.deleteOutOf(t,n)}var u=n[e],p=n[1];return u.siblingDeleted&&u.siblingDeleted(n.options,1),p.siblingDeleted&&p.siblingDeleted(n.options,e),n.parent.bubble((function(e){e.reflow()})),this},n.prototype.ctrlDeleteDir=function(t){o(t);var n,r=this.cursor;if(!r[t]||r.selection)return this.deleteDir(t);this.notify("edit"),n=t===e?new A(r.parent.getEnd(e),r[e]):new A(r[1],r.parent.getEnd(1)),r.controller.aria.queue(n),n.remove(),r.insAtDirEnd(t,r.parent);var i=r[e],a=r[1];return i&&i.siblingDeleted(r.options,1),a&&a.siblingDeleted(r.options,e),r.parent.bubble((function(e){e.reflow()})),this},n.prototype.backspace=function(){return this.deleteDir(e)},n.prototype.deleteForward=function(){return this.deleteDir(1)},n.prototype.startIncrementalSelection=function(){i("Multiple selections can't be simultaneously open",!W),W=!0,this.notify("select");var e=this.cursor;e.anticursor||e.startSelection()},n.prototype.selectDirIncremental=function(e){i("A selection is open",W),W=!0;var t=this.cursor,n=t.selection;o(e);var r=t[e];r?n&&n.getEnd(e)===r&&t.anticursor[-e]!==r?r.unselectInto(e,t):r.selectTowards(e,t):t.parent.selectOutOf(e,t)},n.prototype.finishIncrementalSelection=function(){i("A selection is open",W);var e=this.cursor;e.clearSelection(),e.select()||e.show();var t=e.selection;t&&e.controller.aria.clear().queue(t.join("mathspeak"," ").trim()+" selected"),W=!1},n.prototype.withIncrementalSelection=function(e){var t=this;try{this.startIncrementalSelection();try{e((function(e){return t.selectDirIncremental(e)}))}finally{this.finishIncrementalSelection()}}finally{W=!1}},n.prototype.selectDir=function(e){this.withIncrementalSelection((function(t){return t(e)}))},n.prototype.selectLeft=function(){return this.selectDir(e)},n.prototype.selectRight=function(){return this.selectDir(1)},n.prototype.selectAll=function(){this.notify("move");var t=this.cursor;t.insAtRightEnd(this.root),this.withIncrementalSelection((function(n){for(;t[e];)n(e)}))},n.prototype.selectToBlockEndInDir=function(e){var t=this.cursor;this.withIncrementalSelection((function(n){for(;t[e];)n(e)}))},n.prototype.selectToRootEndInDir=function(e){var t=this,n=this.cursor;this.withIncrementalSelection((function(r){for(;n[e]||n.parent!==t.root;)r(e)}))},n}(K),Z=(function(e){c((function(t){return e.call(this)||this}),e)}(J),function(){function e(e){for(var t=e[0]||new ge,n=1;n<e.length;n+=1)e[n].children().adopt(t,t.getEnd(1),0);return t}var t=G.string,n=G.regex,r=G.letter,i=G.digit,o=G.any,a=G.optWhitespace,s=G.succeed,c=G.fail,l=r.map((function(e){return new ve(e)})),d=i.map((function(e){return new me(e)})),u=n(/^[^${}\\_^]/).map((function(e){return new le(e)})),p=n(/^[^\\a-eg-zA-Z]/).or(t("\\").then(n(/^[a-z]+/i).or(n(/^\s+/).result(" ")).or(o))).then((function(e){var t=E[e];return t?t.constructor?new t(e).parser():t(e).parser():c("unknown command: \\"+e)})).or(l).or(d).or(u),g=t("{").then((function(){return f})).skip(t("}")),h=a.then(g.or(p.map((function(e){var t=new ge;return e.adopt(t,0,0),t})))),f=h.many().map(e).skip(a),m=t("[").then(h.then((function(e){return"]"!==e.join("latex")?s(e):c("")})).many().map(e).skip(a)).skip(t("]")),y=f;return y.block=h,y.optBlock=m,y}());O.maxDepth=function(e){return"number"==typeof e?e:void 0};var $,ee=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.cleanLatex=function(e){return e.replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},n.prototype.exportLatex=function(){return this.cleanLatex(this.root.latex())},n.prototype.writeLatex=function(e){var t=this.notify("edit").cursor;return t.parent.writeLatex(t,e),this},n.prototype.classifyLatexForEfficientUpdate=function(e){if("string"==typeof e){var t=e.match(/-?[0-9.]+$/g);return t&&1===t.length?{latex:e,prefix:e.substr(0,e.length-t[0].length),digits:t[0]}:void 0}},n.prototype.updateLatexMathEfficiently=function(t,n){var r,i,o,a,s,c=this.root,l=this.classifyLatexForEfficientUpdate(t);if(!l)return!1;if(!(s=this.classifyLatexForEfficientUpdate(n))||s.prefix!==l.prefix)return!1;var d=s.digits,u=l.digits,p=!1,g=!1;"-"===d[0]&&(p=!0,d=d.substr(1)),"-"===u[0]&&(g=!0,u=u.substr(1));for(var h=this.root.getEnd(1),f=[],m=d.length-1;m>=0;m--){if(!h||h.ctrlSeq!==d[m])return!1;if(h.parent!==c)return!1;f.unshift(h),h=h[e]}if(p&&!g){var y=h;if(!y)return!1;if("-"!==y.ctrlSeq)return!1;if(y[1]!==f[0])return!1;if(y.parent!==c)return!1;var b=y[e];if(b&&b.parent!==c)return!1;f[0][e]=y[e],c.getEnd(e)===y&&c.setEnds(((r={})[e]=f[0],r[1]=c.getEnd(1),r)),b&&(b[1]=f[0]),y.domFrag().remove()}if(!p&&g){var v=new Me("-"),x=document.createElement("span");x.textContent="-",v.setDOM(x);var w=f[0][e];w&&(w[1]=v),c.getEnd(e)===f[0]&&c.setEnds(((i={})[e]=v,i[1]=c.getEnd(1),i)),v.parent=c,v[e]=f[0][e],v[1]=f[0],f[0][e]=v,v.contactWeld(this.cursor),v.domFrag().insertBefore(f[0].domFrag())}var A=Math.min(d.length,u.length);for(m=0;m<A;m++){var E=u[m];(h=f[m]).ctrlSeq!==E&&(h.ctrlSeq=E,h.domFrag().oneElement().textContent=E,h.mathspeakName=E)}if(d.length>u.length)for(h=f[u.length-1],c.setEnds(((o={})[e]=c.getEnd(e),o[1]=h,o)),h[1]=0,m=d.length-1;m>=A;m--)f[m].domFrag().remove();if(u.length>d.length){var k=document.createDocumentFragment();for(m=A;m<u.length;m++){var I=document.createElement("span");I.className="dcg-mq-digit",I.textContent=u[m];var S=new me(u[m]);S.parent=c,S.setDOM(I),k.appendChild(I),S[e]=c.getEnd(1),S[1]=0,S[e][1]=S,c.setEnds(((a={})[e]=c.getEnd(e),a[1]=S,a))}c.domFrag().oneElement().appendChild(k)}var M=this.exportLatex();if(M!==t)return console.warn("tried updating latex efficiently but did not work. Attempted: "+t+" but wrote: "+M),!1;var C=c.getEnd(1);return C&&C.fixDigitGrouping(this.cursor.options),!0},n.prototype.renderLatexMathFromScratch=function(t){var n,r=this.root,i=this.cursor,o=G.all,a=G.eof,s=Z.skip(a).or(o.result(!1)).parse(t);if(r.setEnds(((n={})[e]=0,n[1]=0,n)),s&&s.children().adopt(r,0,0),s){var c=r.domFrag();c.children().remove(),c.oneElement().appendChild(s.html()),r.finalizeInsert(i.options,i)}else r.domFrag().empty()},n.prototype.renderLatexMath=function(t){var n=this.cursor,r=this.root;this.notify("replace"),n.clearSelection();var i=this.exportLatex();r.getEnd(e)&&r.getEnd(1)&&i===t||(this.updateLatexMathEfficiently(t,i)||this.renderLatexMathFromScratch(t),this.updateMathspeak()),n.insAtRightEnd(r)},n.prototype.renderLatexText=function(t){var n,r=this.root,i=this.cursor;r.domFrag().children().slice(1).remove(),r.setEnds(((n={})[e]=0,n[1]=0,n)),delete i.selection,i.show().insAtRightEnd(r);var o=G.regex,a=G.string,s=G.eof,c=G.all,l=a("$").then(Z).skip(a("$").or(s)).map((function(t){var n=new RootMathCommand(i);n.createBlocks();var r=n.getEnd(e);return t.children().adopt(r,0,0),n})),d=a("\\$").result("$").or(o(/^[^$]/)).map((function(e){return new le(e)})),u=l.or(d).many().skip(s).or(c.result(!1)).parse(t);if(u){for(var p=0;p<u.length;p+=1)u[p].adopt(r,r.getEnd(1),0);m(r.html()).appendTo(r.domFrag().oneElement()),r.finalizeInsert(i.options,i)}},n}(X),te=function(e){return!1};B.prototype.ignoreNextMousedown=te,T.onNotify((function(e,t){"edit"!==t&&"replace"!==t||$&&$.cursor===e&&$.cb()}));var ne=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.setOverflowClasses=function(){var e=this.root.domFrag().oneElement(),t=!1,n=!1;if(!this.blurred){var r=u(e).width,i=e.scrollWidth,o=e.scrollLeft;t=i>r+o,n=o>0}e.classList.contains("dcg-mq-editing-overflow-right")!==t&&e.classList.toggle("dcg-mq-editing-overflow-right"),e.classList.contains("dcg-mq-editing-overflow-left")!==n&&e.classList.toggle("dcg-mq-editing-overflow-left")},n.prototype.scrollHoriz=function(){var t=this,n=this.cursor,r=n.selection,i=u(this.root.domFrag().oneElement());if(!n.domFrag().isEmpty()||r){if(r){var o=u(r.domFrag().oneElement()),a=o.left-(i.left+20),s=o.right-(i.right-20);if(r.getEnd(e)===n[1])if(a<0)l=a;else{if(!(s>0))return;l=o.left-s<i.left+20?a:s}else if(s>0)l=s;else{if(!(a<0))return;l=o.right-a>i.right-20?s:a}}else{var c=u(n.domFrag().oneElement()).left;if(c>i.right-20)var l=c-(i.right-20);else{if(!(c<i.left+20))return;l=c-(i.left+20)}}var d=this.root.domFrag().oneElement();if(!(l<0&&0===d.scrollLeft||l>0&&d.scrollWidth<=d.scrollLeft+i.width)){this.cancelScrollHoriz&&(this.cancelScrollHoriz(),this.cancelScrollHoriz=void 0);var p=this.root.domFrag().oneElement(),g=p.scrollLeft;h(this.getScrollAnimationDuration(),(function(e,n,r){e>=1?(t.cancelScrollHoriz=void 0,p.scrollLeft=Math.round(g+l),t.setOverflowClasses()):(t.cancelScrollHoriz=r,n(),p.scrollLeft=Math.round(g+e*l))}))}}else{this.cancelScrollHoriz&&(this.cancelScrollHoriz(),this.cancelScrollHoriz=void 0);var f=this.root.domFrag().oneElement(),m=f.scrollLeft;h(this.getScrollAnimationDuration(),(function(e,n,r){e>=1?(t.cancelScrollHoriz=void 0,f.scrollLeft=0,t.setOverflowClasses()):(t.cancelScrollHoriz=r,n(),f.scrollLeft=Math.round((1-e)*m))}))}},n.prototype.getScrollAnimationDuration=function(){var e;return null!==(e=this.options.scrollAnimationDuration)&&void 0!==e?e:100},n}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseDown=function(e){var n=function(e,t){var n,r,i;if("function"==typeof(null===(n=e)||void 0===n?void 0:n.closest))return e.closest(t);if(!(e instanceof HTMLElement))return null;var o=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,a=e;do{if(o.call(a,t))return a;a=null!==(i=null!==(r=null==a?void 0:a.parentElement)&&void 0!==r?r:null==a?void 0:a.parentNode)&&void 0!==i?i:null}while(null!==a&&1===a.nodeType);return null}(e.target,".dcg-mq-root-block"),i=n&&x.getNodeOfElement(n)||x.getNodeOfElement(t.root.domFrag().oneElement()),o=i.domFrag().firstNode().ownerDocument,a=i.controller,s=a.cursor,c=s.blink,l=a.getTextareaSpanOrThrow(),d=a.getTextareaOrThrow();if(e.preventDefault(),e.target.unselectable=!0,!s.options.ignoreNextMousedown(e)){s.options.ignoreNextMousedown=te;var u,p=null;$={cursor:s,cb:function(){u=!0,s.blink=c,s.clearSelection(),y(),f()}},a.blurred&&(n&&!a.editable&&m(n).prepend(m(l)),d.focus(),u)||(s.blink=r,a.seek(e.target,e.clientX,e.clientY).cursor.startSelection(),null==n||n.addEventListener("mousemove",g),null==o||o.addEventListener("mousemove",h),null==o||o.addEventListener("mouseup",b))}function g(e){p=e.target}function h(e){s.anticursor||s.startSelection(),a.seek(p,e.clientX,e.clientY).cursor.select(),s.selection&&s.controller.aria.clear().queue(s.selection.join("mathspeak")+" selected").alert(),p=null}function f(){null==n||n.removeEventListener("mousemove",g),null==o||o.removeEventListener("mousemove",h),null==o||o.removeEventListener("mouseup",b),$=void 0}function y(){a.editable?(s.show(),s.controller.aria.queue(s.parent).alert()):m(l).detach()}function b(){s.blink=c,s.selection||y(),f()}},t}return c(t,e),t.prototype.addMouseEventListener=function(){this.container.addEventListener("mousedown",this.handleMouseDown)},t.prototype.removeMouseEventListener=function(){this.container.removeEventListener("mousedown",this.handleMouseDown)},t.prototype.seek=function(e,t,n){for(var r,i=this.notify("select").cursor;e&&!(r=x.getNodeOfElement(e));)e=e.parentElement;return r||(r=this.root),i.clearSelection().show(),r.seek(t,i),this.scrollHoriz(),this},t}(ee));function re(e,t){return Y(e[0],t)}B.prototype.substituteTextarea=function(){return s("textarea",{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:!1,"x-palm-disable-ste-all":!0})},B.prototype.substituteKeyboardEvents=re;var ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectFn=r,t}return c(t,e),t.prototype.createTextarea=function(){this.textareaSpan=s("span",{class:"dcg-mq-textarea"});var e=this.options.substituteTextarea();if(!e.nodeType)throw"substituteTextarea() must return a DOM element, got "+e;this.textarea=m(e).appendTo(this.textareaSpan).oneElement();var t=this;t.cursor.selectionChanged=function(){t.selectionChanged()}},t.prototype.selectionChanged=function(){var e=this;e.textareaSelectionTimeout||(e.textareaSelectionTimeout=setTimeout((function(){e.setTextareaSelection()})))},t.prototype.setTextareaSelection=function(){this.textareaSelectionTimeout=0;var e="";this.cursor.selection&&(e=this.cleanLatex(this.cursor.selection.join("latex")),this.options.statelessClipboard&&(e="$"+e+"$")),this.selectFn(e)},t.prototype.staticMathTextareaEvents=function(){var e=this;this.removeTextareaEventListener("cut"),this.removeTextareaEventListener("paste"),e.options.disableCopyPaste?this.removeTextareaEventListener("copy"):this.addTextareaEventListeners({copy:function(){e.setTextareaSelection()}}),this.addStaticFocusBlurListeners(),e.selectFn=function(t){var n=e.getTextareaOrThrow();n instanceof HTMLTextAreaElement&&(n.value=t,t&&n.select())}},t.prototype.editablesTextareaEvents=function(){var e=this.getTextareaOrThrow(),t=this.getTextareaSpanOrThrow();if(this.options.version<3){var n=this.options.assertJquery(),r=this.options.substituteKeyboardEvents(n(e),this);this.selectFn=function(e){r.select(e)}}else{var i=Y(e,this).select;this.selectFn=i}m(this.container).prepend(m(t)),this.addEditableFocusBlurListeners(),this.updateMathspeak()},t.prototype.unbindEditablesEvents=function(){var e=this,t=e.getTextareaOrThrow(),n=e.getTextareaSpanOrThrow();this.selectFn=function(e){t instanceof HTMLTextAreaElement&&(t.value=e,e&&t.select())},m(n).remove(),this.removeTextareaEventListener("focus"),this.removeTextareaEventListener("blur"),e.blurred=!0,this.removeTextareaEventListener("cut"),this.removeTextareaEventListener("paste")},t.prototype.typedText=function(e){if("\n"===e)return this.handle("enter");var t=this.notify(void 0).cursor;t.parent.write(t,e),this.scrollHoriz()},t.prototype.cut=function(){var e=this,t=e.cursor;t.selection&&setTimeout((function(){e.notify("edit"),t.parent.bubble((function(e){e.reflow()})),e.options&&e.options.onCut&&e.options.onCut()}))},t.prototype.copy=function(){this.setTextareaSelection()},t.prototype.paste=function(e){this.options.statelessClipboard&&(e="$"===e.slice(0,1)&&"$"===e.slice(-1)?e.slice(1,-1):"\\text{"+e+"}"),this.writeLatex(e).cursor.show(),this.scrollHoriz(),this.options&&this.options.onPaste&&this.options.onPaste()},t.prototype.setupStaticField=function(){this.mathspeakSpan=s("span",{class:"dcg-mq-mathspeak"}),m(this.container).prepend(m(this.mathspeakSpan)),this.updateMathspeak(),this.blurred=!0,this.cursor.hide().parent.blur(this.cursor)},t.prototype.updateMathspeak=function(){var e=this,t=e.getAriaLabel(),n=/[A-Za-z0-9]$/.test(t)?t+":":t,r=e.root.mathspeak().trim();this.aria.clear();var i=e.getTextareaOrThrow();e.mathspeakSpan?(i.setAttribute("aria-label",""),e.mathspeakSpan.textContent=(n+" "+r).trim()):i.setAttribute("aria-label",(n+" "+r+" "+e.ariaPostLabel).trim())},t}(ne),oe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.finalizeInsert=function(t,n){var r=this;r.postOrder((function(e){e.finalizeTree(t)})),r.postOrder((function(e){e.contactWeld(n)})),r.postOrder((function(e){e.blur(n)})),r.postOrder((function(e){e.reflow()}));var i=r[1],o=r[e];i&&i.siblingCreated(t,e),o&&o.siblingCreated(t,1),r.bubble((function(e){e.reflow()}))},n.prototype.prepareInsertionAt=function(e){var t=e.options.maxDepth;if(void 0!==t){var n=e.depth();if(n>t)return!1;this.removeNodesDeeperThan(t-n)}return!0},n.prototype.removeNodesDeeperThan=function(e){for(var t,n=0,r=[[this,n]];t=r.shift();){var i=t;i[0].children().each((function(t){var o=t instanceof ge?1:0;(n=i[1]+o)<=e?r.push([t,n]):(o?t.children():t).remove()}))}},n}(J),ae=function(e,t){this.childCount=e,this.render=t},se=function(t){function n(e,n,r){var i=t.call(this)||this;return i.textTemplate=[""],i.mathspeakTemplate=[""],i.setCtrlSeqHtmlAndText(e,n,r),i}return c(n,t),n.prototype.setEnds=function(t){i("MathCommand ends are never empty",t[e]&&t[1]),this.ends=t},n.prototype.getEnd=function(e){return this.ends[e]},n.prototype.setCtrlSeqHtmlAndText=function(e,t,n){this.ctrlSeq||(this.ctrlSeq=e),t&&(this.domView=t),n&&(this.textTemplate=n)},n.prototype.replaces=function(e){e.disown(),this.replacedFragment=e},n.prototype.isEmpty=function(){return this.foldChildren(!0,(function(e,t){return e&&t.isEmpty()}))},n.prototype.parser=function(){var e=this;return Z.block.times(this.numBlocks()).map((function(t){e.blocks=t;for(var n=0;n<t.length;n+=1)t[n].adopt(e,e.getEnd(1),0);return e}))},n.prototype.createLeftOf=function(n){var r=this,i=r.replacedFragment;if(r.createBlocks(),t.prototype.createLeftOf.call(this,n),i){var o=r.getEnd(e);i.adopt(o,0,0),i.domFrag().appendTo(o.domFrag().oneElement()),r.placeCursor(n),r.prepareInsertionAt(n)}r.finalizeInsert(n.options,n),r.placeCursor(n)},n.prototype.createBlocks=function(){for(var e=this,t=e.numBlocks(),n=e.blocks=Array(t),r=0;r<t;r+=1)(n[r]=new ge).adopt(e,e.getEnd(1),0)},n.prototype.placeCursor=function(t){t.insAtRightEnd(this.foldChildren(this.getEnd(e),(function(e,t){return e.isEmpty()?e:t})))},n.prototype.moveTowards=function(e,t,n){var r;"up"===n?r=this.upInto:"down"===n&&(r=this.downInto);var i=r||this.getEnd(-e);t.insAtDirEnd(-e,i),t.controller.aria.queueDirEndOf(-e).queue(t.parent,!0)},n.prototype.deleteTowards=function(e,t){this.isEmpty()?t[e]=this.remove()[e]:this.moveTowards(e,t)},n.prototype.selectTowards=function(e,t){t[-e]=this,t[e]=this[e]},n.prototype.selectChildren=function(){return new D(this,this)},n.prototype.unselectInto=function(e,t){var n=t.anticursor.ancestors[this.id];t.insAtDirEnd(-e,n)},n.prototype.seek=function(t,n){function r(t){var n,r=t.domFrag().oneElement(),i=u(r).left,o=i+r.offsetWidth;return(n={})[e]=i,n[1]=o,n}var i=this,o=r(i);if(t<o[e])return n.insLeftOf(i);if(t>o[1])return n.insRightOf(i);var a=o[e];i.eachChild((function(s){var c=r(s);return t<c[e]?(t-a<c[e]-t?s[e]?n.insAtRightEnd(s[e]):n.insLeftOf(i):n.insAtLeftEnd(s),!1):t>c[1]?void(s[1]?a=c[1]:o[1]-t<t-c[1]?n.insRightOf(i):n.insAtRightEnd(s)):(s.seek(t,n),!1)}))},n.prototype.numBlocks=function(){return this.domView.childCount},n.prototype.html=function(){var e=this.blocks;i("domView is defined",this.domView);var t=this.domView.render(e||[]);return this.setDOM(t),x.linkElementByCmdNode(t,this),t},n.prototype.latex=function(){return this.foldChildren(this.ctrlSeq||"",(function(e,t){return e+"{"+(t.latex()||" ")+"}"}))},n.prototype.text=function(){var e=this,t=0;return e.foldChildren(e.textTemplate[t],(function(n,r){t+=1;var i=r.text();return n&&"("===e.textTemplate[t]&&"("===i[0]&&")"===i.slice(-1)?n+i.slice(1,-1)+e.textTemplate[t]:n+i+(e.textTemplate[t]||"")}))},n.prototype.mathspeak=function(){var e=this,t=0;return e.foldChildren(e.mathspeakTemplate[t]||"Start"+e.ctrlSeq+" ",(function(n,r){return t+=1,n+" "+r.mathspeak()+" "+(e.mathspeakTemplate[t]+" "||"End"+e.ctrlSeq+" ")}))},n}(oe),ce=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.setCtrlSeqHtmlTextAndMathspeak(t,n?new ae(0,(function(){return n.cloneNode(!0)})):void 0,r,i),o}return c(t,e),t.prototype.setCtrlSeqHtmlTextAndMathspeak=function(t,n,r,i){!r&&t&&(r=t.replace(/^\\/,"")),this.mathspeakName=i||r,e.prototype.setCtrlSeqHtmlAndText.call(this,t,n,[r||""])},t.prototype.parser=function(){return G.succeed(this)},t.prototype.numBlocks=function(){return 0},t.prototype.replaces=function(e){e.remove()},t.prototype.createBlocks=function(){},t.prototype.moveTowards=function(e,t){t.domFrag().insDirOf(e,this.domFrag()),t[-e]=this,t[e]=this[e],t.controller.aria.queue(this)},t.prototype.deleteTowards=function(e,t){t[e]=this.remove()[e]},t.prototype.seek=function(e,t){var n=this.domFrag().oneElement();return e-u(n).left<n.offsetWidth/2?t.insLeftOf(this):t.insRightOf(this),t},t.prototype.latex=function(){return this.ctrlSeq||""},t.prototype.text=function(){return this.textTemplate.join("")},t.prototype.mathspeak=function(e){return this.mathspeakName||""},t.prototype.placeCursor=function(){},t.prototype.isEmpty=function(){return!0},t}(se),le=function(e){function t(t,n,r){return e.call(this,t,s("span",{},[n||s.text(t)]),void 0,r)||this}return c(t,e),t}(ce);function de(e,t,n){return function(){return new le(e,t?s.entityText(t):void 0,n)}}var ue=function(e){function t(t,n,r,i,o){return o?e.call(this,t,s("span",{},[n||s.text(t||"")]),void 0,i)||this:e.call(this,t,s("span",{class:"dcg-mq-binary-operator"},n?[n]:[]),r,i)||this}return c(t,e),t}(ce);function pe(e,t,n,r){return function(){return new ue(e,t?s.entityText(t):void 0,n,r)}}var ge=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.ariaLabel="block",e}return c(n,t),n.prototype.join=function(e){return this.foldChildren("",(function(t,n){return t+n[e]()}))},n.prototype.html=function(){var e=document.createDocumentFragment();return this.eachChild((function(t){var n=t.html();e.appendChild(n)})),e},n.prototype.latex=function(){return this.join("latex")},n.prototype.text=function(){var t=this.getEnd(e);return t===this.getEnd(1)&&0!==t?t.text():this.join("text")},n.prototype.mathspeak=function(){var e="",t={};return this.controller&&(t=this.controller.options.autoOperatorNames),this.foldChildren([],(function(n,r){if(r.isPartOfOperator)e+=r.mathspeak();else{if(""!==e){if(t._maxLength>0){var i=t[e.toLowerCase()];"string"==typeof i&&(e=i)}n.push(e+" "),e=""}var o=r.mathspeak(),a=r.ctrlSeq;!isNaN(a)||"."===a||r.parent&&r.parent.parent&&r.parent.parent.isTextBlock()||(o=" "+o+" "),n.push(o)}return n})).join("").replace(/ +(?= )/g,"").replace(/(\.)([0-9]+)/g,(function(e,t,n){return t+n.split("").join(" ").trim()}))},n.prototype.keystroke=function(n,r,i){return!i.options.spaceBehavesLikeTab||"Spacebar"!==n&&"Shift-Spacebar"!==n?t.prototype.keystroke.call(this,n,r,i):(null==r||r.preventDefault(),void i.escapeDir("Shift-Spacebar"===n?e:1,n,r))},n.prototype.moveOutOf=function(e,t,n){var r;if("up"===n?r=this.parent.upInto:"down"===n&&(r=this.parent.downInto),!r&&this[e]){var i=-e;t.insAtDirEnd(i,this[e]),t.controller.aria.queueDirEndOf(i).queue(t.parent,!0)}else t.insDirOf(e,this.parent),t.controller.aria.queueDirOf(e).queue(this.parent)},n.prototype.selectOutOf=function(e,t){t.insDirOf(e,this.parent)},n.prototype.deleteOutOf=function(e,t){t.unwrapGramp()},n.prototype.seek=function(t,n){var r=this.getEnd(1);if(!r)return n.insAtRightEnd(this);var i=r.domFrag().oneElement();if(u(i).left+i.offsetWidth<t)return n.insAtRightEnd(this);if(t<u(this.getEnd(e).domFrag().oneElement()).left)return n.insAtLeftEnd(this);for(;t<u(r.domFrag().oneElement()).left;)r=r[e];return r.seek(t,n)},n.prototype.chToCmd=function(e,t){var n;return e.match(/^[a-eg-zA-Z]$/)?new ve(e):/^\d$/.test(e)?new me(e):t&&t.typingSlashWritesDivisionSymbol&&"/"===e?E["÷"](e):t&&t.typingAsteriskWritesTimesSymbol&&"*"===e?E["×"](e):t&&t.typingPercentWritesPercentOf&&"%"===e?E.percentof(e):(n=k[e]||E[e])?n.constructor?new n(e):n(e):new le(e)},n.prototype.write=function(e,t){var n=this.chToCmd(t,e.options);e.selection&&n.replaces(e.replaceSelection()),e.isTooDeep()||(n.createLeftOf(e.show()),"/"===t?e.controller.aria.alert("over"):e.controller.aria.alert(n.mathspeak({createdLeftOf:e})))},n.prototype.writeLatex=function(t,n){var r=G.all,i=G.eof,o=Z.skip(i).or(r.result(!1)).parse(n);if(o&&!o.isEmpty()&&o.prepareInsertionAt(t)){o.children().adopt(t.parent,t[e],t[1]),m(o.html()).insertBefore(t.domFrag()),t[e]=o.getEnd(1),o.finalizeInsert(t.options,t);var a=o.getEnd(1),s=o.getEnd(e),c=a[1],l=s[e];c&&c.siblingCreated(t.options,e),l&&l.siblingCreated(t.options,1),t.parent.bubble((function(e){e.reflow()}))}},n.prototype.focus=function(){return this.domFrag().addClass("dcg-mq-hasCursor"),this.domFrag().removeClass("dcg-mq-empty"),this},n.prototype.blur=function(e){return this.domFrag().removeClass("dcg-mq-hasCursor"),this.isEmpty()&&(this.domFrag().addClass("dcg-mq-empty"),e&&this.isQuietEmptyDelimiter(e.options.quietEmptyDelimiters)&&this.domFrag().addClass("dcg-mq-quiet-delimiter")),this},n}(oe);B.prototype.mouseEvents=!0,L.StaticMath=function(e){var t;return(t=function(t){function n(n){var r=t.call(this,n)||this,i=r.innerFields=[];return r.__controller.root.postOrder((function(t){t.registerInnerField(i,e.InnerMathField)})),r}return c(n,t),n.prototype.__mathquillify=function(e,n){return this.config(e),t.prototype.mathquillify.call(this,"dcg-mq-math-mode"),this.__controller.setupStaticField(),this.__options.mouseEvents&&(this.__controller.addMouseEventListener(),this.__controller.staticMathTextareaEvents()),this},n.prototype.latex=function(n){var r=t.prototype.latex.apply(this,arguments);if(arguments.length>0){var i=this.innerFields=[];this.__controller.root.postOrder((function(t){t.registerInnerField(i,e.InnerMathField)})),this.__controller.updateMathspeak()}return r},n.prototype.setAriaLabel=function(e){return this.__controller.setAriaLabel(e),this},n.prototype.getAriaLabel=function(){return this.__controller.getAriaLabel()},n}(e.AbstractMathQuill)).RootBlock=ge,t};var he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t}(ge);j(he.prototype),L.MathField=function(e){var t;return(t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.__mathquillify=function(t,n){return this.config(t),n>1&&(this.__controller.root.reflow=r),e.prototype.mathquillify.call(this,"dcg-mq-editable-field dcg-mq-math-mode"),delete this.__controller.root.reflow,this},t}(e.EditableField)).RootBlock=he,t},L.InnerMathField=function(e){return i("MathField class is defined",e.MathField),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.makeStatic=function(){this.__controller.editable=!1,this.__controller.root.blur(),this.__controller.unbindEditablesEvents(),m(this.__controller.container).removeClass("dcg-mq-editable-field")},t.prototype.makeEditable=function(){this.__controller.editable=!0,this.__controller.editablesTextareaEvents(),this.__controller.cursor.insAtRightEnd(this.__controller.root),m(this.__controller.container).addClass("dcg-mq-editable-field")},t}(e.MathField)};var fe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.finalizeTree=function(e,t){this.sharedSiblingMethod(e,t)},n.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},n.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},n.prototype.sharedSiblingMethod=function(t,r){r!==e&&this[1]instanceof n||this.fixDigitGrouping(t)},n.prototype.fixDigitGrouping=function(t){if(t.enableDigitGrouping){var n=this,r=this,i=0,o=[],a="\\ ",s=n;do{if(/^[0-9]$/.test(s.ctrlSeq))n=s;else if(s.ctrlSeq===a)n=s,i+=1;else{if("."!==s.ctrlSeq)break;n=s,o.push(s)}}while(s=n[e]);for(;s=r[1];)if(/^[0-9]$/.test(s.ctrlSeq))r=s;else if(s.ctrlSeq===a)r=s,i+=1;else{if("."!==s.ctrlSeq)break;r=s,o.push(s)}for(;r!==n&&n&&n.ctrlSeq===a;)n=n[1],i-=1;for(;r!==n&&r&&r.ctrlSeq===a;)r=r[e],i-=1;n===r&&n&&n.ctrlSeq===a||(i>0||o.length>1?this.removeGroupingBetween(n,r):o[0]?(o[0]!==n&&this.addGroupingBetween(o[0][e],n),o[0]!==r&&this.removeGroupingBetween(o[0][1],r)):this.addGroupingBetween(r,n))}},n.prototype.removeGroupingBetween=function(e,t){var r=e;do{if(r instanceof n&&r.setGroupingClass(void 0),!r||r===t)break}while(r=r[1])},n.prototype.addGroupingBetween=function(t,r){var i=t,o=0,a=0;for(i=t;i&&(a+=1,i!==r);)i=i[e];var s=a%3;for(0===s&&(s=3),i=t;i;){o+=1;var c=void 0;if(a>=4&&(o===a?c="dcg-mq-group-leading-"+s:o%3==0&&o!==a&&(c="dcg-mq-group-start"),c||(c="dcg-mq-group-other")),i instanceof n&&i.setGroupingClass(c),i===r)break;i=i[e]}},n.prototype.setGroupingClass=function(e){this._groupingClass!==e&&(this._groupingClass&&this.domFrag().removeClass(this._groupingClass),e&&this.domFrag().addClass(e),this._groupingClass=e)},n}(ce),me=function(t){function n(e,n){return t.call(this,e,s("span",{class:"dcg-mq-digit"},[s.text(e)]),void 0,n)||this}return c(n,t),n.prototype.createLeftOf=function(n){var r=n[e],i=r&&r[e],o=n.parent.parent instanceof Ue?n.parent.parent.sub:void 0;n.options.autoSubscriptNumerals&&n.parent!==o&&(r instanceof ye&&!1!==r.isItalic||r instanceof Ue&&i instanceof ye&&!1!==i.isItalic)?((new Qe).createLeftOf(n),t.prototype.createLeftOf.call(this,n),n.insRightOf(n.parent.parent)):t.prototype.createLeftOf.call(this,n)},n.prototype.mathspeak=function(n){if(n&&n.createdLeftOf){var r=n.createdLeftOf,i=r[e],o=i&&i[e],a=r.parent.parent instanceof Ue?r.parent.parent.sub:void 0;if(r.options.autoSubscriptNumerals&&r.parent!==a&&(i instanceof ye&&!1!==i.isItalic||r[e]instanceof Ue&&o instanceof ye&&!1!==o.isItalic))return"Subscript "+t.prototype.mathspeak.call(this)+" Baseline"}return t.prototype.mathspeak.call(this)},n}(fe),ye=function(t){function n(e,n){return t.call(this,e,s("var",{},[n||s.text(e)]))||this}return c(n,t),n.prototype.text=function(){var t=this.ctrlSeq||"";return this.isPartOfOperator?"\\"==t[0]?t=t.slice(1,t.length):" "==t[t.length-1]&&(t=t.slice(0,-1)):(!this[e]||this[e]instanceof n||this[e]instanceof ue||"\\ "===this[e].ctrlSeq||(t="*"+t),!this[1]||this[1]instanceof ue||this[1]instanceof Ue||(t+="*")),t},n.prototype.mathspeak=function(){var e=this.ctrlSeq||"";return this.isPartOfOperator||e.length>1||this.parent&&this.parent.parent&&this.parent.parent.isTextBlock()?t.prototype.mathspeak.call(this):'"'+e+'"'},n}(ce);function be(e,t,n){return function(){return new ye(e,s.entityText(t))}}B.prototype.autoCommands={_maxLength:0},O.autoCommands=function(e){if("string"!=typeof e||!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),r={},i=0,o=0;o<t.length;o+=1){var a=t[o];if(a.length<2)throw'autocommand "'+a+'" not minimum length of 2';if(E[a]===Ae)throw'"'+a+'" is a built-in operator name';r[a]=1,i=n(i,a.length)}return r._maxLength=i,r},B.prototype.quietEmptyDelimiters={},O.quietEmptyDelimiters=function(e){void 0===e&&(e="");for(var t=e.split(" "),n={},r=0;r<t.length;r+=1)n[t[r]]=1;return n},B.prototype.autoParenthesizedFunctions={_maxLength:0},O.autoParenthesizedFunctions=function(e){if("string"!=typeof e||!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),r={},i=0,o=0;o<t.length;o+=1){var a=t[o];if(a.length<2)throw'autocommand "'+a+'" not minimum length of 2';r[a]=1,i=n(i,a.length)}return r._maxLength=i,r};var ve=function(n){function r(e){var t=n.call(this,e)||this;return t.letter=e,t}return c(r,n),r.prototype.checkAutoCmds=function(t){if(!this.shouldIgnoreSubstitutionInSimpleSubscript(t.options)){var n=t.options.autoCommands,i=n._maxLength||0;if(i>0){for(var o="",a=this,s=0;a instanceof r&&a.ctrlSeq===a.letter&&s<i;)o=a.letter+o,a=a[e],s+=1;for(;o.length;){if(n.hasOwnProperty(o)){for(a=this,s=1;a&&s<o.length;s+=1,a=a[e]);new A(a,this).remove(),t[e]=a[e];var c=E[o];return(I(c)?new c(o):c(o)).createLeftOf(t)}o=o.slice(1)}}}},r.prototype.autoParenthesize=function(t){var n=t.parent.getEnd(1);if(!(n&&n instanceof $e&&"\\left("===n.ctrlSeq||this.shouldIgnoreSubstitutionInSimpleSubscript(t.options))){for(var i="",o=this,a=0,s=t.options.autoParenthesizedFunctions,c=s._maxLength||0,l=t.options.autoOperatorNames;o instanceof r&&a<c;)i=o.letter+i,o=o[e],a+=1;for(;i.length;){if(s.hasOwnProperty(i)&&l.hasOwnProperty(i))return t.parent.write(t,"(");i=i.slice(1)}}},r.prototype.createLeftOf=function(e){n.prototype.createLeftOf.call(this,e),this.checkAutoCmds(e),this.autoParenthesize(e)},r.prototype.italicize=function(e){return this.isItalic=e,this.isPartOfOperator=!e,this.domFrag().toggleClass("dcg-mq-operator-name",!e),this},r.prototype.finalizeTree=function(e,t){this.sharedSiblingMethod(e,t)},r.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},r.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},r.prototype.sharedSiblingMethod=function(t,n){n!==e&&this[1]instanceof r||this.autoUnItalicize(t)},r.prototype.autoUnItalicize=function(n){var i=n.autoOperatorNames;if(0!==i._maxLength&&!this.shouldIgnoreSubstitutionInSimpleSubscript(n)){for(var o=this.letter,a=this[e];a instanceof r;a=a[e])o=a.letter+o;for(var s=this[1];s instanceof r;s=s[1])o+=s.letter;var c=a&&a[1],l=s&&s[e];new A(c||this.parent.getEnd(e),l||this.parent.getEnd(1)).each((function(e){e instanceof r&&(e.italicize(!0).domFrag().removeClass("dcg-mq-first dcg-mq-last dcg-mq-followed-by-supsub"),e.ctrlSeq=e.letter)}));var d=i._maxLength||0;e:for(var u=0,p=a[1]||this.parent.getEnd(e);p&&u<o.length;u+=1,p=p[1])for(var g=t(d,o.length-u);g>0;g-=1){var h=o.slice(u,u+g),f=void 0;if(i.hasOwnProperty(h)){for(var m=0,y=p;m<g;m+=1,y=y[1])y instanceof r&&(y.italicize(!1),f=y);var b=xe.hasOwnProperty(h);if(p.ctrlSeq=(b?"\\":"\\operatorname{")+p.ctrlSeq,f.ctrlSeq+=b?" ":"}",we.hasOwnProperty(h)){var v=f[e],x=v&&v[e];(x&&x[e]).domFrag().addClass("dcg-mq-last")}if(this.shouldOmitPadding(p[e])||p.domFrag().addClass("dcg-mq-first"),!this.shouldOmitPadding(f[1]))if(f[1]instanceof Ue){var w=f[1];(w.siblingCreated=w.siblingDeleted=function(){w.domFrag().toggleClass("dcg-mq-after-operator-name",!(w[1]instanceof $e))})()}else f.domFrag().toggleClass("dcg-mq-last",!(f[1]instanceof $e));u+=g-1,p=f;continue e}}}},r.prototype.shouldOmitPadding=function(e){return!e||"."===e.ctrlSeq||e instanceof ue||e instanceof Ge},r}(ye),xe={};B.prototype.autoOperatorNames=function(){for(var e={_maxLength:9},t="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),n=0;n<t.length;n+=1)xe[t[n]]=e[t[n]]=1;var r="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(n=0;n<r.length;n+=1)xe[r[n]]=1;var i="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(n=0;n<i.length;n+=1)e[i[n]]=e["arc"+i[n]]=e[i[n]+"h"]=e["ar"+i[n]+"h"]=e["arc"+i[n]+"h"]=1;var o="gcf hcf lcm proj span".split(" ");for(n=0;n<o.length;n+=1)e[o[n]]=1;return e}();var we={limsup:1,liminf:1,projlim:1,injlim:1};O.autoOperatorNames=function(e){if("string"!=typeof e)throw'"'+e+'" not a space-delimited list';if(!/^[a-z\|\-]+(?: [a-z\|\-]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of letters or "|"';for(var t=e.split(" "),r={},i=0,o=0;o<t.length;o+=1){var a=t[o];if(a.length<2)throw'"'+a+'" not minimum length of 2';if(a.indexOf("|")<0)r[a]=a,i=n(i,a.length);else{var s=a.split("|");if(s.length>2)throw'"'+a+'" has more than 1 mathspeak delimiter';if(s[0].length<2)throw'"'+a[0]+'" not minimum length of 2';r[s[0]]=s[1].replace(/-/g," "),i=n(i,s[0].length)}}return r._maxLength=i,r};var Ae=function(e){function t(t){return e.call(this,t||"")||this}return c(t,e),t.prototype.createLeftOf=function(e){for(var t=this.ctrlSeq,n=0;n<t.length;n+=1)new ve(t.charAt(n)).createLeftOf(e)},t.prototype.parser=function(){for(var e=this.ctrlSeq,t=new ge,n=0;n<e.length;n+=1)new ve(e.charAt(n)).adopt(t,t.getEnd(1),0);return G.succeed(t.children())},t}(ce);for(var Ee in B.prototype.autoOperatorNames)B.prototype.autoOperatorNames.hasOwnProperty(Ee)&&(E[Ee]=Ae);E.operatorname=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.createLeftOf=function(){},t.prototype.numBlocks=function(){return 1},t.prototype.parser=function(){return Z.block.map((function(e){var t=!0,n="",r=e.children();return r.each((function(e){e instanceof ve?n+=e.letter:t=!1})),t&&"ans"===n?He():r}))},t}(se),E.f=function(e){function t(){var t=this;return(t=e.call(this,"f")||this).letter="f",t.domView=new ae(0,(function(){return s("var",{class:"dcg-mq-f"},[s.text("f")])})),t}return c(t,e),t.prototype.italicize=function(t){return this.domFrag().eachElement((function(e){return e.textContent="f"})),this.domFrag().toggleClass("dcg-mq-f",t),e.prototype.italicize.call(this,t)},t}(ve),E[" "]=E.space=function(){return new fe("\\ ",s("span",{},[s.text(" ")])," ")},E["."]=function(){return new fe(".",s("span",{class:"dcg-mq-digit"},[s.text(".")]),".")},E["'"]=E.prime=de("'","&prime;","prime"),E["″"]=E.dprime=de("″","&Prime;","double prime"),E.backslash=de("\\backslash ","\\","backslash"),k["\\"]||(k["\\"]=E.backslash),E.$=de("\\$","$","dollar"),E.square=de("\\square ","□","square"),E.mid=de("\\mid ","∣","mid");var ke=function(e){function t(t,n,r){return e.call(this,t,s("span",{class:"dcg-mq-nonSymbola"},[n||s.text(t)]))||this}return c(t,e),t}(ce);E["@"]=function(){return new ke("@")},E["&"]=function(){return new ke("\\&",s.entityText("&amp;"),"and")},E["%"]=function(e){function t(){return e.call(this,"\\%",s.text("%"),"percent")||this}return c(t,e),t.prototype.parser=function(){var t=G.optWhitespace,n=G.string;return t.then(n("\\operatorname{of}").map((function(){return Ke()}))).or(e.prototype.parser.call(this))},t}(ke),E["∥"]=E.parallel=de("\\parallel ","&#x2225;","parallel"),E["∦"]=E.nparallel=de("\\nparallel ","&#x2226;","not parallel"),E["⟂"]=E.perp=de("\\perp ","&#x27C2;","perpendicular"),E.alpha=E.beta=E.gamma=E.delta=E.zeta=E.eta=E.theta=E.iota=E.kappa=E.mu=E.nu=E.xi=E.rho=E.sigma=E.tau=E.chi=E.psi=E.omega=function(e){return new ye("\\"+e+" ",s.entityText("&"+e+";"))},E.phi=be("\\phi ","&#981;"),E.phiv=E.varphi=be("\\varphi ","&phi;"),E.epsilon=be("\\epsilon ","&#1013;"),E.epsiv=E.varepsilon=be("\\varepsilon ","&epsilon;"),E.piv=E.varpi=be("\\varpi ","&piv;"),E.sigmaf=E.sigmav=E.varsigma=be("\\varsigma ","&sigmaf;"),E.thetav=E.vartheta=E.thetasym=be("\\vartheta ","&thetasym;"),E.upsilon=E.upsi=be("\\upsilon ","&upsilon;"),E.gammad=E.Gammad=E.digamma=be("\\digamma ","&#989;"),E.kappav=E.varkappa=be("\\varkappa ","&#1008;"),E.rhov=E.varrho=be("\\varrho ","&#1009;"),E.pi=E["π"]=function(){return new ke("\\pi ",s.entityText("&pi;"),"pi")},E.lambda=function(){return new ke("\\lambda ",s.entityText("&lambda;"),"lambda")},E.Upsilon=E.Upsi=E.upsih=E.Upsih=function(){return new ce("\\Upsilon ",s("var",{style:"font-family: serif"},[s.entityText("&upsih;")]),"capital upsilon")},E.Gamma=E.Delta=E.Theta=E.Lambda=E.Xi=E.Pi=E.Sigma=E.Phi=E.Psi=E.Omega=E.forall=function(e){return new le("\\"+e+" ",s.entityText("&"+e+";"))};var Ie=function(t){function n(e){var n=t.call(this)||this;return n.latexStr=e,n}return c(n,t),n.prototype.createLeftOf=function(t){var n=Z.parse(this.latexStr);n.children().adopt(t.parent,t[e],t[1]),t[e]=n.getEnd(1),m(n.html()).insertBefore(t.domFrag()),n.finalizeInsert(t.options,t);var r=n.getEnd(1),i=r&&r[1];i&&i.siblingCreated(t.options,e);var o=n.getEnd(e),a=o&&o[e];a&&a.siblingCreated(t.options,1),t.parent.bubble((function(e){e.reflow()}))},n.prototype.mathspeak=function(){return Z.parse(this.latexStr).mathspeak()},n.prototype.parser=function(){var e=Z.parse(this.latexStr).children();return G.succeed(e)},n}(se);function Se(t){if(!t)return!1;var n=t[e];return n?!(n instanceof ue||/^(\\ )|[,;:\(\[]$/.test(n.ctrlSeq)):!!(t.parent&&t.parent.parent&&t.parent.parent.isStyleBlock())&&Se(t.parent.parent)}E["⁰"]=function(){return new Ie("^0")},E["¹"]=function(){return new Ie("^1")},E["²"]=function(){return new Ie("^2")},E["³"]=function(){return new Ie("^3")},E["⁴"]=function(){return new Ie("^4")},E["⁵"]=function(){return new Ie("^5")},E["⁶"]=function(){return new Ie("^6")},E["⁷"]=function(){return new Ie("^7")},E["⁸"]=function(){return new Ie("^8")},E["⁹"]=function(){return new Ie("^9")},E["¼"]=function(){return new Ie("\\frac14")},E["½"]=function(){return new Ie("\\frac12")},E["¾"]=function(){return new Ie("\\frac34")},E["√"]=function(){return new Ie("\\sqrt{}")};var Me=function(e){function t(t,n,r){return e.call(this,t,n,void 0,r,!0)||this}return c(t,e),t.prototype.contactWeld=function(e,t){this.sharedSiblingMethod(e.options,t)},t.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},t.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},t.prototype.sharedSiblingMethod=function(e,t){if(1!==t)return this.domFrag().oneElement().className=Se(this)?"dcg-mq-binary-operator":"",this},t}(ue);E["+"]=function(e){function t(){return e.call(this,"+",s.text("+"))||this}return c(t,e),t.prototype.mathspeak=function(){return Se(this)?"plus":"positive"},t}(Me);var Ce=function(e){function t(){return e.call(this,"-",s.entityText("&minus;"))||this}return c(t,e),t.prototype.mathspeak=function(){return Se(this)?"minus":"negative"},t}(Me);E["−"]=E["—"]=E["–"]=E["-"]=Ce,E["±"]=E.pm=E.plusmn=E.plusminus=function(){return new Me("\\pm ",s.entityText("&plusmn;"),"plus-or-minus")},E.mp=E.mnplus=E.minusplus=function(){return new Me("\\mp ",s.entityText("&#8723;"),"minus-or-plus")},k["*"]=E.sdot=E.cdot=pe("\\cdot ","&middot;","*","times");var De=function(t){function n(){return t.call(this,"\\to ",s.entityText("&rarr;"),"to")||this}return c(n,t),n.prototype.deleteTowards=function(n,r){if(n===e){var i=r[e];return new A(i,this).remove(),r[e]=i[e],(new Ce).createLeftOf(r),void r[e].bubble((function(e){e.reflow()}))}t.prototype.deleteTowards.call(this,n,r)},n}(ue);E["→"]=E.to=De;var Te=function(t){function n(e,n){var r=this,i=n?"Strict":"";return(r=t.call(this,e["ctrlSeq".concat(i)],s.entityText(e["htmlEntity".concat(i)]),e["text".concat(i)],e["mathspeak".concat(i)])||this).data=e,r.strict=n,r}return c(n,t),n.prototype.swap=function(e){this.strict=e;var t=e?"Strict":"";this.ctrlSeq=this.data["ctrlSeq".concat(t)],this.domFrag().children().replaceWith(m(s.entityText(this.data["htmlEntity".concat(t)]))),this.textTemplate=[this.data["text".concat(t)]],this.mathspeakName=this.data["mathspeak".concat(t)]},n.prototype.deleteTowards=function(n,r){if(n===e&&!this.strict)return this.swap(!0),void this.bubble((function(e){e.reflow()}));t.prototype.deleteTowards.call(this,n,r)},n}(ue),Le={ctrlSeq:"\\le ",htmlEntity:"&le;",text:"≤",mathspeak:"less than or equal to",ctrlSeqStrict:"<",htmlEntityStrict:"&lt;",textStrict:"<",mathspeakStrict:"less than"},_e={ctrlSeq:"\\ge ",htmlEntity:"&ge;",text:"≥",mathspeak:"greater than or equal to",ctrlSeqStrict:">",htmlEntityStrict:"&gt;",textStrict:">",mathspeakStrict:"greater than"},Oe=function(t){function n(){return t.call(this,_e,!0)||this}return c(n,t),n.prototype.createLeftOf=function(n){var r=n[e];if(r instanceof ue&&"-"===r.ctrlSeq){var i=r;return n[e]=i[e],i.remove(),(new De).createLeftOf(n),void n[e].bubble((function(e){e.reflow()}))}t.prototype.createLeftOf.call(this,n)},n}(Te);E["<"]=E.lt=function(){return new Te(Le,!0)},E[">"]=E.gt=Oe,E["≤"]=E.le=E.leq=function(){return new Te(Le,!1)},E["≥"]=E.ge=E.geq=function(){return new Te(_e,!1)},E.infty=E.infin=E.infinity=de("\\infty ","&infin;","infinity"),E["≠"]=E.ne=E.neq=pe("\\ne ","&ne;","not equal");var Be=function(t){function n(){return t.call(this,"=",s.text("="),"=","equals")||this}return c(n,t),n.prototype.createLeftOf=function(n){var r=n[e];if(r instanceof Te&&r.strict)return r.swap(!1),void r.bubble((function(e){e.reflow()}));t.prototype.createLeftOf.call(this,n)},n}(ue);E["="]=Be,E["×"]=E.times=pe("\\times ","&times;","[x]","times"),E["÷"]=E.div=E.divide=E.divides=pe("\\div ","&divide;","[/]","over");var Pe=function(t){function n(){return t.call(this,"\\sim ",s.text("~"),"~","tilde")||this}return c(n,t),n.prototype.createLeftOf=function(r){if(r[e]instanceof n){var i=r[e];return r[e]=i[e],i.remove(),(new Fe).createLeftOf(r),void r[e].bubble((function(e){e.reflow()}))}t.prototype.createLeftOf.call(this,r)},n}(ue),Fe=function(t){function n(){return t.call(this,"\\approx ",s.entityText("&approx;"),"≈","approximately equal")||this}return c(n,t),n.prototype.deleteTowards=function(n,r){if(n===e){var i=r[e];return new A(i,this).remove(),r[e]=i[e],(new Pe).createLeftOf(r),void r[e].bubble((function(e){e.reflow()}))}t.prototype.deleteTowards.call(this,n,r)},n}(ue);k["~"]=E.sim=Pe,E["≈"]=E.approx=Fe;var Ne={sqrt:{width:"",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 32 54"},[s("path",{d:"M0 33 L7 27 L12.5 47 L13 47 L30 0 L32 0 L13 54 L11 54 L4.5 31 L0 33"})])}},"|":{width:".4em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[s("path",{d:"M4.4 0 L4.4 54 L5.6 54 L5.6 0"})])}},"[":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 11 24"},[s("path",{d:"M8 0 L3 0 L3 24 L8 24 L8 23 L4 23 L4 1 L8 1"})])}},"]":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 11 24"},[s("path",{d:"M3 0 L8 0 L8 24 L3 24 L3 23 L7 23 L7 1 L3 1"})])}},"(":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"3 0 106 186"},[s("path",{d:"M85 0 A61 101 0 0 0 85 186 L75 186 A75 101 0 0 1 75 0"})])}},")":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"3 0 106 186"},[s("path",{d:"M24 0 A61 101 0 0 1 24 186 L34 186 A75 101 0 0 0 34 0"})])}},"{":{width:".7em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"10 0 210 350"},[s("path",{d:"M170 0 L170 6 A47 52 0 0 0 123 60 L123 127 A35 48 0 0 1 88 175 A35 48 0 0 1 123 223 L123 290 A47 52 0 0 0 170 344 L170 350 L160 350 A58 49 0 0 1 102 301 L103 220 A45 40 0 0 0 58 180 L58 170 A45 40 0 0 0 103 130 L103 49 A58 49 0 0 1 161 0"})])}},"}":{width:".7em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"10 0 210 350"},[s("path",{d:"M60 0 L60 6 A47 52 0 0 1 107 60 L107 127 A35 48 0 0 0 142 175 A35 48 0 0 0 107 223 L107 290 A47 52 0 0 1 60 344 L60 350 L70 350 A58 49 0 0 0 128 301 L127 220 A45 40 0 0 1 172 180 L172 170 A45 40 0 0 1 127 130 L127 49 A58 49 0 0 0 70 0"})])}},"&#8741;":{width:".7em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[s("path",{d:"M3.2 0 L3.2 54 L4 54 L4 0 M6.8 0 L6.8 54 L6 54 L6 0"})])}},"&lang;":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[s("path",{d:"M6.8 0 L3.2 27 L6.8 54 L7.8 54 L4.2 27 L7.8 0"})])}},"&rang;":{width:".55em",html:function(){return s("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[s("path",{d:"M3.2 0 L6.8 27 L3.2 54 L2.2 54 L5.8 27 L2.2 0"})])}}},qe=function(e){function t(t,n,r,i,o){var a=e.call(this,t,new ae(1,(function(e){return s.block(n,r,e[0])})))||this;return a.ariaLabel=i||t.replace(/^\\/,""),a.mathspeakTemplate=["Start"+a.ariaLabel+",","End"+a.ariaLabel],a.shouldNotSpeakDelimiters=o&&o.shouldNotSpeakDelimiters,a}return c(t,e),t.prototype.mathspeak=function(t){return!this.shouldNotSpeakDelimiters||t&&t.ignoreShorthand?e.prototype.mathspeak.call(this):this.foldChildren("",(function(e,n){return e+" "+n.mathspeak(t)})).trim()},t}(se);E.mathrm=function(e){function t(){return e.call(this,"\\mathrm","span",{class:"dcg-mq-roman dcg-mq-font"},"Roman Font",{shouldNotSpeakDelimiters:!0})||this}return c(t,e),t.prototype.isTextBlock=function(){return!0},t}(qe),E.mathit=function(){return new qe("\\mathit","i",{class:"dcg-mq-font"},"Italic Font")},E.mathbf=function(){return new qe("\\mathbf","b",{class:"dcg-mq-font"},"Bold Font")},E.mathsf=function(){return new qe("\\mathsf","span",{class:"dcg-mq-sans-serif dcg-mq-font"},"Serif Font")},E.mathtt=function(){return new qe("\\mathtt","span",{class:"dcg-mq-monospace dcg-mq-font"},"Math Text")},E.underline=function(){return new qe("\\underline","span",{class:"dcg-mq-non-leaf dcg-mq-underline"},"Underline")},E.overline=E.bar=function(){return new qe("\\overline","span",{class:"dcg-mq-non-leaf dcg-mq-overline"},"Overline")},E.overrightarrow=function(){return new qe("\\overrightarrow","span",{class:"dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-right"},"Over Right Arrow")},E.overleftarrow=function(){return new qe("\\overleftarrow","span",{class:"dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-left"},"Over Left Arrow")},E.overleftrightarrow=function(){return new qe("\\overleftrightarrow ","span",{class:"dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-leftright"},"Over Left and Right Arrow")},E.overarc=function(){return new qe("\\overarc","span",{class:"dcg-mq-non-leaf dcg-mq-overarc"},"Over Arc")},E.dot=function(){return new se("\\dot",new ae(1,(function(e){return s("span",{class:"dcg-mq-non-leaf"},[s("span",{class:"dcg-mq-dot-recurring-inner"},[s("span",{class:"dcg-mq-dot-recurring"},[s.text("˙")]),s.block("span",{class:"dcg-mq-empty-box"},e[0])])])})))},E.textcolor=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.setColor=function(e){this.color=e,this.domView=new ae(1,(function(t){return s.block("span",{class:"dcg-mq-textcolor",style:"color:"+e},t[0])})),this.ariaLabel=e.replace(/^\\/,""),this.mathspeakTemplate=["Start "+this.ariaLabel+",","End "+this.ariaLabel]},t.prototype.latex=function(){var e=this.blocks[0];return"\\textcolor{"+this.color+"}{"+e.latex()+"}"},t.prototype.parser=function(){var t=this,n=G.optWhitespace,r=G.string,i=G.regex;return n.then(r("{")).then(i(/^[#\w\s.,()%-]*/)).skip(r("}")).then((function(n){return t.setColor(n),e.prototype.parser.call(t)}))},t.prototype.isStyleBlock=function(){return!0},t}(se),E.class=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.parser=function(){var t=this,n=G.string,r=G.regex;return G.optWhitespace.then(n("{")).then(r(/^[-\w\s\\\xA0-\xFF]*/)).skip(n("}")).then((function(n){return t.cls=n||"",t.domView=new ae(1,(function(e){return s.block("span",{class:"dcg-mq-class ".concat(n)},e[0])})),t.ariaLabel=n+" class",t.mathspeakTemplate=["Start "+t.ariaLabel+",","End "+t.ariaLabel],e.prototype.parser.call(t)}))},t.prototype.latex=function(){var e=this.blocks[0];return"\\class{"+this.cls+"}{"+e.latex()+"}"},t.prototype.isStyleBlock=function(){return!0},t}(se);var Re=/^[\+\-]?[\d]+$/;function ze(e){if(!e)return"";var t="";return e.eachChild((function(e){void 0!==e.ctrlSeq&&(t+=e.ctrlSeq)})),t}B.prototype.charsThatBreakOutOfSupSub="";var Ue=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctrlSeq="_{...}^{...}",e}return c(n,t),n.prototype.setEnds=function(t){i("SupSub ends must be MathBlocks",t[e]instanceof ge&&t[1]instanceof ge),this.ends=t},n.prototype.getEnd=function(e){return this.ends[e]},n.prototype.createLeftOf=function(n){if(this.replacedFragment||n[e]||!n.options.supSubsRequireOperand)return t.prototype.createLeftOf.call(this,n)},n.prototype.contactWeld=function(t){for(var r=e;r;r=r===e&&1){var i=this[r],o=void 0;if(i instanceof n){for(var a="sub";a;a="sub"===a&&"sup"){var s=this[a],c=i[a];if(s){if(c)if(s.isEmpty())o=new y(c,0,c.getEnd(e));else{s.domFrag().children().insAtDirEnd(-r,c.domFrag().oneElement());var l=s.children().disown();o=new y(c,l.getEnd(1),c.getEnd(e)),r===e?l.adopt(c,c.getEnd(1),0):l.adopt(c,0,c.getEnd(e))}else i.addBlock(s.disown());this.placeCursor=function(e,t){return function(n){n.insAtDirEnd(-r,e||t)}}(c,s)}}this.remove(),t&&t[e]===this&&(1===r&&o?o[e]?t.insRightOf(o[e]):t.insAtLeftEnd(o.parent):t.insRightOf(i));break}}},n.prototype.finalizeTree=function(){this.getEnd(e).write=function(t,n){if(t.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===n)return;var r=this.chToCmd(n,t.options);return r instanceof ce?t.deleteSelection():t.clearSelection().insRightOf(this.parent),r.createLeftOf(t.show()),void t.controller.aria.queue("Baseline").alert(r.mathspeak({createdLeftOf:t}))}t[e]&&!t[1]&&!t.selection&&t.options.charsThatBreakOutOfSupSub.indexOf(n)>-1&&(t.insRightOf(this.parent),t.controller.aria.queue("Baseline")),ge.prototype.write.call(this,t,n)}},n.prototype.moveTowards=function(e,n,r){n.options.autoSubscriptNumerals&&!this.sup?n.insDirOf(e,this):t.prototype.moveTowards.call(this,e,n,r)},n.prototype.deleteTowards=function(n,r){if(r.options.autoSubscriptNumerals&&this.sub){var i=this.sub.getEnd(-n);i instanceof ce?i.remove():i&&i.deleteTowards(n,r.insAtDirEnd(-n,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(e,r.insAtLeftEnd(this.sub)),this.sup&&r.insDirOf(-n,this))}else t.prototype.deleteTowards.call(this,n,r)},n.prototype.latex=function(){function e(e,t){var n=t&&t.latex();return t?e+"{"+(n||" ")+"}":""}return e("_",this.sub)+e("^",this.sup)},n.prototype.text=function(){function e(e,t){var n=t&&t.text()||"";return t?e+(1===n.length?n:"("+(n||" ")+")"):""}return e("_",this.sub)+e("^",this.sup)},n.prototype.addBlock=function(e){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=e,e.adopt(this,this.sub,0).downOutOf=this.sub,e.setDOM(m(s("span",{class:"dcg-mq-sup"})).append(e.domFrag().children()).prependTo(this.domFrag().oneElement()).oneElement()),x.linkElementByBlockNode(e.domFrag().oneElement(),e)):(this.sub=this.downInto=this.sup.downOutOf=e,e.adopt(this,0,this.sup).upOutOf=this.sup,this.domFrag().removeClass("dcg-mq-sup-only"),e.setDOM(m(s("span",{class:"dcg-mq-sub"})).append(e.domFrag().children()).appendTo(this.domFrag().oneElement()).oneElement()),x.linkElementByBlockNode(e.domFrag().oneElement(),e),this.domFrag().append(m(s("span",{style:"display:inline-block;width:0"},[s.text(d)]))));for(var t=0;t<2;t+=1)!function(e,t,n,r){e[t].deleteOutOf=function(i,o){if(o.insDirOf(this[i]?-i:i,this.parent),!this.isEmpty()){var a=this.getEnd(i);this.children().disown().withDirAdopt(i,o.parent,o[i],o[-i]).domFrag().insDirOf(-i,o.domFrag()),o[-i]=a}e.supsub=n,delete e[t],delete e["".concat(r,"Into")];var s=e[n];s["".concat(r,"OutOf")]=je,delete s.deleteOutOf,"sub"===t&&e.domFrag().addClass("dcg-mq-sup-only").children().last().remove(),this.remove()}}(this,"sub sup".split(" ")[t],"sup sub".split(" ")[t],"down up".split(" ")[t])},n}(se);function je(e){var t=this.parent,n=e;do{if(n[1])return e.insLeftOf(t);n=n.parent.parent}while(n!==t);e.insRightOf(t)}var Qe=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.supsub="sub",e.domView=new ae(1,(function(e){return s("span",{class:"dcg-mq-supsub dcg-mq-non-leaf"},[s.block("span",{class:"dcg-mq-sub"},e[0]),s("span",{style:"display:inline-block;width:0"},[s.text(d)])])})),e.textTemplate=["_"],e.mathspeakTemplate=["Subscript,",", Baseline"],e.ariaLabel="subscript",e}return c(n,t),n.prototype.finalizeTree=function(){this.downInto=this.sub=this.getEnd(e),this.sub.upOutOf=je,t.prototype.finalizeTree.call(this)},n}(Ue);E.subscript=E._=Qe,E.superscript=E.supscript=E["^"]=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.supsub="sup",t.domView=new ae(1,(function(e){return s("span",{class:"dcg-mq-supsub dcg-mq-non-leaf dcg-mq-sup-only"},[s.block("span",{class:"dcg-mq-sup"},e[0])])})),t.textTemplate=["^(",")"],t.ariaLabel="superscript",t.mathspeakTemplate=["Superscript,",", Baseline"],t}return c(t,e),t.prototype.mathspeak=function(t){var n=this.upInto;if(void 0!==n){var r=ze(n);if((!t||!t.ignoreShorthand)&&Re.test(r)){if("0"===r)return"to the 0 power";if("2"===r)return"squared";if("3"===r)return"cubed";var i="";return/^[+-]?\d{1,3}$/.test(r)&&(/(11|12|13|4|5|6|7|8|9|0)$/.test(r)?i="th":/1$/.test(r)?i="st":/2$/.test(r)?i="nd":/3$/.test(r)&&(i="rd")),"to the "+("object"==_typeof(n)?n.mathspeak():r)+i+" power"}}return e.prototype.mathspeak.call(this)},t.prototype.finalizeTree=function(){this.upInto=this.sup=this.getEnd(1),this.sup.downOutOf=je,e.prototype.finalizeTree.call(this)},t}(Ue);var Ge=function(t){function n(e,n,r){var i=t.call(this)||this;i.ariaLabel=r||e.replace(/^\\/,"");var o=new ae(2,(function(e){return s("span",{class:"dcg-mq-large-operator dcg-mq-non-leaf"},[s("span",{class:"dcg-mq-to"},[s.block("span",{},e[1])]),s("big",{},[s.text(n)]),s("span",{class:"dcg-mq-from"},[s.block("span",{},e[0])])])}));return ce.prototype.setCtrlSeqHtmlTextAndMathspeak.call(i,e,o),i}return c(n,t),n.prototype.createLeftOf=function(e){t.prototype.createLeftOf.call(this,e),e.options.sumStartsWithNEquals&&(new ve("n").createLeftOf(e),(new Be).createLeftOf(e))},n.prototype.latex=function(){function t(e){return"{"+(e||" ")+"}"}return this.ctrlSeq+"_"+t(this.getEnd(e).latex())+"^"+t(this.getEnd(1).latex())},n.prototype.mathspeak=function(){return"Start "+this.ariaLabel+" from "+this.getEnd(e).mathspeak()+" to "+this.getEnd(1).mathspeak()+", end "+this.ariaLabel+", "},n.prototype.parser=function(){for(var e=G.string,t=G.optWhitespace,n=G.succeed,r=Z.block,i=this,o=i.blocks=[new ge,new ge],a=0;a<o.length;a+=1)o[a].adopt(i,i.getEnd(1),0);return t.then(e("_").or(e("^"))).then((function(e){var t=o["_"===e?0:1];return r.then((function(e){return e.children().adopt(t,t.getEnd(1),0),n(i)}))})).many().result(i)},n.prototype.finalizeTree=function(){var t=this.getEnd(e),n=this.getEnd(1);t.ariaLabel="lower bound",n.ariaLabel="upper bound",this.downInto=t,this.upInto=n,t.upOutOf=n,n.downOutOf=t},n}(se);E["∑"]=E.sum=E.summation=function(){return new Ge("\\sum ","∑","sum")},E["∏"]=E.prod=E.product=function(){return new Ge("\\prod ","∏","product")},E.coprod=E.coproduct=function(){return new Ge("\\coprod ","∐","co product")},E["∫"]=E.int=E.integral=function(e){function t(){var t=e.call(this,"\\int ","","integral")||this;return t.ariaLabel="integral",t.domView=new ae(2,(function(e){return s("span",{class:"dcg-mq-int dcg-mq-non-leaf"},[s("big",{},[s.text("∫")]),s("span",{class:"dcg-mq-supsub dcg-mq-non-leaf"},[s("span",{class:"dcg-mq-sup"},[s.block("span",{class:"dcg-mq-sup-inner"},e[1])]),s.block("span",{class:"dcg-mq-sub"},e[0]),s("span",{style:"display:inline-block;width:0"},[s.text(d)])])])})),t}return c(t,e),t.prototype.createLeftOf=function(e){se.prototype.createLeftOf.call(this,e)},t}(Ge);var Ve=E.frac=E.dfrac=E.cfrac=E.fraction=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctrlSeq="\\frac",e.domView=new ae(2,(function(e){return s("span",{class:"dcg-mq-fraction dcg-mq-non-leaf"},[s.block("span",{class:"dcg-mq-numerator"},e[0]),s.block("span",{class:"dcg-mq-denominator"},e[1]),s("span",{style:"display:inline-block;width:0"},[s.text(d)])])})),e.textTemplate=["(",")/(",")"],e}return c(n,t),n.prototype.finalizeTree=function(){var t=this.getEnd(e),n=this.getEnd(1);this.upInto=n.upOutOf=t,this.downInto=t.downOutOf=n,t.ariaLabel="numerator",n.ariaLabel="denominator",this.getFracDepth()>1?this.mathspeakTemplate=["StartNestedFraction,","NestedOver",", EndNestedFraction"]:this.mathspeakTemplate=["StartFraction,","Over",", EndFraction"]},n.prototype.mathspeak=function(n){if(n&&n.createdLeftOf)return n.createdLeftOf.parent.mathspeak();var r=ze(this.getEnd(e)),i=ze(this.getEnd(1));if((!n||!n.ignoreShorthand)&&Re.test(r)&&Re.test(i)){var o="1"===r||"-1"===r,a="";if("2"===i?a=o?"half":"halves":"3"===i?a=o?"third":"thirds":"4"===i?a=o?"quarter":"quarters":"5"===i?a=o?"fifth":"fifths":"6"===i?a=o?"sixth":"sixths":"7"===i?a=o?"seventh":"sevenths":"8"===i?a=o?"eighth":"eighths":"9"===i&&(a=o?"ninth":"ninths"),""!==a){for(var s="",c=!1,l=this[e];l&&void 0!==l[e];l=l[e])if("\\ "!==l.ctrlSeq){if(!Re.test(l.ctrlSeq||"")){c=!1;break}c=!0}return c&&(s+="and "),s+(this.getEnd(e).mathspeak()+" ")+a}}return t.prototype.mathspeak.call(this)},n.prototype.getFracDepth=function(){var e=function(t,n){return t instanceof J&&t.ctrlSeq&&t.ctrlSeq.toLowerCase().search("frac")>=0&&(n+=1),t&&t.parent?e(t.parent,n):n};return e(this,0)},n}(se),Ye=E.over=k["/"]=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.createLeftOf=function(n){if(!this.replacedFragment){var i=n[e];if(!n.options.typingSlashCreatesNewFraction)for(;i&&!(i instanceof ue||i instanceof(E.text||r)||i instanceof Ge||"\\ "===i.ctrlSeq||/^[,;:]$/.test(i.ctrlSeq));)i=i[e];if(i instanceof Ge&&i[1]instanceof Ue&&(o=(i=i[1])[1])instanceof Ue&&o.ctrlSeq!=i.ctrlSeq&&(i=i[1]),i!==n[e]&&!n.isTooDeep(1)){var o=i[1],a=n[e];this.replaces(new A(o||n.parent.getEnd(e),a)),n[e]=i}}t.prototype.createLeftOf.call(this,n)},n}(Ve),He=function(){return new ce("\\operatorname{ans}",s("span",{class:"dcg-mq-ans"},[s.text("ans")]),"ans")};E.ans=He;var Ke=function(){return new ce("\\%\\operatorname{of}",s("span",{class:"dcg-mq-nonSymbola dcg-mq-operator-name"},[s.text("% of ")]),"percent of")};E.percent=E.percentof=Ke;var We=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\sqrt",t.domView=new ae(1,(function(e){return s("span",{class:"dcg-mq-non-leaf dcg-mq-sqrt-container"},[s("span",{class:"dcg-mq-scaled dcg-mq-sqrt-prefix"},[Ne.sqrt.html()]),s.block("span",{class:"dcg-mq-non-leaf dcg-mq-sqrt-stem"},e[0])])})),t.textTemplate=["sqrt(",")"],t.mathspeakTemplate=["StartRoot,",", EndRoot"],t.ariaLabel="root",t}return c(t,e),t.prototype.parser=function(){return Z.optBlock.then((function(e){return Z.block.map((function(t){var n=new Je;return n.blocks=[e,t],e.adopt(n,0,0),t.adopt(n,e,0),n}))})).or(e.prototype.parser.call(this))},t}(se);E.sqrt=We,E.hat=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\hat",t.domView=new ae(1,(function(e){return s("span",{class:"dcg-mq-non-leaf"},[s("span",{class:"dcg-mq-hat-prefix"},[s.text("^")]),s.block("span",{class:"dcg-mq-hat-stem"},e[0])])})),t.textTemplate=["hat(",")"],t}return c(t,e),t}(se);var Je=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.domView=new ae(2,(function(e){return s("span",{class:"dcg-mq-nthroot-container dcg-mq-non-leaf"},[s.block("sup",{class:"dcg-mq-nthroot dcg-mq-non-leaf"},e[0]),s("span",{class:"dcg-mq-scaled dcg-mq-sqrt-container"},[s("span",{class:"dcg-mq-sqrt-prefix dcg-mq-scaled"},[Ne.sqrt.html()]),s.block("span",{class:"dcg-mq-sqrt-stem dcg-mq-non-leaf"},e[1])])])})),e.textTemplate=["sqrt[","](",")"],e}return c(n,t),n.prototype.latex=function(){return"\\sqrt["+this.getEnd(e).latex()+"]{"+this.getEnd(1).latex()+"}"},n.prototype.mathspeak=function(){var t=this.getEnd(e).mathspeak(),n=this.getEnd(1).mathspeak();return this.getEnd(e).ariaLabel="Index",this.getEnd(1).ariaLabel="Radicand","3"===t?"Start Cube Root, "+n+", End Cube Root":"Root Index "+t+", Start Root, "+n+", End Root"},n}(We);E.nthroot=Je,E.cbrt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.createLeftOf=function(t){e.prototype.createLeftOf.call(this,t),new me("3").createLeftOf(t),t.controller.moveRight()},t}(Je);var Xe=function(e){function t(t,n,r){var i=new ae(1,(function(e){return s("span",{class:"dcg-mq-non-leaf"},[s("span",{class:"dcg-mq-diacritic-above"},[n]),s.block("span",{class:"dcg-mq-diacritic-stem"},e[0])])}));return e.call(this,t,i,r)||this}return c(t,e),t}(se);E.vec=function(){return new Xe("\\vec",s.entityText("&rarr;"),["vec(",")"])},E.tilde=function(){return new Xe("\\tilde",s.text("~"),["tilde(",")"])};var Ze=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.setDOM=function(n){var r;t.prototype.setDOM.call(this,n);var i=this.domFrag().children();return i.isEmpty()||(this.delimFrags=((r={})[e]=i.first(),r[1]=i.last(),r)),this},n}(se),$e=function(t){function n(n,r,i,o,a){var s,c=t.call(this,"\\left"+o,void 0,[r,i])||this;return c.side=n,c.sides=((s={})[e]={ch:r,ctrlSeq:o},s[1]={ch:i,ctrlSeq:a},s),c}return c(n,t),n.prototype.numBlocks=function(){return 1},n.prototype.html=function(){var n=this,r=this.getSymbol(e),i=this.getSymbol(1);return this.domView=new ae(1,(function(t){return s("span",{class:"dcg-mq-non-leaf dcg-mq-bracket-container"},[s("span",{style:"width:"+r.width,class:"dcg-mq-scaled dcg-mq-bracket-l dcg-mq-paren"+(1===n.side?" dcg-mq-ghost":"")},[r.html()]),s.block("span",{style:"margin-left:"+r.width+";margin-right:"+i.width,class:"dcg-mq-bracket-middle dcg-mq-non-leaf"},t[0]),s("span",{style:"width:"+i.width,class:"dcg-mq-scaled dcg-mq-bracket-r dcg-mq-paren"+(n.side===e?" dcg-mq-ghost":"")},[i.html()])])})),t.prototype.html.call(this)},n.prototype.getSymbol=function(e){var t=this.sides[e||1].ch;return Ne[t]||{width:"0",html:""}},n.prototype.latex=function(){return"\\left"+this.sides[e].ctrlSeq+this.getEnd(e).latex()+"\\right"+this.sides[1].ctrlSeq},n.prototype.mathspeak=function(n){var r=this.sides[e].ch,i=this.sides[1].ch;if("|"===r&&"|"===i)this.mathspeakTemplate=["StartAbsoluteValue,",", EndAbsoluteValue"],this.ariaLabel="absolute value";else{if(n&&n.createdLeftOf&&this.side){var o="";return this.side===e?o=this.textTemplate[0]:1===this.side&&(o=this.textTemplate[1]),(this.side===e?"left ":"right ")+tt[o]}this.mathspeakTemplate=["left "+tt[r]+",",", right "+tt[i]],this.ariaLabel=tt[r]+" block"}return t.prototype.mathspeak.call(this)},n.prototype.matchBrack=function(t,r,i){return i instanceof n&&i.side&&i.side!==-r&&(!t.restrictMismatchedBrackets||et[this.sides[this.side].ch]===i.sides[i.side].ch||{"(":"]","[":")"}[this.sides[e].ch]===i.sides[1].ch)&&i},n.prototype.closeOpposing=function(t){t.side=0,t.sides[this.side]=this.sides[this.side];var n=t.delimFrags[this.side===e?e:1].removeClass("dcg-mq-ghost");this.replaceBracket(n,this.side)},n.prototype.createLeftOf=function(n){var r;if(!this.replacedFragment){var i=n.options;r="|"===this.sides[e].ch?this.matchBrack(i,1,n[1])||this.matchBrack(i,e,n[e])||this.matchBrack(i,0,n.parent.parent):this.matchBrack(i,-this.side,n[-this.side])||this.matchBrack(i,-this.side,n.parent.parent)}if(r){var o=this.side=-r.side;this.closeOpposing(r),r===n.parent.parent&&n[o]&&new A(n[o],n.parent.getEnd(o),-o).disown().withDirAdopt(-o,r.parent,r,r[o]).domFrag().insDirOf(o,r.domFrag()),r.bubble((function(e){e.reflow()}))}else o=(r=this).side,r.replacedFragment?r.side=0:n[-o]&&(r.replaces(new A(n[-o],n.parent.getEnd(-o),o)),n[-o]=0),t.prototype.createLeftOf.call(this,n);o===e?n.insAtLeftEnd(r.getEnd(e)):n.insRightOf(r)},n.prototype.placeCursor=function(){},n.prototype.unwrap=function(){this.getEnd(e).children().disown().adopt(this.parent,this,this[1]).domFrag().insertAfter(this.domFrag()),this.remove()},n.prototype.deleteSide=function(t,n,r){var i=this.parent,o=this[t],a=i.getEnd(t);if(t===this.side)return this.unwrap(),void(o?r.insDirOf(-t,o):r.insAtDirEnd(t,i));var s=r.options,c=!this.side;if(this.side=-t,this.matchBrack(s,t,this.getEnd(e).getEnd(this.side))){this.closeOpposing(this.getEnd(e).getEnd(this.side));var l=this.getEnd(e).getEnd(t);this.unwrap(),l&&l.siblingCreated(r.options,t),o?r.insDirOf(-t,o):r.insAtDirEnd(t,i)}else{if(this.matchBrack(s,t,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(n&&c)return this.unwrap(),void(o?r.insDirOf(-t,o):r.insAtDirEnd(t,i));this.sides[t]=function(e){var t=e.side,n=e.sides[t];return{ch:et[n.ch],ctrlSeq:et[n.ctrlSeq]}}(this),this.delimFrags[e].removeClass("dcg-mq-ghost"),this.delimFrags[1].removeClass("dcg-mq-ghost");var d=this.delimFrags[t].addClass("dcg-mq-ghost");this.replaceBracket(d,t)}if(o){var u=this.getEnd(e);l=u.getEnd(t),u.domFrag().removeClass("dcg-mq-empty"),new A(o,a,-t).disown().withDirAdopt(-t,u,l,0).domFrag().insAtDirEnd(t,u.domFrag().oneElement()),l&&l.siblingCreated(r.options,t),r.insDirOf(-t,o)}else n?r.insDirOf(t,this):r.insAtDirEnd(t,this.getEnd(e))}},n.prototype.replaceBracket=function(t,n){var r=this.getSymbol(n);if(t.children().replaceWith(m(r.html())),t.oneElement().style.width=r.width,n===e){var i=t.next();i.isEmpty()||(i.oneElement().style.marginLeft=r.width)}else{var o=t.prev();o.isEmpty()||(o.oneElement().style.marginRight=r.width)}},n.prototype.deleteTowards=function(e,t){this.deleteSide(-e,!1,t)},n.prototype.finalizeTree=function(){this.getEnd(e).deleteOutOf=function(e,t){this.parent.deleteSide(e,!0,t)},this.finalizeTree=this.intentionalBlur=function(){this.delimFrags[this.side===e?1:e].removeClass("dcg-mq-ghost"),this.side=0}},n.prototype.siblingCreated=function(e,t){t===-this.side&&this.finalizeTree()},n}(Ze),et={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "},tt={"&lang;":"angle-bracket","&rang;":"angle-bracket","|":"pipe"};function nt(t,n,r){n=n||t;var i=et[t],o=et[n];k[t]=function(){return new $e(e,t,i,n,o)},k[i]=function(){return new $e(1,t,i,n,o)},tt[t]=tt[i]=r}nt("(","","parenthesis"),nt("[","","bracket"),nt("{","\\{","brace"),E.langle=function(){return new $e(e,"&lang;","&rang;","\\langle ","\\rangle ")},E.rangle=function(){return new $e(1,"&lang;","&rang;","\\langle ","\\rangle ")},k["|"]=function(){return new $e(e,"|","|","|","|")},E.lVert=function(){return new $e(e,"&#8741;","&#8741;","\\lVert ","\\rVert ")},E.rVert=function(){return new $e(1,"&#8741;","&#8741;","\\lVert ","\\rVert ")},E.left=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.parser=function(){var e=G.regex,t=G.string,n=G.optWhitespace;return n.then(e(/^(?:[([|]|\\\{|\\langle(?![a-zA-Z])|\\lVert(?![a-zA-Z]))/)).then((function(r){var i=r.replace(/^\\/,"");return"\\langle"==r&&(i="&lang;",r+=" "),"\\lVert"==r&&(i="&#8741;",r+=" "),Z.then((function(o){return t("\\right").skip(n).then(e(/^(?:[\])|]|\\\}|\\rangle(?![a-zA-Z])|\\rVert(?![a-zA-Z]))/)).map((function(e){var t=e.replace(/^\\/,"");"\\rangle"==e&&(t="&rang;",e+=" "),"\\rVert"==e&&(t="&#8741;",e+=" ");var n=new $e(0,i,t,r,e);return n.blocks=[o],o.adopt(n,0,0),n}))}))}))},t}(se),E.right=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.parser=function(){return G.fail("unmatched \\right")},t}(se);var rt=Ne["("],it=Ne[")"],ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\binom",t.domView=new ae(2,(function(e){return s("span",{class:"dcg-mq-non-leaf dcg-mq-bracket-container"},[s("span",{style:"width:"+rt.width,class:"dcg-mq-paren dcg-mq-bracket-l dcg-mq-scaled"},[rt.html()]),s("span",{style:"margin-left:"+rt.width+"; margin-right:"+it.width,class:"dcg-mq-non-leaf dcg-mq-bracket-middle"},[s("span",{class:"dcg-mq-array dcg-mq-non-leaf"},[s.block("span",{},e[0]),s.block("span",{},e[1])])]),s("span",{style:"width:"+it.width,class:"dcg-mq-paren dcg-mq-bracket-r dcg-mq-scaled"},[it.html()])])})),t.textTemplate=["choose(",",",")"],t.mathspeakTemplate=["StartBinomial,","Choose",", EndBinomial"],t.ariaLabel="binomial",t}return c(t,e),t}(Ze);E.binom=E.binomial=ot,E.choose=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.createLeftOf=function(e){Ye.prototype.createLeftOf(e)},t}(ot);var at=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctrlSeq="\\MathQuillMathField",e.domView=new ae(1,(function(e){return s("span",{class:"dcg-mq-editable-field"},[s.block("span",{class:"dcg-mq-root-block","aria-hidden":"true"},e[0])])})),e}return c(n,t),n.prototype.parser=function(){var e=this,n=G.string,r=G.regex,i=G.succeed;return n("[").then(r(/^[a-z][a-z0-9]*/i)).skip(n("]")).map((function(t){e.name=t})).or(i(void 0)).then(t.prototype.parser.call(this))},n.prototype.finalizeTree=function(t){var n=new ie(this.getEnd(e),this.domFrag().oneElement(),t);n.KIND_OF_MQ="MathField",n.editable=!0,n.createTextarea(),n.editablesTextareaEvents(),n.cursor.insAtRightEnd(n.root),j(n.root),function e(t){if(t.parentNode&&!m(t).hasClass("dcg-mq-root-block")&&e(t.parentNode),t.nodeType===Node.ELEMENT_NODE){var n=t;"true"===n.getAttribute("aria-hidden")&&(n.removeAttribute("aria-hidden"),m(t).children().eachElement((function(e){e.setAttribute("aria-hidden","true")})))}}(this.domFrag().parent().oneElement()),this.domFrag().oneElement().removeAttribute("aria-hidden")},n.prototype.registerInnerField=function(t,n){var r=new n(this.getEnd(e).controller);t[this.name]=r,t.push(r)},n.prototype.latex=function(){return this.getEnd(e).latex()},n.prototype.text=function(){return this.getEnd(e).text()},n}(se);E.editable=E.MathQuillMathField=at;var st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.setOptions=function(e){function t(){return""}return this.text=e.text||t,this.domView=new ae(0,(function(){return s("span",{},[a(e.htmlString||"")])})),this.latex=e.latex||t,this},t.prototype.parser=function(){var e=this,t=G.string,n=G.regex,r=G.succeed;return t("{").then(n(/^[a-z][a-z0-9]*/i)).skip(t("}")).then((function(i){return t("[").then(n(/^[-\w\s]*/)).skip(t("]")).or(r(void 0)).map((function(t){return e.setOptions(_[i](t))}))}))},t}(ce);if(E.embed=st,window.jQuery)for(var ct in S=z(1))!function(e,t){"function"==typeof t?(N[e]=function(){return F(),t.apply(this,arguments)},N[e].prototype=t.prototype):N[e]=t}(ct,S[ct])}(),i("mathquill_src",(function(){})),i("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),i("lib/inject-css",["require","underscore"],(function(e){var t=e("underscore"),n={},r=[];return function(e,i){var o=n[e];if(!o){o=document.createElement("style"),n[e]=o;var a=t.sortedIndex(r,e),s=n[r[a]];s?document.head.insertBefore(o,s):document.head.appendChild(o),r.splice(a,0,e)}o.textContent=i}})),i("vendor/css",{}),i("lib/prefix-css",["require","vendor/css"],(function(e){var t=e("vendor/css");function n(e,t){return Object.assign({},e,{rules:r(e.rules,t)})}function r(e,t){return e.map((function(e){return e.rules?Object.assign({},e,{rules:r(e.rules,t)}):e.selectors?Object.assign({},e,{selectors:i(e.selectors,t)}):e}))}function i(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];if("html"===i)n.push(i);else if(/dcg(-mq)?-aria-alert/.test(i))n.push(i);else if(/^html body( |$)/.test(i))n.push("html"+t+" body"+i.slice(9)),n.push("html body "+t+i.slice(9));else{if(/^html/.test(i))throw new Error("Cannot correctly prefix selector "+i);n.push(t+" "+i)}}return n}return function(e,r){if(r){var i="."+r;return function(e){if(!/\.-?[_a-zA-Z]+[_a-zA-Z0-9-]*/.test(e))throw new Error("Illegal css selector prefix "+e)}(i),function(e,r){var i=t.parse(e),o=Object.assign({},i,{stylesheet:n(i.stylesheet,r)});return t.stringify(o)}(e,i)}return e}})),i("loadcss",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),i("loadcss!Symbola-basic",(function(){})),i("loadcss!vendor/mathquill/mathquill-basic",(function(){})),i("toplevel/mathquill",["require","testbridge","mathquill_src","loadcss!Symbola-basic","loadcss!vendor/mathquill/mathquill-basic"],(function(e){return e("testbridge"),e("mathquill_src"),e("loadcss!Symbola-basic"),e("loadcss!vendor/mathquill/mathquill-basic"),window.MathQuill.noConflict()})),i("lib/parse-query-params",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryParams=void 0,t.getQueryParams=function(){var e="";try{"?"==(e=location.search)[0]&&(e=e.slice(1))}catch(e){}for(var t={},n=0,r=e.split("&");n<r.length;n++){var i=r[n].split("=");2==i.length?t[i[0]]=decodeURIComponent(i[1]):t[i[0]]=!0}return t}})),i("config",["require","exports","core/lib/deepCopy","lib/parse-query-params"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.all=t.get=void 0;var i={},o=r.getQueryParams();if(void 0!==a&&a.config)for(var s in a.config)a.config.hasOwnProperty(s)&&(o[s]=a.config[s]);var c=function(e){return o.hasOwnProperty(e)},l=function(e){i[e]=c(e)},d=function(e){i[e]=!c("no"+e)};l("testing"),l("maintenance"),l("disableScrollFix"),l("nativeOnscreenKeypad"),l("hidden"),l("disableMouseInteractions"),l("advancedStyling"),l("outofdom"),o.lang&&(i.language=o.lang),o.fontSize&&(i.fontSize=o.fontSize),o.backgroundColor&&(i.backgroundColor="#"+o.backgroundColor),o.textColor&&(i.textColor="#"+o.textColor),i.no_navigation_warning=c("noconcat")||c("testing"),i.previewMessage="You're previewing some new accessibility features.",i.previewFeedbackUrl="mailto:feedback@desmos.com";var u=location&&"preview.desmos.com"===location.hostname;i.previewMode=c("previewMode")||u,l("lockViewport"),l("administerSecretFolders"),l("degreeMode"),l("clearIntoDegreeMode"),l("plaidMode"),l("editOnWeb"),l("crossOriginSaveTest"),l("showResetButtonOnGraphpaper"),l("transparentBackground"),l("forceLogModeRegressions"),d("links"),d("trace"),d("zoomFit"),l("expressionsCollapsed"),l("invertedColors"),l("projectorMode"),d("images"),d("folders"),d("settingsMenu"),d("expressionsTopbar"),d("zoomButtons"),d("keypad"),d("graphpaper"),d("expressions"),d("branding"),d("pointsOfInterest"),d("plotSingleVariableImplicitEquations"),d("plotImplicits"),d("plotInequalities"),d("notes"),d("sliders"),l("pauseWhenOffscreen"),l("worksheetSVG"),d("brailleControls"),l("audioTraceKeypad"),d("audio"),l("sciKeypad"),l("4fnKeypad"),l("ans"),c("braille")&&(i.braille=!0),d("qwertyKeyboard"),l("restrictedFunctions"),l("forceEnableGeometryFunctions"),d("functionDefinition"),l("singleExpression"),l("restrictedEditing"),l("replaceCommaWith10Exp"),l("replaceRoundWithReciprocal"),c("typingAsteriskWritesTimesSymbol")&&(i.typingAsteriskWritesTimesSymbol=!0),d("labels"),d("distributions"),i["4fnKeypad"]?l("decimalToFraction"):d("decimalToFraction"),l("3d"),c("exponentButtonForSquareRoot")?i.additionalFunctions=["exponent"]:o.additionalFunctions&&"string"==typeof o.additionalFunctions&&(i.additionalFunctions=o.additionalFunctions.split(",")),c("actions")?i.actions=!0:c("noactions")?i.actions=!1:c("clickableObjects")&&(i.actions=!0),t.get=function(e){return i[e]},t.all=function(){return n.default(i)}})),i("main/mathquill-operators",["require","exports","config"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getAutoOperators=t.getAutoCommands=void 0;var r=["exp|exponent ln|natural-log log","total length mean median quantile quartile nCr nPr stats","stdev|standard-deviation stddev|standard-deviation","stdDev|standard-deviation stdevp|standard-deviation-population","stddevp|standard-deviation-population stdDevP|standard-deviation-population mad var|variance","varp|variance-population variance cov|co-variance covp|co-variance-population corr|correlation spearman","lcm mcm gcd mcd gcf mod ceil|ceiling floor round abs|absolute-value min max sign|signum signum sgn","sin|sine cos|cosine tan|tangent csc|co-secant sec|secant cot|co-tangent","sinh|hyperbolic-sine cosh|hyperbolic-cosine tanh|hyperbolic-tangent csch|hyperbolic-co-secant","sech|hyperbolic-secant coth|hyperbolic-co-tangent","arcsin|arc-sine arccos|arc-cosine arctan|arc-tangent arccsc|arc-co-secant arcsec|arc-secant","arccot|arc-co-tangent","arcsinh|hyperbolic-arc-sine arccosh|hyperbolic-arc-cosine arctanh|hyperbolic-arc-co-tangent","arccsch|hyperbolic-arc-co-secant arcsech|hyperbolic-arc-secant","arccoth|hyperbolic-arc-co-tangent","arsinh|hyperbolic-ar-sine arcosh|hyperbolic-ar-cosine artanh|hyperbolic-ar-co-tangent","arcsch|hyperbolic-ar-co-secant arsech|hyperbolic-ar-secant","arcoth|hyperbolic-ar-co-tangent","polygon","distance midpoint","sort shuffle join unique","erf|error-function","TTest|t-test ttest|t-test TScore|t-score tscore|t-score","iTTest|independent-t-test ittest|independent-t-test IndependentTTest","TScore|t-score Tscore|t-score tscore|t-score","normaldist|normal-distribution tdist|t-distribution poissondist|poisson-distribution","binomialdist|binomial-distribution","uniformdist|uniform-distribution","pdf cdf random inverseCdf inversecdf","histogram dotplot boxplot","pdf cdf","rgb hsv","for"].join(" "),i=["det|determinant","inv|inverse","transpose","rref|reduced-row-echelon-form","trace"].join(" ");r+=" "+i,n.get("3d")&&(r+=" cube sphere cone dodecahedron octahedron tetrahedron"),t.getAutoCommands=function(e){e||(e={});var t="alpha beta sqrt theta phi pi tau nthroot cbrt sum prod int ans percent infinity infty";return e.additionalCommands&&e.additionalCommands.length&&(t=t+" "+e.additionalCommands.join(" ")),e.disallowFrac?t:t+" frac"},t.getAutoOperators=function(e){e||(e={});var t=r;return e.additionalOperators&&e.additionalOperators.length&&(t=t+" "+e.additionalOperators.join(" ")),t}})),i("mathquill",["require","browser","jquery","toplevel/mathquill","main/mathquill-operators"],(function(e){var t=e("browser"),n=e("jquery"),r=e("toplevel/mathquill").getInterface(3),i=e("main/mathquill-operators");return r.config({leftRightIntoCmdGoes:"up",sumStartsWithNEquals:!0,supSubsRequireOperand:!0,charsThatBreakOutOfSupSub:"+-=<>*",autoCommands:i.getAutoCommands(),autoSubscriptNumerals:!0,restrictMismatchedBrackets:!0,typingPercentWritesPercentOf:!0,substituteTextarea:function(){return t.IS_IOS||t.IS_ANDROID?n('<span class="dcg-mathquill-input-span" tabindex=0 role="textbox" style="display:inline-block;height:1px;width:1px">')[0]:t.IS_WINDOWS&&t.IS_TOUCH?n('<textarea readonly inputmode="none" autocorrect="off" autocapitalize="none" spellcheck="false" autocomplete="off">').on("keydown",(function(){this.readOnly=!1,this.select()})).on("blur",(function(){this.readOnly=!0}))[0]:n('<textarea inputmode="none" autocorrect="off" autocapitalize="none" spellcheck="false" autocomplete="off">')[0]},autoOperatorNames:i.getAutoOperators(),quietEmptyDelimiters:"( [",resetCursorOnBlur:!0,enableDigitGrouping:!0,disableAutoSubstitutionInSubscripts:!0})})),i("graphing/clipping",["require","exports","core/types/graphmode"],(function(e,t,n){function r(e,t,n,r){var i,o,a,s,c=[];r?(i=2,(s=t(o=e[0],a=e[1]))&&c.push(o,a)):(i=0,s=t(o=e[e.length-2],a=e[e.length-1]));for(var l=i;l<e.length;l+=2){var d=o,u=a,p=s;((s=t(o=e[l],a=e[l+1]))||p)&&(s&&p&&c.push(o,a),s&&!p&&(Array.prototype.push.apply(c,n(o,a,d,u)),c.push(o,a)),!s&&p&&Array.prototype.push.apply(c,n(d,u,o,a)))}return c}function i(e,n,i,o){var a=n.xmin,s=n.xmax,c=n.ymin,l=n.ymax,d=e;return i&t.LEFT&&(d=r(e,(function(e,t){return e>=a}),(function(e,t,n,r){return[a,t+(r-t)*(a-e)/(n-e)]}),o)),i&t.BOTTOM&&(d=r(d,(function(e,t){return t>=c}),(function(e,t,n,r){return[e+(n-e)*(c-t)/(r-t),c]}),o)),i&t.RIGHT&&(d=r(d,(function(e,t){return e<=s}),(function(e,t,n,r){return[s,t+(r-t)*(s-e)/(n-e)]}),o)),i&t.TOP&&(d=r(d,(function(e,t){return t<=l}),(function(e,t,n,r){return[e+(n-e)*(l-t)/(r-t),l]}),o)),d}Object.defineProperty(t,"__esModule",{value:!0}),t.getClippingGraphType=t.computeCartesianFill=t.computePolarFill=t.clipAllFillEdges=t.clipFillEdges=t.clipFillEdge=t.clipStrokeEdges=t.mapSegmentToCanvas=t.X_EQUALS=t.Y_EQUALS=t.POLAR_DEGREE_INEQUALITY=t.POLAR_DEGREE_EQUALITY=t.POLAR_RADIAN_INEQUALITY=t.POLAR_RADIAN_EQUALITY=t.Y=t.X=t.ALL=t.RIGHT=t.LEFT=t.BOTTOM=t.TOP=void 0,t.TOP=1,t.BOTTOM=2,t.LEFT=4,t.RIGHT=8,t.ALL=15,t.X=12,t.Y=3,t.POLAR_RADIAN_EQUALITY=1,t.POLAR_RADIAN_INEQUALITY=2,t.POLAR_DEGREE_EQUALITY=3,t.POLAR_DEGREE_INEQUALITY=4,t.Y_EQUALS=5,t.X_EQUALS=6,t.mapSegmentToCanvas=function(e,n,r,i){var o=[],a=n.xmin,s=n.ymin,c=n.xmax-n.xmin,l=n.ymax-n.ymin,d=r.width,u=r.height,p=d/c,g=-u/l,h=e.length;if(i===t.Y_EQUALS)for(var f=0;f<h;f+=2){var m=(e[f]-a)*p-.5,y=(e[f+1]-s)*g+u-.5;o.push(m,y)}else if(i===t.X_EQUALS)for(f=0;f<h;f+=2)m=(e[f+1]-a)*p-.5,y=(e[f]-s)*g+u-.5,o.push(m,y);else if(i===t.POLAR_RADIAN_EQUALITY)for(f=0;f<e.length;f+=2){var b=e[f];m=((v=e[f+1])*Math.cos(b)-a)*p-.5,y=(v*Math.sin(b)-s)*g+u-.5,o.push(m,y)}else if(i===t.POLAR_RADIAN_INEQUALITY)for(f=0;f<e.length;f+=2)b=e[f],(v=e[f+1])<0&&(v=0),m=(v*Math.cos(b)-a)*p-.5,y=(v*Math.sin(b)-s)*g+u-.5,o.push(m,y);else if(i===t.POLAR_DEGREE_EQUALITY)for(f=0;f<e.length;f+=2)b=e[f]*Math.PI/180,m=((v=e[f+1])*Math.cos(b)-a)*p-.5,y=(v*Math.sin(b)-s)*g+u-.5,o.push(m,y);else if(i===t.POLAR_DEGREE_INEQUALITY)for(f=0;f<e.length;f+=2){var v;b=e[f]*Math.PI/180,(v=e[f+1])<0&&(v=0),m=(v*Math.cos(b)-a)*p-.5,y=(v*Math.sin(b)-s)*g+u-.5,o.push(m,y)}return o},t.clipStrokeEdges=function(e,n){return i(e,n,t.ALL,!0)},t.clipFillEdge=r,t.clipFillEdges=i,t.clipAllFillEdges=function(e,n){return i(e,n,t.ALL,!1)},t.computePolarFill=function(e,t,n){var r=[],i=e[0],o=i+n,a=[];r.push(a);for(var s=0;s<e.length;s+=2){var c=e[s],l=e[s+1];if(l<0&&(l=0),c>=o){for(a=[],r.push(a),o=i=e[s-2];c>=o;)o+=n;s-=4}else a.push(c,l)}if(0===t)for(s=0;s<r.length;s++)r[s].push(0,0);else{var d=n/16,u=t;for(s=0;s<r.length;s++){var p=r[s];for(i=p[0],c=o=p[p.length-2];c>i;c-=d)p.push(c,u);p.push(i,u)}}return r},t.computeCartesianFill=function(e,t){return(e=e.slice()).push(e[e.length-2],t),e.push(e[0],t),[e]},t.getClippingGraphType=function(e,r,i){switch(e){case n.X:return t.X_EQUALS;case n.IMPLICIT:case n.PARAMETRIC:case n.Y:return t.Y_EQUALS;case n.POLAR:return i.degreeMode?r?t.POLAR_DEGREE_INEQUALITY:t.POLAR_DEGREE_EQUALITY:r?t.POLAR_RADIAN_INEQUALITY:t.POLAR_RADIAN_EQUALITY}}})),i("graphing/svg-classes",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.restore=t.save=void 0,t.save=function(e,t){var n=e;n._dcgSaveClassName&&n._dcgSaveClassName(t)},t.restore=function(e){var t=e;t._dcgRestoreClassName&&t._dcgRestoreClassName()}})),i("graphing/canvas-labels",["require","exports","tslib","core/lib/deepCopy","graphing/svg-classes"],(function(e,t,n,r,i){function o(e,t){e.translate(t.left-.5,t.top-.5)}function a(e,t){var n=document.createRange();n.selectNode(e);var r=n.getBoundingClientRect();if(r.width>0&&r.height>0){var i=window.getComputedStyle(e.parentElement),o=e.nodeValue||"";if(o){var a=-.228*parseFloat(i.fontSize),s=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily;return{type:"text",rect:{left:r.left-t.pointCenterX,right:r.right-t.pointCenterY,top:r.top-t.pointCenterY,bottom:r.bottom-t.pointCenterY},text:o,color:i.color||"#000",font:s,y:r.height+a,hasOutline:t.hasOutline}}}}function s(e,t,n){e.save(),e.font=t.font,n?(e.strokeStyle="#FFF",e.lineWidth=3,e.miterLimit=2,e.strokeText(t.text,0,t.y)):(e.fillStyle=t.color,e.fillText(t.text,0,t.y)),e.restore()}function c(e,t,n){e.save(),n?(e.strokeStyle="#FFF",e.lineWidth=3):(t.fillColor&&(e.fillStyle=t.fillColor),t.strokeColor&&(e.strokeStyle=t.strokeColor)),e.beginPath();for(var r=0,i=t.instructions;r<i.length;r++){var o=i[r];switch(o.type){case"moveTo":e.moveTo(o.x,o.y);break;case"lineTo":e.lineTo(o.x,o.y);break;case"arcTo":e.arcTo(o.cx,o.cy,o.x,o.y,o.radius);break;case"ellipse":e.ellipse(o.centerX,o.centerY,o.radiusX,o.radiusY,o.rotation,o.startAngle,o.endAngle,o.anticlockwise)}}e.closePath(),n?e.stroke():(t.strokeColor&&e.stroke(),t.fillColor&&e.fill()),e.restore()}function l(e,t){var n=Math.sqrt(e[0]*e[0]+e[1]*e[1]),r=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=e[0]*t[0]+e[1]*t[1],o=Math.acos(i/(n*r));return e[0]*t[1]-e[1]*t[0]<0&&(o*=-1),o}function d(e,t,n,r,i,o,a,s,c){var d=Math.cos(i),u=Math.sin(i),p=(e-s)/2,g=(t-c)/2,h=d*p+u*g,f=-u*p+d*g,m=n*n,y=r*r,b=h*h,v=f*f,x=Math.sqrt((m*y-m*v-y*b)/(m*v+y*b));o===a&&(x*=-1);var w=x*n*f/r,A=-x*r*h/n,E=[1,0],k=[(-h-w)/n,(-f-A)/r];return{centerX:d*w-u*A+(e+s)/2,centerY:u*w+d*A+(t+c)/2,radiusX:n,radiusY:r,startAngle:l(E,[(h-w)/n,(f-A)/r]),endAngle:l(E,k),rotation:i,anticlockwise:0===a}}Object.defineProperty(t,"__esModule",{value:!0}),t.drawCommandsToCtx=t.computeDrawingCommandsForDOMLabel=void 0;var u={};function p(e,t){var i=e.childNodes[0];if(i&&"path"===i.nodeName){var o=e.getBoundingClientRect();if(o.width>0&&o.height>0){for(var a=function(e,t){var r=e+"-"+t,i=u[r];if(i)return i;i=[],u[r]=i;var o=t.split(" ");if(4!==o.length)return i;var a=parseFloat(o[0]),s=parseFloat(o[2]),c=parseFloat(o[1]),l=parseFloat(o[3]),p=s-a,g=l-c;function h(e){return(e-a)/p}function f(e){return(e-c)/g}var m=new RegExp("(M[0-9-.]+ [0-9-.]+)|(L[0-9-.]+ [0-9-.]+)|(A[0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+)","g"),y=e.match(m);if(!y||!y.length)return i;for(var b=NaN,v=NaN,x=0,w=y;x<w.length;x++){var A=w[x],E=A.substr(1).split(" ").map(parseFloat);switch(A[0]){case"M":b=h(E[0]),v=f(E[1]),i.push({type:"moveTo",x:b,y:v});break;case"L":b=h(E[0]),v=f(E[1]),i.push({type:"lineTo",x:b,y:v});break;case"A":var k=E[0]/p,I=E[1]/g,S=E[2],M=E[3],C=E[4],D=h(E[5]),T=f(E[6]),L=d(b,v,k,I,S,M,C,D,T);b=D,v=T,i.push(n.__assign({type:"ellipse"},L))}}return i}(i.getAttribute("d")||"",e.getAttribute("viewBox")||""),s=window.getComputedStyle(e),c=o.width,l=o.height,p=0,g=a=r.default(a);p<g.length;p++){var h=g[p];switch(h.type){case"moveTo":case"lineTo":h.x*=c,h.y*=l;break;case"arcTo":h.x*=c,h.y*=l,h.cx*=c,h.cy*=l,h.radius*=c;break;case"ellipse":h.centerX*=c,h.centerY*=l,h.radiusX*=c,h.radiusY*=l;break;default:return h}}return{type:"path",rect:{left:o.left-t.pointCenterX,right:o.right-t.pointCenterX,top:o.top-t.pointCenterY,bottom:o.bottom-t.pointCenterY},fillColor:s.color||"#000",instructions:a}}}}function g(e,t,n){var r=window.getComputedStyle(e);"0px"!==r.borderTopWidth&&(c=function(e,t,n){var r=e.getBoundingClientRect();if(r.width>0&&r.height>0){var i=r.width,o=parseFloat(t.borderTopWidth||"1px"),a=t.borderTopColor||"#000",s=[{type:"moveTo",x:0,y:0},{type:"lineTo",x:i,y:0},{type:"lineTo",x:i,y:o},{type:"lineTo",x:0,y:o}];return{type:"path",rect:{left:r.left-n.pointCenterX,right:r.right-n.pointCenterX,top:r.top-n.pointCenterY,bottom:r.bottom-n.pointCenterY},instructions:s,fillColor:a}}}(e,r,t))&&n.push(c);for(var i=e.childNodes,o=0;o<i.length;o++){var s=i[o];if(3===s.nodeType)(c=a(s,t))&&n.push(c);else if("svg"===s.nodeName){var c;(c=p(s,t))&&n.push(c)}else 1===s.nodeType&&g(s,t,n)}}t.computeDrawingCommandsForDOMLabel=function(e,t){var n=[];if(t.hasBorder){var r=function(e,t){var n=e.getBoundingClientRect();if(n.width>0&&n.height>0){var r=n.width+5,i=n.height+5,o=[{type:"moveTo",x:-2,y:-5},{type:"lineTo",x:r-3,y:-5},{type:"arcTo",cx:r,cy:-5,x:r,y:-2,radius:3},{type:"lineTo",x:r,y:i-3},{type:"arcTo",cx:r,cy:i,x:r-3,y:i,radius:3},{type:"lineTo",x:-2,y:i},{type:"arcTo",cx:-5,cy:i,x:-5,y:i-3,radius:3},{type:"lineTo",x:-5,y:-2},{type:"arcTo",cx:-5,cy:-5,x:-2,y:-5,radius:3}];return{type:"path",disableGlow:!0,rect:{left:n.left-t.pointCenterX,right:n.right-t.pointCenterX,top:n.top-t.pointCenterY,bottom:n.bottom-t.pointCenterY},instructions:o,strokeColor:"#C2C2C2",fillColor:"rgba(255,255,255,.75)"}}}(e,t);r&&n.push(r)}return g(e,t,n),n},t.drawCommandsToCtx=function(e,t){i.save(t,"dcg-svg-label"),t.save(),i.restore(t);for(var n=0,r=e;n<r.length;n++){var a=r[n];switch(t.save(),o(t,a.rect),a.type){case"path":a.disableGlow||c(t,a,!0);break;case"text":a.hasOutline&&s(t,a,!0);break;default:return a}t.restore()}for(var l=0,d=e;l<d.length;l++){switch(a=d[l],t.save(),o(t,a.rect),a.type){case"path":c(t,a,!1);break;case"text":s(t,a,!1);break;default:return a}t.restore()}t.restore()}})),i("core/constants",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENT_API_VERSION=void 0,t.CURRENT_API_VERSION="v1.7"})),i("expressions/colors",["require","exports","core/lib/color-helpers"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getColorName=t.all=t.BLACK=t.ORANGE=t.PURPLE=t.GREEN=t.BLUE=t.RED=void 0,t.RED=n.colors.RED,t.BLUE=n.colors.BLUE,t.GREEN=n.colors.GREEN,t.PURPLE=n.colors.PURPLE,t.ORANGE=n.colors.ORANGE,t.BLACK=n.colors.BLACK,t.all=[t.RED,t.BLUE,t.GREEN,t.PURPLE,t.ORANGE,t.BLACK],t.getColorName=function(e,t){switch(t){case n.colors.RED:return e.s("graphing-calculator-text-color-red");case n.colors.BLUE:return e.s("graphing-calculator-text-color-blue");case n.colors.GREEN:return e.s("graphing-calculator-text-color-green");case n.colors.PURPLE:return e.s("graphing-calculator-text-color-purple");case n.colors.ORANGE:return e.s("graphing-calculator-text-color-orange");case n.colors.BLACK:return e.s("graphing-calculator-text-color-black");case n.colors.GRAY:return e.s("graphing-calculator-text-color-gray");default:return e.s("graphing-calculator-text-color-unknown")}}})),i("lib/console",["require","exports","console"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.warn=t.log=void 0,t.log=n.log,t.warn=n.warn})),i("graphing-calc/api/sanitize-expression",["require","exports","core/types/styles","core/lib/dragmode","core/types/label-sizes","core/types/label-orientations","core/lib/number-to-latex","lib/console"],(function(e,t,n,r,i,o,a,s){function c(e,t){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return!0;return!1}function l(e){return c(e,t.SanitizedPointStyle)}function d(e){return c(e,t.SanitizedLineStyle)}function u(e){return c(e,t.SanitizedDragMode)}function p(e){return{id:e.id,latex:e.latex,color:e.color,hidden:e.hidden,pointStyle:e.pointStyle,pointSize:e.pointSize,pointOpacity:e.pointOpacity,lineStyle:e.lineStyle,lineWidth:e.lineWidth,lineOpacity:e.lineOpacity,points:e.points,lines:e.lines,dragMode:e.dragMode,values:e.values.slice()}}function g(e,t){return e.hasOwnProperty("id")?e.id+"":t.generateId()}function h(e,n){var r={type:"expression",id:g(e,n)};return r.type="expression",r.id=g(e,n),e.hasOwnProperty("latex")&&(r.latex=e.latex+""),e.hasOwnProperty("color")&&(r.color=e.color+""),e.hasOwnProperty("points")&&(r.points=!!e.points),e.hasOwnProperty("lines")&&(r.lines=!!e.lines),e.hasOwnProperty("style")&&(s.warn("As of API v1.1 the 'style' property is deprecated and has been split into 'pointStyle' and 'lineStyle'."),l(e.style)?r.pointStyle=e.style:d(e.style)?r.lineStyle=e.style:s.warn("Invalid style: '"+e.style+"'.")),e.hasOwnProperty("pointStyle")&&(l(e.pointStyle)?r.pointStyle=e.pointStyle:s.warn("Invalid pointStyle: '"+e.pointStyle+"'.")),e.hasOwnProperty("pointSize")&&(r.pointSize=""+e.pointSize),e.hasOwnProperty("pointOpacity")&&(r.pointOpacity=""+e.pointOpacity),e.hasOwnProperty("lineStyle")&&(d(e.lineStyle)?r.lineStyle=e.lineStyle:s.warn("Invalid lineStyle: '"+e.lineStyle+"'.")),e.hasOwnProperty("lineWidth")&&(r.lineWidth=""+e.lineWidth),e.hasOwnProperty("lineOpacity")&&(r.lineOpacity=""+e.lineOpacity),e.hasOwnProperty("hidden")&&(r.hidden=!!e.hidden),e.hasOwnProperty("secret")&&(r.secret=!!e.secret),e.hasOwnProperty("sliderBounds")&&e.sliderBounds&&(r.slider={min:a.default(e.sliderBounds.min),max:a.default(e.sliderBounds.max),step:a.default(e.sliderBounds.step)},r.slider.min&&(r.slider.hardMin=!0),r.slider.max&&(r.slider.hardMax=!0)),e.hasOwnProperty("parametricDomain")&&e.parametricDomain?(r.parametricDomain={min:a.default(e.parametricDomain.min),max:a.default(e.parametricDomain.max)},e.hasOwnProperty("domain")&&s.warn("Both 'parametricDomain' and the deprecated 'domain' property were specified. Using 'parametricDomain'.")):e.hasOwnProperty("domain")&&(s.warn("The 'domain' property is deprecated.Use 'parametricDomain' to specify the domain for parametric functions"),r.parametricDomain={min:a.default(e.domain.min),max:a.default(e.domain.max)}),e.hasOwnProperty("polarDomain")&&e.polarDomain&&(r.polarDomain={min:a.default(e.polarDomain.min),max:a.default(e.polarDomain.max)}),e.hasOwnProperty("dragMode")&&(u(e.dragMode)?r.dragMode=e.dragMode:s.warn("Invalid dragMode: '"+e.dragMode+"'.")),e.hasOwnProperty("label")&&(r.label=e.label+""),e.hasOwnProperty("showLabel")&&(r.showLabel=!!e.showLabel),e.hasOwnProperty("labelSize")&&("string"==typeof e.labelSize?r.labelSize=e.labelSize:s.warn("Invalid labelSize: "+e.labelSize)),e.hasOwnProperty("labelOrientation")&&(c(e.labelOrientation,t.SanitizedLabelOrientation)?r.labelOrientation=e.labelOrientation:s.warn("Invalid labelOrientation: "+e.labelOrientation)),e.hasOwnProperty("fill")&&(r.fill=!!e.fill),e.hasOwnProperty("fillOpacity")&&(r.fillOpacity=""+e.fillOpacity),r}function f(e,n){var i={id:g(e,n)};return e.hasOwnProperty("latex")&&(i.latex=e.latex+""),e.hasOwnProperty("color")&&(i.color=e.color+""),e.hasOwnProperty("hidden")&&(i.hidden=!!e.hidden),e.hasOwnProperty("points")&&(i.points=!!e.points),e.hasOwnProperty("lines")&&(i.lines=!!e.lines),e.hasOwnProperty("values")&&e.values&&(i.values=e.values.map((function(e){return e+""}))),e.hasOwnProperty("pointStyle")&&(l(e.pointStyle)?i.pointStyle=e.pointStyle:s.warn("Invalid pointStyle: '"+e.pointStyle+"'.")),e.hasOwnProperty("pointSize")&&(i.pointSize=""+e.pointSize),e.hasOwnProperty("pointOpacity")&&(i.pointOpacity=""+e.pointOpacity),e.hasOwnProperty("lineStyle")&&(d(e.lineStyle)?i.lineStyle=e.lineStyle:s.warn("Invalid lineStyle: '"+e.lineStyle+"'.")),e.hasOwnProperty("lineWidth")&&(i.lineWidth=""+e.lineWidth),e.hasOwnProperty("lineOpacity")&&(i.lineOpacity=""+e.lineOpacity),e.hasOwnProperty("columnMode")&&(s.warn("As of API v1.1 the 'columnMode' property is deprecated and has been split into individual 'points' and 'lines' properties."),e.columnMode===t.SanitizedColumnMode.POINTS_AND_LINES?(i.points=!0,i.lines=!0):e.columnMode===t.SanitizedColumnMode.LINES?(i.points=!1,i.lines=!0):(i.points=!0,i.lines=!1),i.lines&&!i.points&&e.hasOwnProperty("dragMode")&&e.dragMode!==r.DragMode.NONE&&(s.warn("A 'lines' value of true and 'points' value of false is only compatible with a dragMode of 'NONE'. Proceeding by setting 'points' to true."),i.points=!0),c(e.columnMode,t.SanitizedColumnMode)&&s.warn("Invalid columnMode: '"+e.columnMode+"'.")),e.hasOwnProperty("dragMode")&&(u(e.dragMode)?i.dragMode=e.dragMode===r.DragMode.AUTO?r.DragMode.NONE:e.dragMode:s.warn("Invalid dragMode: '"+e.dragMode+"'.")),i}Object.defineProperty(t,"__esModule",{value:!0}),t.validateItem=t.sanitizeItem=t.SanitizedLabelOrientation=t.SanitizedLabelSize=t.SanitizedColumnMode=t.SanitizedDragMode=t.SanitizedLineStyle=t.SanitizedPointStyle=void 0,t.SanitizedPointStyle={OPEN:n.PointStyle.OPEN,CROSS:n.PointStyle.CROSS,POINT:n.PointStyle.POINT},t.SanitizedLineStyle={SOLID:n.LineStyle.SOLID,DASHED:n.LineStyle.DASHED,DOTTED:n.LineStyle.DOTTED},t.SanitizedDragMode={NONE:r.DragMode.NONE,AUTO:r.DragMode.AUTO,X:r.DragMode.X,Y:r.DragMode.Y,XY:r.DragMode.XY},t.SanitizedColumnMode={POINTS:"POINTS",LINES:"LINES",POINTS_AND_LINES:"POINTS_AND_LINES"},t.SanitizedLabelSize={SMALL:i.LabelSize.SMALL,MEDIUM:i.LabelSize.MEDIUM,LARGE:i.LabelSize.LARGE},t.SanitizedLabelOrientation={DEFAULT:o.LabelOrientation.DEFAULT,CENTER:o.LabelOrientation.CENTER,CENTER_AUTO:o.LabelOrientation.CENTER_AUTO,AUTO_CENTER:o.LabelOrientation.AUTO_CENTER,ABOVE:o.LabelOrientation.ABOVE,ABOVE_LEFT:o.LabelOrientation.ABOVE_LEFT,ABOVE_RIGHT:o.LabelOrientation.ABOVE_RIGHT,ABOVE_AUTO:o.LabelOrientation.ABOVE_AUTO,BELOW:o.LabelOrientation.BELOW,BELOW_LEFT:o.LabelOrientation.BELOW_LEFT,BELOW_RIGHT:o.LabelOrientation.BELOW_RIGHT,BELOW_AUTO:o.LabelOrientation.BELOW_AUTO,LEFT:o.LabelOrientation.LEFT,AUTO_LEFT:o.LabelOrientation.AUTO_LEFT,RIGHT:o.LabelOrientation.RIGHT,AUTO_RIGHT:o.LabelOrientation.AUTO_RIGHT},t.sanitizeItem=function(e){switch(e.type){case"expression":return function(e){var t={id:e.id,type:e.type};return["latex","color","lineStyle","lineWidth","lineOpacity","pointStyle","pointSize","pointOpacity","points","lines","fill","fillOpacity","hidden","secret","dragMode","label","showLabel","labelSize","labelOrientation","interactiveLabel"].forEach((function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),e.hasOwnProperty("parametricDomain")&&(t.parametricDomain={min:e.parametricDomain.min,max:e.parametricDomain.max}),e.hasOwnProperty("polarDomain")&&(t.polarDomain={min:e.polarDomain.min,max:e.polarDomain.max}),e.hasOwnProperty("domain")&&(t.domain={min:e.domain.min,max:e.domain.max}),e.slider&&(e.slider.hardMin&&(t.sliderBounds=t.sliderBounds||{},t.sliderBounds.min=e.slider.min),e.slider.hardMax&&(t.sliderBounds=t.sliderBounds||{},t.sliderBounds.max=e.slider.max),e.slider.step&&(t.sliderBounds=t.sliderBounds||{},t.sliderBounds.step=e.slider.step)),t}(e);case"table":return function(e){return{id:e.id,type:e.type,columns:e.columns.map(p)}}(e);case"folder":case"image":return function(e){return{id:e.id,type:e.type,hidden:e.hidden,secret:e.secret}}(e);case"text":return function(e){return{id:e.id,type:e.type,secret:e.secret}}(e);default:return e}},t.validateItem=function(e,t,n){var r=e.type;if(t&&r&&r!==t)s.warn("Cannot change type of expression from '"+t+"' to '"+r+"'.");else switch(r){case void 0:case"expression":return h(e,n);case"image":return function(e,t){var n={type:"image",id:g(e,t)};return e.hasOwnProperty("hidden")&&(n.hidden=!!e.hidden),n}(e,n);case"table":return function(e,t){var n={type:"table",id:g(e,t)};return e.hasOwnProperty("columns")&&e.columns&&(n.columns=e.columns.map((function(e){return f(e,t)}))),n}(e,n);case"folder":return function(e,t){var n={type:"folder",id:g(e,t)};return e.hasOwnProperty("hidden")&&(n.hidden=!!e.hidden),n}(e,n);default:return t?void s.warn("Cannot modify expressions of type: '"+t+"' through the API."):void s.warn("Invalid expression type: '"+r+"'.")}}})),i("core/graphing-calc/json/graph-settings",["require","exports","tslib"],(function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.isGraphSetting=t.publicGraphSettings=t.DefaultGraphSettings=t.AxisArrowModes=void 0,function(e){e.NONE="NONE",e.POSITIVE="POSITIVE",e.BOTH="BOTH"}(r=t.AxisArrowModes||(t.AxisArrowModes={}));var i={showGrid:!0,showXAxis:!0,showYAxis:!0,xAxisStep:0,yAxisStep:0,xAxisMinorSubdivisions:0,yAxisMinorSubdivisions:0,xAxisArrowMode:r.NONE,yAxisArrowMode:r.NONE,xAxisLabel:"",yAxisLabel:"",xAxisNumbers:!0,yAxisNumbers:!0,polarMode:!1,polarNumbers:!0,degreeMode:!1,randomSeed:"",restrictGridToFirstQuadrant:!1};t.DefaultGraphSettings=n.__assign(n.__assign({},i),{squareAxes:!0}),t.publicGraphSettings=Object.keys(i),t.isGraphSetting=function(e){return e in i}})),i("main/font_sizes",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.VERY_LARGE=t.LARGE=t.MEDIUM=t.SMALL=t.VERY_SMALL=void 0,t.VERY_SMALL=9,t.SMALL=12,t.MEDIUM=16,t.LARGE=20,t.VERY_LARGE=24})),function(e){var t=function(e,n,r){var i,o,a=document.createElement("img");if(a.onerror=n,a.onload=function(){!o||r&&r.noRevoke||t.revokeObjectURL(o),n&&n(t.scale(a,r))},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))i=o=t.createObjectURL(e),a._type=e.type;else{if("string"!=typeof e)return!1;i=e,r&&r.crossOrigin&&(a.crossOrigin=r.crossOrigin)}return i?(a.src=i,a):t.readFile(e,(function(e){var t=e.target;t&&t.result?a.src=t.result:n&&n(e)}))},n=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transformCoordinates=function(){},t.getTransformedOptions=function(e){return e},t.renderImageToCanvas=function(e,t,n,r,i,o,a,s,c,l){return e.getContext("2d").drawImage(t,n,r,i,o,a,s,c,l),e},t.hasCanvasOption=function(e){return e.canvas||e.crop},t.scale=function(e,n){n=n||{};var r,i,o,a,s,c,l,d,u,p=document.createElement("canvas"),g=e.getContext||t.hasCanvasOption(n)&&p.getContext,h=e.naturalWidth||e.width,f=e.naturalHeight||e.height,m=h,y=f,b=function(){var e=Math.max((o||m)/m,(a||y)/y);e>1&&(m=Math.ceil(m*e),y=Math.ceil(y*e))},v=function(){var e=Math.min((r||m)/m,(i||y)/y);e<1&&(m=Math.ceil(m*e),y=Math.ceil(y*e))};return g&&(l=(n=t.getTransformedOptions(n)).left||0,d=n.top||0,n.sourceWidth?(s=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(l=h-s-n.right)):s=h-l-(n.right||0),n.sourceHeight?(c=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=f-c-n.bottom)):c=f-d-(n.bottom||0),m=s,y=c),r=n.maxWidth,i=n.maxHeight,o=n.minWidth,a=n.minHeight,g&&r&&i&&n.crop?(m=r,y=i,(u=s/c-r/i)<0?(c=i*s/r,void 0===n.top&&void 0===n.bottom&&(d=(f-c)/2)):u>0&&(s=r*c/i,void 0===n.left&&void 0===n.right&&(l=(h-s)/2))):((n.contain||n.cover)&&(o=r=r||o,a=i=i||a),n.cover?(v(),b()):(b(),v())),g?(p.width=m,p.height=y,t.transformCoordinates(p,n),t.renderImageToCanvas(p,e,l,d,s,c,0,0,m,y)):(e.width=m,e.height=y,e)},t.createObjectURL=function(e){return!!n&&n.createObjectURL(e)},t.revokeObjectURL=function(e){return!!n&&n.revokeObjectURL(e)},t.readFile=function(e,t,n){if(window.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,r[n=n||"readAsDataURL"])return r[n](e),r}return!1},"function"==typeof i&&i.amd?i("vendor/load-image/load-image",[],(function(){return t})):e.loadImage=t}(this),function(e){"function"==typeof i&&i.amd?i("vendor/load-image/load-image-orientation",["./load-image"],e):e(window.loadImage)}((function(e){var t=e.hasCanvasOption;e.hasCanvasOption=function(e){return t(e)||e.orientation},e.transformCoordinates=function(e,t){var n=e.getContext("2d"),r=e.width,i=e.height,o=t.orientation;if(o)switch(o>4&&(e.width=i,e.height=r),o){case 2:n.translate(r,0),n.scale(-1,1);break;case 3:n.translate(r,i),n.rotate(Math.PI);break;case 4:n.translate(0,i),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-i);break;case 7:n.rotate(.5*Math.PI),n.translate(r,-i),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-r,0)}},e.getTransformedOptions=function(e){if(!e.orientation||1===e.orientation)return e;var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);switch(e.orientation){case 2:n.left=e.right,n.right=e.left;break;case 3:n.left=e.right,n.top=e.bottom,n.right=e.left,n.bottom=e.top;break;case 4:n.top=e.bottom,n.bottom=e.top;break;case 5:n.left=e.top,n.top=e.left,n.right=e.bottom,n.bottom=e.right;break;case 6:n.left=e.top,n.top=e.right,n.right=e.bottom,n.bottom=e.left;break;case 7:n.left=e.bottom,n.top=e.right,n.right=e.top,n.bottom=e.left;break;case 8:n.left=e.bottom,n.top=e.left,n.right=e.top,n.bottom=e.right}return e.orientation>4&&(n.maxWidth=e.maxHeight,n.maxHeight=e.maxWidth,n.minWidth=e.minHeight,n.minHeight=e.minWidth,n.sourceWidth=e.sourceHeight,n.sourceHeight=e.sourceWidth),n}})),function(e){"function"==typeof i&&i.amd?i("vendor/load-image/load-image-meta",["./load-image"],e):e(window.loadImage)}((function(e){var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,r){var i=this,o=(r=r||{}).maxMetaDataSize||262144,a={};window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice&&e.readFile(e.blobSlice.call(t,0,o),(function(t){var o,s,c,l,d=t.target.result,u=new DataView(d),p=2,g=u.byteLength-4,h=p;if(65496===u.getUint16(0)){for(;p<g&&((o=u.getUint16(p))>=65504&&o<=65519||65534===o);){if(p+(s=u.getUint16(p+2)+2)>u.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(c=e.metaDataParsers.jpeg[o])for(l=0;l<c.length;l+=1)c[l].call(i,u,p,s,a,r);h=p+=s}!r.disableImageHead&&h>6&&(d.slice?a.imageHead=d.slice(0,h):a.imageHead=new Uint8Array(d).subarray(0,h))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(a)}),"readAsArrayBuffer")||n(a)}})),function(e){"function"==typeof i&&i.amd?i("vendor/load-image/load-image-ios",["./load-image"],e):e(window.loadImage)}((function(e){if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var t=e.renderImageToCanvas;e.detectSubsampling=function(e){var t,n;return e.width*e.height>1048576&&((t=document.createElement("canvas")).width=t.height=1,(n=t.getContext("2d")).drawImage(e,1-e.width,0),0===n.getImageData(0,0,1,1).data[3])},e.detectVerticalSquash=function(e,t){var n,r,i,o,a=e.naturalHeight||e.height,s=document.createElement("canvas"),c=s.getContext("2d");for(t&&(a/=2),s.width=1,s.height=a,c.drawImage(e,0,0),n=c.getImageData(0,0,1,a).data,r=0,i=a,o=a;o>r;)0===n[4*(o-1)+3]?i=o:r=o,o=i+r>>1;return o/a||1},e.renderImageToCanvas=function(n,r,i,o,a,s,c,l,d,u){if("image/jpeg"===r._type){var p,g,h,f,m=n.getContext("2d"),y=document.createElement("canvas"),b=1024,v=y.getContext("2d");if(y.width=b,y.height=b,m.save(),(p=e.detectSubsampling(r))&&(i/=2,o/=2,a/=2,s/=2),g=e.detectVerticalSquash(r,p),p||1!==g){for(o*=g,d=Math.ceil(b*d/a),u=Math.ceil(b*u/s/g),l=0,f=0;f<s;){for(c=0,h=0;h<a;)v.clearRect(0,0,b,b),v.drawImage(r,i,o,a,s,-h,-f,a,s),m.drawImage(y,0,0,b,b,c,l,d,u),h+=b,c+=d;f+=b,l+=u}return m.restore(),n}}return t(n,r,i,o,a,s,c,l,d,u)}}})),function(e){"function"==typeof i&&i.amd?i("vendor/load-image/load-image-exif",["./load-image","./load-image-meta"],e):e(window.loadImage)}((function(e){e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var r,i,o;if(n&&!(t+n>e.byteLength)){for(r=[],i=0;i<n;i+=1)o=e.getUint8(t+i),r.push((o<16?"0":"")+o.toString(16));return"data:image/jpeg,%"+r.join("%")}console.log("Invalid Exif data: Invalid thumbnail data.")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,r,i,o,a){var s,c,l,d,u,p,g=e.exifTagTypes[i];if(g){if(!((c=(s=g.size*o)>4?n+t.getUint32(r+8,a):r+8)+s>t.byteLength)){if(1===o)return g.getValue(t,c,a);for(l=[],d=0;d<o;d+=1)l[d]=g.getValue(t,c+d*g.size,a);if(g.ascii){for(u="",d=0;d<l.length&&"\0"!==(p=l[d]);d+=1)u+=p;return u}return l}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},e.parseExifTag=function(t,n,r,i,o){var a=t.getUint16(r,i);o.exif[a]=e.getExifValue(t,n,r,t.getUint16(r+2,i),t.getUint32(r+4,i),i)},e.parseExifTags=function(e,t,n,r,i){var o,a,s;if(n+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=n+2+12*(o=e.getUint16(n,r)))+4>e.byteLength)){for(s=0;s<o;s+=1)this.parseExifTag(e,t,n+2+12*s,r,i);return e.getUint32(a,r)}console.log("Invalid Exif data: Invalid directory size.")}},e.parseExifData=function(t,n,r,i,o){if(!o.disableExif){var a,s,c,l=n+10;if(1165519206===t.getUint32(n+4))if(l+8>t.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(n+8)){switch(t.getUint16(l)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(l+2,a)?(s=t.getUint32(l+4,a),i.exif=new e.ExifMap,(s=e.parseExifTags(t,l,l+s,a,i))&&!o.disableExifThumbnail&&(c={exif:{}},s=e.parseExifTags(t,l,l+s,a,c),c.exif[513]&&(i.exif.Thumbnail=e.getExifThumbnail(t,l+c.exif[513],c.exif[514]))),i.exif[34665]&&!o.disableExifSub&&e.parseExifTags(t,l,l+i.exif[34665],a,i),i.exif[34853]&&!o.disableExifGps&&e.parseExifTags(t,l,l+i.exif[34853],a,i)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)})),function(e){"function"==typeof i&&i.amd?i("vendor/load-image/load-image-exif-map",["./load-image","./load-image-exif"],e):e(window.loadImage)}((function(e){e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,r=e.map;for(t in n)n.hasOwnProperty(t)&&(r[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n}})),i("loadImage",["require","vendor/load-image/load-image-orientation","vendor/load-image/load-image-meta","vendor/load-image/load-image-ios","vendor/load-image/load-image-exif","vendor/load-image/load-image-exif-map","vendor/load-image/load-image"],(function(e){return e("vendor/load-image/load-image-orientation"),e("vendor/load-image/load-image-meta"),e("vendor/load-image/load-image-ios"),e("vendor/load-image/load-image-exif"),e("vendor/load-image/load-image-exif-map"),e("vendor/load-image/load-image")})),i("expressions/image_file_to_data_url",["require","exports","loadImage"],(function(e,t,n){function r(e,t){for(var n,r=[.92,.86,.8,.7,.6,.5,.4,.3,.2,.1],i=0;i<r.length;i++)if((n=e.toDataURL("image/jpeg",r[i])).length<t)return n;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.imageFileToDataURL=void 0,t.imageFileToDataURL=function(e,t){n(e,(function(n){if(n.toDataURL){var i,o=2e5;"image/jpeg"===e.type?i=r(n,o):(i=n.toDataURL()).length>o&&(i=i.length>.75*n.width*n.height&&!function(e){for(var t=e.getContext("2d").getImageData(0,0,e.width,e.height).data,n=3;n<t.length;n+=4)if(255!==t[n])return!0;return!1}(n)?r(n,o):function(e,t){for(var n,r=e.toDataURL().length,i=e.width,o=e.height,a=document.createElement("canvas"),s=0;s<2;s++){var c=Math.sqrt(t/r);if(i=Math.round(c*i),o=Math.round(c*o),a.height=o,a.width=i,a.getContext("2d").drawImage(e,0,0,i,o),(r=(n=a.toDataURL()).length)<t)return n}return n}(n,o)),t(null,i)}else t(!0)}),{orientation:!0,canvas:!0,maxWidth:1600,maxHeight:1600})}})),i("lib/enabled-languages",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ENABLED_LANGUAGES=t.buildSupportedLanguagesMap=t.expandLocaleOptionsThoroughly=void 0,t.expandLocaleOptionsThoroughly=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o&&"string"==typeof o){var a=o.split("-")[0];for(var s in n.push(o),n.push(a),t.ENABLED_LANGUAGES){var c=t.ENABLED_LANGUAGES[s];s.split("-")[0]===a&&c.useAsRoot&&n.push(s)}}}return n},t.buildSupportedLanguagesMap=function(){var e={},n=Object.keys(t.ENABLED_LANGUAGES);for(var r in n){var i=n[r];e[i]={code:i,display_name:t.ENABLED_LANGUAGES[i].displayName}}return e},t.ENABLED_LANGUAGES={en:{displayName:"English (US)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},es:{displayName:"Español (LATAM)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ES-ES.pdf",useAsRoot:!0},et:{displayName:"Eesti",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ru:{displayName:"Русский",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_RU.pdf",useAsRoot:!1},da:{displayName:"Dansk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},de:{displayName:"Deutsch",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_DE.pdf",useAsRoot:!1},"pt-BR":{displayName:"Português (Brasil)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!0},"pt-PT":{displayName:"Português (Portugal)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ca:{displayName:"Català",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},fr:{displayName:"Français",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_FR.pdf",useAsRoot:!1},it:{displayName:"Italiano",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_IT.pdf",useAsRoot:!1},is:{displayName:"Íslenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},nl:{displayName:"Nederlands",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},no:{displayName:"Norsk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"sv-SE":{displayName:"Svenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!0},hu:{displayName:"Magyar",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},cs:{displayName:"Čeština",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},pl:{displayName:"Polski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_PL.pdf",useAsRoot:!1},id:{displayName:"Bahasa Indonesia",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},vi:{displayName:"Tiếng Việt",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_VI.pdf",useAsRoot:!1},el:{displayName:"Ελληνικά",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_EL.pdf",useAsRoot:!1},uk:{displayName:"Українська",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ka:{displayName:"ქართული",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},th:{displayName:"ภาษาไทย",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},tr:{displayName:"Türkçe",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_TR.pdf",useAsRoot:!1},"zh-CN":{displayName:"简体中文",useAsRoot:!0,userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-CN.pdf"},"zh-TW":{displayName:"繁體中文",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-TW.pdf",useAsRoot:!1},ko:{displayName:"한국어",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ja:{displayName:"日本語",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_JA.pdf",useAsRoot:!1}}})),i("text!l10n/all-en-strings.ftl",[],(function(){return"### Strings shared among tools and homepage\n\n\n### 4898 English words, 887 English strings\n\naccount-shell-button-braille-nemeth = Nemeth\naccount-shell-button-braille-ueb = UEB\naccount-shell-button-cancel = Cancel\naccount-shell-button-clear = Clear\naccount-shell-button-confirm-delete =\n    { $count ->\n        [one] Yes, delete graph\n       *[other] Yes, delete graphs\n    }\naccount-shell-button-contact-us = Contact Us\naccount-shell-button-create-own-activity = Create your own submission activity.\naccount-shell-button-delete = Delete\naccount-shell-button-download-braille = Download Braille Equations\naccount-shell-button-download-png = Download PNG\naccount-shell-button-download-svg = Download SVG\naccount-shell-button-duplicate = Duplicate\naccount-shell-button-duplicate-mac = Duplicate or Rename (cmd+shift+s)\naccount-shell-button-duplicate-pc = Duplicate or Rename (ctrl+shift+s)\naccount-shell-button-embed = Embed\naccount-shell-button-export-image = Export Image\naccount-shell-button-hide-browser-warning = Hide this warning.\naccount-shell-button-line-medium = Medium\naccount-shell-button-line-thick = Thick\naccount-shell-button-line-thin = Thin\naccount-shell-button-log-in = Log In\naccount-shell-button-mygraphs-attempt-recovery = Attempt recovery.\naccount-shell-button-mygraphs-cancel = Cancel\naccount-shell-button-mygraphs-close-graph-list = Close Graph List\naccount-shell-button-mygraphs-close-graph-preview = Close Graph Preview\naccount-shell-button-mygraphs-delete-graph = Delete Graph\naccount-shell-button-mygraphs-delete-title = Delete { $graphTitle }\naccount-shell-button-mygraphs-offline-try-again = offline. click to try again.\naccount-shell-button-mygraphs-save = Save\naccount-shell-button-mygraphs-try-again = Try again\naccount-shell-button-open-construction = Open Construction\naccount-shell-button-open-graph = Open Graph\naccount-shell-button-print = Print\naccount-shell-button-rename = Rename\naccount-shell-button-retry-now = Retry now\naccount-shell-button-save = Save\naccount-shell-button-sign-up = Sign Up\naccount-shell-button-submit = Submit\naccount-shell-button-submit-graph = Submit This Graph\naccount-shell-button-svg-options = SVG Options\naccount-shell-error-art-contest-logged-out = You must be logged in to enter the art contest.\naccount-shell-error-change-email-logged-out = You must be logged in to change your email.\naccount-shell-error-change-name-logged-out = You must be logged in to change your name.\naccount-shell-error-changing-name = There was an error changing your user name.\naccount-shell-error-consent-error = There was an error accepting your consent.\naccount-shell-error-consent-logged-out = You must be logged in to consent to data collection.\naccount-shell-error-create-account-unexpected = Sorry, there was an error creating your account.\naccount-shell-error-delete-graph-logged-out = You must be logged in to delete graphs.\naccount-shell-error-delete-graph-logged-out-2 = You must be logged in to delete a graph.\naccount-shell-error-delete-unexpected = Sorry, there was an unexpected error deleting this graph. Error { $code }.\naccount-shell-error-deletion-error = There was an error. Try again later?\naccount-shell-error-deletion-error-2 = Error while deleting your account.\naccount-shell-error-deletion-link-not-found = We can't find that deletion token. Perhaps it's been used already?\naccount-shell-error-email-already-registered = Sorry, someone has already registered with this email address.\naccount-shell-error-email-invalid = Please enter a valid email address.\naccount-shell-error-email-password-mismatch = Sorry, your email and password did not match.\naccount-shell-error-email-too-short = Please enter an email address that is at most { $num } characters.\naccount-shell-error-feedback-empty = Please enter your feedback\naccount-shell-error-feedback-unexpected = Sorry, there was an unexpected problem sending feedback. Error { $code }.\naccount-shell-error-graph-too-large = This graph is too large to save. The maximum allowable size is 5 MB.\naccount-shell-error-invalid-deletion-link = This is not a valid deletion link.\naccount-shell-error-invalid-recovery-link = This is not a valid recovery link.\naccount-shell-error-logged-in-register = You are already logged in. You must first log out to register as a different user.\naccount-shell-error-logging-in = Error logging in.\naccount-shell-error-logging-out = Error logging out.\naccount-shell-error-missing-email = Please enter your email address.\naccount-shell-error-missing-name = Please enter your name.\naccount-shell-error-missing-new-password = Please enter your new password.\naccount-shell-error-missing-password = Please enter your password.\naccount-shell-error-mygraphs-check-connection = Check your internet connection?\naccount-shell-error-mygraphs-error-deleting = Error deleting.\naccount-shell-error-mygraphs-error-loading = Error loading graph\naccount-shell-error-name-too-long = Please enter a name that is at most { $num } characters.\naccount-shell-error-new-password-too-long = Please enter a new password that is at most { $num } characters.\naccount-shell-error-new-password-too-short = Please enter a new password that is at least { $num } characters.\naccount-shell-error-password-same-as-old = New password cannot match old password.\naccount-shell-error-password-too-long = Please enter a password that is at most { $num } characters.\naccount-shell-error-password-too-short = Please enter a password that is at least { $num } characters.\naccount-shell-error-passwords-do-not-match = The passwords that you entered did not match. Please try again.\naccount-shell-error-problem-resetting-password = Problem resetting your password. Please try again.\naccount-shell-error-recover-link-not-found = Sorry, we can't find that recovery link. Perhaps it's been used already?\naccount-shell-error-recover-password-too-short = Passwords must be at least { $num } characters long\naccount-shell-error-recover-unrecognized-email = Sorry, we could not find any users registered with this email address.\naccount-shell-error-request-error = Error while making request.\naccount-shell-error-save-art-contest = Error saving. Please try again later.\naccount-shell-error-save-graph = Sorry, there was an unexpected error saving your graph. Error { $code }.\naccount-shell-error-save-graph-logged-out = You must be logged in to save graphs.\naccount-shell-error-setting-email = Error setting new email.\naccount-shell-error-sharing-link = Sorry, there was an error generating a link to your graph. Check your internet connection.\naccount-shell-error-something-went-wrong = Something went wrong, please report this to desmos.com support. (Error { $error_num })\naccount-shell-error-submitting = Error submitting. Please try again later.\naccount-shell-error-unexpected-error = Unexpected error.\naccount-shell-error-unknown = Sorry! Something went wrong. Please try again later.\naccount-shell-error-update-account-settings-logged-out = You must be logged in to update your account settings.\naccount-shell-error-update-graph-logged-out = You must be logged in to update graphs.\naccount-shell-error-user-info-logged-out = You must be logged in to retrieve user information.\naccount-shell-error-verifying-email = Sorry, there was a problem verifying your email.\naccount-shell-error-view-graphs-logged-out = You must be logged in to view saved graphs.\naccount-shell-heading-3dcalc-page-title = Desmos | 3D Graphing Calculator\naccount-shell-heading-artist-statement = Your Artist Statement\naccount-shell-heading-birth-year = Your Birth Year\naccount-shell-heading-braille-mode = Braille Mode\naccount-shell-heading-contact-us = Contact Us\naccount-shell-heading-country = Your Country\naccount-shell-heading-download-instructions = Download Instructions\naccount-shell-heading-duplicate-construction = Duplicate This Construction\naccount-shell-heading-duplicate-graph = Duplicate This Graph\naccount-shell-heading-embossers = Tactile Graphics Embossers\naccount-shell-heading-embossing-instructions = Embossing Instructions\naccount-shell-heading-export-graph = Export Your Graph\naccount-shell-heading-export-size = Size\naccount-shell-heading-geometry-page-title = Desmos | Geometry\naccount-shell-heading-graphingcalc-page-title = Desmos | Graphing Calculator\naccount-shell-heading-line-thickness = Line Thickness\naccount-shell-heading-math-art-contest = Global Math Art Contest\naccount-shell-heading-mygraphs-examples = Examples\naccount-shell-heading-mygraphs-recovered-work = Recovered Work\naccount-shell-heading-mygraphs-saved-constructions = Saved Constructions\naccount-shell-heading-mygraphs-saved-graphs = Saved Graphs\naccount-shell-heading-name-email = Your Name & Email\naccount-shell-heading-rename-graph = Rename This Graph\naccount-shell-heading-resources = Resources\naccount-shell-heading-save-construction = Save This Construction\naccount-shell-heading-save-graph = Save This Graph\naccount-shell-heading-share-graph = Share Your Graph\naccount-shell-heading-submit-graph = Submit This Graph\naccount-shell-heading-title-mygraphs-search = Search\naccount-shell-heading-tours = Tours\naccount-shell-heading-unsupported-browser = Unsupported Browser\naccount-shell-label-account-information = Account Information\naccount-shell-label-advanced-preferences = Advanced\naccount-shell-label-age-13-14 = Age 13–14\naccount-shell-label-age-15-16 = Age 15–16\naccount-shell-label-age-17-18 = Age 17–18\naccount-shell-label-artiist-statement-description = In 2-3 sentences, describe what motivated you and/or what you learned during this project.\naccount-shell-label-artist-statement-placeholder = Tell us about your graph...\naccount-shell-label-beta = Beta\naccount-shell-label-betchacant-loading = Challenge accepted...\naccount-shell-label-birth-year-placeholder = Birth Year\naccount-shell-label-country-placeholder = Your Country\naccount-shell-label-created-days-ago = { $number } days ago\naccount-shell-label-created-hours-ago = { $number } hours ago\naccount-shell-label-created-last-week = last week\naccount-shell-label-created-minutes-ago = { $number } minutes ago\naccount-shell-label-created-on-date = on { $month } { $day }, { $year }\naccount-shell-label-created-one-hour-ago = one hour ago\naccount-shell-label-created-one-minute-ago = one minute ago\naccount-shell-label-created-seconds-ago = less than a minute ago\naccount-shell-label-created-weeks-ago = { $number } weeks ago\naccount-shell-label-created-yesterday = yesterday\naccount-shell-label-delete-graph-modal-title = Delete Graph\naccount-shell-label-email-address = Email Address\naccount-shell-label-email-placeholder = So we can write back!\naccount-shell-label-export-size-large-rectangle = Large Rectangle\naccount-shell-label-export-size-large-square = Large Square\naccount-shell-label-export-size-medium-rectangle = Medium Rectangle\naccount-shell-label-export-size-medium-square = Medium Square\naccount-shell-label-export-size-small-square = Small Square\naccount-shell-label-feature-flag-actions = Actions\naccount-shell-label-feedback-email = Email Address\naccount-shell-label-feedback-message = Questions? Feedback?\naccount-shell-label-feedback-placeholder = Write to us!\naccount-shell-label-feedback-sending = Sending...\naccount-shell-label-full-name = Full Name\naccount-shell-label-graph-actions = Graph actions\naccount-shell-label-graph-title = Title\naccount-shell-label-help = Help\naccount-shell-label-help-menu = Help Menu\naccount-shell-label-language = Language\naccount-shell-label-loading = Loading...\naccount-shell-label-math-art-contest = Global Math Art Contest\naccount-shell-label-month-apr = Apr\naccount-shell-label-month-aug = Aug\naccount-shell-label-month-dec = Dec\naccount-shell-label-month-feb = Feb\naccount-shell-label-month-jan = Jan\naccount-shell-label-month-jul = Jul\naccount-shell-label-month-jun = Jun\naccount-shell-label-month-mar = Mar\naccount-shell-label-month-may = May\naccount-shell-label-month-nov = Nov\naccount-shell-label-month-oct = Oct\naccount-shell-label-month-sep = Sep\naccount-shell-label-mygraphs-example = example\naccount-shell-label-mygraphs-last-saved = last saved: { $date }\naccount-shell-label-mygraphs-no-unsaved-changes = no unsaved changes\naccount-shell-label-mygraphs-unsaved-graph = unsaved graph\naccount-shell-label-no-unsaved-changes = No Unsaved Changes\naccount-shell-label-open-graph-mac = { $open_graph } (cmd+o)\naccount-shell-label-open-graph-pc = { $open_graph } (ctrl+o)\naccount-shell-label-privacy-policy-changed = We’ve made changes to our privacy policy!\naccount-shell-label-save-changes-mac = Save Changes (cmd+s)\naccount-shell-label-save-changes-pc = Save Changes (ctrl+s)\naccount-shell-label-saving-graph = Saving graph...\naccount-shell-label-share = share\naccount-shell-label-share-graph = Share Graph\naccount-shell-label-share-link = Share this link:\naccount-shell-label-submission-received = Submission Received!\naccount-shell-label-submitting = Submitting...\naccount-shell-label-success = Success!\naccount-shell-label-you-are-eligible = You're eligible to participate in the Global Math Art Contest 2021!\naccount-shell-link-account-settings = Account Settings\naccount-shell-link-download-chrome = Click here to download Google Chrome.\naccount-shell-link-email-support = Email Our Support Team\naccount-shell-link-getting-started = Getting Started\naccount-shell-link-help = Help\naccount-shell-link-help-center = Help Center\naccount-shell-link-keyboard-shortcuts = Keyboard Shortcuts\naccount-shell-link-learn-more = Learn More\naccount-shell-link-mygraphs-log-in = Log In\naccount-shell-link-mygraphs-sign-up = Sign Up\naccount-shell-link-privacy = Privacy Policy\naccount-shell-link-share-thoughts = Share your thoughts!\naccount-shell-link-sign-out = Sign Out\naccount-shell-link-terms = Terms of Service\naccount-shell-link-user-guide = Desmos User Guide\naccount-shell-link-video-tutorials = Video Tutorials\naccount-shell-narration-back = Back\naccount-shell-narration-clear-selected-country = Clear Selected Country\naccount-shell-narration-graph-preview = Graph Preview\naccount-shell-narration-image-download = Image Download\naccount-shell-narration-language-menu = Language Options Menu\naccount-shell-narration-mygraphs-open-graph = Open graph\naccount-shell-narration-share-options = Share Options\naccount-shell-narration-size-options = Size Options\naccount-shell-text-3d-confirm-leave = Are you sure you want to leave this construction? Your unsaved work will be lost.\naccount-shell-text-advanced-preferences-instructions = Try these advanced features. Feel free to send any questions or feedback to support@desmos.com.\naccount-shell-text-alt-text-art-contest = Earth with students from different countries and a red ribbon around it. Illustration.\naccount-shell-text-alt-text-success = Five people standing around and talking about an exciting piece of art in a museum. Illustration.\naccount-shell-text-art-contest-about-paragraph = Want to share your awesome graph with the world? Students ages 13+ can enter the Desmos Global Math Art Contest before<1> January 15th </1>for a chance to be featured on our website and win other prizes! <2>Learn more</2>\naccount-shell-text-art-contest-congratulations = Congratulations, and keep graphing!\naccount-shell-text-art-contest-copyright-agreement = This is my original work and doesn't use copyrighted material.\naccount-shell-text-art-contest-notice-default = Open one of your saved graphs or create a new one!\naccount-shell-text-art-contest-notice-login = If you want to submit a graph you've made, please sign in and open your graph.\naccount-shell-text-art-contest-success-paragraph = If you'd like to revise your submission, feel free to resubmit anytime before<1> January 15th</1>{\".\"} We'll only look at the most recent submission.\naccount-shell-text-artcontest-ineligible = <1><2>Based on your age and location, we aren’t able to accept a graph submission from you this year. Save it for another year, or ask your teacher to assign the art contest activity.</2><3>Keep up the awesome graphing!</3></1>\naccount-shell-text-check-recovery-link = Please check your email for a password recovery link.\naccount-shell-text-confirm-leave = Are you sure you want to leave this graph? Your unsaved work will be lost.\naccount-shell-text-construction-cleared = Construction Cleared.\naccount-shell-text-contest-submit-by-teacher = Are you a teacher looking to submit your students' graphs?\naccount-shell-text-contest-under-16 = Under 16?\naccount-shell-text-contest-verify-eligibility = Verify your eligibility\naccount-shell-text-copy-of-title = [Copy of] { $originalTitle }\naccount-shell-text-delete-graphs-confirmation =\n    Are you sure you want to delete { $count ->\n        [one] \"{ $title }\"\n       *[other] the { $count } selected graphs\n    }?\naccount-shell-text-download-instructions = To download, right click on the image of the graph select \"Save As.\" You might also be able to click and drag the image onto your desktop.\naccount-shell-text-embossing-etc-print = Set paper size to { $size }. Then click \"Edit\" and select File > Emboss.\naccount-shell-text-embossing-etc-save = Save this image. Open Firebird, select File > Open > Image File, and open the image.\naccount-shell-text-embossing-vpmax-print = Right click image and select \"print\". Set paper size to { $size }.\naccount-shell-text-embossing-vpmax-save = Right click graph image and save to desktop.\naccount-shell-text-error = error\naccount-shell-text-feature-flag-actions-description = Make graphs interactive by defining rules for responding to clicks or to the passage of time.\naccount-shell-text-feedback-sent = Thanks! We'll be in touch.\naccount-shell-text-geometry-confirm-leave = Are you sure you want to leave this construction? Your unsaved work will be lost.\naccount-shell-text-graph-cleared = Graph cleared.\naccount-shell-text-graph-uses-advanced-features = This graph uses advanced features.\naccount-shell-text-local-regulations-notice = Local regulations require you to submit your graph through your teacher or guardian. Share this link with them:\naccount-shell-text-logged-in = Logged in successfully!\naccount-shell-text-login-window-blocked-apple = Login window blocked. Please allow popups from desmos.com to sign in with Apple\naccount-shell-text-login-window-blocked-google = Login window blocked. Please allow popups from desmos.com to sign in with Google.\naccount-shell-text-maintenance-mode = Desmos is in Maintenance Mode.\naccount-shell-text-mygraphs-attempting-recovery = Attempting recovery...\naccount-shell-text-mygraphs-count-more = { $count } more...\naccount-shell-text-mygraphs-current-construction = Current Construction\naccount-shell-text-mygraphs-current-graph = Current Graph\naccount-shell-text-mygraphs-deleting = Deleting...\naccount-shell-text-mygraphs-loading = Loading...\naccount-shell-text-mygraphs-lost-work = Lost work?\naccount-shell-text-mygraphs-maintenance-mode = Desmos is temporarily in maintenance mode. You can open example graphs, but won't be able to sign in, open your graphs, or save any changes. We're so sorry for the inconvenience.\naccount-shell-text-mygraphs-new-blank-graph = New Blank Graph\naccount-shell-text-mygraphs-new-construction = New Construction\naccount-shell-text-mygraphs-no-examples-match-search = No examples match your search.\naccount-shell-text-mygraphs-no-saved-graphs = No saved graphs yet.\naccount-shell-text-mygraphs-no-search-results = No saved graphs match your search.\naccount-shell-text-mygraphs-no-unsaved-graphs = Couldn't find any unsaved graphs.\naccount-shell-text-mygraphs-opened-graph = Opened '{ $graphTitle }'\naccount-shell-text-mygraphs-opening = Opening...\naccount-shell-text-mygraphs-or = or\naccount-shell-text-mygraphs-search-by-title = search by title\naccount-shell-text-mygraphs-share-thoughts = Share your thoughts!\naccount-shell-text-mygraphs-slow-big-constructions = This can take a little while for big constructions...\naccount-shell-text-mygraphs-slow-big-graphs = This can take a little while for big graphs...\naccount-shell-text-mygraphs-submit-to-contest = <1>Submit this graph to the <2>Global Math Art Contest!</2></1>\naccount-shell-text-mygraphs-synced = synced!\naccount-shell-text-mygraphs-to-save-constructions = to save your constructions!\naccount-shell-text-mygraphs-to-save-graphs = to save your graphs!\naccount-shell-text-mygraphs-updating-graphs = updating graphs...\naccount-shell-text-mygraphs-version = Version\naccount-shell-text-new-construction-created = New construction created.\naccount-shell-text-new-graph-created = New graph created.\naccount-shell-text-or = or\naccount-shell-text-saved = saved\naccount-shell-text-share-submit-to-contest = <1>Submit this graph to the <2>Global Math Art Contest!</2></1>\naccount-shell-text-unsupported-browser-android = Desmos works best on your version of Android if you use the Chrome Browser.\naccount-shell-text-untitled = Untitled\naccount-shell-text-untitled-graph = Untitled Graph\nshared-button-accept = Accept\nshared-button-cancel = Cancel\nshared-button-change-email-address = Change email address\nshared-button-change-email-and-password = Change email and password\nshared-button-close-dialog = Close Dialog\nshared-button-confirm-name = Confirm Name\nshared-button-continue-to-desmos = Continue to Desmos\nshared-button-create-account = Create Account\nshared-button-delete-account-question = Delete your Desmos account?\nshared-button-email-address-narrow = Email\nshared-button-email-address-wide = Email Address\nshared-button-external-account-narrow = External\nshared-button-external-account-wide = External Account\nshared-button-go-to-account-settings = Go to Account Settings\nshared-button-google-account-narrow = Google\nshared-button-google-account-wide = Google Account\nshared-button-i-am-not-a-teacher = I am not a teacher.\nshared-button-learn-more-capitalized = Learn More\nshared-button-login = Log in\nshared-button-login-capitalized = Log In\nshared-button-login-with-apple = Log in with Apple\nshared-button-login-with-google = Log in with Google\nshared-button-more-options-menu = More Options\nshared-button-recover-password = Recover Password\nshared-button-save = Save\nshared-button-send-delete-account-email = Send Delete Account Email\nshared-button-send-email = Send Email\nshared-button-sign-up-as-a-teacher = Sign up as a teacher.\nshared-button-try-again = Didn't work? Try again!\nshared-calculator-button-braille-mode-nemeth = Nemeth\nshared-calculator-button-braille-mode-ueb = UEB\nshared-calculator-button-clear = clear\nshared-calculator-button-clear-all = clear all\nshared-calculator-button-controlbar-functions = functions\nshared-calculator-button-language = Language\nshared-calculator-button-mac = Mac Shortcuts\nshared-calculator-button-print = Print\nshared-calculator-button-reverse-contrast = Reverse Contrast\nshared-calculator-button-windows-chrome = Windows / ChromeOS Shortcuts\nshared-calculator-error-action-merge-free-variable = Cannot combine an action that depends on free variable '{ $symbol }'.\nshared-calculator-error-add-arguments-to-definition-many = Try including '{ $symbols }' and '{ $lastSymbol }' as arguments by defining the function as '{ $newSignature }'.\nshared-calculator-error-add-arguments-to-definition-one = Try including '{ $lastSymbol }' as an argument by defining the function as '{ $newSignature }'.\nshared-calculator-error-add-type-error = Cannot add { $symbol1 } and { $symbol2 }.\nshared-calculator-error-adjacent-numbers = Sorry, I don't know what to do with adjacent numbers '{ $left }' and '{ $right }'. Try using parentheses or a '*' symbol.\nshared-calculator-error-and-type-error = Cannot apply { $symbol } to { $symbol1 } and { $symbol2 }.\nshared-calculator-error-ans-undefined = The previous expression didn't define any value for ans.\nshared-calculator-error-assignments-unsupported = This calculator does not support defining variables.\nshared-calculator-error-bad-implicit-call = Use parentheses around the argument of '{ $symbol }'.\nshared-calculator-error-bad-integral-bound-dependency = Integration bounds can't depend on integration variable '{ $symbol }'.\nshared-calculator-error-bad-list-comprehension-input-dependency = List comprehension input list can't depend on input variable '{ $symbol }'.\nshared-calculator-error-bad-log-exponent = Only { $form } is supported. Otherwise, use parens.\nshared-calculator-error-bad-product-bound-dependency = Product bounds can't depend on product index '{ $symbol }'.\nshared-calculator-error-bad-sample-size = Sample size must be a finite, non-negative number.\nshared-calculator-error-bad-sum-bound-dependency = Summation bounds can't depend on summation index '{ $symbol }'.\nshared-calculator-error-bad-symbol-context = You can't use '{ $symbol }' in this context.\nshared-calculator-error-bad-trig-exponent = Only { $form1 } and { $form2 } are supported. Otherwise, use parens.\nshared-calculator-error-bad-tuple-dimensions = Points may only have { $symbol } coordinates.\nshared-calculator-error-binary-operator-missing-operand = You need something on both sides of the '{ $symbol }' symbol.\nshared-calculator-error-blank-expression = You haven't written anything yet.\nshared-calculator-error-boxplot-breadth-invalid = Invalid height. Try using any number.\nshared-calculator-error-boxplot-offset-invalid = Invalid offset. Try using any number.\nshared-calculator-error-cannot-redefine = You can't redefine '{ $symbol }' because it's already defined.\nshared-calculator-error-cannot-redefine-root = You can't define '{ $symbol }' because '{ $symbolRoot }' is already defined.\nshared-calculator-error-cannot-subscript = '{ $symbol }' cannot have a subscript.\nshared-calculator-error-cdf-max-invalid = Invalid cdf max. Try using any number.\nshared-calculator-error-cdf-max-less-than-min = Invalid cdf limits. Min should be less than max.\nshared-calculator-error-cdf-min-invalid = Invalid cdf min. Try using any number.\nshared-calculator-error-cdf-too-many-arguments = 'cdf' should be called on a distribution with at most two numbers. { $recommendation }\nshared-calculator-error-cdf-too-many-arguments-recommendation = For example, try typing: D.cdf(-1,1) where D=normaldist().\nshared-calculator-error-cdf-wrong-arity = 'cdf' should be called on a distribution with at least one number. { $recommendation }\nshared-calculator-error-cdf-wrong-arity-recommendation = For example, try typing: D.cdf(x) where D=normaldist().\nshared-calculator-error-clickable-object-assignment-not-defined = \"{ $symbol }\" is not defined. Try using a different variable or adding a slider.\nshared-calculator-error-clickable-object-assignment-not-identifier = Invalid symbol. Try using a single letter.\nshared-calculator-error-clickable-object-invalid-expression = Can't evaluate this. Try a number or simple expression.\nshared-calculator-error-colon-missing-condition = The left side of a ':' must be a condition, like 'x>1'.\nshared-calculator-error-color-arity = '{ $symbol }' should be called with 3 arguments. { $recommendation }\nshared-calculator-error-color-arity-recommendation = For example, try typing: { $recommendation }.\nshared-calculator-error-color-not-assigned = To use a color, you must assign it to a variable.\nshared-calculator-error-combine-type-error = Cannot combine { $symbol1 } and { $symbol2 }.\nshared-calculator-error-comparator-type-error = Cannot compare { $symbol1 } to { $symbol2 }.\nshared-calculator-error-complicated-double-inequality = We only support solved double inequalities. Try deleting one side of the inequality.\nshared-calculator-error-complicated-polar-implicit = Polar equations must be linear in r.\nshared-calculator-error-constant-unsupported = This calculator does not support the constant '{ $symbol }'.\nshared-calculator-error-deeply-nested = Definitions are nested too deeply.\nshared-calculator-error-dependency-cycle = '{ $symbols }' and '{ $lastSymbol }' can't be defined in terms of each other.\nshared-calculator-error-derivative-missing-body = What do you want to take the derivative of?\nshared-calculator-error-derivative-type-error = Cannot take the derivative of { $symbol }.\nshared-calculator-error-derivative-variable-type-error = Cannot take derivative with respect to '{ $symbol1 }' because it is { $symbol2 }.\nshared-calculator-error-differential-with-superscript = Integration variable cannot have a superscript.\nshared-calculator-error-distribution-as-function = Cannot call distribution '{ $symbol }' as a function. Try '{ $symbol }.pdf(x)'.\nshared-calculator-error-divide-type-error = Cannot divide { $symbol1 } by { $symbol2 }.\nshared-calculator-error-domain-max-invalid = Invalid domain max. Try using any number.\nshared-calculator-error-domain-max-less-than-min = Invalid domain limits. Min should be less than max.\nshared-calculator-error-domain-min-invalid = Invalid domain min. Try using any number.\nshared-calculator-error-dot-lhs-type-error = Cannot call '{ $symbol }' on { $type }.\nshared-calculator-error-duplicate-update-rules = An action cannot specify multiple update rules for '{ $symbol }'.\nshared-calculator-error-empty-paren = Parentheses cannot be empty.\nshared-calculator-error-empty-pipe = Absolute value symbol cannot be empty.\nshared-calculator-error-empty-radical = Radical cannot be empty.\nshared-calculator-error-empty-radical-index = Radical index cannot be empty.\nshared-calculator-error-empty-square-bracket = Square brackets cannot be empty.\nshared-calculator-error-empty-subscript = Subscripts cannot be empty.\nshared-calculator-error-empty-superscript = Superscripts cannot be empty.\nshared-calculator-error-equation-required = Try adding an equals sign to turn this into an equation.\nshared-calculator-error-equation-required-symbol = Try adding '{ $lhs }' to the beginning of this equation.\nshared-calculator-error-equations-unsupported = This calculator does not support this type of equation.\nshared-calculator-error-event-handler-type-error = This should be an action. Try '{ $example }'.\nshared-calculator-error-exponent-type-error = Cannot raise { $symbol1 } to { $symbol2 }.\nshared-calculator-error-feature-unavailable = This feature is not available in the current calculator.\nshared-calculator-error-fraction-empty = You need a numerator and denominator for your fraction.\nshared-calculator-error-fraction-missing-denominator = You need a denominator for the bottom of your fraction.\nshared-calculator-error-fraction-missing-numerator = You need a numerator for the top of your fraction.\nshared-calculator-error-function-definition-unsupported = This calculator does not support function definitions.\nshared-calculator-error-function-not-defined = Function '{ $dependency }' is not defined.\nshared-calculator-error-function-type-error-1 = Function '{ $fn }' cannot be applied to { $arg }.\nshared-calculator-error-function-type-error-2 = Function '{ $fn }' cannot be applied to { $arg1 } and { $arg2 }.\nshared-calculator-error-function-type-error-many = Function '{ $fn }' cannot be applied to these arguments.\nshared-calculator-error-function-unsupported = This calculator does not support the '{ $symbol }' function.\nshared-calculator-error-heterogeneous-list = All elements of a list must have the same type.\nshared-calculator-error-identifier-as-function = '{ $symbol }' is a function. Try using parentheses.\nshared-calculator-error-illegal-bin-width = The second argument to '{ $symbol }' must be a positive number.\nshared-calculator-error-illegal-dot-call = Function '{ $symbol }' cannot be called with dot notation.\nshared-calculator-error-implicits-disabled = Plotting implicit equations and inequalities is disabled.\nshared-calculator-error-incorrect-list-comprehension-input = Inputs to a list comprehension must set a variable equal to a list. Try i=[1...10].\nshared-calculator-error-incorrect-product-lower-bound = Lower bound of a product must set a variable equal to a number. Try n=1.\nshared-calculator-error-incorrect-sum-lower-bound = Lower bound of a sum must set a variable equal to a number. Try n=1.\nshared-calculator-error-index-type-error = Cannot index { $symbol1 } with { $symbol2 }.\nshared-calculator-error-inequalities-disabled = Plotting inequalities is disabled.\nshared-calculator-error-inequalities-unsupported = This calculator does not support inequalities.\nshared-calculator-error-inequality-chain-too-long = Cannot chain more than 2 inequalities.\nshared-calculator-error-integral-argument-type-error = Cannot take the integral of { $symbol }.\nshared-calculator-error-integral-lower-bound-type-error = Lower bound of an integral cannot be { $symbol }.\nshared-calculator-error-integral-missing-body = What do you want to take the integral of?\nshared-calculator-error-integral-missing-bound = Integrals must have upper and lower bounds.\nshared-calculator-error-integral-missing-differential = Integrand must end with an integration variable, like dx.\nshared-calculator-error-integral-upper-bound-type-error = Upper bound of an integral cannot be { $symbol }.\nshared-calculator-error-invalid-dependent-first-table-column = This column header can't be defined elsewhere in the calculator.\nshared-calculator-error-invalid-double-inequality-variables = We only plot double inequalities of x and y.\nshared-calculator-error-invalid-first-table-column = First column may not be { $most } or { $last }.\nshared-calculator-error-invalid-half-empty-range = Range must have an upper and lower bound.\nshared-calculator-error-invalid-implicit-variables = We only support implicit equations of x and y.\nshared-calculator-error-invalid-inequality-variables = We only plot inequalities of x and y, or r and θ.\nshared-calculator-error-invalid-lhs = Sorry, you can't graph { $symbol } as a function of anything yet.\nshared-calculator-error-invalid-operator-name = Operator names may only contain letters.\nshared-calculator-error-invalid-regression-parameter = '{ $symbol }' may not be used as a regression parameter. Try using a list.\nshared-calculator-error-invalid-subscript = Subscripts may only contain letters and digits. '{ $symbol }' is not allowed.\nshared-calculator-error-invalid-table-entry = Table entries must be simple expressions. { $supplement }\nshared-calculator-error-invalid-table-header = Table headers must be simple expressions. { $supplement }\nshared-calculator-error-list-comprehension-input-type-error = An input to a list comprehension must be a list, but { $identifier } is { $actual }. Try { $identifier }=[1...10].\nshared-calculator-error-list-type-error = Cannot store { $symbol1 } in a list.\nshared-calculator-error-logbase-unsupported = This calculator does not support specifying the base of a logarithm. Try 'log' or 'ln'.\nshared-calculator-error-malformed-list = Lists are written like this: [1, 2, 3].\nshared-calculator-error-malformed-point = Points are written like this: (1, 2).\nshared-calculator-error-matrix-add-dimensions = Cannot add matrices with different dimensions.\nshared-calculator-error-matrix-assignment = This calculator does not support this type of variable definition. Try using 'New Matrix'.\nshared-calculator-error-matrix-element-type-error = Cannot use { $arg } as an element of a matrix.\nshared-calculator-error-matrix-fractional-power = A matrix can only be raised to integer powers.\nshared-calculator-error-matrix-invalid-variable = Cannot use '{ $symbol }' as a variable.\nshared-calculator-error-matrix-multiply-dimensions = Cannot multiply matrices with incompatible dimensions.\nshared-calculator-error-matrix-power-dimensions = Only square matrices can be raised to a power.\nshared-calculator-error-matrix-subtract-dimensions = Cannot subtract matrices with different dimensions.\nshared-calculator-error-max-list-size = Lists may not have more than { $maxListSize } elements.\nshared-calculator-error-method-requires-list = '{ $symbol }' requires a list. For example, try typing: { $recommendation }.\nshared-calculator-error-mismatched-braces = Expected '{ $symbol1 }' to match '{ $symbol2 }'.\nshared-calculator-error-mismatched-double-inequality = Double inequalities must both go the same way, e.g. { $example }.\nshared-calculator-error-multiply-defined = You've defined '{ $dependency }' in more than one place. Try deleting some of the definitions of '{ $dependency }'.\nshared-calculator-error-multiply-type-error = Cannot multiply { $symbol1 } by { $symbol2 }.\nshared-calculator-error-negative-type-error = Cannot negate { $symbol }.\nshared-calculator-error-non-arithmetic-range = Ranges must be arithmetic sequences.\nshared-calculator-error-non-list-double-reducer = Both arguments of '{ $symbol }' must be lists. For example, try typing: { $recommendation }.\nshared-calculator-error-non-list-parameterized-reducer = The first argument of '{ $symbol }' must be a list. For example, try typing: { $recommendation }.\nshared-calculator-error-non-singular-inverse = Singular matrices do not have an inverse.\nshared-calculator-error-non-square-determinant = Only square matrices have a determinant.\nshared-calculator-error-non-square-inverse = Only square matrices have an inverse.\nshared-calculator-error-non-square-trace = Only square matrices have a trace.\nshared-calculator-error-optimization-error = We couldn't find any region where this model is defined.\nshared-calculator-error-ordered-pair-access-type-error = Cannot access a coordinate of { $symbol }.\nshared-calculator-error-parameter-already-defined = You can't use '{ $dependency }' as a parameter of this function because '{ $dependency }' is already defined.\nshared-calculator-error-parse-error = Sorry, I don't understand this.\nshared-calculator-error-pdf-wrong-arity = 'pdf' should be called on a distribution with a number. { $recommendation }\nshared-calculator-error-pdf-wrong-arity-recommendation = For example, try typing: D.pdf(x) where D=normaldist().\nshared-calculator-error-percent-missing-of = '%' must be used with 'of'. Try '25% of 12'.\nshared-calculator-error-piecewise-branch-length-error = When a piecewise condition depends on a free variable (like \"{ $symbol }\") and its branches are lists, the lists must have the same length.\nshared-calculator-error-piecewise-branch-type-error = Cannot use { $symbol1 } and { $symbol2 } as the branches in a piecewise. Every branch must have the same type.\nshared-calculator-error-piecewise-condition-type-error = The condition in a piecewise expression must be { $symbol1 } but was { $symbol2 }.\nshared-calculator-error-piecewise-missing-condition = A piecewise expression must have at least one condition.\nshared-calculator-error-piecewise-part-missing-condition = Every part of a piecewise expression must have a condition except the last.\nshared-calculator-error-point-type-error = Cannot use { $symbol1 } as a coordinate of { $symbol2 }.\nshared-calculator-error-points-unsupported = This calculator does not support points.\nshared-calculator-error-polygon-list-type-error = A single argument to polygon should be a point list, not { $type }.\nshared-calculator-error-polygon-point-args-error = Some of your arguments are not points.\nshared-calculator-error-prime-without-paren = Primed function calls must use parentheses.\nshared-calculator-error-primed-function-arity = Prime notation can only be used for functions of a single argument.\nshared-calculator-error-product-argument-type-error = Cannot take the product of { $symbol }.\nshared-calculator-error-product-infinite-bound-type-error = Product bounds must be finite numbers.\nshared-calculator-error-product-lower-bound-type-error = Lower bound of a product cannot be { $symbol }.\nshared-calculator-error-product-missing-body = What do you want to take the product of?\nshared-calculator-error-product-missing-bound = Products must have upper and lower bounds.\nshared-calculator-error-product-upper-bound-type-error = Upper bound of a product cannot be { $symbol }.\nshared-calculator-error-random-arity = 'random' should be called with no arguments, or an optional number of samples. For example, try random() or random(10).\nshared-calculator-error-random-from-broadcast-distribution = Cannot sample from a list of distributions\nshared-calculator-error-regression-type-error = Cannot regress { $symbol1 } against { $symbol2 }.\nshared-calculator-error-regressions-unsupported = This calculator does not support regressions.\nshared-calculator-error-self-referential-function = The definition of function '{ $symbol }' cannot depend on '{ $symbol }'.\nshared-calculator-error-shadowed-index = You can't use '{ $symbol }' as an index because it's already defined.\nshared-calculator-error-shadowed-integration-variable = You can't use '{ $symbol }' as an integration variable because it's already defined.\nshared-calculator-error-shadowed-list-comprehension-input = You can't use '{ $symbol }' as a list comprehension input because it's already defined.\nshared-calculator-error-single-variable-implicit-equations-disabled = Plotting single-variable implicit equations is disabled.\nshared-calculator-error-slider-limit-references-export = Slider limits cannot depend on the slider variable '{ $symbol }'.\nshared-calculator-error-slider-max-invalid = Invalid slider max. Try using any number.\nshared-calculator-error-slider-max-less-than-min = Invalid slider limits. Min should be less than max.\nshared-calculator-error-slider-min-invalid = Invalid slider min. Try using any number.\nshared-calculator-error-slider-step-invalid = Invalid slider step. Try using any number.\nshared-calculator-error-subtract-type-error = Cannot subtract { $symbol2 } from { $symbol1 }.\nshared-calculator-error-sum-argument-type-error = Cannot take the sum of { $symbol }.\nshared-calculator-error-sum-infinite-bound-type-error = Summation bounds must be finite numbers.\nshared-calculator-error-sum-lower-bound-type-error = Lower bound of a sum cannot be { $symbol }.\nshared-calculator-error-sum-missing-body = What do you want to take the sum of?\nshared-calculator-error-sum-missing-bound = Sums must have upper and lower bounds.\nshared-calculator-error-sum-upper-bound-type-error = Upper bound of a sum cannot be { $symbol }.\nshared-calculator-error-superscript-with-prime = Superscripts and primes cannot be combined.\nshared-calculator-error-table-entry-type-error = Table entry cannot be { $symbol }.\nshared-calculator-error-table-equation-supplement = Equations are not allowed.\nshared-calculator-error-table-function-definition-supplement = Function definitions are not allowed.\nshared-calculator-error-table-generic-supplement = This type of expression is not allowed.\nshared-calculator-error-table-header-type-error = Table header cannot be { $symbol }.\nshared-calculator-error-table-inequality-supplement = Inequalities are not allowed.\nshared-calculator-error-table-list-supplement = Lists are not allowed.\nshared-calculator-error-table-regression-supplement = Regressions are not allowed.\nshared-calculator-error-tdist-wrong-arity = 'tdist' requires 1 argument. For example, try typing: tdist(1).\nshared-calculator-error-ticker-min-step-nonnegative = Min step must evaluate to a non-negative number.\nshared-calculator-error-too-many-arguments = '{ $symbol }' accepts at most { $max } arguments.\nshared-calculator-error-too-many-variables-many-symbols = Too many variables. Try defining '{ $variables }' or '{ $lastVariable }'.\nshared-calculator-error-too-many-variables-no-symbols = Too many variables, I don't know what to do with this.\nshared-calculator-error-too-many-variables-one-symbol = Too many variables. Try defining '{ $variable }'.\nshared-calculator-error-ttest-list-too-short = Lists for '{ $symbol }' must have at least 2 elements.\nshared-calculator-error-two-numbers-error = Cannot make a polygon from two numbers.\nshared-calculator-error-unary-operator-missing-left = You need something before the '{ $symbol }' symbol.\nshared-calculator-error-unary-operator-missing-right = You need something after the '{ $symbol }' symbol.\nshared-calculator-error-unexpected-for-keyword = 'for' can only be used inside a list. Try [i for i=[1...10]].\nshared-calculator-error-unexpected-inequality = Cannot use an inequality here.\nshared-calculator-error-unexpected-prime = Sorry, I don't understand this use of prime notation.\nshared-calculator-error-unexpected-subscript = Only functions and variables may have subscripts.\nshared-calculator-error-unexpected-symbol = Sorry, I don't understand the way that '{ $symbol }' is used here.\nshared-calculator-error-unknown = Unknown Error\nshared-calculator-error-unplottable-polar-function = We can't plot θ as a function of r. Try plotting r(θ) instead.\nshared-calculator-error-unrecognized-symbol = Sorry, I don't understand the '{ $symbol }' symbol.\nshared-calculator-error-update-rule-function-lhs = '{ $symbol }' cannot be updated because it is a function.\nshared-calculator-error-update-rule-illegal-lhs = Variable '{ $symbol }' cannot be updated.\nshared-calculator-error-update-rule-local-lhs = Variable '{ $symbol }' cannot be updated because it is locally defined.\nshared-calculator-error-update-rule-non-identifier-lhs = The left hand side of '{ $arrow }' should be a variable name like '{ $example }'.\nshared-calculator-error-update-rule-type-error = Cannot update a variable to { $symbol }.\nshared-calculator-error-update-rule-undefined-lhs = Variable '{ $symbol }' must be defined to be updated.\nshared-calculator-error-variable-as-function = Variable '{ $dependency }' can't be used as a function.\nshared-calculator-error-variable-filter = List filters cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-function-free-variable = Function '{ $functionSymbol }' cannot depend on free variable '{ $variableSymbol }'.\nshared-calculator-error-variable-length-distribution-list = The length of a list of distributions can't depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-length-product-body-depends-on-index = Can't take the product of a list whose length depends on product index '{ $symbol }'.\nshared-calculator-error-variable-length-sum-body-depends-on-index = Can't sum a list whose length depends on summation index '{ $symbol }'.\nshared-calculator-error-variable-length-top-level-list = Can't plot a list whose length depends on free variable '{ $symbol }'.\nshared-calculator-error-variable-list-indices = List indices cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-range = Range cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-sample-size = Sample size cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-seed = Random seed cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variables-unsupported = This calculator does not support variables like '{ $variable }'.\nshared-calculator-error-wrong-arity-many-arg = Function '{ $dependency }' requires { $assignment_arity } arguments. { $supplement }\nshared-calculator-error-wrong-arity-single-arg-too-few = Function '{ $dependency }' requires an argument. { $supplement }\nshared-calculator-error-wrong-arity-single-arg-too-many = Function '{ $dependency }' requires only 1 argument. { $supplement }\nshared-calculator-error-wrong-arity-supplement = For example, try typing: { $recommendation }.\nshared-calculator-error-wrong-two-arg-arity = Function '{ $symbol }' requires 2 arguments. For example, try typing: { $recommendation }.\nshared-calculator-error-zero-arg-reducer = Function '{ $symbol }' requires at least one argument. For example, try typing: { $symbol }(1, 2).\nshared-calculator-heading-function-table-column-header = Function\nshared-calculator-heading-keyboard-shortcuts = Keyboard Shortcuts\nshared-calculator-heading-keyboard-shortcuts-audio-tracing = Audio Tracing\nshared-calculator-heading-keyboard-shortcuts-braille = Braille\nshared-calculator-heading-keyboard-shortcuts-common-actions = Common Actions\nshared-calculator-heading-keyboard-shortcuts-expression-entry-and-navigation = Expression Entry and Navigation\nshared-calculator-heading-keyboard-shortcuts-graphs-with-interactive-points = Graphs with Interactive Points\nshared-calculator-heading-keyboard-shortcuts-sliders = Sliders\nshared-calculator-heading-keyboard-shortcuts-symbols = Symbols\nshared-calculator-heading-keyboard-shortcuts-tables = Tables\nshared-calculator-heading-mac-table-column-header = Mac Shortcut\nshared-calculator-heading-shortcut-table-column-header = Shortcut\nshared-calculator-heading-windows-chrome-table-column-header = Windows / ChromeOS Shortcut\nshared-calculator-label-saved = Saved!\nshared-calculator-label-saving = Saving...\nshared-calculator-label-settings-display = Display\nshared-calculator-label-toast-learn-more = Learn more\nshared-calculator-label-toast-undo = Undo\nshared-calculator-label-tooltip-convert-to-decimal = Convert to decimal.\nshared-calculator-label-tooltip-convert-to-fraction = Convert to fraction.\nshared-calculator-label-value-type-action = an action\nshared-calculator-label-value-type-any = an unknown object\nshared-calculator-label-value-type-bool = a true/false value\nshared-calculator-label-value-type-color = a color\nshared-calculator-label-value-type-distribution = a distribution\nshared-calculator-label-value-type-empty-list = an empty list\nshared-calculator-label-value-type-error = an error object\nshared-calculator-label-value-type-list-of-any = a list of unknown objects\nshared-calculator-label-value-type-list-of-bool = a list of true/false values\nshared-calculator-label-value-type-list-of-colors = a list of colors\nshared-calculator-label-value-type-list-of-distributions = a list of distributions\nshared-calculator-label-value-type-list-of-numbers = a list of numbers\nshared-calculator-label-value-type-list-of-points = a list of points\nshared-calculator-label-value-type-list-of-polygons = a list of polygons\nshared-calculator-label-value-type-matrix = a matrix\nshared-calculator-label-value-type-number = a number\nshared-calculator-label-value-type-point = a point\nshared-calculator-label-value-type-polygon = a polygon\nshared-calculator-label-value-type-seed = a string\nshared-calculator-narration-braille-mode = Braille Mode\nshared-calculator-narration-braille-mode-nemeth = Braille mode Nemeth\nshared-calculator-narration-braille-mode-off = Braille mode off\nshared-calculator-narration-braille-mode-ueb = Braille mode UEB\nshared-calculator-narration-control-toggle-switch-to-default = { $toggled } selected. Press Enter to switch to { $default }.\nshared-calculator-narration-control-toggle-switch-to-toggled = { $default } selected. Press Enter to switch to { $toggled }.\nshared-calculator-narration-display-as-decimal = Displaying as fraction. Press Enter to display as Decimal\nshared-calculator-narration-display-as-fraction = Displaying as decimal. Press Enter to display as Fraction\nshared-calculator-narration-evaluation = equals { $answer }\nshared-calculator-narration-expression = Expression\nshared-calculator-narration-expression-index = Expression { $index }\nshared-calculator-narration-input-error = input has an error\nshared-calculator-narration-keypad = keypad\nshared-calculator-narration-keypad-controlbar = Control Bar\nshared-calculator-narration-keypad-key-10-n = Times ten to the power of\nshared-calculator-narration-keypad-key-abs = Absolute Value\nshared-calculator-narration-keypad-key-action-to = Set Value To\nshared-calculator-narration-keypad-key-alpha = Alpha\nshared-calculator-narration-keypad-key-ans = Answer\nshared-calculator-narration-keypad-key-arccos = Inverse Cosine\nshared-calculator-narration-keypad-key-arccot = Inverse Cotangent\nshared-calculator-narration-keypad-key-arccsc = Inverse Cosecant\nshared-calculator-narration-keypad-key-arcsec = Inverse Secant\nshared-calculator-narration-keypad-key-arcsin = Inverse Sine\nshared-calculator-narration-keypad-key-arctan = Inverse Tangent\nshared-calculator-narration-keypad-key-backspace = Backspace\nshared-calculator-narration-keypad-key-beta = Beta\nshared-calculator-narration-keypad-key-binomialdist = Binomial Distribution\nshared-calculator-narration-keypad-key-boxplot = Box Plot\nshared-calculator-narration-keypad-key-ceil = Ceiling\nshared-calculator-narration-keypad-key-corr = Correlation\nshared-calculator-narration-keypad-key-cos = Cosine\nshared-calculator-narration-keypad-key-cosh = Hyperbolic Cosine\nshared-calculator-narration-keypad-key-cot = Cotangent\nshared-calculator-narration-keypad-key-coth = Hyperbolic Cotangent\nshared-calculator-narration-keypad-key-cov = Co Variance\nshared-calculator-narration-keypad-key-covp = Population Co Variance\nshared-calculator-narration-keypad-key-csc = Cosecant\nshared-calculator-narration-keypad-key-csch = Hyperbolic Cosecant\nshared-calculator-narration-keypad-key-cubed = Cubed\nshared-calculator-narration-keypad-key-decimal = Decimal\nshared-calculator-narration-keypad-key-distance = Distance\nshared-calculator-narration-keypad-key-divide = Divide\nshared-calculator-narration-keypad-key-dotplot = Dot Plot\nshared-calculator-narration-keypad-key-enter = Enter\nshared-calculator-narration-keypad-key-erf = Error Function\nshared-calculator-narration-keypad-key-exp = Exponent\nshared-calculator-narration-keypad-key-factorial = Factorial\nshared-calculator-narration-keypad-key-floor = Floor\nshared-calculator-narration-keypad-key-fraction = A over B\nshared-calculator-narration-keypad-key-histogram = Histogram\nshared-calculator-narration-keypad-key-int = Integral\nshared-calculator-narration-keypad-key-inversecdf = Inverse CDF function\nshared-calculator-narration-keypad-key-ittest = Independent T Test\nshared-calculator-narration-keypad-key-left-arrow = Left Arrow\nshared-calculator-narration-keypad-key-left-bracket = Left Bracket\nshared-calculator-narration-keypad-key-left-paren = Left Parenthesis\nshared-calculator-narration-keypad-key-ln = Natural Log\nshared-calculator-narration-keypad-key-log = Log\nshared-calculator-narration-keypad-key-loga = Log A\nshared-calculator-narration-keypad-key-mean = Mean\nshared-calculator-narration-keypad-key-median = Median\nshared-calculator-narration-keypad-key-midpoint = Midpoint\nshared-calculator-narration-keypad-key-minus = Minus\nshared-calculator-narration-keypad-key-normaldist = Normal Distribution\nshared-calculator-narration-keypad-key-nthroot = Nth Root\nshared-calculator-narration-keypad-key-pdf = Probability Density Function\nshared-calculator-narration-keypad-key-percent-of = Percent Of\nshared-calculator-narration-keypad-key-pi = Pi\nshared-calculator-narration-keypad-key-plus = Plus\nshared-calculator-narration-keypad-key-poissondist = Poisson Distribution\nshared-calculator-narration-keypad-key-polygon = Polygon\nshared-calculator-narration-keypad-key-prime = Function derivative\nshared-calculator-narration-keypad-key-product = Product\nshared-calculator-narration-keypad-key-quantile = Quantile\nshared-calculator-narration-keypad-key-quartile = Quartile\nshared-calculator-narration-keypad-key-random = Random Number\nshared-calculator-narration-keypad-key-reciprocal = Reciprocal\nshared-calculator-narration-keypad-key-right-arrow = Right Arrow\nshared-calculator-narration-keypad-key-right-bracket = Right Bracket\nshared-calculator-narration-keypad-key-right-paren = Right Parenthesis\nshared-calculator-narration-keypad-key-round = Round\nshared-calculator-narration-keypad-key-sec = Secant\nshared-calculator-narration-keypad-key-shift = Shift\nshared-calculator-narration-keypad-key-sin = Sine\nshared-calculator-narration-keypad-key-sinh = Hyperbolic Sine\nshared-calculator-narration-keypad-key-spearman = Spearman Rank Correlation\nshared-calculator-narration-keypad-key-sqrt = Square Root\nshared-calculator-narration-keypad-key-squared = Squared\nshared-calculator-narration-keypad-key-stats = Summary statistics\nshared-calculator-narration-keypad-key-stdev = Standard Deviation\nshared-calculator-narration-keypad-key-stdevp = Standard Deviation of Population\nshared-calculator-narration-keypad-key-subscript = Subscript\nshared-calculator-narration-keypad-key-sum = Sum\nshared-calculator-narration-keypad-key-superscript = Superscript\nshared-calculator-narration-keypad-key-tan = Tangent\nshared-calculator-narration-keypad-key-tanh = Hyperbolic Tangent\nshared-calculator-narration-keypad-key-tau = Tau\nshared-calculator-narration-keypad-key-tdist = Student-t Distribution\nshared-calculator-narration-keypad-key-theta = Theta\nshared-calculator-narration-keypad-key-times = Times\nshared-calculator-narration-keypad-key-toggle-audio-trace = Toggle Audio Trace\nshared-calculator-narration-keypad-key-toggle-letters = Toggle Letters\nshared-calculator-narration-keypad-key-toggle-numbers = Toggle Numbers\nshared-calculator-narration-keypad-key-tscore = T Score\nshared-calculator-narration-keypad-key-ttest = T Test\nshared-calculator-narration-keypad-key-uniformdist = Uniform Distribution\nshared-calculator-narration-keypad-key-ythroot = Yth Root\nshared-calculator-narration-redo = redo\nshared-calculator-narration-settings-display-size = Display Size\nshared-calculator-narration-settings-display-size-default = Display size: default\nshared-calculator-narration-settings-display-size-large = Display size: large\nshared-calculator-narration-six-key-mode-off = Six Key Braille Input off\nshared-calculator-narration-six-key-mode-on = Six Key Braille Input on\nshared-calculator-narration-table-cell-coordinates = Row { $rowNumber } Column { $columnNumber }\nshared-calculator-narration-undo = undo\nshared-calculator-text-keyboard-shortcut-add-expression = Add an Expression\nshared-calculator-text-keyboard-shortcut-add-folder = Add a Folder\nshared-calculator-text-keyboard-shortcut-add-image = Add an Image\nshared-calculator-text-keyboard-shortcut-add-note = Add a Note\nshared-calculator-text-keyboard-shortcut-add-table = Add a Table\nshared-calculator-text-keyboard-shortcut-adjust-playback-speed = Adjust Playback Speed (1 = slowest, 5 = fastest)\nshared-calculator-text-keyboard-shortcut-announce-slider-animations = Announce Active Slider Animations\nshared-calculator-text-keyboard-shortcut-beginning-of-block = Beginning of Current Block\nshared-calculator-text-keyboard-shortcut-beginning-of-expression = Beginning of Current Expression\nshared-calculator-text-keyboard-shortcut-close-a-dialog = Close a Dialog (like this one!)\nshared-calculator-text-keyboard-shortcut-collapse-all-folders = Collapse All Folders\nshared-calculator-text-keyboard-shortcut-collapse-folder = Collapse Selected Folder\nshared-calculator-text-keyboard-shortcut-decrease-volume = Decrease Volume\nshared-calculator-text-keyboard-shortcut-decrease-x = Decrease X\nshared-calculator-text-keyboard-shortcut-decrease-x-larger = Decrease X by Larger Amount\nshared-calculator-text-keyboard-shortcut-decrease-y = Decrease Y\nshared-calculator-text-keyboard-shortcut-decrease-y-larger = Decrease Y by Larger Amount\nshared-calculator-text-keyboard-shortcut-delete-expression = Delete the Focused Expression\nshared-calculator-text-keyboard-shortcut-delete-selection = Delete Selection\nshared-calculator-text-keyboard-shortcut-end-of-block = End of Current Block\nshared-calculator-text-keyboard-shortcut-end-of-expression = End of Current Expression\nshared-calculator-text-keyboard-shortcut-exit-block = Exit Current Block\nshared-calculator-text-keyboard-shortcut-expand-all-folders = Expand ALL Folders\nshared-calculator-text-keyboard-shortcut-expand-folder = Expand Selected Folder\nshared-calculator-text-keyboard-shortcut-first-point = First Point\nshared-calculator-text-keyboard-shortcut-focus-expression-list = Focus the Expression List\nshared-calculator-text-keyboard-shortcut-focus-first-interactive-point = Focus First Interactive Point On Screen\nshared-calculator-text-keyboard-shortcut-hear-graph = Hear Graph\nshared-calculator-text-keyboard-shortcut-hear-specific-branch = Hear Only Branch 1 Through 10\nshared-calculator-text-keyboard-shortcut-increase-selection-left = Increase Selection Left\nshared-calculator-text-keyboard-shortcut-increase-selection-right = Increase Selection Right\nshared-calculator-text-keyboard-shortcut-increase-volume = Increase Volume\nshared-calculator-text-keyboard-shortcut-increase-x = Increase X\nshared-calculator-text-keyboard-shortcut-increase-x-larger = Increase X by Larger Amount\nshared-calculator-text-keyboard-shortcut-increase-y = Increase Y\nshared-calculator-text-keyboard-shortcut-increase-y-larger = Increase Y by Larger Amount\nshared-calculator-text-keyboard-shortcut-last-point = Last Point\nshared-calculator-text-keyboard-shortcut-move-to-denominator = Move to Denominator Within Fraction\nshared-calculator-text-keyboard-shortcut-move-to-numerator = Move to Numerator Within Fraction\nshared-calculator-text-keyboard-shortcut-move-to-origin = Move to Origin\nshared-calculator-text-keyboard-shortcut-nemeth-mode = Switch to Nemeth\nshared-calculator-text-keyboard-shortcut-next-character = Next Character\nshared-calculator-text-keyboard-shortcut-next-curve = Move to Next Curve\nshared-calculator-text-keyboard-shortcut-next-expression = Move to Next Expression\nshared-calculator-text-keyboard-shortcut-next-interactive-point = Go to Next Interactive Point\nshared-calculator-text-keyboard-shortcut-next-poi = Next Point of Interest\nshared-calculator-text-keyboard-shortcut-next-point = Next Point\nshared-calculator-text-keyboard-shortcut-open-a-graph = Open a Graph\nshared-calculator-text-keyboard-shortcut-open-expression-options = Open Options for the Focused Expression\nshared-calculator-text-keyboard-shortcut-previous-character = Previous Character\nshared-calculator-text-keyboard-shortcut-previous-curve = Move to Previous Curve\nshared-calculator-text-keyboard-shortcut-previous-expression = Move to Previous Expression\nshared-calculator-text-keyboard-shortcut-previous-interactive-point = Go to Previous Interactive Point\nshared-calculator-text-keyboard-shortcut-previous-poi = Previous Point of Interest\nshared-calculator-text-keyboard-shortcut-previous-point = Previous Point\nshared-calculator-text-keyboard-shortcut-print-a-graph = Print a Graph\nshared-calculator-text-keyboard-shortcut-print-mode = Switch to Print\nshared-calculator-text-keyboard-shortcut-redo = Redo\nshared-calculator-text-keyboard-shortcut-remove-empty-expression = Remove Selected Empty Expression\nshared-calculator-text-keyboard-shortcut-save-a-graph = Save a Graph\nshared-calculator-text-keyboard-shortcut-select-all = Select All\nshared-calculator-text-keyboard-shortcut-show-answer-as-decimal-or-fraction = Show Answer as Decimal or Fraction\nshared-calculator-text-keyboard-shortcut-show-or-hide-expression-list = Show or Hide the Expression List\nshared-calculator-text-keyboard-shortcut-slider-decrease = Decrease Value\nshared-calculator-text-keyboard-shortcut-slider-decrease-larger = Decrease Value by Larger Increment\nshared-calculator-text-keyboard-shortcut-slider-increase = Increase Value\nshared-calculator-text-keyboard-shortcut-slider-increase-larger = Increase Value by Larger Increment\nshared-calculator-text-keyboard-shortcut-slider-maximum = Highest Value\nshared-calculator-text-keyboard-shortcut-slider-minimum = Lowest Value\nshared-calculator-text-keyboard-shortcut-slider-trace-decrease = Decrease Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-decrease-larger = Decrease Value of Selected Slider by Larger Increment When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-increase = Increase Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-increase-larger = Increase Value of Selected Slider by Larger Increment When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-maximum = Move to Highest Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-minimum = Move to Lowest Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-next-slider = Select Next Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-previous-slider = Select Previous Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-speak-answer = Speak Answer\nshared-calculator-text-keyboard-shortcut-speak-branch = Speak Branch\nshared-calculator-text-keyboard-shortcut-speak-color = Speak Color\nshared-calculator-text-keyboard-shortcut-speak-focused-block = Speak Focused Block\nshared-calculator-text-keyboard-shortcut-speak-label = Speak Label\nshared-calculator-text-keyboard-shortcut-speak-left-adjacent-block = Speak Left-Adjacent Block\nshared-calculator-text-keyboard-shortcut-speak-parent-block = Speak Parent Block\nshared-calculator-text-keyboard-shortcut-speak-poi-count = Speak Point of Interest Count\nshared-calculator-text-keyboard-shortcut-speak-point-type = Speak Type of Selected Point\nshared-calculator-text-keyboard-shortcut-speak-right-adjacent-block = Speak Right-Adjacent Block\nshared-calculator-text-keyboard-shortcut-speak-selection = Speak Selection\nshared-calculator-text-keyboard-shortcut-speak-x = Speak X Coordinate\nshared-calculator-text-keyboard-shortcut-speak-y = Speak Y Coordinate\nshared-calculator-text-keyboard-shortcut-summarize-graph = Summarize Graph\nshared-calculator-text-keyboard-shortcut-table-first-column = First Column in Row\nshared-calculator-text-keyboard-shortcut-table-first-row = First Row in Column\nshared-calculator-text-keyboard-shortcut-table-last-column = Last Column in Row\nshared-calculator-text-keyboard-shortcut-table-last-row = Last Row in Column\nshared-calculator-text-keyboard-shortcut-table-next-cell = Next Cell\nshared-calculator-text-keyboard-shortcut-table-next-column = Next Column\nshared-calculator-text-keyboard-shortcut-table-next-row = Next Row\nshared-calculator-text-keyboard-shortcut-table-previous-cell = Previous Cell\nshared-calculator-text-keyboard-shortcut-table-previous-column = Previous Column\nshared-calculator-text-keyboard-shortcut-table-previous-row = Previous Row\nshared-calculator-text-keyboard-shortcut-table-speak-column-header = Speak Column Header\nshared-calculator-text-keyboard-shortcut-toggle-account-menu = Open or Close the Account Menu\nshared-calculator-text-keyboard-shortcut-toggle-audio-trace = Enable or Disable Audio Trace Mode\nshared-calculator-text-keyboard-shortcut-toggle-braille-typing = Turn Braille Typing On or Off\nshared-calculator-text-keyboard-shortcut-toggle-edit-list-mode = Turn Edit List Mode On or Off\nshared-calculator-text-keyboard-shortcut-toggle-graph-settings-menu = Open or Close the Graph Settings Menu\nshared-calculator-text-keyboard-shortcut-toggle-help-menu = Open or Close the Help Menu\nshared-calculator-text-keyboard-shortcut-toggle-language-menu = Open or Close the Language Menu\nshared-calculator-text-keyboard-shortcut-toggle-share-menu = Open or Close the Share Menu\nshared-calculator-text-keyboard-shortcut-toggle-slider-trace = Toggle Slider Trace Mode\nshared-calculator-text-keyboard-shortcut-ueb-mode = Switch to UEB\nshared-calculator-text-keyboard-shortcut-undo = Undo\nshared-calculator-text-keyboard-shortcut-usually = usually\nshared-label-email = Email\nshared-label-family-name = Last Name (optional)\nshared-label-given-name-or-nickname = First Name or Nickname\nshared-label-name = Name\nshared-label-name-or-nickname = Name or Nickname\nshared-label-new-email-address = New Email Address\nshared-label-password = Password\nshared-message-account-reactivated = You previously requested to delete your account, but because you logged back in within 30 days, we will not delete your account. Welcome back!\nshared-message-change-password-email-sent = We will send a link to your email address ({ $emailAddress }) so you can change your password.\nshared-message-check-email-for-delete-link = Please check your email ({ $emailAddress }) for the link to delete your account.\nshared-message-check-email-for-link = Please check { $emailAddress } for the Change Email link.\nshared-message-check-email-for-password-link = Please check your email ({ $emailAddress }) for the link to change your password.\nshared-message-check-email-for-password-recovery-link = Message sent. Please check your email for a password recovery link.\nshared-message-consent-delete-information = If you don't want Desmos to hold onto this information, you may delete your account from the Account Settings menu at any time.\nshared-message-consent-information = When you created your Desmos account, you gave us your name, email address, and password (unless you signed in with Google, in which case you gave us access to the name and email address associated with that account). You also gave us access to your saved work. To continue using your Desmos account, please consent below to the collection of this information.\nshared-message-consent-text = I agree to let Desmos store and maintain the information I provide (e.g. login credentials, saved work) in order to provide and improve its service. To withdraw consent, you may delete your account at any time.\nshared-message-cookie-notice = <1>Note:</1> Desmos uses cookies to enable persistence when you are signed in. If you do not wish to use cookies, please use Desmos without logging in. <2>Learn More.</2>\nshared-message-delete-account-notice = When you delete your account, <1>we will retain your data for 30 days.</1> You can reactivate your account at any time during those 30 days by logging back in. If there's something about Desmos we can improve, please <2>let us know.</2>\nshared-message-delete-account-will-send-email = We will send you a link to your email address ({ $email }) so you can delete your account.\nshared-message-email-sent = Email sent\nshared-message-email-settings-will-send-email = We will send a Change Email link to { $emailAddress }.\nshared-message-google-login-not-available = Google Login is not available on this device.\nshared-message-information-saved = Saved!\nshared-message-or-login-with-desmos = Or log in with Desmos\nshared-message-please-review-name = We tried to split your name into first and last name. Please review your name below and edit any mistakes.\nshared-message-privacy-notice = I have read, understand, and accept the <1>Terms of Service</1> and <2>Privacy Policy</2>{\".\"}\nshared-message-set-new-email-address = Set a new email address and password.\nshared-narration-privacy-policy-agreement = Checkbox to indicate agreement to privacy policy (desmos.com/privacy) and terms of service (desmos.com/terms).\nshared-prompt-already-have-account = Already have a Desmos account?\nshared-prompt-enter-email-for-password-recovery-link = Enter your email address to get a password recovery link.\nshared-prompt-forgot-your-password = Forgot your password?\nshared-prompt-new-to-desmos-sign-up-here = New to Desmos? <1>Sign up</1>{\".\"}\nshared-prompt-new-to-desmos-teacher-or-student = New to Desmos? Sign up as a <1>teacher</1> or <2>student.</2>\nshared-prompt-please-consent-to-sign-up-with-apple = Please consent above to sign up with Apple\nshared-prompt-please-consent-to-sign-up-with-google = Please consent above to sign up with Google\nshared-prompt-sign-up-with-apple = Sign up with Apple\nshared-prompt-sign-up-with-google = Sign up with Google\nshared-title-account-reactivated = Your account has been reactivated.\nshared-title-account-settings = Account Settings\nshared-title-change-email-address = Change your Desmos email address\nshared-title-change-password-narrow = Password\nshared-title-change-password-wide = Change Password\nshared-title-consent = We value your privacy\nshared-title-delete-account = Are you sure you want to delete your account?\nshared-title-email-settings = Email\nshared-title-language-menu = Language\nshared-title-login = Log In\nshared-title-profile-information-narrow = Profile\nshared-title-profile-information-wide = Profile Information\nshared-title-recover-password = Recover Password\nshared-title-signup = Sign-Up\nshared-title-teacher-signup = Teacher Sign-Up\n### Strings for the graphing calculator and other tools\n\n\n### 2476 English words, 736 English strings\n\nbasic-calculator-button-controlbar-abc = abc\nbasic-calculator-button-controlbar-clear = clear\nbasic-calculator-button-controlbar-clear-all = clear all\nbasic-calculator-button-controlbar-func = func\nbasic-calculator-button-controlbar-main = main\nbasic-calculator-button-nemeth = Nemeth\nbasic-calculator-button-turn-braille-mode-off = Turn { $mode } off\nbasic-calculator-button-ueb = UEB\nbasic-calculator-error-fractions-unavailable = Fractions are not available in the current calculator.\nbasic-calculator-heading-braille-table-type-this = Type this\nbasic-calculator-heading-braille-table-typeset = Typeset\nbasic-calculator-heading-page-title-florida = Desmos | Florida Calculator\nbasic-calculator-heading-page-title-four-function = Desmos | 4-Function Calculator\nbasic-calculator-heading-title-scientific = Desmos | Scientific Calculator\nbasic-calculator-label-answer-hint = Your answers show up on this side.\nbasic-calculator-label-braille-mode = Braille Mode\nbasic-calculator-label-controlbar-deg = deg\nbasic-calculator-label-controlbar-rad = rad\nbasic-calculator-label-convert-to-decimal = Convert to decimal.\nbasic-calculator-label-convert-to-fraction = Convert to fraction.\nbasic-calculator-label-reverse-contrast = Reverse Contrast\nbasic-calculator-label-six-key-input = Six Key Braille Input\nbasic-calculator-link-download-braille-equations = Download Braille Equations\nbasic-calculator-link-help = Help\nbasic-calculator-link-privacy-policy = Privacy Policy\nbasic-calculator-link-terms-of-service = Terms of Service\nbasic-calculator-link-view-braille-examples = View more examples\nbasic-calculator-narration-braille-mode = Braille Mode\nbasic-calculator-narration-calc-description-fourfunction = Desmos Four-Function Calculator\nbasic-calculator-narration-calc-description-scientific = Desmos Scientific Calculator\nbasic-calculator-narration-controlbar-abc = A B C\nbasic-calculator-narration-controlbar-backspace = backspace\nbasic-calculator-narration-controlbar-clear = clear\nbasic-calculator-narration-controlbar-clear-all = clear all\nbasic-calculator-narration-controlbar-degrees = Degrees\nbasic-calculator-narration-controlbar-functions = Functions\nbasic-calculator-narration-controlbar-main = main\nbasic-calculator-narration-controlbar-radians = Radians\nbasic-calculator-narration-controlbar-redo = Redo\nbasic-calculator-narration-controlbar-settings = settings\nbasic-calculator-narration-controlbar-undo = Undo\nbasic-calculator-narration-convert-to-decimal = Displaying as fraction. Press Enter to display as Decimal\nbasic-calculator-narration-convert-to-fraction = Displaying as decimal. Press Enter to display as Fraction\nbasic-calculator-narration-expression-list = Expression List\nbasic-calculator-narration-hotkey-braille-off = Braille mode off\nbasic-calculator-narration-hotkey-nemeth = Braille mode Nemeth\nbasic-calculator-narration-hotkey-six-key-input-off = Six Key Braille Input off\nbasic-calculator-narration-hotkey-six-key-input-on = Six Key Braille Input on\nbasic-calculator-narration-hotkey-ueb = Braille mode UEB\nbasic-calculator-narration-keypad = keypad\nbasic-calculator-narration-nemeth = Nemeth\nbasic-calculator-narration-reverse-contrast = Reverse Contrast\nbasic-calculator-narration-six-key-input = Six Key Braille Input\nbasic-calculator-narration-ueb = UEB\nbasic-calculator-text-4fn-page-description = A beautiful, free 4-Function Calculator from Desmos.com.\nbasic-calculator-text-braille-mode-is-on = { $mode } is on!\nbasic-calculator-text-how-to-type-braille = Use a Refreshable Braille display, or just type Braille with a keyboard.\nbasic-calculator-text-scientific-page-description = A beautiful, free online scientific calculator with advanced features for evaluating percentages, fractions, exponential functions, logarithms, trigonometry, statistics, and more.\ngeometry-label-example-construction-centroid = Centroid\ngeometry-label-example-construction-circumcenter = Circumcenter\ngeometry-label-example-construction-equilateral-triangle = Equilateral Triangle\ngeometry-label-example-construction-orthocenter = Orthocenter\ngeometry-label-example-construction-perpendicular-bisector = Perpendicular Bisector\ngeometry-label-example-construction-pythagorean-theorem = Pythagorean Theorem\ngraphing-calculator-button-audio-trace-describe-curve = Describe Curve\ngraphing-calculator-button-audio-trace-describe-curve-short = Curve\ngraphing-calculator-button-audio-trace-describe-point = Describe Point\ngraphing-calculator-button-audio-trace-describe-point-short = Point\ngraphing-calculator-button-audio-trace-hear-graph = Hear Graph\ngraphing-calculator-button-audio-trace-stop-graph = Stop Graph\ngraphing-calculator-button-change-image = Change Image\ngraphing-calculator-button-clear-graph = Delete All\ngraphing-calculator-button-done = Done\ngraphing-calculator-button-draggable = Draggable\ngraphing-calculator-button-edit-graph-on-desmos-logo = edit graph on\ngraphing-calculator-button-editable-math = Editable Math\ngraphing-calculator-button-editable-text = Editable Text\ngraphing-calculator-button-find-cdf = Find Cumulative Probability (CDF)\ngraphing-calculator-button-funcs = funcs\ngraphing-calculator-button-functions = functions\ngraphing-calculator-button-functions-menu-number-theory = Number Theory\ngraphing-calculator-button-functions-menu-special-characters = Special Characters\ngraphing-calculator-button-hide-folder-from-students = Hide this folder from students\ngraphing-calculator-button-hide-folder-from-students-2 = Hide this folder from students.\ngraphing-calculator-button-keypad-audio-trace-off = Audio Trace Off\ngraphing-calculator-button-keypad-describe-curve = Describe Curve\ngraphing-calculator-button-keypad-describe-point = Describe Point\ngraphing-calculator-button-label = Label\ngraphing-calculator-button-label-editable = Editable\ngraphing-calculator-button-label-show-on-hover = Show on hover\ngraphing-calculator-button-label-text-outline = Text outline\ngraphing-calculator-button-load-image-retry = Retry.\ngraphing-calculator-button-place-image-behind-graphs = Place behind graphs\ngraphing-calculator-button-regression-log-mode = Log Mode\ngraphing-calculator-button-regression-plot-residuals = plot\ngraphing-calculator-button-reset-graph = Reset\ngraphing-calculator-button-settings-braille-mode-nemeth = Nemeth\ngraphing-calculator-button-settings-braille-mode-ueb = UEB\ngraphing-calculator-button-settings-degrees = Degrees\ngraphing-calculator-button-settings-radians = Radians\ngraphing-calculator-button-settings-zoom-square = Zoom Square\ngraphing-calculator-button-share-graph-link-copy = Copy\ngraphing-calculator-button-show-all-table-rows = Show all\ngraphing-calculator-button-slider-add-all-variables = all\ngraphing-calculator-button-visual-parameters-binned = Binned\ngraphing-calculator-button-visual-parameters-center = Center\ngraphing-calculator-button-visual-parameters-count = Count\ngraphing-calculator-button-visual-parameters-density = Density\ngraphing-calculator-button-visual-parameters-exact = Exact\ngraphing-calculator-button-visual-parameters-exclude-outliers = Exclude Outliers\ngraphing-calculator-button-visual-parameters-left = Left\ngraphing-calculator-button-visual-parameters-relative = Relative\ngraphing-calculator-error-equation-contains-unresolved-details = This equation contains fine detail that has not been fully resolved.\ngraphing-calculator-error-failed-to-load-image = Failed to load image.\ngraphing-calculator-error-image-invalid-angle = Invalid angle. Try using any number.\ngraphing-calculator-error-image-invalid-center = Invalid center. Try, for example, (0,0).\ngraphing-calculator-error-image-invalid-file = The file \"{ $file }\" is not an image\ngraphing-calculator-error-image-invalid-height = Invalid height. Try using any number.\ngraphing-calculator-error-image-invalid-opacity = Invalid opacity. Try using any number.\ngraphing-calculator-error-image-invalid-width = Invalid width. Try using any number.\ngraphing-calculator-heading-advanced = Advanced\ngraphing-calculator-heading-audio-trace-describe = Describe\ngraphing-calculator-heading-audio-trace-navigation = Navigation\ngraphing-calculator-heading-audio-trace-screen-reader = Screen Reader\ngraphing-calculator-heading-calculus = Calculus\ngraphing-calculator-heading-clickable = Clickable\ngraphing-calculator-heading-dist-tab-distributions = Distributions\ngraphing-calculator-heading-dist-tab-visualizations = Visualizations\ngraphing-calculator-heading-drag = Drag\ngraphing-calculator-heading-fill = Fill\ngraphing-calculator-heading-geometry = Geometry\ngraphing-calculator-heading-hyperbolic-trig = Hyperbolic Trig Functions\ngraphing-calculator-heading-image-opacity = Opacity\ngraphing-calculator-heading-inverse-trig = Inverse Trig Functions\ngraphing-calculator-heading-keypad-audio-trace-point-of-interest = <1>Point</1><2>of Interest</2>\ngraphing-calculator-heading-label = Label\ngraphing-calculator-heading-label-orientation = Orientation\ngraphing-calculator-heading-lines = Lines\ngraphing-calculator-heading-lists = List Operations\ngraphing-calculator-heading-mygraphs-examples = Examples\ngraphing-calculator-heading-on-every-update = On Every Update:\ngraphing-calculator-heading-points = Points\ngraphing-calculator-heading-regression-parameters = Parameters\ngraphing-calculator-heading-regression-residuals = Residuals\ngraphing-calculator-heading-regression-statistics = Statistics\ngraphing-calculator-heading-slider-animation-mode = Animation Mode\ngraphing-calculator-heading-slider-speed = Speed\ngraphing-calculator-heading-stat-tests = Statistical Tests\ngraphing-calculator-heading-stats = Statistics\ngraphing-calculator-heading-style = Style\ngraphing-calculator-heading-title = Graphing Calculator\ngraphing-calculator-heading-title-desmos = Desmos | Graphing Calculator\ngraphing-calculator-heading-title-untitled = Untitled Graph\ngraphing-calculator-heading-trig = Trig Functions\ngraphing-calculator-heading-visual-parameters-bar-heights = Bar Heights\ngraphing-calculator-heading-visual-parameters-bin-alignment = Bin Alignment\ngraphing-calculator-heading-visual-parameters-display-properties = Display Properties\ngraphing-calculator-heading-visual-parameters-x-values = X Values\ngraphing-calculator-label-add-depressed-image-tooltip = Add Depressed Image\ngraphing-calculator-label-add-hovered-image-tooltip = Add Hovered Image\ngraphing-calculator-label-add-item-tooltip = Add Item\ngraphing-calculator-label-add-slider = add slider:\ngraphing-calculator-label-angle-tooltip = Angle\ngraphing-calculator-label-animation-properties-tooltip = Animation Properties\ngraphing-calculator-label-audio-trace-curve = Curve\ngraphing-calculator-label-audio-trace-need-screen-reader = Your Screen Reader needs to be on to hear these.\ngraphing-calculator-label-audio-trace-point = Point\ngraphing-calculator-label-audio-trace-speed = Speed\ngraphing-calculator-label-audio-trace-volume = Volume\ngraphing-calculator-label-braille-size-etc11 = ETC Romeo/Juliet (11.5 x 11 in)\ngraphing-calculator-label-braille-size-etc8 = ETC Romeo/Juliet (8.5 x 11 in)\ngraphing-calculator-label-braille-size-vpmax11 = VP Max (11.5 x 11 in)\ngraphing-calculator-label-braille-size-vpmax8 = VP Max (8.5 x 11 in)\ngraphing-calculator-label-cdf-maximum = Max:\ngraphing-calculator-label-cdf-minimum = Min:\ngraphing-calculator-label-change-depressed-image-tooltip = Change Depressed Image\ngraphing-calculator-label-change-hovered-image-tooltip = Change Hovered Image\ngraphing-calculator-label-convert-to-table-tooltip = Convert to Table\ngraphing-calculator-label-depressed = Depressed\ngraphing-calculator-label-drop-image-here = Drop Image Here\ngraphing-calculator-label-duplicate-expression-tooltip = Duplicate\ngraphing-calculator-label-edit-list-tooltip = Edit List\ngraphing-calculator-label-evaluation-list = { $count } element list\ngraphing-calculator-label-example-graph-3d-world = 3D World\ngraphing-calculator-label-example-graph-calculus-derivatives = Calculus: Derivatives\ngraphing-calculator-label-example-graph-calculus-fundamental-theorem-of-calculus = Calculus: Fundamental Theorem of Calculus\ngraphing-calculator-label-example-graph-calculus-integral-with-adjustable-bounds = Calculus: Integral with adjustable bounds\ngraphing-calculator-label-example-graph-calculus-integrals = Calculus: Integrals\ngraphing-calculator-label-example-graph-calculus-secant-line = Calculus: Secant Line\ngraphing-calculator-label-example-graph-calculus-tangent-line = Calculus: Tangent Line\ngraphing-calculator-label-example-graph-calculus-taylor-expansion-of-sin-x = Calculus: Taylor Expansion of sin(x)\ngraphing-calculator-label-example-graph-checkerboard-inversion = Checkerboard Inversion\ngraphing-calculator-label-example-graph-conic-sections-circle = Conic Sections: Circle\ngraphing-calculator-label-example-graph-conic-sections-ellipse-with-foci = Conic Sections: Ellipse with Foci\ngraphing-calculator-label-example-graph-conic-sections-hyperbola = Conic Sections: Hyperbola\ngraphing-calculator-label-example-graph-conic-sections-parabola-and-focus = Conic Sections: Parabola and Focus\ngraphing-calculator-label-example-graph-fastest-path-to-a-point = Fastest Path to a Point\ngraphing-calculator-label-example-graph-fireworks = Fireworks!\ngraphing-calculator-label-example-graph-fractal-valentine = Fractal Valentine\ngraphing-calculator-label-example-graph-lines-point-slope-form = Lines: Point Slope Form\ngraphing-calculator-label-example-graph-lines-slope-intercept-form = Lines: Slope Intercept Form\ngraphing-calculator-label-example-graph-lines-two-point-form = Lines: Two Point Form\ngraphing-calculator-label-example-graph-lists-curve-stitching = Lists: Curve Stitching\ngraphing-calculator-label-example-graph-lists-family-of-sin-curves = Lists: Family of sin Curves\ngraphing-calculator-label-example-graph-lists-plotting-a-list-of-points = Lists: Plotting a List of Points\ngraphing-calculator-label-example-graph-outstretched-arm = Outstretched Arm\ngraphing-calculator-label-example-graph-pac-man = Pac Man\ngraphing-calculator-label-example-graph-parabolas-standard-form = Parabolas: Standard Form\ngraphing-calculator-label-example-graph-parabolas-standard-form-plus-tangent = Parabolas: Standard Form + Tangent\ngraphing-calculator-label-example-graph-parabolas-vertex-form = Parabolas: Vertex Form\ngraphing-calculator-label-example-graph-parametric-cycloid = Parametric: Cycloid\ngraphing-calculator-label-example-graph-parametric-introduction = Parametric: Introduction\ngraphing-calculator-label-example-graph-polar-conic-sections = Polar: Conic Sections\ngraphing-calculator-label-example-graph-polar-limacon = Polar: Limacon\ngraphing-calculator-label-example-graph-polar-logarithmic-spiral = Polar: Logarithmic Spiral\ngraphing-calculator-label-example-graph-polar-rose = Polar: Rose\ngraphing-calculator-label-example-graph-pride-flag = PRIDE flag\ngraphing-calculator-label-example-graph-regular-sine-wave = Regular Sine Wave?\ngraphing-calculator-label-example-graph-stats-anscombes-quartet = Statistics: Anscombe's Quartet\ngraphing-calculator-label-example-graph-stats-fourth-order-polynomial = Statistics: 4th Order Polynomial\ngraphing-calculator-label-example-graph-stats-linear-regression = Statistics: Linear Regression\ngraphing-calculator-label-example-graph-transformations-inverse-of-a-function = Transformations: Inverse of a Function\ngraphing-calculator-label-example-graph-transformations-scaling-a-function = Transformations: Scaling a Function\ngraphing-calculator-label-example-graph-transformations-translating-a-function = Transformations: Translating a Function\ngraphing-calculator-label-example-graph-trig-period-and-amplitude = Trigonometry: Period and Amplitude\ngraphing-calculator-label-example-graph-trig-phase = Trigonometry: Phase\ngraphing-calculator-label-example-graph-trig-unit-circle = Trigonometry: Unit Circle\ngraphing-calculator-label-example-graph-trig-wave-interference = Trigonometry: Wave Interference\ngraphing-calculator-label-expression = Expression\ngraphing-calculator-label-expression-delete-tooltip = Delete\ngraphing-calculator-label-expression-lowercase = expression\ngraphing-calculator-label-folder-lowercase = folder\ngraphing-calculator-label-hide-expression-list-tooltip = Hide Expression List\ngraphing-calculator-label-hide-keypad = Hide Keypad\ngraphing-calculator-label-hovered = Hovered\ngraphing-calculator-label-image-angle = Angle:\ngraphing-calculator-label-image-center = Center:\ngraphing-calculator-label-image-height = Height:\ngraphing-calculator-label-image-lowercase = image\ngraphing-calculator-label-image-opacity = Opacity:\ngraphing-calculator-label-image-width = Width:\ngraphing-calculator-label-label-size-tooltip = Label Scale Factor\ngraphing-calculator-label-line-thickness-tooltip = Line Thickness (px)\ngraphing-calculator-label-list-index = Use <1>index</1> to reference the clicked index in the list.\ngraphing-calculator-label-note-lowercase = note\ngraphing-calculator-label-opacity-tooltip = Opacity (0 to 1)\ngraphing-calculator-label-open-graph-tooltip = Open Graph (ctrl+o)\ngraphing-calculator-label-poi-unknown = unknown coordinates\ngraphing-calculator-label-point-size-tooltip = Point Size (px)\ngraphing-calculator-label-powered-by = powered by\ngraphing-calculator-label-randomize-tooltip = Randomize\ngraphing-calculator-label-redo-tooltip = Redo (ctrl+y)\ngraphing-calculator-label-regression-log-mode-help-tooltip = Log mode help\ngraphing-calculator-label-regression-parameters-not-exact = Parameters might not be exact. Click to learn more.\ngraphing-calculator-label-regression-what-is-rmse-tooltip = What is RMSE? Click to learn more.\ngraphing-calculator-label-regression-why-is-negative-tooltip = Why is this negative? Click to learn more.\ngraphing-calculator-label-remove-depressed-image = Remove depressed image\ngraphing-calculator-label-remove-hovered-image = Remove hovered image\ngraphing-calculator-label-search-expressions = Search this graph\ngraphing-calculator-label-settings-add-label = add a label\ngraphing-calculator-label-settings-arrows = Arrows\ngraphing-calculator-label-settings-axis-numbers = Axis Numbers\ngraphing-calculator-label-settings-braille-mode = Braille Mode\ngraphing-calculator-label-settings-grid = Grid\ngraphing-calculator-label-settings-minor-gridlines = Minor Gridlines\ngraphing-calculator-label-settings-reverse-contrast = Reverse Contrast\ngraphing-calculator-label-settings-six-key-braille = Six Key Braille Input\ngraphing-calculator-label-settings-step = Step:\ngraphing-calculator-label-settings-x-axis = X-Axis\ngraphing-calculator-label-settings-y-axis = Y-Axis\ngraphing-calculator-label-show-keypad = Show Keypad\ngraphing-calculator-label-slider-disabled-while-ticker-playing = Sliders are disabled while the ticker is running.\ngraphing-calculator-label-slider-step = Step:\ngraphing-calculator-label-table-lowercase = table\ngraphing-calculator-label-ticker-close = cancel\ngraphing-calculator-label-ticker-help-tooltip = On slow computers, this might run slower. Use local variable \"dt\" to capture the actual update speed.\ngraphing-calculator-label-ticker-lowercase = ticker\ngraphing-calculator-label-ticker-min-step = Min Step Time\ngraphing-calculator-label-ticker-pause = pause\ngraphing-calculator-label-ticker-play = play\ngraphing-calculator-label-tooltip-graph-settings = Graph Settings\ngraphing-calculator-label-tooltip-open-graph = Open Graph\ngraphing-calculator-label-tooltip-reset = Reset\ngraphing-calculator-label-tooltip-show-list = Show List\ngraphing-calculator-label-tooltip-zoom-default = Default Zoom\ngraphing-calculator-label-tooltip-zoom-in = Zoom In\ngraphing-calculator-label-tooltip-zoom-out = Zoom Out\ngraphing-calculator-label-undo-tooltip = Undo (ctrl+z)\ngraphing-calculator-label-update-on-click = On click:\ngraphing-calculator-link-audio-trace-keyboard-shortcuts = Keyboard Shortcuts\ngraphing-calculator-link-audio-trace-shortcuts = Shortcuts\ngraphing-calculator-link-edit-on-desmos = edit graph on\ngraphing-calculator-link-learn-more = Learn more.\ngraphing-calculator-link-view-braille-examples = View examples\ngraphing-calculator-narration-add-expression = Add expression\ngraphing-calculator-narration-add-folder = Add folder\ngraphing-calculator-narration-add-image = Add image\ngraphing-calculator-narration-add-item-menu = Add Item Menu\ngraphing-calculator-narration-add-note = Add note\ngraphing-calculator-narration-add-slider-prompt = Add slider for { $vars }\ngraphing-calculator-narration-add-table = Add table\ngraphing-calculator-narration-add-ticker = Add Ticker\ngraphing-calculator-narration-all-folders-collapsed = all folders collapsed\ngraphing-calculator-narration-all-folders-expanded = all folders expanded\ngraphing-calculator-narration-audio-instructions-enter-audio-trace-mac = Press OPTION+T for audio trace.\ngraphing-calculator-narration-audio-instructions-enter-audio-trace-windows = Press ALT+T for audio trace.\ngraphing-calculator-narration-audio-trace-branch-not-found = Branch { $branch } does not exist.\ngraphing-calculator-narration-audio-trace-cannot-change-slider-value = Unable to adjust slider\ngraphing-calculator-narration-audio-trace-description-branch-count = Branches: { $branches }.\ngraphing-calculator-narration-audio-trace-description-color = Color: { $color }.\ngraphing-calculator-narration-audio-trace-description-multiple-extrema = { $count } extrema.\ngraphing-calculator-narration-audio-trace-description-multiple-intercepts = { $count } intercepts.\ngraphing-calculator-narration-audio-trace-description-multiple-intersections = { $count } intersections.\ngraphing-calculator-narration-audio-trace-description-multiple-labels = { $count } point labels.\ngraphing-calculator-narration-audio-trace-description-multiple-roots = { $count } zero crossings.\ngraphing-calculator-narration-audio-trace-description-one-extremum = 1 extremum.\ngraphing-calculator-narration-audio-trace-description-one-intercept = 1 intercept.\ngraphing-calculator-narration-audio-trace-description-one-intersection = 1 intersection.\ngraphing-calculator-narration-audio-trace-description-one-label = 1 point label.\ngraphing-calculator-narration-audio-trace-description-one-root = 1 zero crossing.\ngraphing-calculator-narration-audio-trace-description-shading-above = Shading above.\ngraphing-calculator-narration-audio-trace-description-shading-below = Shading below.\ngraphing-calculator-narration-audio-trace-description-shading-in-regions = Shading in regions.\ngraphing-calculator-narration-audio-trace-description-shading-left = Shading on the left.\ngraphing-calculator-narration-audio-trace-description-shading-right = Shading on the right.\ngraphing-calculator-narration-audio-trace-description-unavailable = No information available.\ngraphing-calculator-narration-audio-trace-expression-with-column = Expression { $index } column { $column }\ngraphing-calculator-narration-audio-trace-first-point = First point\ngraphing-calculator-narration-audio-trace-first-slider = First slider.\ngraphing-calculator-narration-audio-trace-instructions-disable-mac = To disable audio trace, press OPTION+T.\ngraphing-calculator-narration-audio-trace-instructions-disable-windows = To disable audio trace, press ALT+T.\ngraphing-calculator-narration-audio-trace-instructions-expression-navigation-mac = To move between expressions, press COMMAND+Up-Arrow or COMMAND+Down-Arrow.\ngraphing-calculator-narration-audio-trace-instructions-expression-navigation-windows = To move between expressions, press ALT+Up-Arrow or ALT+Down-Arrow.\ngraphing-calculator-narration-audio-trace-instructions-hear-graph = To hear the graph, press H.\ngraphing-calculator-narration-audio-trace-instructions-use-arrow-keys = Use Arrow keys to navigate.\ngraphing-calculator-narration-audio-trace-last-point = Last point\ngraphing-calculator-narration-audio-trace-last-slider = Last slider.\ngraphing-calculator-narration-audio-trace-multiple-sliders-paused = { $sliders } animating sliders were paused.\ngraphing-calculator-narration-audio-trace-no-graph-selected = No graph selected.\ngraphing-calculator-narration-audio-trace-no-more-pois = No more points of interest\ngraphing-calculator-narration-audio-trace-no-sliders-paused = No animating sliders were paused.\ngraphing-calculator-narration-audio-trace-one-slider-paused = One animating slider was paused.\ngraphing-calculator-narration-audio-trace-playback-speed = Graph playback speed { $speed }\ngraphing-calculator-narration-audio-trace-poi-count = Points of interest, { $x }.\ngraphing-calculator-narration-audio-trace-point-type-definition = Definition\ngraphing-calculator-narration-audio-trace-point-type-extremum = Extremum\ngraphing-calculator-narration-audio-trace-point-type-intercept = Intercept\ngraphing-calculator-narration-audio-trace-point-type-intersection = Intersection\ngraphing-calculator-narration-audio-trace-point-type-intersection-with-curves = Intersection with { $curves }\ngraphing-calculator-narration-audio-trace-point-type-label = Label\ngraphing-calculator-narration-audio-trace-point-type-not-a-poi = Not a P O I\ngraphing-calculator-narration-audio-trace-point-type-root = Zero\ngraphing-calculator-narration-audio-trace-point-type-trace = Trace\ngraphing-calculator-narration-audio-trace-property-branch-number = Branch { $branch }.\ngraphing-calculator-narration-audio-trace-property-type-before-coordinates = { $type } at\ngraphing-calculator-narration-audio-trace-property-x = X: { $x }.\ngraphing-calculator-narration-audio-trace-property-y = Y: { $y }.\ngraphing-calculator-narration-audio-trace-secret-expression = Secret expression { $index }\ngraphing-calculator-narration-audio-trace-slider-value-unknown = Unable to determine slider value\ngraphing-calculator-narration-audio-trace-sound-effects-disabled = Sound effects have been disabled.\ngraphing-calculator-narration-audio-trace-tracing-different-expression = Tracing { $expression }.\ngraphing-calculator-narration-audio-trace-unable-to-play = Unable to play audio.\ngraphing-calculator-narration-audio-trace-unable-to-trace-this-expression = Unable to audio trace this expression.\ngraphing-calculator-narration-audio-trace-unsupported-expression = { $expression } cannot be audio traced.\ngraphing-calculator-narration-audio-trace-volume = Volume { $volume } percent\ngraphing-calculator-narration-cdf-maximum = Max\ngraphing-calculator-narration-cdf-minimum = Min\ngraphing-calculator-narration-click-action = Click Action\ngraphing-calculator-narration-clickable-image-options = Clickable Image Options\ngraphing-calculator-narration-clickable-object-description = clickable object\ngraphing-calculator-narration-collapse-folder = Collapse Folder\ngraphing-calculator-narration-color-unknown = unknown\ngraphing-calculator-narration-description-collapsed-folder = Collapsed Folder\ngraphing-calculator-narration-description-collapsed-secret-folder = Collapsed Secret Folder\ngraphing-calculator-narration-description-folder = Folder\ngraphing-calculator-narration-description-hidden-collapsed-folder = Hidden Collapsed Folder\ngraphing-calculator-narration-description-hidden-collapsed-secret-folder = Hidden Collapsed Secret Folder\ngraphing-calculator-narration-description-hidden-folder = Hidden Folder\ngraphing-calculator-narration-description-hidden-secret-folder = Hidden Secret Folder\ngraphing-calculator-narration-description-secret-folder = Secret Folder\ngraphing-calculator-narration-dist-tab-distributions = Distributions\ngraphing-calculator-narration-dist-tab-visualizations = Visualizations\ngraphing-calculator-narration-domain-maximum = domain Maximum:\ngraphing-calculator-narration-domain-minimum = domain Minimum:\ngraphing-calculator-narration-drag-mode-x = X\ngraphing-calculator-narration-drag-mode-xy = X and Y\ngraphing-calculator-narration-drag-mode-y = Y\ngraphing-calculator-narration-draggable-image-description = draggable image\ngraphing-calculator-narration-draggable-image-off-screen-prompt = { \" \" }not completely visible on screen\ngraphing-calculator-narration-draggable-label-description = draggable label\ngraphing-calculator-narration-edit-action = Edit Action\ngraphing-calculator-narration-edit-expression-list = Edit Expression List\ngraphing-calculator-narration-edit-graph-on-desmos = Edit graph on Desmos\ngraphing-calculator-narration-edit-list-mode-off = Edit list mode off.\ngraphing-calculator-narration-edit-list-mode-on = Edit list mode on.\ngraphing-calculator-narration-edit-on-desmos = Edit graph on Desmos\ngraphing-calculator-narration-edit-slider-variable-limits = Edit { $variable } Limits\ngraphing-calculator-narration-editable-label-mode-editable-math = Editable label mode: Editable Math\ngraphing-calculator-narration-editable-label-mode-editable-text = Editable label mode: Editable Text\ngraphing-calculator-narration-editable-point-label-at-coordinates = Editable point label at { $coordinates }\ngraphing-calculator-narration-empty-graphpaper = Empty graph paper.\ngraphing-calculator-narration-expression-audio-trace-mac = To audio trace, press OPTION+T.\ngraphing-calculator-narration-expression-audio-trace-windows = To audio trace, press ALT+T.\ngraphing-calculator-narration-expression-bar = Expression Bar\ngraphing-calculator-narration-expression-evaluation-has-graph = Has graph.\ngraphing-calculator-narration-expression-evaluation-has-graph-and-regression = Has graph and regression. To access statistics, press Tab.\ngraphing-calculator-narration-expression-evaluation-has-regression = Has regression. To access statistics, press Tab.\ngraphing-calculator-narration-expression-evaluation-is-distribution = is distribution.\ngraphing-calculator-narration-expression-evaluation-is-t-test = is T test. To access statistics, press Tab.\ngraphing-calculator-narration-expression-hidden-label = Hidden { $label }\ngraphing-calculator-narration-expression-index-table = Expression { $index } table\ngraphing-calculator-narration-expression-label = Label\ngraphing-calculator-narration-expression-list = Expression list\ngraphing-calculator-narration-expression-search-results =\n    { $count ->\n        [zero] No results\n        [one] 1 result\n       *[other] { $count } results\n    }\ngraphing-calculator-narration-fill-opacity = Fill Opacity:\ngraphing-calculator-narration-fill-visible = Fill visible\ngraphing-calculator-narration-folder-collapsed = folder collapsed\ngraphing-calculator-narration-folder-expanded = folder expanded\ngraphing-calculator-narration-folder-has-items = { $folder } has { $count } items\ngraphing-calculator-narration-functions = Functions\ngraphing-calculator-narration-graph-settings-controls = Graph Settings Controls\ngraphing-calculator-narration-graphpaper-label = graph paper\ngraphing-calculator-narration-graphpaper-multiple-graphs = Graph paper showing { $count } graphs.\ngraphing-calculator-narration-graphpaper-one-graph = Graph paper showing 1 graph.\ngraphing-calculator-narration-hide-animation-properties = Hide Animation Properties\ngraphing-calculator-narration-hide-expression = Hide Expression\ngraphing-calculator-narration-hide-expression-list = Hide expression list\ngraphing-calculator-narration-hide-folder = Hide Folder\ngraphing-calculator-narration-hide-image = Hide Image\ngraphing-calculator-narration-hide-keypad = Hide Keypad\ngraphing-calculator-narration-hide-options = Hide Options\ngraphing-calculator-narration-hide-table-column = Hide Column\ngraphing-calculator-narration-image-styles = Styles\ngraphing-calculator-narration-keypad-key-next-curve = Next Curve\ngraphing-calculator-narration-keypad-key-next-poi = Next Point of Interest\ngraphing-calculator-narration-keypad-key-next-point = Next Point\ngraphing-calculator-narration-keypad-key-previous-curve = Previous Curve\ngraphing-calculator-narration-keypad-key-previous-poi = Previous Point of Interest\ngraphing-calculator-narration-keypad-key-previous-point = Previous Point\ngraphing-calculator-narration-keypad-key-speed-down = Speed Down\ngraphing-calculator-narration-keypad-key-speed-up = Speed Up\ngraphing-calculator-narration-keypad-key-volume-down = Volume Down\ngraphing-calculator-narration-keypad-key-volume-up = Volume Up\ngraphing-calculator-narration-label-angle = Label Angle:\ngraphing-calculator-narration-label-size = Label Size:\ngraphing-calculator-narration-label-text = Label Text\ngraphing-calculator-narration-label-visible = Label visible\ngraphing-calculator-narration-line-opacity = Line Opacity:\ngraphing-calculator-narration-line-style-dashed = Dashed\ngraphing-calculator-narration-line-style-dotted = Dotted\ngraphing-calculator-narration-line-style-solid = Solid\ngraphing-calculator-narration-lines-visible = Lines visible\ngraphing-calculator-narration-main-desmos-graphing-calculator = Desmos Graphing Calculator\ngraphing-calculator-narration-make-clickable = make clickable\ngraphing-calculator-narration-menu-drag-enabled = Drag Enabled\ngraphing-calculator-narration-movable-point-description = movable point\ngraphing-calculator-narration-movable-point-off-screen-prompt = { \" \" }not visible on screen\ngraphing-calculator-narration-movable-point-prefix = Graph point\ngraphing-calculator-narration-movable-point-suffix-usage-instructions = { \" \" }is movable. Press Arrows or Shift+Arrows to adjust.\ngraphing-calculator-narration-no-interactive-points = No interactive points on screen\ngraphing-calculator-narration-open-graph = Open Graph\ngraphing-calculator-narration-options-menu = Options Menu\ngraphing-calculator-narration-options-menu-closed = Options menu closed.\ngraphing-calculator-narration-options-menu-open = Options menu open.\ngraphing-calculator-narration-pause-variable-animation = Pause { $variable } Animation\ngraphing-calculator-narration-play-variable-animation = Play { $variable } Animation\ngraphing-calculator-narration-poi-graph-point = Graph point\ngraphing-calculator-narration-point-description = point\ngraphing-calculator-narration-point-opacity = Point Opacity:\ngraphing-calculator-narration-point-size = Point Size:\ngraphing-calculator-narration-point-style-cross = Cross\ngraphing-calculator-narration-point-style-open = Open\ngraphing-calculator-narration-point-style-point = Point\ngraphing-calculator-narration-points-visible = Points visible\ngraphing-calculator-narration-powered-by-desmos = Powered by Desmos\ngraphing-calculator-narration-redo = Redo\ngraphing-calculator-narration-run-action-icon = Run Action\ngraphing-calculator-narration-settings-angle = Angle Settings\ngraphing-calculator-narration-settings-cartesian-grid = Cartesian Grid\ngraphing-calculator-narration-settings-polar-grid = Polar Grid\ngraphing-calculator-narration-settings-show-both = Show Both\ngraphing-calculator-narration-settings-show-positive = Show Positive\ngraphing-calculator-narration-settings-x-axis-label = add x-axis label\ngraphing-calculator-narration-settings-x-axis-max = X Axis Maximum:{ \" \" }\ngraphing-calculator-narration-settings-x-axis-min = X Axis Minimum:{ \" \" }\ngraphing-calculator-narration-settings-x-axis-step = X Axis Step Size:{ \" \" }\ngraphing-calculator-narration-settings-y-axis-label = add y-axis label\ngraphing-calculator-narration-settings-y-axis-max = Y Axis Maximum:{ \" \" }\ngraphing-calculator-narration-settings-y-axis-min = Y Axis Minimum:{ \" \" }\ngraphing-calculator-narration-settings-y-axis-step = Y Axis Step Size:{ \" \" }\ngraphing-calculator-narration-share-graph-link = Link to this graph\ngraphing-calculator-narration-share-graph-link-copied = Link copied\ngraphing-calculator-narration-share-graph-link-unable-to-copy = Unable to copy link\ngraphing-calculator-narration-show-animation-properties = Show Animation Properties\ngraphing-calculator-narration-show-as-decimal = Show as Decimal\ngraphing-calculator-narration-show-as-fraction = Show as Fraction\ngraphing-calculator-narration-show-expression = Show Expression\ngraphing-calculator-narration-show-expression-list = Show expression list\ngraphing-calculator-narration-show-image = Show Image\ngraphing-calculator-narration-show-keypad = Show Keypad\ngraphing-calculator-narration-show-options = Show Options\ngraphing-calculator-narration-show-table-column = Show Column\ngraphing-calculator-narration-slider-animate-faster = Animate Faster\ngraphing-calculator-narration-slider-animate-slower = Animate Slower\ngraphing-calculator-narration-slider-animating-at-speed = Animating at { $speed }x\ngraphing-calculator-narration-slider-loop-forwards-and-backwards = Loop forwards and backwards\ngraphing-calculator-narration-slider-maximum = Slider Maximum:\ngraphing-calculator-narration-slider-minimum = Slider Minimum:\ngraphing-calculator-narration-slider-play-indefinitely = Play indefinitely\ngraphing-calculator-narration-slider-play-once = Play once\ngraphing-calculator-narration-slider-repeat-one-direction = Repeat in one direction\ngraphing-calculator-narration-slider-step = Slider Step Size:\ngraphing-calculator-narration-slider-trace-no-sliders = No sliders to trace.\ngraphing-calculator-narration-slider-trace-off = Slider trace off.\ngraphing-calculator-narration-slider-trace-on = Slider trace on.\ngraphing-calculator-narration-slider-variable-paused = { $variable } paused\ngraphing-calculator-narration-slider-variable-playing = { $variable } playing\ngraphing-calculator-narration-slider-variable-restarted = { $variable } restarted\ngraphing-calculator-narration-table-column-header = Column header { $column }\ngraphing-calculator-narration-table-no-column-header = No column header\ngraphing-calculator-narration-table-row-column = Row { $row } Col { $column }\ngraphing-calculator-narration-tick-action = Tick Action\ngraphing-calculator-narration-toggle-audio-trace = Toggle Audio Trace\ngraphing-calculator-narration-toggle-letters = Toggle Letters\ngraphing-calculator-narration-unable-to-activate-account-menu = Unable to activate account menu\ngraphing-calculator-narration-unable-to-activate-help-menu = Unable to activate help menu\ngraphing-calculator-narration-unable-to-activate-language-menu = Unable to activate language menu\ngraphing-calculator-narration-unable-to-activate-share-menu = Unable to activate share menu\ngraphing-calculator-narration-unable-to-add-expression = Unable to add expression\ngraphing-calculator-narration-unable-to-add-note = Unable to add note\ngraphing-calculator-narration-unable-to-add-table = Unable to add table\ngraphing-calculator-narration-unable-to-focus-expression-list = Unable to focus expression list\ngraphing-calculator-narration-undo = Undo\ngraphing-calculator-narration-viewport-updated = Graph viewport updated.\ngraphing-calculator-narration-viewport-zoom-default = Graph zoom default\ngraphing-calculator-narration-viewport-zoom-in = Graph zoom in\ngraphing-calculator-narration-viewport-zoom-out = Graph zoom out\ngraphing-calculator-narration-viewport-zoom-square = Graph zoom square\ngraphing-calculator-narration-visual-parameters-height = Height\ngraphing-calculator-narration-visual-parameters-offset = Offset\ngraphing-calculator-narration-visual-parameters-width = Width\ngraphing-calculator-narration-zoom-default = Restore Default Zoom\ngraphing-calculator-text-add-screen-reader-label-placeholder = Add screen reader label\ngraphing-calculator-text-audio-trace-no-graph-to-trace = No graph to trace.\ngraphing-calculator-text-audio-trace-no-implicit-support = Sorry, but I can't trace implicit curves yet.\ngraphing-calculator-text-audio-trace-no-parametric-support = Sorry, but I can't trace parametric curves yet.\ngraphing-calculator-text-audio-trace-no-polar-support = Sorry, but I can't trace polar curves yet.\ngraphing-calculator-text-audio-trace-off = Audio trace off.\ngraphing-calculator-text-audio-trace-on = Audio trace on.\ngraphing-calculator-text-color-black = black\ngraphing-calculator-text-color-blue = blue\ngraphing-calculator-text-color-gray = gray\ngraphing-calculator-text-color-green = green\ngraphing-calculator-text-color-orange = orange\ngraphing-calculator-text-color-purple = purple\ngraphing-calculator-text-color-red = red\ngraphing-calculator-text-color-unknown = color unknown\ngraphing-calculator-text-enter-note-placeholder = Enter a note...\ngraphing-calculator-text-enter-pareneter = Enter the { $param }.\ngraphing-calculator-text-export-braille-email-accessibility = Feedback? Email <1>accessibility@desmos.com</1>{\".\"}\ngraphing-calculator-text-image-enter-note-placeholder = Enter a note...\ngraphing-calculator-text-label-orientation-above = Above\ngraphing-calculator-text-label-orientation-above-left = Above Left\ngraphing-calculator-text-label-orientation-above-right = Above Right\ngraphing-calculator-text-label-orientation-below = Below\ngraphing-calculator-text-label-orientation-below-left = Below Left\ngraphing-calculator-text-label-orientation-below-right = Below Right\ngraphing-calculator-text-label-orientation-default = Default\ngraphing-calculator-text-label-orientation-left = Left\ngraphing-calculator-text-label-orientation-right = Right\ngraphing-calculator-text-loading-image = Loading image...\ngraphing-calculator-text-note-placeholder = Enter a note...\ngraphing-calculator-text-page-description = Explore math with our beautiful, free online graphing calculator. Graph functions, plot points, visualize algebraic equations, add sliders, animate graphs, and more.\ngraphing-calculator-text-parameter-name-binwidth = Bin Width\ngraphing-calculator-text-parameter-name-data = Data Set\ngraphing-calculator-text-parameter-name-dof = Degrees of Freedom\ngraphing-calculator-text-parameter-name-height = Height\ngraphing-calculator-text-parameter-name-max = Maximum\ngraphing-calculator-text-parameter-name-mean = Mean\ngraphing-calculator-text-parameter-name-min = Minimum\ngraphing-calculator-text-parameter-name-offset = Offset\ngraphing-calculator-text-parameter-name-probsuccess = Success Probability\ngraphing-calculator-text-parameter-name-stddev = Standard Deviation\ngraphing-calculator-text-parameter-name-trials = Trials\ngraphing-calculator-text-refreshable-braille-display-note = Use a refreshable Braille display, or just type Braille with a keyboard.\ngraphing-calculator-text-regression-potentially-inaccurate-parameters = Some parameters may be too large or small to represent accurately.\ngraphing-calculator-text-share-graph-link = Link to this graph\ngraphing-calculator-text-table-created = Table created.\ngraphing-calculator-text-table-more-rows = { $rowCount } more rows\ngraphing-calculator-text-toast-choose-one-file = You can only choose one file as a replacement\ngraphing-calculator-text-toast-error-importing-graph = Error importing graph. Check the URL?\ngraphing-calculator-text-toast-error-no-folders = Only graphs without folders can be inserted into a folder.\ngraphing-calculator-text-toast-expression-size-limit = Maximum expression size reached.\ngraphing-calculator-text-toast-graph-cleared = Graph cleared.\ngraphing-calculator-text-toast-graph-reset = Graph reset.\ngraphing-calculator-text-toast-image-upload-failed = Image upload failed.\ngraphing-calculator-text-toast-imported-graph = Graph imported!\ngraphing-calculator-text-toast-importing-graph = Importing graph...\ngraphing-calculator-text-toast-no-file-selected = You did not select a file\ngraphing-calculator-text-toast-undo-cmd-z = Press CMD+Z to undo.\ngraphing-calculator-text-toast-undo-ctrl-z = Press CTRL+Z to undo.\ngraphing-calculator-text-toast-uploading-images = Uploading images...\ngraphing-calculator-text-toast-zoom-to-fit = We zoomed to fit your data.\ngraphing-calculator-text-zoom-fit = Zoom Fit\ngraphing-tours-heading-advanced-tables = Advanced Tables\ngraphing-tours-heading-derivatives = Derivatives\ngraphing-tours-heading-folders = Folders\ngraphing-tours-heading-lists = Lists\ngraphing-tours-heading-regressions = Regressions\ngraphing-tours-heading-restrictions = Restrictions\ngraphing-tours-heading-sliders = Sliders\ngraphing-tours-heading-tables = Tables\ngraphing-tours-label-advanced-tables-continue = Click here to continue editing this table.\ngraphing-tours-label-advanced-tables-convert = Convert this to a table.\ngraphing-tours-label-advanced-tables-create = Click here to generate a table.\ngraphing-tours-label-advanced-tables-dots = Click here to only show the dots.\ngraphing-tours-label-advanced-tables-edit-list = Click the \"Edit List\" button.\ngraphing-tours-label-advanced-tables-graph = Start by graphing a function.\ngraphing-tours-label-advanced-tables-new-column = Move right to add a new column.\ngraphing-tours-label-advanced-tables-options = Click and hold on this icon until the options menu opens up.\ngraphing-tours-label-advanced-tables-start = Let's make a function. First: click here to create a new blank expression.\ngraphing-tours-label-advanced-tables-type-function = Try typing { $sample_expression }\ngraphing-tours-label-advanced-tables-wizard = You're a table wizard!\ngraphing-tours-label-awesome = Awesome!\ngraphing-tours-label-brilliant = Brilliant!\ngraphing-tours-label-derivative-graph-derivative = To graph its derivative: { $equation }\ngraphing-tours-label-derivative-hint-type-derivative = Hint: To get the derivative operator, just type d/dx.\ngraphing-tours-label-derivative-one-more = Let's try one more: { $equation }\ngraphing-tours-label-derivative-start-function = Start with a function: { $equation }\ngraphing-tours-label-derivative-start-graph = Let's graph a derivative!\ngraphing-tours-label-folders-collapse = Now we’ll explore some folder functionality. Click here to collapse the folder.\ngraphing-tours-label-folders-did-you-know = Did You Know...\ngraphing-tours-label-folders-grab = Now grab this equation by its left edge and drag it into the folder.\ngraphing-tours-label-folders-great-start = That’s a great start!\ngraphing-tours-label-folders-hide = You can hide everything in the folder with one click. Click here to try.\ngraphing-tours-label-folders-indicator = Hint: The gray line will show you if the expression is in the folder.\ngraphing-tours-label-folders-name = Give your folder a name.\ngraphing-tours-label-folders-new-equation = Let's make a new equation. For example, type: { $equation }\ngraphing-tours-label-folders-option = ... and select the \"folder\" option.\ngraphing-tours-label-folders-start = Let's make a folder!\ngraphing-tours-label-great-job = Great job!\ngraphing-tours-label-last-thing = Last thing!\ngraphing-tours-label-list-computation = You can do a computation on a list. For example: { $equation }\ngraphing-tours-label-lists-are-powerful = Lists are powerful. Let's see.\ngraphing-tours-label-lists-begin-equation = Begin by typing { $equation }\ngraphing-tours-label-lists-count-by = If you want to count by 5 instead, just write something like this: { $equation }\ngraphing-tours-label-lists-create-range = You can create lists of integers even more easily. Try this: { $equation }\ngraphing-tours-label-lists-graph-equation = Graph: { $equation }\ngraphing-tours-label-lists-graph-points = Let's graph a few points.\ngraphing-tours-label-lists-hint-abc = Hint: press the 'A B C' button on the keypad to find the [ ] buttons\ngraphing-tours-label-lists-hint-plot-points = Hint: this will plot a point for each item of b.\ngraphing-tours-label-lists-hint-superscript = Hint: you can type { $suggestion1 } or use the { $suggestion2 } button on the keypad below.\ngraphing-tours-label-lists-point-equation = Try this: { $equation }\ngraphing-tours-label-lists-put-to-work = Nice. Let's put that list to work.\ngraphing-tours-label-new-item = Click here to add a new item.\ngraphing-tours-label-nice = Nice!\ngraphing-tours-label-regressions-better-fit = Edit this equation to find a better fit. Try, for example:<br>{ $equation }\ngraphing-tours-label-regressions-check-model = Nice. Let's check the model.\ngraphing-tours-label-regressions-data = First, let's get some data.\ngraphing-tours-label-regressions-data-2 = Let's start with some data!\ngraphing-tours-label-regressions-docs = Head over to Google Docs and copy and paste this { $sample_data_link }.\ngraphing-tours-label-regressions-equation = Now type: { $equation }\ngraphing-tours-label-regressions-expression-option = ... and select the \"expression\" option.\ngraphing-tours-label-regressions-fill-sample-data = Fill in the sample data:\ngraphing-tours-label-regressions-hint-1 = Hint #1: to get { $y_1 } type { $y1 }.\ngraphing-tours-label-regressions-hint-2 = Hint #2: { $twiddle } is in our onscreen keypad in the 'A B C' section.\ngraphing-tours-label-regressions-keep-exploring = Nice work &ndash; Keep exploring!\ngraphing-tours-label-regressions-new-model = Now, let's try a new model.\ngraphing-tours-label-regressions-new-table = Click here to add a new table.\ngraphing-tours-label-regressions-own-data = Note: you can add your own data instead by clicking the { $plus_icon } button.\ngraphing-tours-label-regressions-residuals = Residuals are the difference between your data and your model. Click here to add them to your table and plot them on the graph.\ngraphing-tours-label-regressions-sample-data = sample data\ngraphing-tours-label-require-expressions-visible = Click to show the list of expressions.\ngraphing-tours-label-require-not-edit-list-mode = Click to return to your expressions.\ngraphing-tours-label-require-resources-not-open = Click to return to this graph.\ngraphing-tours-label-restrictions-abc = Hint: press the 'A B C' button on the keypad to find the { $buttons } buttons\ngraphing-tours-label-restrictions-blank-expression = Click here to make a new blank expression.\ngraphing-tours-label-restrictions-change-equation = Change this equation to { $sample_expression }\ngraphing-tours-label-restrictions-domain = Restrict the domain of this line by adding { $sample_expression } to the end.\ngraphing-tours-label-restrictions-dont-forget = Don't forget the \"y=\"!\ngraphing-tours-label-restrictions-graph-parabola = Now graph: { $sample_expression }\ngraphing-tours-label-restrictions-move-parabola = Move the parabola.\ngraphing-tours-label-restrictions-new-expression = Click here to create a new expression.\ngraphing-tours-label-restrictions-range = Now let's restrict the range. Add { $sample_expression } to the end.\ngraphing-tours-label-restrictions-star = You're a restrictions star!\ngraphing-tours-label-restrictions-start = Let's get started!\ngraphing-tours-label-restrictions-straight-line = Try graphing a straight line, like { $sample_expression }\ngraphing-tours-label-restrictions-type-all = Try typing all of { $sample_expression }\ngraphing-tours-label-restrictions-typing-hint = Hint: you can type { $suggestion1 }, or use the { $suggestion2 } button on the keypad below.\ngraphing-tours-label-self-destruct = This message will self-destruct in { $seconds }...\ngraphing-tours-label-sliders-add = Now click here to add the sliders.\ngraphing-tours-label-sliders-blank-expression = Click here to create a new blank expression.\ngraphing-tours-label-sliders-change-value = Type in here to change the value.\ngraphing-tours-label-sliders-drag-handle = Drag the handle to change the value.\ngraphing-tours-label-sliders-hands-free = Go \"Hands-free\"\ngraphing-tours-label-sliders-make-sliders = Let's make some sliders!\ngraphing-tours-label-sliders-press-play = Press play to animate the slider.\ngraphing-tours-label-sliders-pro = You're a slider pro!\ngraphing-tours-label-sliders-try-typing = Try typing { $sample_expression }\ngraphing-tours-label-tables-back = Click back to continue editing.\ngraphing-tours-label-tables-close-options = Click anywhere to close the drawing options.\ngraphing-tours-label-tables-dots = Click here to connect the dots.\ngraphing-tours-label-tables-enter = Now try pressing Enter.\ngraphing-tours-label-tables-fill-another = Just fill in one more...\ngraphing-tours-label-tables-fill-cell = Fill it in.\ngraphing-tours-label-tables-fill-row = Fill in this whole row.\ngraphing-tours-label-tables-last-trick = Last trick!\ngraphing-tours-label-tables-next-row = Go down to the next row to add more data.\ngraphing-tours-label-tables-open-options = Click and hold on this icon until the options menu opens up.\ngraphing-tours-label-tables-select-table = ... and select the \"table\" option.\ngraphing-tours-label-tables-start = Let's make a table!\ngraphing-tours-label-tables-type-number = Type any number here.\ngraphing-tours-label-tables-valid-number = Uh-oh! Type a valid number here.\ngraphing-tours-label-tables-whiz = You're a tables whiz!\nmatrix-calculator-button-new = New Matrix\nmatrix-calculator-button-settings = settings\nmatrix-calculator-heading-edit-matrix = Edit Matrix { $variable }\nmatrix-calculator-label-columns = Columns\nmatrix-calculator-label-rows = Rows\nmatrix-calculator-narration-add-column = Add Column\nmatrix-calculator-narration-add-row = Add Row\nmatrix-calculator-narration-evaluation = equals { $rowCount } by { $columnCount } matrix.\nmatrix-calculator-narration-evaluation-row = Row { $rowNumber }: { $values }.\nmatrix-calculator-narration-keypad-key-det = Determinant\nmatrix-calculator-narration-keypad-key-inverse = Inverse\nmatrix-calculator-narration-keypad-key-rref = Reduced row echelon form\nmatrix-calculator-narration-keypad-key-trace = Trace\nmatrix-calculator-narration-keypad-key-transpose = Transpose\nmatrix-calculator-narration-matrix-with-variable = Matrix { $variable }\nmatrix-calculator-narration-matrix-without-variable = Matrix\nmatrix-calculator-narration-new-dimensions = Matrix size: { $rows } by { $cols }\nmatrix-calculator-narration-remove-column = Remove Column\nmatrix-calculator-narration-remove-row = Remove Row\nmatrix-calculator-narration-resize-controls = Resize Matrix Controls\nmatrix-calculator-narration-settings-menu = Settings Menu\nmatrix-calculator-narration-title = Desmos Matrix Calculator\n### String for curriculum marketing\n\n\n### 966 English words, 58 English strings\n\ncurriculum-info-button-no = No\ncurriculum-info-button-request-form-submit = Request More Information\ncurriculum-info-button-yes = Yes\ncurriculum-info-error-request-form-contact-info-email = Please enter a valid email address.\ncurriculum-info-error-request-form-contact-info-first-name = Please enter your first name.\ncurriculum-info-error-request-form-contact-info-last-name = Please enter your last name.\ncurriculum-info-error-request-form-enter-role = Please enter your role.\ncurriculum-info-error-request-form-site-name = Please enter the name of your school or district.\ncurriculum-info-heading-end-of-page-info = Want to learn more?\ncurriculum-info-heading-grade-level-interest = Which grades are you interested in?\ncurriculum-info-heading-partners-logos = Some of Our Partner Schools and Districts\ncurriculum-info-heading-request-form = Request more information about the curriculum.\ncurriculum-info-heading-request-form-contact-info = Your contact information:\ncurriculum-info-heading-request-form-this-fall-interest = Are you looking to use the Desmos Curriculum this fall?\ncurriculum-info-heading-research-results = <1>What are the results?</1><2>We surveyed 70 teachers and 1,500 students who piloted our curriculum, asking them to compare it to their previous curriculum. Here’s what they said:</2>\ncurriculum-info-heading-testimonials = What are people saying?\ncurriculum-info-heading-whats-in-the-curriculum = What's in the Desmos Curriculum?\ncurriculum-info-label-grade-6-interest = Grade 6\ncurriculum-info-label-grade-7-interest = Grade 7\ncurriculum-info-label-grade-8-interest = Grade 8\ncurriculum-info-label-request-form-contact-info-email = Email\ncurriculum-info-label-request-form-contact-info-first-name = First Name\ncurriculum-info-label-request-form-contact-info-last-name = Last Name\ncurriculum-info-label-request-form-enter-role = What is your role?\ncurriculum-info-label-request-form-enter-role-placeholder = Role\ncurriculum-info-label-request-form-select-role = Select your role:\ncurriculum-info-label-request-form-site-name = Name of school or district:\ncurriculum-info-label-request-form-site-name-placeholder = School or District Name\ncurriculum-info-label-role-administrator = Administrator\ncurriculum-info-label-role-coach = Math Coach\ncurriculum-info-label-role-other = Other\ncurriculum-info-label-role-teacher = Teacher\ncurriculum-info-label-try-this-activity = Try an activity!\ncurriculum-info-narration-ipad-with-student-screen = An iPad with a student screen. On the screen, the student sketches planets and explores what happens when the drawing is sent through different machines. Behind the iPad, there is a paper version of the activity where the student has sketched scaled copies of a shape on a grid.\ncurriculum-info-narration-laptop-with-student-screen = A laptop with a student screen. On the screen, the student describes what he notices and wonder while changing the scale factor of a mosaic pattern he created.\ncurriculum-info-narration-screen-with-teacher-dashboard = A computer screen with two windows open. The first window shows the teacher screen for Grade 7, Unit 5. The second window, to the right of the first, shows a teacher dashboard with square patterns created by students in the class.\ncurriculum-info-text-activity-caption-student-ideas = <1>Students’ ideas are the engine of our curriculum. Their sketches power simulations and their mathematical thinking powers classroom conversations. In this lesson about functions, teachers help students make connections between scenarios and the graphs that represent them. <2>Try it for free!</2></1>\ncurriculum-info-text-header-content = <1>The Desmos Math Curriculum is here!</1><2>Brought to you by the team that created the Desmos calculators and activities. Math 6–8 is available now. Algebra 1 will be available for the 2022–2023 school year. </2>\ncurriculum-info-text-join-info-session = <1>Interested in learning more? <2>Join an info session.</2></1>\ncurriculum-info-text-questions-info-faqs-email = <1>Questions? Please check our <2>Curriculum FAQs</2> or reach out to us at <3>curriculum@desmos.com</3>{\".\"}</1>\ncurriculum-info-text-quote-coach-teacher-for-23-years = <1/><2>I have been a teacher for 23 years and this is the most engaged I have seen students in a mathematics classroom.</2><3><4>Rebecca Moore,</4> Math Coach, Naugatuck, CT</3>\ncurriculum-info-text-quote-facilitator-falling-in-love = <1/><2>Every lesson that I preview, I fall in love a little more ❤ thank you for this work and thank you for reflecting and listening to the feedback!</2><3><4>Jenny Ainslie,</4> Secondary Math Facilitator, Orange County, NC</3>\ncurriculum-info-text-quote-teacher-if-not-using-climbing-analogy = <1/><2>If you're teaching math and not utilizing Desmos, you may as well be climbing a mountain with your hands tied behind your back.</2><3><4>Mike Del Greco,</4> Math Teacher, Sudbury, MA</3>\ncurriculum-info-text-quote-teacher-saved-my-life-this-year = <1/><2>Desmos has saved my life this year. I am so grateful that we signed up. It is the perfect tool for remote learning and my students love it.</2><3><4>Brendan Smith,</4> Math Teacher, Oakland, CA</3>\ncurriculum-info-text-quote-teacher-super-intuitive-friendly = <1/><2>Your team has made this super intuitive and user friendly. Cannot say enough about how much we appreciate the frequent contacts / emails / check-ins etc.</2><3><4>Shannon Kenyon,</4> Curriculum Resource Teacher, Lewiston, ID</3>\ncurriculum-info-text-quote-teachers-exceptional-problem-solvers = <1/><2>Our students are loving Desbook and becoming exceptional problem solvers – even in this distance learning environment! I genuinely have never appreciated anything so much in my life.'</2><3><4>Heather Staniszewski,</4> Math Teacher, Belmont-Redwood, CA</3>\ncurriculum-info-text-request-sent-coach-admin-follow-up = <1>If you have questions in the meantime, <2>learn more about the curriculum</2> or <3>set up a call</3>{\".\"}</1>\ncurriculum-info-text-request-sent-confirmation = Thank you, { $firstName }! An email with more information is on the way.\ncurriculum-info-text-request-sent-other-follow-up-email-subject = I have a question about the Desmos Curriculum\ncurriculum-info-text-request-sent-other-role-follow-up = <1>If you have questions, please don't hesitate to reach out to us directly at <2>{$v0}</2>{\".\"}</1>\ncurriculum-info-text-request-sent-teacher-follow-up = <1>If you have questions in the meantime, check out the <2>Desmos Math Curriculum FAQs</2>{\".\"}</1>\ncurriculum-info-text-section-lessons-that-express-brilliance = <1>Lessons that help students express their brilliance every day.</1><2>Every student is brilliant, but not every student <3>feels</3> brilliant in math class, particularly students from <4>historically excluded communities</4>{\".\"} We design our curriculum to put students’ ideas at its center. Our lessons pose problems that invite a variety of approaches. And our technology helps teachers celebrate and develop all of that interesting thinking in their classrooms.</2>\ncurriculum-info-text-section-paper-technology-blend = <1>A blend of paper and technology.</1><2>We apply our expertise in technology, pedagogy, and design to enhance the top-rated curriculum from <3>Illustrative Mathematics</3> and <4>Open Up Resources</4>{\".\"} We offer learning experiences on computers that are dynamic and interactive as well as experiences on paper that are flexible and creative.</2>\ncurriculum-info-text-section-powerful-facilitation-tools = <1>Powerful facilitation tools for teachers.</1><2>Our problem-based lessons empower students to explore new ideas, and our teacher dashboard helps teachers connect those ideas together. Whether teachers are observing student learning on our lesson summary page or guiding productive discussions with our <3>conversation toolkit</3>, our facilitation tools make teaching more effective and more fun.</2>\ncurriculum-info-text-section-results-students-enjoy-more = <1>Students enjoy math more.</1><2>We help students experience the need for new mathematical ideas, and our interactive feedback shows them the value of their own thinking.</2><3><4>The result:</4> Teachers in the pilot said their students were more engaged in the Desmos Curriculum than in their previous curriculum, and students reported enjoying math class more.</3>\ncurriculum-info-text-section-results-students-learn-more = <1>Students learn more math.</1><2>We design problem-based lessons that promote mathematical curiosity and student engagement, building on the coherence and rigor of the Illustrative Mathematics curriculum. Each unit includes student notes, skill practices, and rich assessments to help students show what they know and can do.</2><3><4>The result:</4> Students and teachers in the pilot both said that students learned more with the Desmos Curriculum than with their previous curriculum.</3>\ncurriculum-info-text-section-results-teacher-enjoy-more = <1>Teachers enjoy teaching more.</1><2>We pair your entire teaching team with a dedicated National Coach who will support your team’s onboarding and instruction throughout the year. Additionally, we offer just-in-time lesson preview emails, unit overview webinars, and other supports to help your team succeed.</2><3><4>The result:</4> Teachers in the pilot felt happier and better supported with the Desmos Curriculum than with their previous curriculum.</3>\ncurriculum-info-text-section-tags = <1>The Desmos Curriculum is...</1><2><3>FERPA compliant</3><4>COPPA compliant</4><5>Standards aligned</5><6>Available in Spanish</6></2>\n### Strings for desmos.com homepage\n\n\n### 4701 English words, 385 English strings\n\nfrontpage-button-braille-print-examples = Print these examples\nfrontpage-button-main-join-class = Join\nfrontpage-error-something-went-wrong-try-again-later = Sorry! Something went wrong. Please try again later.\nfrontpage-heading-about-what-we-do = What We Do\nfrontpage-heading-about-who-we-are = Who We Are\nfrontpage-heading-art-contest-guest-judges = Guest Judges\nfrontpage-heading-braille-examples = Braille Examples\nfrontpage-heading-braille-table-type-this = Type this\nfrontpage-heading-braille-table-typeset = Typeset\nfrontpage-heading-braille-view-examples-in = View examples in:\nfrontpage-heading-equity-as-we-do-this-work = As we do this work, we ask ourselves...\nfrontpage-heading-equity-disrupt-systemic-inequities = III.  We want to disrupt systemic inequities and conditions of marginalization in education.\nfrontpage-heading-equity-more-equitable-workplace = II. We want to work continuously towards an equitable workplace.\nfrontpage-heading-equity-next-steps = Next Steps and an Invitation\nfrontpage-heading-equity-principles = Desmos Equity Principles\nfrontpage-heading-equity-serve-all-students-and-teachers = I.  We want our products to serve all students and teachers.\nfrontpage-heading-footer-company = Company\nfrontpage-heading-footer-legal = Legal\nfrontpage-heading-footer-products = Products\nfrontpage-heading-footer-resources = Resources\nfrontpage-heading-guiding-build-for-real-classrooms = Build for Real Classrooms\nfrontpage-heading-guiding-champion-teachers = Champion Teachers\nfrontpage-heading-guiding-design-for-delight = Design for Delight\nfrontpage-heading-guiding-principles = Desmos Guiding Principles\nfrontpage-heading-guiding-works-every-time = Works Every Time\nfrontpage-heading-header-maintenance-mode = Desmos is currently undergoing scheduled maintenance, and accounts are temporarily unavailable.\nfrontpage-heading-main-desmos-plus-partners = Desmos + Partners\nfrontpage-heading-main-global-art-contest-finalists-2020 = Global Math Art Contest 2020 Finalists\nfrontpage-heading-main-global-art-contest-finalists-2021 = Global Math Art Contest 2021 Finalists\nfrontpage-heading-main-lets-learn-together = Let's learn together.\nfrontpage-heading-main-students = Students\nfrontpage-heading-main-teachers = Teachers\nfrontpage-heading-main-using-desmos-in-a-classroom = Using Desmos in a classroom?\nfrontpage-heading-partners-accessibility-out-of-box = Accessibility Out of the Box\nfrontpage-heading-partners-anywhere-any-device = Anywhere, Any Device\nfrontpage-heading-partners-constant-improvements = Constant Improvements\nfrontpage-heading-partners-global-scale = Global Scale\nfrontpage-heading-partners-rock-solid-reliability = Rock-Solid Reliability\nfrontpage-heading-partners-want-to-embed = Want to embed the power of Desmos right into your website or app?\nfrontpage-heading-shared-contact-us = Contact Us\nfrontpage-heading-team-job-title-ceo = CEO\nfrontpage-heading-team-job-title-coaching = Coaching\nfrontpage-heading-team-job-title-copy-editing = Copy Editing\nfrontpage-heading-team-job-title-data = Data\nfrontpage-heading-team-job-title-engineering = Engineering\nfrontpage-heading-team-job-title-faculty = Faculty\nfrontpage-heading-team-job-title-interaction-developer = Interaction Developer\nfrontpage-heading-team-job-title-localization = Localization\nfrontpage-heading-team-job-title-operations = Operations\nfrontpage-heading-team-job-title-partnerships = Partnerships\nfrontpage-heading-team-job-title-product = Product\nfrontpage-heading-team-job-title-support = Support\nfrontpage-heading-team-meet-the-team = Meet the Team\nfrontpage-heading-team-partnerships-programs-and-operations = Partnerships, Programs, and Operations\nfrontpage-heading-team-product-and-engineering = Product and Engineering\nfrontpage-heading-team-teaching = Teaching\nfrontpage-heading-testmode-about-desmos-test-mode = About Desmos Test Mode\nfrontpage-heading-testmode-about-tab = About\nfrontpage-heading-testmode-android-tab = Android (Beta)\nfrontpage-heading-testmode-chromebooks-tab = Chromebooks\nfrontpage-heading-testmode-district-tab = Desmos District Test Mode\nfrontpage-heading-testmode-feedback-tab = Feedback\nfrontpage-heading-testmode-ipads-and-iphones-tab = iPads and iPhones\nfrontpage-heading-testmode-practice-tab = Practice\nfrontpage-heading-title-about = About Us\nfrontpage-heading-title-art-contest = Art Contest Finalists\nfrontpage-heading-title-curriculum = Curriculum\nfrontpage-heading-title-equity = Equity Principles\nfrontpage-heading-title-frontpage = Let's learn together.\nfrontpage-heading-title-guiding-principles = Guiding Principles\nfrontpage-heading-title-partners = Partners\nfrontpage-heading-title-team = Team\nfrontpage-label-about-meet-the-team = Meet the Team\nfrontpage-label-art-contest-finalists-2020 = Finalists 2020\nfrontpage-label-art-contest-finalists-2021 = Finalists 2021\nfrontpage-label-art-contest-from-artist = From the artist:\nfrontpage-label-art-contest-from-judges = From the judges:\nfrontpage-label-art-contest-photo-vernon-1st = 1st Place\nfrontpage-label-art-contest-photo-vernon-2nd = 2nd Place\nfrontpage-label-art-contest-photo-vernon-3rd = 3rd Place\nfrontpage-label-art-contest-trailblazer = Trailblazer\nfrontpage-label-main-classcode-placeholder = Code\nfrontpage-link-art-contest-2020-winners = View the 2020 winners\nfrontpage-link-art-contest-2021-winners = View the 2021 winners\nfrontpage-link-art-contest-age-range-13-14 = Ages 13-14\nfrontpage-link-art-contest-age-range-15-16 = Ages 15-16\nfrontpage-link-art-contest-age-range-17-18 = Ages 17-18\nfrontpage-link-art-contest-age-range-19 = Ages 19+\nfrontpage-link-curriculum-schedule-call = Let's Chat\nfrontpage-link-curriculum-try-it = Try It for Free\nfrontpage-link-footer-classroom-activities = Classroom Activities\nfrontpage-link-footer-contact-twitter = Twitter\nfrontpage-link-footer-partnerships = Partnerships\nfrontpage-link-header-classroom = Classroom\nfrontpage-link-header-math-tools = Math Tools\nfrontpage-link-header-resources = Resources\nfrontpage-link-header-team-desmos = Team Desmos\nfrontpage-link-main-browse-activities = Browse Activities\nfrontpage-link-main-for-students = For Students\nfrontpage-link-main-for-teachers = For Teachers\nfrontpage-link-main-go-to-student-homepage = Go to Student Homepage\nfrontpage-link-main-teacher-sign-up = Teacher Sign-Up\nfrontpage-link-main-view-the-winners = See all of the finalists!\nfrontpage-link-read-equity-principles = Read our Equity Principles\nfrontpage-link-read-guiding-principles = Read our Guiding Principles\nfrontpage-link-shared-about-us = About Us\nfrontpage-link-shared-accessibility = Accessibility\nfrontpage-link-shared-account-settings = Account Settings\nfrontpage-link-shared-api-documentation = API Docs\nfrontpage-link-shared-assessments = Assessments\nfrontpage-link-shared-blog = Blog\nfrontpage-link-shared-careers = Careers\nfrontpage-link-shared-contact-us = Contact Us\nfrontpage-link-shared-curriculum = Desmos Curriculum\nfrontpage-link-shared-equity-principles = Equity Principles\nfrontpage-link-shared-four-function-calculator = Four Function Calculator\nfrontpage-link-shared-geometry-tool = Geometry Tool\nfrontpage-link-shared-graphing-calculator = Graphing Calculator\nfrontpage-link-shared-guiding-principles = Guiding Principles\nfrontpage-link-shared-help-center = Help Center\nfrontpage-link-shared-log-in = Log In\nfrontpage-link-shared-log-out = Log Out\nfrontpage-link-shared-matrix-calculator = Matrix Calculator\nfrontpage-link-shared-scientific-calculator = Scientific Calculator\nfrontpage-link-shared-sign-up = Sign Up\nfrontpage-link-shared-test-practice = Test Practice\nfrontpage-link-testmode-learn-more-screen-pinning-mode = Learn more about using Screen Pinning on your Android device.\nfrontpage-narration-art-contest-image-of-graph = Image of { $graphTitle }\nfrontpage-narration-art-contest-image-of-graph-by = Image of graph by { $name }\nfrontpage-narration-art-contest-photo-boaler = Photo of Jo Boaler\nfrontpage-narration-art-contest-photo-bousso = Photo of Diarra Bousso\nfrontpage-narration-art-contest-photo-sanderson = Photo of Grant Sanderson\nfrontpage-narration-art-contest-photo-vernon = Photo of Natalie Vernon\nfrontpage-narration-art-contest-photo-woo = Photo of Eddie Woo\nfrontpage-narration-main-partner-logo = { $name } logo\nfrontpage-narration-shared-desmos-logo = Desmos Logo\nfrontpage-narration-shared-image-of-graph = Image of { $graphTitle }\nfrontpage-narration-team-collapse-biography = Collapse Biography\nfrontpage-narration-team-picture-of-name = Picture of { $name }\nfrontpage-narration-testmode-im-done-timer-ios = The I'm Done button and timer on the iOS closing screen\nfrontpage-narration-testmode-ipad-opening-screen = The Start Test button on the iPad opening screen\nfrontpage-narration-testmode-opening-screen = The opening screen of Test Mode\nfrontpage-text-about-build-a-world = Desmos wants to build a world where every student learns math and loves learning math, where a student’s access to the power and beauty of math doesn't depend on their place of birth, race, ethnicity, gender, or any other aspect of their identity.\nfrontpage-text-about-careers = We're a small but growing team. Interested in joining? <1><2>We're hiring!</2> <3/></1>\nfrontpage-text-about-curriculum = In 2020, we launched our core <1>middle school math program</1>, which pairs the open-source U.S. middle school curriculum from Illustrative Mathematics and Open Up Resources with Desmos’ powerful technology, humanizing pedagogy, and intuitive design. We are working with an incredible cohort of schools and districts to implement and further improve this program over the years to come.\nfrontpage-text-about-join-us = Come join us on our journey! <1>Play with the calculator</1>, <2>check out our classroom activities</2>, or <3>find a career</3> on our growing team. Stay in touch with us on <4>Twitter</4>, <5>Facebook</5>, <6>Instagram</6>, or <7>email</7>{\".\"} Teachers and school leaders are also welcome to join our <8>Educators Community</8>{\".\"}\nfrontpage-text-about-our-story = Our free suite of math software tools, including the renowned Desmos Graphing Calculator and Scientific Calculator, are used annually by over 40 million teachers and students around the world. Our tools power core math curricula for many of the world’s largest publishers, and our calculators are built into the majority of U.S. state-level assessments and digital college entrance exams. Desmos is also partnered with the Smarter Balanced Assessment Consortium, the International Baccalaureate MYP, and NWEA (view the full list of assessments <1>here</1>).\nfrontpage-text-about-student-activities = Our cutting-edge technology also powers our free <1>digital classroom activities</1>, thoughtfully designed by teachers for teachers to support and celebrate the different ways students come to know mathematics. These activities are guided by our <2>pedagogical philosophy</2> and open up a world of possibilities for students to explore concepts more deeply, collaborate with their peers on problem-solving, and apply knowledge creatively as mathematicians.\nfrontpage-text-art-contest-enter = Learn more about Desmos's Global Art Contest 2021\nfrontpage-text-art-contest-finalist-title = “{ $graphTitle }” by { $name }\nfrontpage-text-art-contest-page-description-2020 = Desmos's first Global Math Art Contest in 2020 featured over 4,000 graphs from over 100 countries around the world. Here are the winners and finalists, chosen from countless examples of incredible effort, artistry, ingenuity, and creativity.\nfrontpage-text-art-contest-page-description-2021 = More than 10,000 students from around the world participated in the second annual Global Math Art Contest! Here are the winners and finalists, chosen from countless examples of incredible effort, artistry, ingenuity, and creativity.\nfrontpage-text-braille-examples-calculator-information = Use a Braille display? You can read and write equations in the <1>Four-Function</1> <2>(www.desmos.com/fourfunction)</2>, <3>Scientific</3> <4>(www.desmos.com/scientific)</4>, and <5>Graphing</5> <6>(www.desmos.com/calculator)</6> calculators as well as <7>classroom activities</7> <8>(teacher.desmos.com)</8> using the two most common mathematical Braille codes in North America: Nemeth and Unified English Braille (UEB).\nfrontpage-text-braille-examples-page-screen-reader-information = Your screen reader should be set for Computer Braille input and output to minimize the risk of translation errors. Check out <1>the help center accessibility page.</1> for more information about using Braille in the Desmos calculators.\nfrontpage-text-description-about = Desmos is a math ed tech company building calculators, digital classroom tools, math activities, and curriculum for classrooms around the world.\nfrontpage-text-description-art-contest = The Desmos Math Art Contest is open yearly to students ages 13⁠–⁠18 to showcase their graphing calculator skills, creativity, and love of math.\nfrontpage-text-description-equity = Our goal is to support the development of a more equitable math education system and tech industry. We use these principles as our guide.\nfrontpage-text-description-frontpage = Desmos offers best-in-class calculators, digital math activities, and curriculum to help every student love math and love learning math.\nfrontpage-text-description-guiding-principles = Desmos has five Guiding Principles. These principles help us make tough decisions. They provide accountability for the outcomes of those decisions. And they help other people make decisions about us, by representing our values to people and organizations who are deciding if we’d be good partners in their work.\nfrontpage-text-description-partners = Desmos runs on any modern device with no downloads or installs. Partner with us to embed the power of Desmos right into your website or app.\nfrontpage-text-description-team = Our team works across 7 time zones, 2 hemispheres, and 18 states with 1 goal: to help every student learn math and love learning math.\nfrontpage-text-equity-as-a-us-based-team = As a primarily U.S.-based team, our focus for applying these principles has typically centered on injustices within our country. However, as our team, community of users, and partnerships continue to expand internationally, we seek to learn how we can apply these principles to strive for equitable math education worldwide.\nfrontpage-text-equity-everyone-understands = Our workplace should be one where everyone understands how they contribute to the company’s mission and feels valued in their contribution. If we don’t intentionally foster diversity and inclusion internally, we remain a part of the broader systemic inequities driving the need for these principles. Equally important, having a diverse group of colleagues is essential to serving a diverse external community. To do this, we must critically examine and address bias in our own processes and interactions.\nfrontpage-text-equity-goal-more-equitable-math-education-system = Our goal is to support the development of a more equitable math education system and tech industry. We use these principles as guides towards achieving this goal.\nfrontpage-text-equity-gratitude = We also want to express our gratitude to the many folks who have influenced and pushed our thinking in this area, especially but certainly not limited to <1>Lauren Baucom</1>, <2>Christelle Rocha</2>, <3>Ayanna Perry</3>, and Rochelle Gutierrez.\nfrontpage-text-equity-how-can-we-measure-impact = How can we measure the impact of our work on communities we aim to serve?\nfrontpage-text-equity-how-can-we-uphold-values = How can we uphold our values when selecting partners and services?\nfrontpage-text-equity-how-might-we-attend-to-safety = How might we attend to the mental, emotional, and physical safety of our employees?\nfrontpage-text-equity-how-might-we-continue-to-prioritize-equity = How might we continue to prioritize a drive for equity as our company changes over time?\nfrontpage-text-equity-how-might-we-examine-biases = How might we examine and reduce our individual biases?\nfrontpage-text-equity-how-might-we-share-our-thinking = How might we share our current thinking and get feedback?\nfrontpage-text-equity-how-might-we-support-access = How might we support the ACCESS and ACHIEVEMENT of the communities we serve?\nfrontpage-text-equity-how-might-we-support-identity = How might we support the IDENTITY and POWER of the communities we serve?\nfrontpage-text-equity-how-might-we-sustain-ourselves = How might we sustain ourselves in our day-to-day work at Desmos?\nfrontpage-text-equity-how-might-work-disrupt-white-supremacy = How might our work disrupt white supremacy and the oppressive results of dominant culture?\nfrontpage-text-equity-how-will-it-help = How might this work help the communities we aim to serve? How might it harm these communities?\nfrontpage-text-equity-on-a-mission = We're on a mission to help every student learn math and love learning math. To achieve our mission, we must acknowledge past and present injustices in our communities and take intentional action to make change.\nfrontpage-text-equity-tag-or-email = We would love to hear ways these principles may be underdeveloped or ways in which these principles shifted your thinking. If you want to respond publicly, tag us <1>@desmos</1>{\".\"} If you want to respond privately, feel free to email <2>equity@desmos.com</2>{\".\"}\nfrontpage-text-equity-we-have-a-responsibility = We have a responsibility to continuously learn about how systemic inequity is embedded in education and to use this knowledge to drive our decision-making. As we learn and put our learning into practice, we share our work with the hope that others will listen, learn, and push us further.\nfrontpage-text-equity-we-recognize-creating-adopting = We recognize that creating and adopting a set of equity principles is just one foundational step that helps us orient the work that comes next. We are also aware that our team members’ identities, experiences, and biases limit our ability to help every student or to see ways in which our systems and structures bias some groups over others.\nfrontpage-text-equity-what-voices-can-we-amplify = What underrepresented voices can we learn from and amplify?\nfrontpage-text-equity-which-communities-to-learn-from = Which communities do we need to learn from and serve?\nfrontpage-text-equity-who-serves-harms = Who might each internal process serve? Who might this process harm?\nfrontpage-text-equity-without-taking-intentional-steps = Without taking intentional steps, our work will not serve all groups well. Therefore, we must focus on identifying and attending to the needs of marginalized and excluded communities. This means learning from and with these teachers and students, and using their needs to shape our work and measure our success.\nfrontpage-text-footer-copyright = Copyright { $copyrightSign } { $year } Desmos, Inc.\nfrontpage-text-guiding-building-for-real-classrooms = Building for real classrooms requires listening to teachers and striving to understand the operations of their classrooms—the features that make whole-group or small-group discussions <1>successful</1>, for example, or the way unreliable technology can ruin a lesson. Building for real classrooms also requires us to understand the inequities in the way schools are resourced. Knowing that many students and teachers operate with limited devices and connectivity motivates our team to prioritize building performant, low-bandwidth systems.\nfrontpage-text-guiding-footnote-danny-martin = <1>1</1> <2>Danny Martin</2>, for example, entreats us to consider the brilliance of Black children as an axiom, a statement that is self-evidently true.\nfrontpage-text-guiding-honor-students-brilliance = Honor Students' Brilliance\nfrontpage-text-guiding-once-students-realize = Once students realize we are encouraging their agency and creativity, we hope they will seek delight in every corner of our work. Therefore, we're constantly redesigning for delight and updating to respond to all the student creativity we didn’t anticipate.\nfrontpage-text-guiding-principles-gratitude = All errors in this document are our own, but we are particularly grateful to Desmos Fellows <1>Lauren Baucom</1> and <2>Christelle Rocha</2> for their feedback on earlier drafts of these principles.\nfrontpage-text-guiding-principles-introduction = Desmos has five Guiding Principles. These principles help us make tough decisions, and provide accountability for the outcomes of those decisions. And they help other people make decisions about us by representing our values to the people and organizations who are deciding if we’d be good partners in their work.\nfrontpage-text-guiding-remove-barriers = We also try to remove barriers that might prevent certain students from showcasing their brilliance by focusing on equity in our business models and accessibility in our products.\nfrontpage-text-guiding-so-we-champion = So we champion teachers. We start by listening and learning from and with teachers and researchers. We ask how we can best support each stage of a teacher’s career. We also work to oppose any effort to devalue or deprofessionalize teaching.\nfrontpage-text-guiding-there-are-a-number = There are a number of reasons that a product might not “work” for a user. It could just break, as technology so often does. It could be confusing for a subset of users, perhaps those who are less confident using technology. It could be that someone uses it in a way that we didn’t anticipate. Whatever the reason, even a product that works 99% of the time will interrupt the learning in 1 of 3 classrooms. As a result, we prioritize reliability and usability, even at the expense of development speed. We strive for backwards compatibility, and still open graphs made in the first week of our calculator’s launch. We also aim to design software and lessons that work for a wide variety of inputs. We believe that it’s not our job to enforce rigid syntax, but rather to interpret, as well as we can, anything a user does.\nfrontpage-text-guiding-to-honor-students = To honor students’ brilliance, we must first create opportunities for students to express their brilliance. We design tools and lessons that invite creativity and welcome multiple approaches. We build features to help teachers showcase student thinking, for example with our <1>dashboard tools</1> that support the <2>5 Practices</2>{\".\"} We seek to provide meaningful <3>task-oriented</3> feedback on students’ thinking.\nfrontpage-text-guiding-to-support-real-students = To support real students and real teachers, we need to design for their real and disparate environments.\nfrontpage-text-guiding-we-are-not-uncritical = We are not uncritical or passive champions. We recognize that teachers can both help and harm. We instead consider ourselves partners, supporters, and advocates in the critical work of building joyful classrooms and honoring the brilliance of every student. Excellence in teaching takes years of training and practice, and supporting such excellence is one of our most powerful levers for achieving our goals.\nfrontpage-text-guiding-we-believe-that-students = We believe that students are creative, knowledgeable, and brilliant. We recognize that students in math classes are not always treated as such, and that students of certain genders, races, or backgrounds are disproportionately affected.\nfrontpage-text-guiding-we-cant-enact = We can't enact any of our principles without teachers. We believe that teachers are—and should remain—an integral part of the learning process, and we know that they wield enormous power in their students’ learning experiences.\nfrontpage-text-guiding-we-know-that-software = We know that software will inevitably break or students will do things we don’t anticipate. We believe that reliability doesn't come from avoiding every possible way something can go wrong, but from reacting quickly, carefully, and <1>blamelessly</1> when it does.\nfrontpage-text-guiding-we-prioritize-delight = We prioritize delight in our products even at the cost of development time. We would rather release a delightful product or lesson tomorrow than an adequate one today. We aim for delight not just in the user experience but in the learning experience as well. For example, students experience joy in \"<1>being the cause</1>,\" so we try to create tools and lessons that respond to their interesting thinking. We relish surprises from students and try to surprise them in turn by coming along as they go off trail.\nfrontpage-text-guiding-we-reject-the-idea = We reject the idea that these students are more or less capable and recognize that we must learn from and with marginalized and excluded communities<1>1</1> in order to counter these narratives.\nfrontpage-text-guiding-we-want-to-help = We want to help all students learn math, but we see little value in their learning math if they don't also find something to <1>love</1> about math as well.\nfrontpage-text-header-app-links = Download our apps in the <1>Google Play Store</1> and <2>iOS App Store</2>{\".\"}\nfrontpage-text-main-interactive-and-creative-activities = Interactive and creative activities for your math class.\nfrontpage-text-main-join-your-classmates = Join your classmates!\nfrontpage-text-main-on-a-mission = We're on a mission to help every student learn math and love learning math.\nfrontpage-text-main-partners-benefits = As a partner of Desmos, you benefit from our continual work to make Desmos more powerful, faster, and easier to use. We release a new version of the API annually in April as a free upgrade for all of our partners. <1>Read our Changelog</1>{\".\"}\nfrontpage-text-main-partners-information = Our tools power <1>assessments</1> and major curricula. <2>Learn more</2>\nfrontpage-text-partners-accessible-api = We believe in interactive math for every student, including students who are blind or visually impaired. Desmos's API is WCAG 2.0 compliant at the AA level. We support fully blind students by converting graphs to sound and connecting with screen readers. <1>Learn More</1>{\".\"}\nfrontpage-text-partners-desmos-runs-on-modern-browser = Desmos runs on any modern browser with no downloads or installs. We also run seamlessly on iPhones, iPads, Android phones, and Windows touch devices. Chromebook attached to a Smartboard? No problem! We've seen just about every combination a classroom has to offer, and we make sure our software runs on any modern browser, in nearly any configuration.\nfrontpage-text-partners-desmos-used-by-millions = Desmos is used by millions of students and teachers in nearly every country in the world and has been translated into 30 languages.\nfrontpage-text-partners-uptime = One of our values is \"Works every time.\" This extends to our API. With greater than 99.99% uptime over the last 3 years, we provide the reliability your app or website needs. We also offer self-hosting for partners who need it.\nfrontpage-text-team-about-us = Our team works across 7 time zones, 2 hemispheres, and 18 states with 1 goal: to help every student learn math and love learning math. Want to join us? <1>We're hiring!</1>\nfrontpage-text-testmod-administer-test = <1>To administer a Secure Test:</1><2><3>Have students pin the app.</3><4>Tell the students not unpin the app.</4><5>At the end of the test, confirm that the screen was pinned for the entire test by checking the in-app clock.</5></2>\nfrontpage-text-testmod-feedback = We work to continuously improve our Test Mode apps, and we welcome your feedback on how we can support the best possible experience for your students and colleagues. Please email us at <1>feedback@desmos.com</1> with any questions or comments!\nfrontpage-text-testmode-android = Our <1>Android app</1> (currently in Beta testing) allows for offline practice.\nfrontpage-text-testmode-app-self-lock-mode-colors = While in App Self-Lock mode, the top bar of the calculator will change color according to the calculator in use: green for graphing, purple for scientific, blue for four function. There will also be a badge next to the Desmos logo.\nfrontpage-text-testmode-chromebooks = Our Chrome app allows for offline practice. You can download the Chrome app by visiting <1>bit.ly/desmos-test-mode-chrome-app</1> on the device. The <2>Chrome browser</2> must be installed on the device to use the Chrome Test Mode app.\nfrontpage-text-testmode-district = Desmos District Test Mode is a paid version of Test Mode that complies with specific assessment-based feature requirements and offline requirements, and allows for centralized configuration of calculators at the school or district level. Administrators can choose assessment-specific calculators ahead of testing day. This specific calculator configuration is used within a school’s Mobile Device Management system. A common use case for Desmos District Test Mode is Desmos calculators presented to students on secure, school-managed devices alongside paper-based state summative exams, district assessments, simulations, or other school-based assessments (<1>example</1>).\nfrontpage-text-testmode-district-features = <1>Paid features include:</1><2><3>Calculator configuration: Administrators can centrally preselect the specific calculator (e.g., Desmos Graphing Calculator) and ensure use of the correct tools on Testing Day to offer an added layer of security and mitigate any risks that students accidentally select the wrong calculator.</3><4>Customization: Proctoring is made easier through various display options, such as banners, colors, or titles, to help with quick visual verification of the correct testing tools.</4><5>Ongoing technical support: The Desmos team will work with your school’s technical leads to set up Desmos District Test Mode well ahead of your testing day.</5></2><6>If you are interested in purchasing Desmos District Test Mode, please reach out to <7>assessments@desmos.com</7> for more information.</6>\nfrontpage-text-testmode-enable-guided-access = <1>To enable Guided Access:</1><2><3>Go to Settings > General > Accessibility > Guided Access.</3><4>Pick a passcode that needs to be entered.</4><5>Open up the Test Mode app.</5><6>Triple-click the Side or Home button.</6></2><7>This will lock the device to that app and won't allow the student to leave it without a code.</7>\nfrontpage-text-testmode-enable-screen-pinning = <1>To enter Screen Pinning:</1><2><3>Disable WiFi on your phone.</3><4>Enter Airplane Mode on your phone.</4><5>A \"Start Test\" button will appear. Click it.</5></2>\nfrontpage-text-testmode-exit-guided-access = <1>To exit Guided Access:</1><2><3>Triple-click the Side or Home button.</3><4>Enter the passcode that you chose.</4></2>\nfrontpage-text-testmode-four-function-calculator-app-self-lock-mode-caption = Four function calculator in App Self-Lock mode with a blue top bar.\nfrontpage-text-testmode-four-function-calculator-blue-top-bar = The secure four function calculator has a blue top bar.\nfrontpage-text-testmode-four-function-calculator-caption = Four function calculator in kiosk mode with a blue top bar.\nfrontpage-text-testmode-graphing-calculator-app-self-lock-mode-caption = Graphing calculator in App Self-Lock mode with a green top bar.\nfrontpage-text-testmode-graphing-calculator-kiosk-mode-caption = Graphing calculator in kiosk mode with a green top bar.\nfrontpage-text-testmode-guided-access = For additional security, you can lock the student into the app using <1>Guided Access</1>{\".\"}\nfrontpage-text-testmode-ipads-and-iphones = Our <1>iPad and iPhone app</1> allows for offline practice. The app also supports additional levels of security.\nfrontpage-text-testmode-kiosk-mode = Kiosk mode provides an extra level of security by preventing other apps from being used while the calculator is open. Students will be locked into the calculator configuration they choose before pressing \"Start Test\". Before you sign in, click “Apps” on the bottom bar and then select Desmos Test Mode. To exit kiosk mode, turn the Chromebook off.\nfrontpage-text-testmode-kiosk-mode-colors = While in kiosk mode, the top bar of the calculator will change color according to the calculator in use: green for graphing, purple for scientific, blue for four function. There will also be a badge next to the Desmos logo.\nfrontpage-text-testmode-learn-district = In addition to the free Test Mode apps, we offer a paid version for districts, which includes configuration and customization features. <1>Learn more about Desmos District Test Mode</1>{\".\"}\nfrontpage-text-testmode-levels-of-security = This page describes the various levels of security available through our apps, along with instructions for installation and usage.\nfrontpage-text-testmode-low-stakes-assessments = Each app lets you administer low-stakes, proctored assessments with security features to help enforce your school's or classroom's policies. We also partner with Mobile Device Management (MDM) companies to provide an even more secure test-day experience.\nfrontpage-text-testmode-partners = Desmos partners with high-stakes test providers in <1>over 35 states and on several national and international exams</1> to provide access to our calculators on testing day.\nfrontpage-text-testmode-practice = Students can practice using the calculators on our <1>Practice Page</1>{\".\"} We also provide free apps for <2>Chromebooks,</2> <3>iPads, and iPhones</3> to support practice.\nfrontpage-text-testmode-practice-apps-match-test-day = Our practice apps match the configuration that students will encounter on test day. Students can practice for a specific assessment by selecting \"Choose Assessment\" on the opening screen.\nfrontpage-text-testmode-scientific-calculator-app-self-lock-mode-caption = Scientific calculator in App Self-Lock mode with a purple top bar.\nfrontpage-text-testmode-scientific-calculator-caption = Scientific calculator in kiosk mode with a purple top bar.\nfrontpage-text-testmode-scientific-calculator-purple-top-bar = The secure scientific calculator has a purple top bar.\nfrontpage-text-testmode-screen-pinning-mode = Screen Pinning mode provides an extra level of security by preventing other apps from being used while the calculator is open.\nfrontpage-text-testmode-secure-graphing-calculator-green-top-bar = The secure graphing calculator has a green top bar.\nfrontpage-text-testmode-students-can-leave-app-self-lock-mode = Please note that students can leave App Self-Lock by clicking \"I'm Done\" before the end of the test. You can monitor appropriate usage by looking at the log at the conclusion of the test. It will show how long the student was continuously in the application.\nfrontpage-text-testmode-students-can-leave-chromebook-app = Please note that students can leave the app by powering down their Chromebook and restarting it. You can monitor appropriate usage by looking at the log at the conclusion of the test. It will show how long the student was continuously in the application.\nfrontpage-text-testmode-students-can-opt-into-app-self-lock = Students can opt into App Self-Lock by pressing the \"Start Test\" button. While in App Self-Lock, students will be locked into the calculator they selected before pressing \"Start Test\". They will not be able to switch calculators nor leave the app until they leave App Self-Lock.\nfrontpage-text-testmode-to-help-teachers-and-students-prepare = To help students and teachers prepare for assessments, and to support ongoing instruction and formative assessment needs, Desmos has developed a suite of Test Mode apps.\npractice-button-sc-info-pdf = { $stateName } PDF\npractice-button-state-info-pdf = { $stateName } Information PDF\npractice-heading-accessibility = Accessibility\npractice-heading-is-desmos-on-test = Is Desmos on your test?\npractice-heading-national-international-assessments = National and International Assessments\npractice-heading-practice = Practice\npractice-heading-privacy = Privacy\npractice-heading-questions-and-feedback = Additional Questions and Feedback\npractice-heading-state-assessments = State Assessments\npractice-heading-title-test-mode = Test Mode\npractice-heading-title-testing = Testing\npractice-label-desmos-on-test = Desmos is on the test!\npractice-label-desmos-on-test-apply-nysed = Apply to NYSED to use Desmos!\npractice-label-desmos-on-test-partial = Desmos can be used on the test\npractice-label-desmos-on-tests = Desmos is on the tests!\npractice-label-ib-middle-years = International Baccalaureate® (IB) Middle Years Programme (MYP)\npractice-label-nwea-map-growth = NWEA MAP® Growth™\npractice-label-sample = Sample\npractice-label-sbac = Smarter Balanced\npractice-label-state-test = State Test:\npractice-label-state-tests = State Tests:\npractice-label-states-al-four-function-grades = Grades 6-8\npractice-label-states-al-scientific-grades = Grades 6-8\npractice-label-states-az-graphing-grades = High School\npractice-label-states-az-scientific-grades = Grades 7-8\npractice-label-states-ca-four-function-grades = Grade 5 (Science, CAST), Grade 6 (Mathematics)\npractice-label-states-ca-graphing-grades = Grade 11 (Mathematics)\npractice-label-states-ca-scientific-grades = Grades 7-8 (Mathematics), Grades 8-12 (Science, CAST)\npractice-label-states-ct-four-function-grades = Grade 6\npractice-label-states-ct-scientific-grades = Grades 7-8\npractice-label-states-de-four-function-grades = Grade 6\npractice-label-states-de-graphing-grades = High School\npractice-label-states-de-scientific-grades = Grades 7-8\npractice-label-states-fl-scientific-grades = Grades 7-8\npractice-label-states-ga-four-function-grades = Grade 6\npractice-label-states-ga-graphing-grades = High School\npractice-label-states-ga-scientific-grades = Grades 7-8 & High School\npractice-label-states-hi-four-function-grades = Grade 6\npractice-label-states-hi-graphing-grades = High School\npractice-label-states-hi-scientific-grades = Grades 7-8\npractice-label-states-ia-four-function-grades = Grades 3-6 (Mathematics), Grade 5 (Science)\npractice-label-states-ia-scientific-grades = Grades 7-11 (Mathematics), Grades 8 & 10 (Science)\npractice-label-states-id-four-function-grades = Grade 6\npractice-label-states-id-graphing-grades = High School\npractice-label-states-id-scientific-grades = Grades 7-8\npractice-label-states-in-four-function-grades = Grade 6 (ILEARN and IAM)\npractice-label-states-in-graphing-grades = High School (ISTEP+)\npractice-label-states-in-scientific-grades = Grades 7-8 (ILEARN)\npractice-label-states-ky-four-function-grades = High School (Mathematics)\npractice-label-states-ky-graphing-grades = High School (Mathematics and Science)\npractice-label-states-ky-scientific-grades = High School (Mathematics)\npractice-label-states-la-graphing-grades = High School\npractice-label-states-ma-graphing-grades = Grades 8 & 10 (Mathematics)\npractice-label-states-ma-scientific-grades = High School (Introductory Physics)\npractice-label-states-md-four-function-grades = Grade 5 (Science), Grades 3-7 (Mathematics)\npractice-label-states-md-graphing-grades = High School (Mathematics)\npractice-label-states-md-scientific-grades = Grade 8 (Mathematics), Grade 8 (Science)\npractice-label-states-mi-four-function-grades = Grade 6\npractice-label-states-mi-scientific-grades = Grade 7\npractice-label-states-mo-four-function-grades = Grade 5 & 8 (Science), Grades 6-8 (Mathematics)\npractice-label-states-mo-graphing-grades = Grades 6-8 (Mathematics), Algebra I, Algebra II, Geometry, Grade 8 (Science), Physical Science, and Biology\npractice-label-states-mo-scientific-grades = Grades 6-8 (Mathematics), Grade 8 (Science)\npractice-label-states-ms-graphing-grades = Algebra 1\npractice-label-states-mt-four-function-grades = Grade 6\npractice-label-states-mt-graphing-grades = High School\npractice-label-states-mt-scientific-grades = Grades 7-8\npractice-label-states-nc-four-function-grades = Grades 3-5\npractice-label-states-nc-graphing-grades = Grade 8, Math 1, and above\npractice-label-states-nc-scientific-grades = Grades 6-8\npractice-label-states-nd-four-function-grades = Grade 6\npractice-label-states-nd-graphing-grades = High School-Grade 11\npractice-label-states-nd-scientific-grades = Grades 7-8\npractice-label-states-ne-four-function-grades = Grade 6\npractice-label-states-ne-scientific-grades = Grades 7-8\npractice-label-states-nh-four-function-grades = Grade 6\npractice-label-states-nh-graphing-grades = High School\npractice-label-states-nh-scientific-grades = Grades 7-8\npractice-label-states-nv-four-function-grades = Grade 5 (Science), Grade 6 (Mathematics)\npractice-label-states-nv-scientific-grades = Grades 7-8 (Mathematics), Grade 8, High School (Science)\npractice-label-states-ny-graphing-grades = High School (Mathematics)\npractice-label-states-oh-graphing-grades = High School\npractice-label-states-oh-scientific-grades = Grades 3-8\npractice-label-states-or-four-function-grades = Grade 6 (Mathematics), Grade 5 (Science)\npractice-label-states-or-graphing-grades = Grades 8, 11 (Science), High School (Mathematics)\npractice-label-states-or-scientific-grades = Grades 7-8 (Mathematics)\npractice-label-states-ri-graphing-grades = Grade 8 (Mathematics), Grade 11 (Science)\npractice-label-states-sc-alt-four-function-grades = Grade 6, Alternate Assessments\npractice-label-states-sc-alt-scientific-grades = Grades 7, 8, 11, Alternate Assessments\npractice-label-states-sc-std-four-function-grades = Grades 6 (Math, Science)\npractice-label-states-sc-std-graphing-grades = Grades 7-8 (Math), Algebra 1, Biology\npractice-label-states-sc-std-scientific-grades = Grades 6 (Math, Science), 7-8 (Math), Algebra 1, Biology\npractice-label-states-sd-four-function-grades = Grade 6\npractice-label-states-sd-graphing-grades = High School\npractice-label-states-sd-scientific-grades = Grades 7-8\npractice-label-states-tx-four-function-grades = Grade 8 Science, Biology\npractice-label-states-tx-graphing-grades = Grade 8 Science, Biology, Grade 8 Math, Algebra 1, Algebra 2\npractice-label-states-tx-scientific-grades = Grade 8 Science, Biology\npractice-label-states-ut-graphing-grades = Grades 9-10 (Mathematics)\npractice-label-states-ut-scientific-grades = Grades 9-10 (Science)\npractice-label-states-va-four-function-grades = Grades 4-5\npractice-label-states-va-graphing-grades = High School\npractice-label-states-va-scientific-grades = Grades 6-8\npractice-label-states-vi-four-function-grades = Grade 6\npractice-label-states-vi-graphing-grades = Grades 10-11\npractice-label-states-vi-scientific-grades = Grades 7-8\npractice-label-states-vt-four-function-grades = Grade 6\npractice-label-states-vt-graphing-grades = High School\npractice-label-states-vt-scientific-grades = Grades 7-8\npractice-label-states-wa-four-function-grades = Grade 5 (Science), Grade 6 (Mathematics)\npractice-label-states-wa-graphing-grades = High School (Mathematics)\npractice-label-states-wa-scientific-grades = Grades 7-8 (Mathematics), Grade 8 & High School (Science)\npractice-label-states-wv-four-function-grades = Grade 6\npractice-label-states-wv-graphing-grades = High School\npractice-label-states-wv-scientific-grades = Grades 7-8\npractice-label-states-wy-four-function-grades = Grade 6\npractice-label-states-wy-graphing-grades = High School\npractice-label-states-wy-scientific-grades = Grades 7-8\npractice-link-four-function = Four Function Calculator\npractice-link-graphing = Graphing Calculator\npractice-link-scientific = Scientific Calculator\npractice-narration-close-details = Close Details About { $stateName }\npractice-text-accessibility-information = Desmos is committed to helping every student love learning math. We are proud to say that the Desmos calculators are <1>WCAG 2.1 AA compliant. </1>The accessibility improvements we've made ensure students who are blind or visually impaired have the same opportunities as their peers to discover the joy of learning math. Please read more about this at <2>www.desmos.com/accessibility</2>{\".\"}\npractice-text-calculator-note = These calculators differ from the ones on our site. You can find more information in the PDF.\npractice-text-data-privacy = Additional rules apply for data privacy when dealing with children under 13. The <1>Four-Function</1> and <2>Scientific</2> calculators, which will be used by students under the age of 13, never request student data as there is no way to log in.\npractice-text-description-test-mode = Learn how to configure Test Mode to use Desmos calculators on assessments.\npractice-text-description-testing = Is Desmos on your test? Find out if the Desmos calculators are on your state assessments.\npractice-text-different-calculators-ib = Please note that these calculators differ from the ones on our site. You can find more information in <1>our overview PDF</1>{\".\"} Students can practice on the sample <2>Scientific Calculator</2>{\".\"}\npractice-text-different-calculators-nwea = Please note that these calculators differ from the ones on our site. You can find more information in <1>our overview PDF</1>{\".\"} Students can practice on the sample <2>Four Function</2> or <3>Scientific Calculator</3>{\".\"}\npractice-text-different-calculators-sbac = Desmos calculators are available on Smarter Balanced assessments. Please note that these calculators differ from the standard ones on our site. Students who reside in a Smarter Balanced member state or U.S. territory can practice with the calculators configured for specific test settings available below.\npractice-text-more-information = Interested in learning more about Desmos calculator found on your state or national assessment? Check out our <1>professional learning and development offerings</1>{\".\"}\npractice-text-national-international-assessments = Desmos is now available on national and international assessments! These assessments include:\npractice-text-practice-information = To help students and teachers prepare for assessments, and to support ongoing instruction and formative assessment needs, Desmos has developed a suite of Test Mode apps. Our practice apps match the configuration that students will encounter on test day. You can learn more at <1>www.desmos.com/test-mode</1>{\".\"}\npractice-text-privacy = During test administrations, Desmos will not receive any data about students. Vendors will host the Desmos technology directly on their servers and will not exchange any data with Desmos's servers. Furthermore, students do not need to sign in or provide any personal information about themselves to be able to practice with Desmos calculators before the test.\npractice-text-questions = We know this change may prompt additional questions from teachers, parents, and administrators. Please don't hesitate to email questions or feedback to <1>support@desmos.com</1>{\".\"}\npractice-text-state-assessments = Desmos is also available on a range of state assessments! Find your state below to learn more.\npractice-text-state-not-listed = If Desmos isn't on your state assessment yet, and you're interested in changing that, <1>please let us know!</1>\npractice-text-students-create-accounts = While practicing for the test, some 11th-grade students using <1>desmos.com/calculator</1> may choose to create accounts to be able to save work for a later time. We encourage everyone to review the <2>Desmos Privacy Policy</2>, which describes what information we collect from these users who are over the age of 13 and what we do with that information.\n"})),i("lib/i18n-homepage-langs",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHomepageLanguage=t.homepage_languages=void 0,t.homepage_languages={ar:!0,de:!0,en:!0,es:!0,et:!0,fr:!0,id:!0,it:!0,ja:!0,ko:!0,nl:!0,pl:!0,"pt-BR":!0,ru:!0,"sv-SE":!0,th:!0,tr:!0,vi:!0,"zh-CN":!0,"zh-TW":!0},t.isHomepageLanguage=function(e){return!!t.homepage_languages[e]}})),i("@fluent/bundle",["exports"],(function(t){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var a=function(e){if(!e)return[];Array.isArray(e)||(e=[e]);for(var t={},n=0;n<e.length;++n){var i=e[n];if(i&&"object"===r(i)&&(i=String(i)),"string"!=typeof i){var o="Locales should be strings, ".concat(JSON.stringify(i)," isn't.");throw new TypeError(o)}if("*"!==i[0]){if(!i.split("-").every((function(e){return/[a-z0-9]+/i.test(e)}))){var a=JSON.stringify(i),s="The locale ".concat(a," is not a structurally valid BCP 47 language tag.");throw new RangeError(s)}t[i]=!0}}return Object.keys(t)},s=Object.freeze({__proto__:null,default:function(e,t,n){var r=function(e){do{if(t(e))return e;e=e.replace(/-?[^-]*$/,"")}while(e);return null},i=function(e){for(var t=a(e),n=0;n<t.length;++n){var i=r(t[n]);if(i)return i}return r("undefined"!=typeof navigator&&navigator&&(navigator.userLanguage||navigator.language)||"en-US")},s=function(){function s(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),this._locale=i(n),this._select=t(this._locale),this._type=function(e){if(!e)return"cardinal";if("cardinal"===e||"ordinal"===e)return e;throw new RangeError("Not a valid plural type: "+JSON.stringify(e))}(r.type),this._nf=new e("en",r)}return o(s,null,[{key:"supportedLocalesOf",value:function(e){return a(e).filter(r)}}]),o(s,[{key:"resolvedOptions",value:function(){var e=this._nf.resolvedOptions(),t=e.minimumIntegerDigits,r=e.minimumFractionDigits,i=e.maximumFractionDigits,o=e.minimumSignificantDigits,a=e.maximumSignificantDigits,s={locale:this._locale,minimumIntegerDigits:t,minimumFractionDigits:r,maximumFractionDigits:i,pluralCategories:n(this._locale,"ordinal"===this._type),type:this._type};return"number"==typeof o&&(s.minimumSignificantDigits=o,s.maximumSignificantDigits=a),s}},{key:"select",value:function(e){if(!(this instanceof s))throw new TypeError("select() called on incompatible ".concat(this));if("number"!=typeof e&&(e=Number(e)),!isFinite(e))return"other";var t=this._nf.format(Math.abs(e));return this._select(t,"ordinal"===this._type)}}]),s}();return Object.defineProperty(s,"prototype",{writable:!1}),s}});function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l,d=function(){function e(t,n){var r=n.minimumIntegerDigits,i=n.minimumFractionDigits,o=n.maximumFractionDigits,a=n.minimumSignificantDigits,s=n.maximumSignificantDigits;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._minID="number"==typeof r?r:1,this._minFD="number"==typeof i?i:0,this._maxFD="number"==typeof o?o:Math.max(this._minFD,3),"number"!=typeof a&&"number"!=typeof s||(this._minSD="number"==typeof a?a:1,this._maxSD="number"==typeof s?s:21)}var t,n;return t=e,(n=[{key:"resolvedOptions",value:function(){var e={minimumIntegerDigits:this._minID,minimumFractionDigits:this._minFD,maximumFractionDigits:this._maxFD};return"number"==typeof this._minSD&&(e.minimumSignificantDigits=this._minSD,e.maximumSignificantDigits=this._maxSD),e}},{key:"format",value:function(e){if(this._minSD){for(var t=String(e),n=0,r=0;r<t.length;++r){var i=t[r];i>="0"&&i<="9"&&++n}return n<this._minSD?e.toPrecision(this._minSD):n>this._maxSD?e.toPrecision(this._maxSD):t}return this._minFD>0?e.toFixed(this._minFD):0===this._maxFD?e.toFixed(0):String(e)}}])&&c(t.prototype,n),e}(),u=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}(s),p=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){function t(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var r=t(u),i=t(d);function o(e){return(o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n||"undefined"!=typeof self&&self;var c=s((function(e,t){function n(e,t){return t?"other":1==e?"one":"other"}function r(e,t){return t?"other":0==e||1==e?"one":"other"}function i(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"}function o(e,t){return"other"}function a(e,t){return t?"other":1==e?"one":2==e?"two":"other"}!function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),e.exports=n}(0,{_in:o,af:n,ak:r,am:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},an:n,ar:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"},ars:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"},as:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},asa:n,ast:i,az:function(e,t){var n=String(e).split(".")[0],r=n.slice(-1),i=n.slice(-2),o=n.slice(-3);return t?1==r||2==r||5==r||7==r||8==r||20==i||50==i||70==i||80==i?"one":3==r||4==r||100==o||200==o||300==o||400==o||500==o||600==o||700==o||800==o||900==o?"few":0==n||6==r||40==i||60==i||90==i?"many":"other":1==e?"one":"other"},be:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return t?2!=i&&3!=i||12==o||13==o?"other":"few":1==i&&11!=o?"one":i>=2&&i<=4&&(o<12||o>14)?"few":r&&0==i||i>=5&&i<=9||o>=11&&o<=14?"many":"other"},bem:n,bez:n,bg:n,bho:r,bm:o,bn:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},bo:o,br:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),o=r&&n[0].slice(-2),a=r&&n[0].slice(-6);return t?"other":1==i&&11!=o&&71!=o&&91!=o?"one":2==i&&12!=o&&72!=o&&92!=o?"two":(3==i||4==i||9==i)&&(o<10||o>19)&&(o<70||o>79)&&(o<90||o>99)?"few":0!=e&&r&&0==a?"many":"other"},brx:n,bs:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=r.slice(-2),c=i.slice(-1),l=i.slice(-2);return t?"other":o&&1==a&&11!=s||1==c&&11!=l?"one":o&&a>=2&&a<=4&&(s<12||s>14)||c>=2&&c<=4&&(l<12||l>14)?"few":"other"},ca:function(e,t){var n=!String(e).split(".")[1];return t?1==e||3==e?"one":2==e?"two":4==e?"few":"other":1==e&&n?"one":"other"},ce:n,ceb:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=i.slice(-1);return t?"other":o&&(1==r||2==r||3==r)||o&&4!=a&&6!=a&&9!=a||!o&&4!=s&&6!=s&&9!=s?"one":"other"},cgg:n,chr:n,ckb:n,cs:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1];return t?"other":1==e&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(e,t){return t?0==e||7==e||8==e||9==e?"zero":1==e?"one":2==e?"two":3==e||4==e?"few":5==e||6==e?"many":"other":0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e,t){var n=String(e).split("."),r=n[0],i=Number(n[0])==e;return t||1!=e&&(i||0!=r&&1!=r)?"other":"one"},de:i,dsb:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-2),s=i.slice(-2);return t?"other":o&&1==a||1==s?"one":o&&2==a||2==s?"two":o&&(3==a||4==a)||3==s||4==s?"few":"other"},dv:n,dz:o,ee:n,el:n,en:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&r?"one":"other"},eo:n,es:n,et:i,eu:n,fa:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ff:function(e,t){return t?"other":e>=0&&e<2?"one":"other"},fi:i,fil:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=i.slice(-1);return t?1==e?"one":"other":o&&(1==r||2==r||3==r)||o&&4!=a&&6!=a&&9!=a||!o&&4!=s&&6!=s&&9!=s?"one":"other"},fo:n,fr:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},fur:n,fy:i,ga:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?1==e?"one":"other":1==e?"one":2==e?"two":r&&e>=3&&e<=6?"few":r&&e>=7&&e<=10?"many":"other"},gd:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?1==e||11==e?"one":2==e||12==e?"two":3==e||13==e?"few":"other":1==e||11==e?"one":2==e||12==e?"two":r&&e>=3&&e<=10||r&&e>=13&&e<=19?"few":"other"},gl:i,gsw:n,gu:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},guw:r,gv:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],o=r.slice(-1),a=r.slice(-2);return t?"other":i&&1==o?"one":i&&2==o?"two":!i||0!=a&&20!=a&&40!=a&&60!=a&&80!=a?i?"other":"many":"few"},ha:n,haw:n,he:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],o=Number(n[0])==e,a=o&&n[0].slice(-1);return t?"other":1==e&&i?"one":2==r&&i?"two":i&&(e<0||e>10)&&o&&0==a?"many":"other"},hi:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},hr:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=r.slice(-2),c=i.slice(-1),l=i.slice(-2);return t?"other":o&&1==a&&11!=s||1==c&&11!=l?"one":o&&a>=2&&a<=4&&(s<12||s>14)||c>=2&&c<=4&&(l<12||l>14)?"few":"other"},hsb:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-2),s=i.slice(-2);return t?"other":o&&1==a||1==s?"one":o&&2==a||2==s?"two":o&&(3==a||4==a)||3==s||4==s?"few":"other"},hu:function(e,t){return t?1==e||5==e?"one":"other":1==e?"one":"other"},hy:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},ia:i,id:o,ig:o,ii:o,io:i,is:function(e,t){var n=String(e).split("."),r=n[0],i=Number(n[0])==e,o=r.slice(-1),a=r.slice(-2);return t?"other":i&&1==o&&11!=a||!i?"one":"other"},it:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},iu:a,iw:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],o=Number(n[0])==e,a=o&&n[0].slice(-1);return t?"other":1==e&&i?"one":2==r&&i?"two":i&&(e<0||e>10)&&o&&0==a?"many":"other"},ja:o,jbo:o,jgo:n,ji:i,jmc:n,jv:o,jw:o,ka:function(e,t){var n=String(e).split(".")[0],r=n.slice(-2);return t?1==n?"one":0==n||r>=2&&r<=20||40==r||60==r||80==r?"many":"other":1==e?"one":"other"},kab:function(e,t){return t?"other":e>=0&&e<2?"one":"other"},kaj:n,kcg:n,kde:o,kea:o,kk:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1);return t?6==i||9==i||r&&0==i&&0!=e?"many":"other":1==e?"one":"other"},kkj:n,kl:n,km:o,kn:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ko:o,ks:n,ksb:n,ksh:function(e,t){return t?"other":0==e?"zero":1==e?"one":"other"},ku:n,kw:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-2),o=r&&n[0].slice(-3),a=r&&n[0].slice(-5),s=r&&n[0].slice(-6);return t?r&&e>=1&&e<=4||i>=1&&i<=4||i>=21&&i<=24||i>=41&&i<=44||i>=61&&i<=64||i>=81&&i<=84?"one":5==e||5==i?"many":"other":0==e?"zero":1==e?"one":2==i||22==i||42==i||62==i||82==i||r&&0==o&&(a>=1e3&&a<=2e4||4e4==a||6e4==a||8e4==a)||0!=e&&1e5==s?"two":3==i||23==i||43==i||63==i||83==i?"few":1==e||1!=i&&21!=i&&41!=i&&61!=i&&81!=i?"other":"many"},ky:n,lag:function(e,t){var n=String(e).split(".")[0];return t?"other":0==e?"zero":0!=n&&1!=n||0==e?"other":"one"},lb:n,lg:n,lkt:o,ln:r,lo:function(e,t){return t&&1==e?"one":"other"},lt:function(e,t){var n=String(e).split("."),r=n[1]||"",i=Number(n[0])==e,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?"other":1==o&&(a<11||a>19)?"one":o>=2&&o<=9&&(a<11||a>19)?"few":0!=r?"many":"other"},lv:function(e,t){var n=String(e).split("."),r=n[1]||"",i=r.length,o=Number(n[0])==e,a=o&&n[0].slice(-1),s=o&&n[0].slice(-2),c=r.slice(-2),l=r.slice(-1);return t?"other":o&&0==a||s>=11&&s<=19||2==i&&c>=11&&c<=19?"zero":1==a&&11!=s||2==i&&1==l&&11!=c||2!=i&&1==l?"one":"other"},mas:n,mg:r,mgo:n,mk:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=r.slice(-2),c=i.slice(-1),l=i.slice(-2);return t?1==a&&11!=s?"one":2==a&&12!=s?"two":7!=a&&8!=a||17==s||18==s?"other":"many":o&&1==a&&11!=s||1==c&&11!=l?"one":"other"},ml:n,mn:n,mo:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||i>=2&&i<=19?"few":"other"},mr:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":"other":1==e?"one":"other"},ms:function(e,t){return t&&1==e?"one":"other"},mt:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":1==e?"one":0==e||r>=2&&r<=10?"few":r>=11&&r<=19?"many":"other"},my:o,nah:n,naq:a,nb:n,nd:n,ne:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?r&&e>=1&&e<=4?"one":"other":1==e?"one":"other"},nl:i,nn:n,nnh:n,no:n,nqo:o,nr:n,nso:r,ny:n,nyn:n,om:n,or:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?1==e||5==e||r&&e>=7&&e<=9?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":1==e?"one":"other"},os:n,osa:o,pa:r,pap:n,pl:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],o=r.slice(-1),a=r.slice(-2);return t?"other":1==e&&i?"one":i&&o>=2&&o<=4&&(a<12||a>14)?"few":i&&1!=r&&(0==o||1==o)||i&&o>=5&&o<=9||i&&a>=12&&a<=14?"many":"other"},prg:function(e,t){var n=String(e).split("."),r=n[1]||"",i=r.length,o=Number(n[0])==e,a=o&&n[0].slice(-1),s=o&&n[0].slice(-2),c=r.slice(-2),l=r.slice(-1);return t?"other":o&&0==a||s>=11&&s<=19||2==i&&c>=11&&c<=19?"zero":1==a&&11!=s||2==i&&1==l&&11!=c||2!=i&&1==l?"one":"other"},ps:n,pt:function(e,t){var n=String(e).split(".")[0];return t?"other":0==n||1==n?"one":"other"},pt_PT:i,rm:n,ro:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||i>=2&&i<=19?"few":"other"},rof:n,root:o,ru:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],o=r.slice(-1),a=r.slice(-2);return t?"other":i&&1==o&&11!=a?"one":i&&o>=2&&o<=4&&(a<12||a>14)?"few":i&&0==o||i&&o>=5&&o<=9||i&&a>=11&&a<=14?"many":"other"},rwk:n,sah:o,saq:n,sc:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},scn:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},sd:n,sdh:n,se:a,seh:n,ses:o,sg:o,sh:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=r.slice(-2),c=i.slice(-1),l=i.slice(-2);return t?"other":o&&1==a&&11!=s||1==c&&11!=l?"one":o&&a>=2&&a<=4&&(s<12||s>14)||c>=2&&c<=4&&(l<12||l>14)?"few":"other"},shi:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?"other":e>=0&&e<=1?"one":r&&e>=2&&e<=10?"few":"other"},si:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"";return t?"other":0==e||1==e||0==r&&1==i?"one":"other"},sk:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1];return t?"other":1==e&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},sl:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],o=r.slice(-2);return t?"other":i&&1==o?"one":i&&2==o?"two":i&&(3==o||4==o)||!i?"few":"other"},sma:a,smi:a,smj:a,smn:a,sms:a,sn:n,so:n,sq:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return t?1==e?"one":4==i&&14!=o?"many":"other":1==e?"one":"other"},sr:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=r.slice(-2),c=i.slice(-1),l=i.slice(-2);return t?"other":o&&1==a&&11!=s||1==c&&11!=l?"one":o&&a>=2&&a<=4&&(s<12||s>14)||c>=2&&c<=4&&(l<12||l>14)?"few":"other"},ss:n,ssy:n,st:n,su:o,sv:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?1!=o&&2!=o||11==a||12==a?"other":"one":1==e&&r?"one":"other"},sw:i,syr:n,ta:n,te:n,teo:n,th:o,ti:r,tig:n,tk:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-1);return t?6==r||9==r||10==e?"few":"other":1==e?"one":"other"},tl:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=i.slice(-1);return t?1==e?"one":"other":o&&(1==r||2==r||3==r)||o&&4!=a&&6!=a&&9!=a||!o&&4!=s&&6!=s&&9!=s?"one":"other"},tn:n,to:o,tr:n,ts:n,tzm:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?"other":0==e||1==e||r&&e>=11&&e<=99?"one":"other"},ug:n,uk:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],o=Number(n[0])==e,a=o&&n[0].slice(-1),s=o&&n[0].slice(-2),c=r.slice(-1),l=r.slice(-2);return t?3==a&&13!=s?"few":"other":i&&1==c&&11!=l?"one":i&&c>=2&&c<=4&&(l<12||l>14)?"few":i&&0==c||i&&c>=5&&c<=9||i&&l>=11&&l<=14?"many":"other"},ur:i,uz:n,ve:n,vi:function(e,t){return t&&1==e?"one":"other"},vo:n,vun:n,wa:r,wae:n,wo:o,xh:n,xog:n,yi:i,yo:o,yue:o,zh:o,zu:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"}})})),l=a(c),p=Object.freeze(Object.assign(Object.create(null),c,{default:l})),g=s((function(e,t){var n="zero",r="one",i="two",o="few",a="many",s="other",c={cardinal:[r,s],ordinal:[s]},l={cardinal:[s],ordinal:[s]},d={cardinal:[r,o,a,s],ordinal:[s]},u={cardinal:[r,s],ordinal:[r,s]},p={cardinal:[r,i,s],ordinal:[s]};!function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),e.exports=n}(0,{_in:l,af:c,ak:c,am:c,an:c,ar:{cardinal:[n,r,i,o,a,s],ordinal:[s]},ars:{cardinal:[n,r,i,o,a,s],ordinal:[s]},as:{cardinal:[r,s],ordinal:[r,i,o,a,s]},asa:c,ast:c,az:{cardinal:[r,s],ordinal:[r,o,a,s]},be:{cardinal:[r,o,a,s],ordinal:[o,s]},bem:c,bez:c,bg:c,bho:c,bm:l,bn:{cardinal:[r,s],ordinal:[r,i,o,a,s]},bo:l,br:{cardinal:[r,i,o,a,s],ordinal:[s]},brx:c,bs:{cardinal:[r,o,s],ordinal:[s]},ca:{cardinal:[r,s],ordinal:[r,i,o,s]},ce:c,ceb:c,cgg:c,chr:c,ckb:c,cs:d,cy:{cardinal:[n,r,i,o,a,s],ordinal:[n,r,i,o,a,s]},da:c,de:c,dsb:{cardinal:[r,i,o,s],ordinal:[s]},dv:c,dz:l,ee:c,el:c,en:{cardinal:[r,s],ordinal:[r,i,o,s]},eo:c,es:c,et:c,eu:c,fa:c,ff:c,fi:c,fil:u,fo:c,fr:u,fur:c,fy:c,ga:{cardinal:[r,i,o,a,s],ordinal:[r,s]},gd:{cardinal:[r,i,o,s],ordinal:[r,i,o,s]},gl:c,gsw:c,gu:{cardinal:[r,s],ordinal:[r,i,o,a,s]},guw:c,gv:{cardinal:[r,i,o,a,s],ordinal:[s]},ha:c,haw:c,he:{cardinal:[r,i,a,s],ordinal:[s]},hi:{cardinal:[r,s],ordinal:[r,i,o,a,s]},hr:{cardinal:[r,o,s],ordinal:[s]},hsb:{cardinal:[r,i,o,s],ordinal:[s]},hu:u,hy:u,ia:c,id:l,ig:l,ii:l,io:c,is:c,it:{cardinal:[r,s],ordinal:[a,s]},iu:p,iw:{cardinal:[r,i,a,s],ordinal:[s]},ja:l,jbo:l,jgo:c,ji:c,jmc:c,jv:l,jw:l,ka:{cardinal:[r,s],ordinal:[r,a,s]},kab:c,kaj:c,kcg:c,kde:l,kea:l,kk:{cardinal:[r,s],ordinal:[a,s]},kkj:c,kl:c,km:l,kn:c,ko:l,ks:c,ksb:c,ksh:{cardinal:[n,r,s],ordinal:[s]},ku:c,kw:{cardinal:[n,r,i,o,a,s],ordinal:[r,a,s]},ky:c,lag:{cardinal:[n,r,s],ordinal:[s]},lb:c,lg:c,lkt:l,ln:c,lo:{cardinal:[s],ordinal:[r,s]},lt:d,lv:{cardinal:[n,r,s],ordinal:[s]},mas:c,mg:c,mgo:c,mk:{cardinal:[r,s],ordinal:[r,i,a,s]},ml:c,mn:c,mo:{cardinal:[r,o,s],ordinal:[r,s]},mr:{cardinal:[r,s],ordinal:[r,i,o,s]},ms:{cardinal:[s],ordinal:[r,s]},mt:d,my:l,nah:c,naq:p,nb:c,nd:c,ne:u,nl:c,nn:c,nnh:c,no:c,nqo:l,nr:c,nso:c,ny:c,nyn:c,om:c,or:{cardinal:[r,s],ordinal:[r,i,o,a,s]},os:c,osa:l,pa:c,pap:c,pl:d,prg:{cardinal:[n,r,s],ordinal:[s]},ps:c,pt:c,pt_PT:c,rm:c,ro:{cardinal:[r,o,s],ordinal:[r,s]},rof:c,root:l,ru:d,rwk:c,sah:l,saq:c,sc:{cardinal:[r,s],ordinal:[a,s]},scn:{cardinal:[r,s],ordinal:[a,s]},sd:c,sdh:c,se:p,seh:c,ses:l,sg:l,sh:{cardinal:[r,o,s],ordinal:[s]},shi:{cardinal:[r,o,s],ordinal:[s]},si:c,sk:d,sl:{cardinal:[r,i,o,s],ordinal:[s]},sma:p,smi:p,smj:p,smn:p,sms:p,sn:c,so:c,sq:{cardinal:[r,s],ordinal:[r,a,s]},sr:{cardinal:[r,o,s],ordinal:[s]},ss:c,ssy:c,st:c,su:l,sv:u,sw:c,syr:c,ta:c,te:c,teo:c,th:l,ti:c,tig:c,tk:{cardinal:[r,s],ordinal:[o,s]},tl:u,tn:c,to:l,tr:c,ts:c,tzm:c,ug:c,uk:{cardinal:[r,o,a,s],ordinal:[o,s]},ur:c,uz:c,ve:c,vi:{cardinal:[s],ordinal:[r,s]},vo:c,vun:c,wa:c,wae:c,wo:l,xh:c,xog:c,yi:c,yo:l,yue:l,zh:l,zu:c})})),h=a(g),f=l||p,m=h||Object.freeze(Object.assign(Object.create(null),g,{default:h})),y="object"===("undefined"==typeof Intl?"undefined":o(Intl))&&Intl.NumberFormat||i.default,b=function(e){return"in"===e?"_in":"pt-PT"===e?"pt_PT":e},v=r.default(y,(function(e){return f[b(e)]}),(function(e,t){return m[b(e)][t?"ordinal":"cardinal"]}));e.exports=v}(l={path:void 0,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&l.path)}},l.exports),l.exports)),g=Intl.PluralRules||p,h=function(e){this.value=e};h.prototype.valueOf=function(){return this.value};var f=function(e){function t(t){void 0===t&&(t="???"),e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(e){return"{"+this.value+"}"},t}(h),m=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,t),this.opts=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}},t}(h),y=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,t),this.opts=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}},t}(h);function b(e,t,n){return n===t||n instanceof m&&t instanceof m&&n.value===t.value||t instanceof m&&"string"==typeof n&&n===e.memoizeIntlObject(g,t.opts).select(t.value)}function v(e,t,n){return t[n]?E(e,t[n].value):(e.reportError(new RangeError("No default")),new f)}function x(e,t){for(var n=[],r=Object.create(null),i=0,o=t;i<o.length;i+=1){var a=o[i];"narg"===a.type?r[a.name]=w(e,a.value):n.push(w(e,a))}return{positional:n,named:r}}function w(e,t){switch(t.type){case"str":return t.value;case"num":return new m(t.value,{minimumFractionDigits:t.precision});case"var":return function(e,t){var n,r=t.name;if(e.params){if(!Object.prototype.hasOwnProperty.call(e.params,r))return new f("$"+r);n=e.params[r]}else{if(!e.args||!Object.prototype.hasOwnProperty.call(e.args,r))return e.reportError(new ReferenceError("Unknown variable: $"+r)),new f("$"+r);n=e.args[r]}if(n instanceof h)return n;switch(_typeof(n)){case"string":return n;case"number":return new m(n);case"object":if(n instanceof Date)return new y(n.getTime());default:return e.reportError(new TypeError("Variable type not supported: $"+r+", "+_typeof(n))),new f("$"+r)}}(e,t);case"mesg":return function(e,t){var n=t.name,r=t.attr,i=e.bundle._messages.get(n);if(!i)return e.reportError(new ReferenceError("Unknown message: "+n)),new f(n);if(r){var o=i.attributes[r];return o?E(e,o):(e.reportError(new ReferenceError("Unknown attribute: "+r)),new f(n+"."+r))}return i.value?E(e,i.value):(e.reportError(new ReferenceError("No value: "+n)),new f(n))}(e,t);case"term":return function(e,t){var n=t.name,r=t.attr,i=t.args,o="-"+n,a=e.bundle._terms.get(o);if(!a)return e.reportError(new ReferenceError("Unknown term: "+o)),new f(o);if(r){var s=a.attributes[r];if(s){e.params=x(e,i).named;var c=E(e,s);return e.params=null,c}return e.reportError(new ReferenceError("Unknown attribute: "+r)),new f(o+"."+r)}e.params=x(e,i).named;var l=E(e,a.value);return e.params=null,l}(e,t);case"func":return function(e,t){var n=t.name,r=t.args,i=e.bundle._functions[n];if(!i)return e.reportError(new ReferenceError("Unknown function: "+n+"()")),new f(n+"()");if("function"!=typeof i)return e.reportError(new TypeError("Function "+n+"() is not callable")),new f(n+"()");try{var o=x(e,r);return i(o.positional,o.named)}catch(t){return e.reportError(t),new f(n+"()")}}(e,t);case"select":return function(e,t){var n=t.selector,r=t.variants,i=t.star,o=w(e,n);if(o instanceof f)return v(e,r,i);for(var a=0,s=r;a<s.length;a+=1){var c=s[a];if(b(e,o,w(e,c.key)))return E(e,c.value)}return v(e,r,i)}(e,t);default:return new f}}function A(e,t){if(e.dirty.has(t))return e.reportError(new RangeError("Cyclic reference")),new f;e.dirty.add(t);for(var n=[],r=e.bundle._useIsolating&&t.length>1,i=0,o=t;i<o.length;i+=1){var a=o[i];if("string"!=typeof a){if(e.placeables++,e.placeables>100)throw e.dirty.delete(t),new RangeError("Too many placeables expanded: "+e.placeables+", max allowed is 100");r&&n.push("⁨"),n.push(w(e,a).toString(e)),r&&n.push("⁩")}else n.push(e.bundle._transform(a))}return e.dirty.delete(t),n.join("")}function E(e,t){return"string"==typeof t?e.bundle._transform(t):A(e,t)}var k=function(e,t,n){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=n};function I(e,t){for(var n=Object.create(null),r=0,i=Object.entries(e);r<i.length;r+=1){var o=i[r],a=o[0],s=o[1];t.includes(a)&&(n[a]=s.valueOf())}return n}k.prototype.reportError=function(e){if(!this.errors)throw e;this.errors.push(e)},k.prototype.memoizeIntlObject=function(e,t){var n=this.bundle._intls.get(e);n||(n={},this.bundle._intls.set(e,n));var r=JSON.stringify(t);return n[r]||(n[r]=new e(this.bundle.locales,t)),n[r]};var S=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function M(e,t){var n=e[0];if(n instanceof f)return new f("NUMBER("+n.valueOf()+")");if(n instanceof m||n instanceof y)return new m(n.valueOf(),Object.assign({},n.opts,I(t,S)));throw new TypeError("Invalid argument to NUMBER")}var C=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function D(e,t){var n=e[0];if(n instanceof f)return new f("DATETIME("+n.valueOf()+")");if(n instanceof m||n instanceof y)return new y(n.valueOf(),Object.assign({},n.opts,I(t,C)));throw new TypeError("Invalid argument to DATETIME")}var T=function(e,t){void 0===t&&(t={});var n=t.functions,r=t.useIsolating;void 0===r&&(r=!0);var i=t.transform;void 0===i&&(i=function(e){return e}),this._terms=new Map,this._messages=new Map,this._intls=new WeakMap,this.locales=Array.isArray(e)?e:[e],this._functions=Object.assign({},{NUMBER:M,DATETIME:D},n),this._useIsolating=r,this._transform=i};T.prototype.hasMessage=function(e){return this._messages.has(e)},T.prototype.getMessage=function(e){return this._messages.get(e)},T.prototype.addResource=function(e,t){void 0===t&&(t={});var n=t.allowOverrides;void 0===n&&(n=!1);for(var r=[],i=0;i<e.body.length;i++){var o=e.body[i];if(o.id.startsWith("-")){if(!1===n&&this._terms.has(o.id)){r.push(new Error('Attempt to override an existing term: "'+o.id+'"'));continue}this._terms.set(o.id,o)}else{if(!1===n&&this._messages.has(o.id)){r.push(new Error('Attempt to override an existing message: "'+o.id+'"'));continue}this._messages.set(o.id,o)}}return r},T.prototype.formatPattern=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),"string"==typeof e)return this._transform(e);var r=new k(this,n,t);try{return A(r,e).toString(r)}catch(e){if(r.errors)return r.errors.push(e),(new f).toString(r);throw e}};var L=/^(-?[a-zA-Z][\w-]*) *= */gm,_=new RegExp("\\.([a-zA-Z][\\w-]*) *= *","y"),O=new RegExp("\\*?\\[","y"),B=new RegExp("(-?[0-9]+(?:\\.([0-9]+))?)","y"),P=new RegExp("([a-zA-Z][\\w-]*)","y"),F=new RegExp("([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?","y"),N=/^[A-Z][A-Z0-9_-]*$/,q=new RegExp("([^{}\\n\\r]+)","y"),R=new RegExp('([^\\\\"\\n\\r]*)',"y"),z=new RegExp('\\\\([\\\\"])',"y"),U=new RegExp("\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})","y"),j=/^\n+/,Q=/ +$/,G=/ *\r?\n/g,V=/( *)$/,Y=new RegExp("{\\s*","y"),H=new RegExp("\\s*}","y"),K=new RegExp("\\[\\s*","y"),W=new RegExp("\\s*] *","y"),J=new RegExp("\\s*\\(\\s*","y"),X=new RegExp("\\s*->\\s*","y"),Z=new RegExp("\\s*:\\s*","y"),$=new RegExp("\\s*,?\\s*","y"),ee=new RegExp("\\s+","y"),te=function(e,t){this.value=e,this.length=t};t.FluentBundle=T,t.FluentDateTime=y,t.FluentNumber=m,t.FluentResource=function(e){this.body=[],L.lastIndex=0;for(var t=0;;){var n=L.exec(e);if(null===n)break;t=L.lastIndex;try{this.body.push(c(n[1]))}catch(e){if(e instanceof SyntaxError)continue;throw e}}function r(n){return n.lastIndex=t,n.test(e)}function i(n,r){if(e[t]===n)return t++,!0;if(r)throw new r("Expected "+n);return!1}function o(e,n){if(r(e))return t=e.lastIndex,!0;if(n)throw new n("Expected "+e.toString());return!1}function a(n){n.lastIndex=t;var r=n.exec(e);if(null===r)throw new SyntaxError("Expected "+n.toString());return t=n.lastIndex,r}function s(e){return a(e)[1]}function c(e){var t=l(),n=function(){for(var e=Object.create(null);r(_);){var t=s(_),n=l();if(null===n)throw new SyntaxError("Expected attribute value");e[t]=n}return e}();if(null===t&&0===Object.keys(n).length)throw new SyntaxError("Expected message value or attributes");return{id:e,value:t,attributes:n}}function l(){var n;if(r(q)&&(n=s(q)),"{"===e[t]||"}"===e[t])return d(n?[n]:[],1/0);var i=b();return i?n?d([n,i],i.length):(i.value=v(i.value,j),d([i],i.length)):n?v(n,Q):null}function d(n,i){for(void 0===n&&(n=[]);;)if(r(q))n.push(s(q));else if("{"!==e[t]){if("}"===e[t])throw new SyntaxError("Unbalanced closing brace");var o=b();if(!o)break;n.push(o),i=Math.min(i,o.length)}else n.push(u());var a=n.length-1,c=n[a];"string"==typeof c&&(n[a]=v(c,Q));for(var l=[],d=0,p=n;d<p.length;d+=1){var g=p[d];g instanceof te&&(g=g.value.slice(0,g.value.length-i)),g&&l.push(g)}return l}function u(){o(Y,SyntaxError);var e=p();if(o(H))return e;if(o(X)){var t=function(){for(var e,t=[],n=0;r(O);){i("*")&&(e=n);var o=h(),a=l();if(null===a)throw new SyntaxError("Expected variant value");t[n++]={key:o,value:a}}if(0===n)return null;if(void 0===e)throw new SyntaxError("Expected default variant");return{variants:t,star:e}}();return o(H,SyntaxError),Object.assign({},{type:"select",selector:e},t)}throw new SyntaxError("Unclosed placeable")}function p(){if("{"===e[t])return u();if(r(F)){var n=a(F),i=n[1],s=n[2],c=n[3];if(void 0===c&&(c=null),"$"===i)return{type:"var",name:s};if(o(J)){var l=function(){for(var n=[];;){switch(e[t]){case")":return t++,n;case void 0:throw new SyntaxError("Unclosed argument list")}n.push(g()),o($)}}();if("-"===i)return{type:"term",name:s,attr:c,args:l};if(N.test(s))return{type:"func",name:s,args:l};throw new SyntaxError("Function names must be all upper-case")}return"-"===i?{type:"term",name:s,attr:c,args:[]}:{type:"mesg",name:s,attr:c}}return f()}function g(){var e=p();return"mesg"!==e.type?e:o(Z)?{type:"narg",name:e.name,value:f()}:e}function h(){var e;return o(K,SyntaxError),e=r(B)?m():{type:"str",value:s(P)},o(W,SyntaxError),e}function f(){if(r(B))return m();if('"'===e[t])return function(){i('"',SyntaxError);for(var n="";;){if(n+=s(R),"\\"!==e[t]){if(i('"'))return{type:"str",value:n};throw new SyntaxError("Unclosed string literal")}n+=y()}}();throw new SyntaxError("Invalid expression")}function m(){var e=a(B),t=e[1],n=e[2];void 0===n&&(n="");var r=n.length;return{type:"num",value:parseFloat(t),precision:r}}function y(){if(r(z))return s(z);if(r(U)){var e=a(U),t=e[1],n=e[2],i=parseInt(t||n,16);return i<=55295||57344<=i?String.fromCodePoint(i):"�"}throw new SyntaxError("Unknown escape sequence")}function b(){var n=t;switch(o(ee),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return x(e.slice(n,t))}return" "===e[t-1]&&x(e.slice(n,t))}function v(e,t){return e.replace(t,"")}function x(e){var t=e.replace(G,"\n"),n=V.exec(e)[1].length;return new te(t,n)}},t.FluentType=h,Object.defineProperty(t,"__esModule",{value:!0})})),i("lib/fluent-bundle-sequence",["require","exports","tslib","@fluent/bundle"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FluentBundleSequence=t.LocalizableNumericValue=t.RTL_LANGUAGES=void 0,t.RTL_LANGUAGES=["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"];var i=function(e){this.value=e};t.LocalizableNumericValue=i;var o=function(){function e(e,t){this.bundles=e,this.onError=t}return e.fromSources=function(i,o,a){for(var s=[],c=0,l=i;c<l.length;c++){var d=l[c],u=d.lang,p=d.source,g=u.split("-")[0],h=new r.FluentBundle(u,n.__assign(n.__assign({},a),{useIsolating:t.RTL_LANGUAGES.indexOf(g)>=0}));h.addResource(new r.FluentResource(p),{allowOverrides:!1}),h.addResource(new r.FluentResource('\nl10n-internal-date-day-month-year = {DATETIME($d, month: "short", day: "numeric", year: "numeric")}\nl10n-internal-date-day-month = {DATETIME($d, month: "short", day: "numeric")}\nl10n-internal-time = {DATETIME($d, minute: "numeric", hour: "numeric")}\n      '),{allowOverrides:!1}),s.push(h)}return new e(s,o)},e.prototype.format=function(e,t){for(var n=0,r=this.bundles;n<r.length;n++){var i=r[n];if(i.hasMessage(e)){var o=i.getMessage(e);if(!(null==o?void 0:o.value))return;for(var a=[],s=i.formatPattern(o.value,this.coerceNumericVariables(t),a),c=0,l=a;c<l.length;c++){var d=l[c];this.onError("Error formatting "+e+" for locale "+i.locales.join(",")+": "+d)}return s}}this.onError("Couldn't find message for key "+e+" for locales "+this.getLocales().join(","))},e.prototype.formatDate=function(e,t){return t.showYear?this.format("l10n-internal-date-day-month-year",{d:e}):this.format("l10n-internal-date-day-month",{d:e})},e.prototype.formatTime=function(e){var t=this.format("l10n-internal-time",{d:e});return"en"===this.getLocales()[0]?null==t?void 0:t.toLowerCase():t},e.prototype.hasTranslation=function(e,t){for(var n=0,r=this.bundles;n<r.length;n++){var i=r[n];if(i.locales.indexOf(t)>=0)return i.hasMessage(e)}return!1},e.prototype.coerceNumericVariables=function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof i?r.value:"number"==typeof r?""+r:r}return t},e.prototype.getLocales=function(){return this.bundles.reduce((function(e,t){return e.concat(t.locales)}),[])},e}();t.FluentBundleSequence=o})),i("lib/i18n-core",["require","exports","text!l10n/all-en-strings.ftl","tslib","underscore","lib/console","./i18n-homepage-langs","./enabled-languages","./fluent-bundle-sequence"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0}),t.unpack=t.isSupportedLanguage=t.currentLanguage=t.formatWithFluent=t.createDictionaryLookupFunction=t.s=t.raw=t.hasTranslation=t.restrictToHomepageLanguages=t.initFluentData=t.setLanguage=t.locale_dict=void 0;var l="";t.locale_dict={};var d={},u={},p=["ar","hy-AM","hi","tr","xx-XX"];function g(e,t,n){return h(e,null!=t?t:{},null!=n?n:l)}function h(e,t,n){var r=f(n).format(e,function(e){var t={};for(var n in e){var r=e[n];void 0!==r&&(t[n]=r)}return t}(t));return null==r?(o.warn("Could not format string "+e),""):r}function f(e){var i=u[e];if(!i){t.locale_dict[e]||(t.locale_dict[e]=s.expandLocaleOptionsThoroughly([e]));for(var a=[],l=0,p=t.locale_dict[e];l<p.length;l++){var g=p[l],h=d[g];h&&a.push({lang:g,source:h})}var f={};"xx-XX"===e&&(f.transform=function(e){return e.replace(/[a-z]/gi,"♦")}),i=u[e]=c.FluentBundleSequence.fromSources(r.__spreadArray(r.__spreadArray([],a),[{lang:"en",source:n}]),(function(e){o.warn(e)}),f)}return i}t.setLanguage=function(e){l=e||""},t.initFluentData=function(e){for(var t in e)delete u[t],d[t]=e[t]},t.restrictToHomepageLanguages=function(){for(var e in s.ENABLED_LANGUAGES)a.isHomepageLanguage(e)||delete s.ENABLED_LANGUAGES[e]},t.hasTranslation=function(e,t){var n=null!=t?t:l;return f(n).hasTranslation(e,n)},t.raw=function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e=e.split("__"+n+"__").join(t[n]));return e},t.s=g,t.createDictionaryLookupFunction=function(e){return function(t,n){return h(t,null!=n?n:{},e())}},t.formatWithFluent=h,t.currentLanguage=function(){return l},t.isSupportedLanguage=function(e){return s.ENABLED_LANGUAGES.hasOwnProperty(e)||i.contains(p,e)},t.unpack=function e(t,n){if(null==t)return"";if("string"==typeof t)return t;if("number"==typeof t)return""+t;var r,i=t.vars;if(i)for(var o in r={},i)i.hasOwnProperty(o)&&(r[o]=e(i[o],n));return g(t.key,r,n)}})),i("lib/i18n",["require","exports","config","jquery","lib/console","./enabled-languages","./i18n-core","./i18n-core"],(function(e,t,n,r,i,o,s,c){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchLanguage=t.detectLanguage=t.locale_dict=t.unpack=t.currentLanguage=t.createDictionaryLookupFunction=t.s=t.raw=t.hasTranslation=t.restrictToHomepageLanguages=void 0,Object.defineProperty(t,"restrictToHomepageLanguages",{enumerable:!0,get:function(){return c.restrictToHomepageLanguages}}),Object.defineProperty(t,"hasTranslation",{enumerable:!0,get:function(){return c.hasTranslation}}),Object.defineProperty(t,"raw",{enumerable:!0,get:function(){return c.raw}}),Object.defineProperty(t,"s",{enumerable:!0,get:function(){return c.s}}),Object.defineProperty(t,"createDictionaryLookupFunction",{enumerable:!0,get:function(){return c.createDictionaryLookupFunction}}),Object.defineProperty(t,"currentLanguage",{enumerable:!0,get:function(){return c.currentLanguage}}),Object.defineProperty(t,"unpack",{enumerable:!0,get:function(){return c.unpack}});var l=void 0!==a&&a.localeData?a.localeData:{};function d(){for(var e=o.expandLocaleOptionsThoroughly([n.get("language"),navigator.userLanguage,navigator.language]),t=0;t<e.length;t++){var r=e[t];if(s.isSupportedLanguage(r))return r}return"en"}t.locale_dict={},t.detectLanguage=d,t.fetchLanguage=function(e){var t=r.Deferred();if(void 0===a)return t.reject(),t.promise();if(a.supportedLanguages||(a.supportedLanguages=[]),a.supportedLanguages.indexOf(e)>=0||"en"===e||"xx-XX"===e)return s.setLanguage(e),t.resolve(!0),t.promise();if(!s.isSupportedLanguage(e)){var n=-1!==e.indexOf("-")?e.split("-")[0]:e;for(var c in o.ENABLED_LANGUAGES)if(n===c.split("-")[0]&&o.ENABLED_LANGUAGES[c].useAsRoot){e=c;break}}return r.get("/api/v1/calculator/language/"+e+".ftl",(function(n){a.localeData||(a.localeData={}),a.supportedLanguages||(a.supportedLanguages=[]),a.localeData[e]=n[e],a.supportedLanguages.push(e),s.initFluentData(a.localeData),s.setLanguage(e),t.resolve(!0)})).fail((function(n){404===n.status&&i.warn(e+" is not an available language."),t.reject()})),t.promise()},s.initFluentData(l),s.setLanguage(d())})),i("underscore_model",["require","underscore","pjs"],(function(e){var t=e("underscore");return{UnderscoreModel:e("pjs")((function(e){var n=0,r="guid_"+Math.round(1e6*Math.random())+"_"+(new Date).getTime()+"_";e.init=function(){this.__observers={},this.__eventObservers={},this.__oldProperties={},this.__propertyComparators={},this.guid=r+ ++n},e.unobserveAll=function(){this.__observers={},this.__eventObservers={}},e.getProperty=function(e){return this[e]},e.getOldProperty=function(e){return this.__oldProperties[e]},e.setProperty=function(e,n){var r=this[e];this[e]=n;var i=this.__propertyComparators[e];if(i){if(i(r,n))return}else if(t.isEqual(r,n))return;this.__oldProperties[e]=r,this.notifyPropertyChange(e)},e.setProperties=function(e){for(var t in e)e.hasOwnProperty(t)&&this.setProperty(t,e[t])},e.setPropertyComparator=function(e,t){this.__propertyComparators[e]=t},e.notifyPropertyChange=function(e){this.__callObservers(this.__observers,e,this)},e.observe=function(e,t){this.__addObservers(this.__observers,e,t)},e.unobserve=function(e){this.__removeObservers(this.__observers,e)},e.observeAndSync=function(e,t){this.observe(e,t);for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r].split(".")[0];this.hasOwnProperty(i)&&t(i,this)}},e.triggerEvent=function(e,t){this.__callObservers(this.__eventObservers,e,t)},e.observeEvent=function(e,t){this.__addObservers(this.__eventObservers,e,t)},e.unobserveEvent=function(e){this.__removeObservers(this.__eventObservers,e)},e.__callObservers=function(e,t,n){var r=e[t];if(r)for(var i=0;i<r.length;i++)r[i].callback(t,n)},e.__removeObservers=function(e,t){for(var n=t.split(" "),r=0;r<n.length;r++){var i=n[r].split("."),o=i[0],a=i[1];if(o&&a){var s=e[o],c=[];if(!s)continue;for(var l=0;l<s.length;l++){var d=s[l];d.namespace!==a&&c.push(d)}e[o]=c}else if(o)delete e[o];else if(a)for(o in e)e.hasOwnProperty(o)&&this.__removeObservers(e,o+"."+a)}},e.__addObservers=function(e,t,n){for(var r=t.split(" "),i=0;i<r.length;i++){var o=r[i].split("."),a=o[0];if(!a)throw"Must supply a property to observe";var s={namespace:o[1],callback:n},c=e[a];c?c.push(s):e[a]=[s]}}}))}})),i("main/graph_settings",["require","pjs","underscore","underscore_model","core/graphing-calc/json/graph-settings","console","core/graphing-calc/json/graph-settings","core/lib/color-helpers"],(function(e){var t=e("pjs"),n=e("underscore"),r=e("underscore_model").UnderscoreModel,i=e("core/graphing-calc/json/graph-settings").AxisArrowModes,o=e("console"),s=e("core/graphing-calc/json/graph-settings").DefaultGraphSettings,c=e("core/lib/color-helpers"),l=t(r,(function(e,t,d){e.init=function(){for(var e in t.init.call(this),this.stateProperties=[],this.cloneProperties=[],this.config=new r,s)s.hasOwnProperty(e)&&this.addStateProperty(e,s[e]);this.labelHangingColor="rgba(150,150,150,1)",this.lastChangedAxis="x";var n=this;function i(e,t,r){function i(){n.setProperty(e,n.config.projectorMode?r:t)}n.cloneProperties.push(e),n.config.observe("projectorMode",i),i()}function o(e,t,r,i,o){function a(){var a;a=n.config.projectorMode?n.highlight?o:i:n.highlight?r:t,n.setProperty(e,a)}n.cloneProperties.push(e),n.observe("highlight",a),n.config.observe("projectorMode",a),a()}i("labelSize",14,19),i("majorAxisOpacity",.4,1),i("minorAxisOpacity",.12,.25),i("axisOpacity",.9,.9),i("axisLineWidth",1.5,2),i("axisLineOffset",.25,0),i("pixelsPerLabel",80,120),o("curveOpacity",.7,1,.7,1),i("globalCurveColor",void 0,void 0),i("disableFill",!1,!1),o("graphLineWidth",2.5,3.5,5,7),o("pointLineWidth",9,11,15,17)},e.addStateProperty=function(e,t){this[e]=t,this.stateProperties.push(e),this.cloneProperties.push(e)},d.fromObject=function(e){var t=l();return t.cloneProperties.forEach((function(n){e.hasOwnProperty(n)&&t.setProperty(n,e[n])})),t},e.registerCallbacks=function(e,t){var n=this,r=function(){e.redrawAllLayers()};this.stateProperties.forEach((function(e){n.observe(e,r)})),this.config.observe("backgroundColor",r),this.config.observe("textColor",r),this.config.observe("invertedColors",r),this.observe("squareAxes",(function(){e.viewportController.enforceSquareAxes()})),this.observe("backgroundColor",(function(){e.redrawAllLayers()})),this.observe("textColor",(function(){e.redrawAllLayers()})),this.config.observe("enableTabindex",(function(){e.redrawAllLayers()})),this.config.observeAndSync("projectorMode",(function(){e.redrawAllLayers()}))};var u=function(e,t){var r;switch(e){case"xAxisMinorSubdivisions":case"yAxisMinorSubdivisions":t!==(r=Math.round(Math.min(Math.max(0,t),5)))&&o.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+t+", which we changed to "+r+".");break;case"degreeMode":case"projectorMode":case"showGrid":case"showXAxis":case"showYAxis":case"xAxisNumbers":case"yAxisNumbers":case"polarNumbers":case"enableTabindex":case"invertedColors":t!==(r="false"!==t&&!!t)&&o.warn(e+" must be a Boolean. You provided "+t+" ("+_typeof(t)+"), which we changed to "+r+" ("+_typeof(r)+").");break;case"xAxisStep":case"yAxisStep":r=parseFloat(t),isFinite(t)||(r=0,o.warn(e+" must be a number. You provided "+t+", which we changed to "+r+"."));break;case"xAxisArrowMode":case"yAxisArrowMode":(r=i[t])!==t&&(r=i.NONE,o.warn("unknown AxisArrowMode. Allowed values are: \n"+n.keys(i).join("\n")));break;case"xAxisLabel":case"yAxisLabel":r=t,"string"!=typeof t&&(r="",o.warn(e+" must be a string. you provided a "+_typeof(t)+"."));break;case"randomSeed":r=t,"string"!=typeof t&&(r=""+t,o.warn("randomSeed must be a string. you provided a "+_typeof(t)+"."));break;case"backgroundColor":r=t,"string"!=typeof t&&(r="",o.warn(e+" must be a string. you provided a "+_typeof(t)+".")),r||(r="#fff"),"#"!==r[0]&&(r="#"+r);break;case"textColor":r=t,"string"!=typeof t&&(r="",o.warn(e+" must be a string. you provided a "+_typeof(t)+".")),r||(r="#000"),"#"!==r[0]&&(r="#"+r);break;case"fontSize":r=t,"number"!=typeof t&&(r=parseInt(r,10),o.warn("fontSize must be a number. Attempted to convert "+t+" to "+r+"."));break;case"language":r=t,"string"!=typeof t&&(r="",o.warn(e+" must be a string. you provided a "+_typeof(t)+".")),void 0!==a&&a.supportedLanguages.indexOf(t)<0&&"en"!==t&&(r="en",o.warn(t+" is not currently an available language."));break;default:r=t}return r};e._validateSettings=function(e){var t={},n=!1;for(var r in e)this.stateProperties.indexOf(r)>=0?t[r]=u(r,e[r]):(o.warn('Invalid graph setting "'+r+'".'),n=!0);return n&&o.warn("Available graph settings are: \n"+this.stateProperties.join("\n")),t},e.getBackgroundColor=function(){var e=c.normalizeColor(this.config.backgroundColor||"#fff");return this.config.invertedColors&&"#ffffff"!==e?c.invertColor(e):e},e.getTextColor=function(){var e=c.normalizeColor(this.config.textColor||"#000");return this.config.invertedColors&&"#000000"!==e?c.invertColor(e):e},e.setGraphSettings=function(e){var t=this._validateSettings(e);for(var n in t)t.hasOwnProperty(n)&&("projectorMode"===n||"invertedColors"===n||"fontSize"===n||"language"===n||"backgroundColor"===n||"textColor"===n?this.config.setProperty(n,t[n]):this.setProperty(n,t[n]))}}));return l})),i("scroll_helpers",["require"],(function(e){return{scrollVisible:function(e,t,n){var r,i=t.height(),o=e.outerHeight(),a=e.offset(),s=t.offset();if(!a||!s)return!1;var c=t[0].scrollTop,l=a.top+c-s.top,d=l-n,u=o+l+n-i;return(r=d>=u?Math.min(Math.max(c,u),d):.5*(d+u))!==c&&(t[0].scrollTop=r,t[0].scrollTop!=c)}}})),i("bugsnag",["require","exports","tslib"],(function(e,t,n){var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.setBeforeSendCB=t.leaveBreadcrumb=t.notify=t.init=void 0;var o=["UnhandledRejection","lnrAppboy","socratic","MyAppGet","SymBrowser_","mobincube_","_avast_submit","Cannot redefine property: googletag","jcarousel","SyntaxError: Unexpected identifier 'script'","__gCrWeb.autofill.extractForms","BrowseITEXT","Can't find variable: removeAllHighlights","aAttribruteValue.parentNode.getAttribute","vid_mate_check","GetImageTagSrcFromPoint","Can't find variable: didEnterViewPort","tinyMCE is not defined"];function a(){var e="production";if(location&&location.hostname){var t=location.hostname.split("."),n=t.slice(0,t.length-2).join(".");"desmos.com"===t.slice(t.length-2).join(".")&&(e=n&&"www"!==n?n:"production")}return e}t.init=function(e){if(!r){var t=0,n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}));r=e({apiKey:"7f7807097671acbc4557e64bbf5eb529",maxBreadcrumbs:40,appVersion:window.Desmos&&window.Desmos.commit,releaseStage:a(),consoleBreadcrumbsEnabled:!1,beforeSend:function(e){if(e.errorClass)for(var r=0,a=o;r<a.length;r++){var s=a[r];if(-1!==e.errorClass.indexOf(s))return void e.ignore()}if(e.errorMessage)for(var c=0,l=o;c<l.length;c++)if(s=l[c],-1!==e.errorMessage.indexOf(s))return void e.ignore();i&&i(e),e.isIgnored()||(t+=1,e.metaData.errorNumber=t,e.metaData.pageLoadId=n)}})}},t.notify=function(e,t){r&&r.notify(e,t)},t.leaveBreadcrumb=function(e,t,i,o){if(t)for(var a in t=n.__assign({},t))try{t[a]=JSON.stringify(t[a],null,2)}catch(e){t[a]="[[could not stringify]]"}r&&r.leaveBreadcrumb(e,t,i,o)},t.setBeforeSendCB=function(e){i=e}})),i("tours/trip",["require","jquery","pjs","mathquill","scroll_helpers","bugsnag"],(function(e){var t=e("jquery"),n=e("pjs"),r=e("mathquill"),i=e("scroll_helpers"),o=e("bugsnag");return n({init:function(e){this.settings=e,this.__cachedStepName=null},ensureTripBlock:function(){if(!this.$tripBlock){var e=['<div class="trip-block">','<div class="trip-interior">','<a class="trip-close">&times;</a>','<div class="trip-content"></div>',"</div>",'<div class="trip-arrow"></div>',"</div>"].join(""),n=this,r=this.$tripBlock=t(e);r.css({top:"-100px"}),t("body").append(r),r.find(".trip-close").on("dcg-tap",(function(e){e.preventDefault(),n.stop()})),this.bindKeyEvents()}},cleanup:function(){return this.unbindKeyEvents(),this.hideTripBlock(),!1},bindKeyEvents:function(){var e=this;t(document).on({"keydown.Trip":function(t){e.keyEvent.call(e,t)}})},unbindKeyEvents:function(){t(document).off("keydown.Trip")},keyEvent:function(e){27===e.which&&this.stop()},stop:function(){this.hideTripBlock(),this.settings.onTripStop()},exitTourBecauseOfError:function(e,t){var n="",r=t;do{n=r.selector+n}while(r=r.prevObject);this.stop(),o.notify("TourError: could not find $sel.offset()",{metaData:{message:e,selector:n}})},showTripBlock:function(e){this.ensureTripBlock(),"string"==typeof e.sel&&(e.sel=t(e.sel)),e.sel=e.sel.filter(":visible"),e.scrollContainer&&i.scrollVisible(e.sel,e.scrollContainer,0);var n=this.$tripBlock;n.find(".trip-content").html(e.content),n.toggleClass("trip-hidden",!!e.hidden);var o=e.sel,a=o.outerWidth(),s=o.outerHeight(),c=n.outerWidth(),l=n.outerHeight();if(o.offset()){this.__cachedMissingSelTime=void 0,n.removeClass("trip-e trip-s trip-w trip-n");var d=0;switch(e.position){case"e":n.addClass("trip-e"),n.css({left:o.offset().left+a+10,top:o.offset().top-(l-s)/2});break;case"s":n.addClass("trip-s");var u=o.offset().left+(a-c)/2;n.css({left:u,top:o.offset().top+s+10}),u+c>t(window).width()-1&&(d=t(window).width()-1-u-c),u<1&&(d=1-u);break;case"w":n.addClass("trip-w"),n.css({left:o.offset().left-(10+c),top:o.offset().top-(l-s)/2});break;default:n.addClass("trip-n"),n.css({left:o.offset().left+(a-c)/2,top:o.offset().top-10-l})}n.find(".trip-interior").css("transform","translate("+d+"px, 0)"),n.css({display:"inline-block"}),n.find(".trip-math:not(.dcg-mq-math-mode)").each((function(){r.StaticMath(this)}))}else this.__cachedMissingSelTime?Date.now()-this.__cachedMissingSelTime>1e3&&(e.final?this.stop():this.exitTourBecauseOfError(e.content,o)):this.__cachedMissingSelTime=Date.now()},fadeInTripBlock:function(){this.ensureTripBlock();var e=this.$tripBlock;setTimeout((function(){e.addClass("trip-is-loaded")}),0)},hideTripBlock:function(){this.$tripBlock&&this.$tripBlock.removeClass("trip-is-loaded")}})})),i("tours/tour_manager",["require","pjs","./trip"],(function(e){var t=e("pjs"),n=e("./trip");return t((function(e,t){e.init=function(){this.tripManager=new n({onTripStop:this.stopTour.bind(this)}),this.currentStep=void 0,this.currentTour=void 0},e._tripLoop=function(){if(clearTimeout(this.__tripLoopTimeout),this.running){var e=this;e._advanceTrip(),e.__tripLoopTimeout=setTimeout(e._tripLoop.bind(e),200)}},e._advanceTrip=function(){var e=this.currentTour.update(),t=(new Date).getTime();if(e&&this.currentStep&&e.content!==this.currentStep.content){if(this.currentStep.delayBeforeExit){if(this.throttleTimer&&t-this.throttleTimer<this.currentStep.delayBeforeExit)return;if(!this.throttleTimer)return void(this.throttleTimer=t)}e.delayBeforeEnter&&(this.currentStep=e,this.throttleTimer=t)}if(!(e&&this.currentStep&&e.content===this.currentStep.content&&this.throttleTimer&&t-this.throttleTimer<this.currentStep.delayBeforeEnter)&&(this.throttleTimer=null,e&&!e.doNotUpdate)){if(this.currentStep=e,e.final)return void this.finishTour(e,5);this.tripManager.showTripBlock(e)}},e.updateNow=e._advanceTrip,e.startTour=function(e){this.running||(this.currentTour=e,this.running=!0,this._tripLoop(),this.tripManager.fadeInTripBlock())},e.closingMsg=function(e,t){return"<b>"+e+"</b><br>This message will self-destruct in "+t+"..."},e.finishTour=function(e,t){clearTimeout(this.__tripLoopTimeout),this.running=!1;var n=this;t<0?n.tripManager.stop():(e.endingMsg&&(e.content=n.closingMsg(e.endingMsg,t)),n.tripManager.showTripBlock(e),setTimeout((function(){n.finishTour(e,t-1)}),1e3))},e.stopTour=function(){this.running=!1,this.currentStep=void 0,this.currentTour=void 0}}))})),i("core/math/rational-arithmetic-sequence",["require","core/math/distance","core/math/builtin"],(function(e){var t=e("core/math/distance"),n=e("core/math/builtin");return function(e,r){var i=n.toFraction(e),o=n.toFraction(r);if(t.approx(i.n/i.d,e)&&t.approx(o.n/o.d,r)){var a=n.lcm(i.d,o.d),s=i.n*(a/i.d);return{nstart:s,nstep:o.n*(a/o.d)-s,lcm:a}}}})),i("lib/named-colors",["require"],(function(e){return{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}})),i("lib/color-distance",["require","underscore","lib/named-colors"],(function(e){var t=e("underscore"),n=e("lib/named-colors");function r(e){var r,o=[],a=e.toLowerCase();if("rgb"===a.slice(0,3))try{o=a.replace(/[^\d,]/g,"").split(",").slice(0,3),o=t.map(o,(function(e){return parseInt(e,10)}))}catch(t){i(e)}else if("#"===a[0]){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/,(function(e,t,n,r){return t+t+n+n+r+r}));try{o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/.exec(a).slice(1),o=t.map(o,(function(e){return parseInt(e,16)}))}catch(t){i(e)}}else o=n[a];return r=o,t.isArray(r)&&3===r.length&&t.every(r,(function(e){return Number.isInteger(e)&&e>=0&&e<=255}))||i(e),{R:o[0],G:o[1],B:o[2]}}function i(e){throw new Error("Invalid color string: "+e)}function o(e){var n=e.R,r=e.G,i=e.B,o=[];return o[0]=.49*n+.31*r+.2*i,o[1]=.17697*n+.8124*r+.01063*i,o[2]=.01*r+.99*i,{X:(o=t.map(o,(function(e){return e/.17697})))[0],Y:o[1],Z:o[2]}}function a(e){var t=e.X,n=e.Y,r=e.Z,i=[];return i[0]=116*s(n/100)-16,i[1]=500*(s(t/95.047)-s(n/100)),i[2]=200*(s(n/100)-s(r/108.883)),{L:i[0],a:i[1],b:i[2]}}function s(e){var t=6/29;return e>Math.pow(t,3)?Math.pow(e,1/3):e/(3*t*t)+4/29}function c(e,t){return function(e,t){var n=e.L,r=e.a,i=e.b,o=t.L,a=t.a,s=t.b,c=n-o,l=Math.sqrt(r*r+i*i),d=l-Math.sqrt(a*a+s*s),u=r-a,p=i-s,g=c/1,h=d/(1*(1+.045*l)),f=Math.sqrt(u*u+p*p-d*d)/(1*(1+.015*l));return Math.sqrt(g*g+h*h+f*f)}(a(o(r(e))),a(o(r(t))))}return{str2rgb:r,difference:c,closestColor:function(e,n){var r=t.map(n,(function(t){return c(e,t)})),i=t.min(r);return n[r.indexOf(i)]},isLightColor:function(e){if("string"!=typeof e||!e)return!1;try{return c(e,"#fff")<20}catch(e){return!1}}}})),i("core/math/evaluate-single-expression",["require","exports","parser","core/math/builtinframe","core/math/parsenode/constant","core/math/policy"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(/^\s*(\-|\+)?([0-9]+(\.[0-9]+)?)\s*$/.test(e))return parseFloat(e);var a=Object.create(r);return a.trigAngleMultiplier=i(t?Math.PI/180:1),+n.parse(e).tryGetConcreteTree(o.defaultPolicy,a).asValue()}})),i("lib/rounding",["require","exports","core/math/distance"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.shortestDecimalBetween=void 0,t.shortestDecimalBetween=function(e,t){if(!isFinite(e))return e;if(!isFinite(t))return t;var r=n.mean(e,t);if(e>0!=t>0)return 0;if(0===e||0===t)return 0;var i=e>0?1:-1,o=Math.abs(e).toExponential().split("e"),a=Math.abs(t).toExponential().split("e"),s=o[0],c=a[0],l=o[1],d=a[1];if(d!==l)return i*Math.pow(10,Math.max(parseFloat(l),parseFloat(d)));if(s[0]!==c[0])return parseFloat(r.toPrecision(1));for(var u=1,p=2;p<Math.min(s.length,c.length)&&(u++,s[p]===c[p]);p++);return parseFloat(r.toPrecision(u))}})),i("core/lib/validate-color",["require","exports","core/vendor/d3-color"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n.color;t.default=function(e){return null!==r(e)}})),i("core/graphing-calc/extract-slider-value-from-latex",["require","exports","parser","core/math/builtinframe","core/math/policyGraphing"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.extractSliderValueFromLatex=void 0,t.extractSliderValueFromLatex=function(e){var t=n.parse(e);if("Assignment"!==t.type)return NaN;if("Constant"!==t._expression.type)return NaN;if(!i.PolicyGraphing.validLHS(t._symbol))return NaN;if(r[t._symbol])return NaN;var o=t._expression.asValue();return"number"==typeof o?o:NaN}})),i("graphing-calc/models/expression",["require","exports","tslib","core/lib/dragmode","core/types/slider-loop-modes","core/types/styles","core/types/label-sizes","core/types/label-orientations","core/math/evaluate-single-expression","lib/rounding","core/lib/deepCopy","core/lib/copy-properties","./abstract-item","./list","underscore","core/math/expression-types","core/lib/label","core/lib/number-to-latex","core/math/sliders","core/lib/number-to-latex","core/lib/validate-color","core/graphing-calc/json/expression","core/math/distribution-spec","core/graphing-calc/extract-slider-value-from-latex"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v,x,w,A,E){function k(e){return void 0===e?NaN:+e}function I(e){var t=e.formula;return!!t&&e.controller.isDecimalToFractionEnabled()&&t.hasOwnProperty("constant_value")&&m.canDisplayAsFraction(k(t.constant_value))}function S(e){var t=e.formula;if(!t)return!1;var n=t.is_evaluable&&t.zero_values&&t.zero_values.length>0&&"boolean"!=typeof t.zero_values[0].val,r=I(e)&&Y(e),i=!!t.rgb_value&&e.formula.assignment;return n||r||i}function M(e,t){if(!isFinite(t))return e;var n=/=(.*?)([-\.0-9]+)/,r=e.match(n);if(!r)return e;if(parseFloat(r[2])===t)return e;var i=v.numberToDecimalString(t);return e.replace(n,"=$1"+i)}function C(e){var t=e.dragMode===r.DragMode.AUTO&&void 0!==e.formula.default_drag_mode?e.formula.default_drag_mode:e.dragMode;e.dragMode===r.DragMode.AUTO&&e.hidden&&(t=r.DragMode.NONE),e.reconciledDragMode=r.reconcileDragMode(t,e.formula.move_strategy),e.interactiveLabel&&e.reconciledDragMode!==r.DragMode.NONE&&H(e,!1)}function D(e,t,n){if(!e.sliderExists)return NaN;var r=O(e),i=B(e),o=P(e);if(n&&void 0!==n.overwriteStep&&(o=n.overwriteStep),t=b.constrainSliderValueLikeEvaluator({target:t,hardMin:e.slider.hardMin?r:void 0,hardMax:e.slider.hardMax?i:void 0,step:o}),!n||!n.ignoreSoftLimits){if(!e.slider.hardMin&&t<r)return r;if(!e.slider.hardMax&&t>i)return i}return t}function T(e){var t=g.getParentFolderModel(e);t&&t.hidden||e.formula.expression_type&&K(e)?e.shouldGraph=!1:e.shouldGraph=!e.hidden}function L(e){var t=e.formula&&e.formula.raw_slider_latex;if(e.sliderExists&&e.latex===t){var n=e.latex;if(e.cachedDisplayLatex.storedLatex===n){var r=F(e);if(isFinite(r)){var i=e.controller.getFocusLocation();i&&"expression"===i.type&&i.id===e.id||(e.cachedDisplayLatex.valueLatex=M(e.latex,r))}}else e.cachedDisplayLatex={storedLatex:e.latex,valueLatex:e.latex}}else e.cachedDisplayLatex={storedLatex:e.latex,valueLatex:e.latex}}function _(e){var t=m.value(e);return t.superscript&&t.mantissa?t.mantissa+"^{"+t.superscript+"}":t.string}function O(e){if(e.slider.hardMin){var t=e.formula.slider_min_number;return isFinite(t)?t:NaN}var n=e.controller.isDegreeMode(),r=c.default(e.slider.min,n),i=N(e),o=P(e),a=e.slider.hardMax?e.formula.slider_max_number:void 0,s=-10;if(r<s&&(s=r),i<s&&(s=i),a<s&&(s=a),o){var l=b.constrainSliderValueLikeEvaluator({target:s,hardMin:void 0,hardMax:a,step:o});s=l<=s?l:l-o}return s}function B(e){if(e.slider.hardMax){var t=e.formula.slider_max_number;return isFinite(t)?t:NaN}var n=e.controller.isDegreeMode(),r=c.default(e.slider.max,n),i=N(e),o=P(e),a=e.slider.hardMin?e.formula.slider_min_number:void 0;return b.computeSoftMax({storedMax:r,sliderValue:i,step:o,hardMin:a})}function P(e){return e.formula.slider_step_number}function F(e){if(e.formula&&e.formula.is_slider){var t=e.formula.constant_value;if(void 0!==t)return+t}}function N(e){var t=e.formula&&e.formula.raw_slider_latex;if(e.latex!==t)return E.extractSliderValueFromLatex(e.latex);var n=F(e);return isFinite(n)?n:NaN}function q(e){var t=e.cachedViewState;t&&w.areDynamicPropertiesStrictEqual(t,e)&&t.folderId===e.folderId&&t.color===e.color&&t.latex===e.latex&&t.showLabel===e.showLabel&&t.label===e.label&&t.hidden===e.hidden&&t.secret===e.secret&&t.fill===e.fill&&t.points===e.points&&t.lines===e.lines&&t.lineStyle===e.lineStyle&&t.pointStyle===e.pointStyle&&t.dragMode===e.dragMode&&t.labelSize===e.labelSize&&t.labelOrientation===e.labelOrientation&&t.suppressTextOutline===e.suppressTextOutline&&t.interactiveLabel===e.interactiveLabel&&t.editableLabelMode===e.editableLabelMode&&t.residualVariable===e.residualVariable&&t.regressionParameters===e.regressionParameters&&t.isLogModeRegression===e.isLogModeRegression&&t.displayEvaluationAsFraction===e.displayEvaluationAsFraction&&t.slider===e.slider||(e.cachedViewState=n.__assign({type:e.type,id:e.id,folderId:e.folderId,color:e.color,latex:e.latex,showLabel:e.showLabel,label:e.label,hidden:e.hidden,secret:e.secret,points:e.points,lines:e.lines,lineStyle:e.lineStyle,pointStyle:e.pointStyle,fill:e.fill,dragMode:e.dragMode,labelSize:e.labelSize,labelOrientation:e.labelOrientation,suppressTextOutline:e.suppressTextOutline,interactiveLabel:e.interactiveLabel,editableLabelMode:e.editableLabelMode,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,displayEvaluationAsFraction:e.displayEvaluationAsFraction,slider:e.slider},w.extractDynamicProperties(e)))}function R(e){var t,r=e.memoizedUndoRedoStateParams,i=e.cachedViewState,o=e.preTransientState;e.cachedUndoRedoFullState=i,r&&r.viewState===i&&r.preTransientState===o||(e.memoizedUndoRedoStateParams={viewState:i,preTransientState:o},delete(t=o?n.__assign(n.__assign({},i),{latex:o.latex,slider:n.__assign(n.__assign({},i.slider),o.slider)}):n.__assign({},i)).regressionParameters,delete t.residualVariable,e.cachedUndoRedoDiffState=t)}function z(e){var t=g.getParentFolderModel(e),n=!(!t||!t.hidden),r=e.cachedViewState,i=e.index,o=e.showLabel&&!n,a=e.shouldGraph,s=e.memoizedParsableStateParams;if(!s||s.viewState!==r||s.index!==i||s.showLabel!==o||s.shouldGraph!==a){e.memoizedParsableStateParams={viewState:r,index:i,showLabel:o,shouldGraph:a};var c=w.computeParsableState(r);c.index=i,c.showLabel=o,c.shouldGraph=a,e.cachedParsableState=c}}function U(e){return!(!e.sliderExists||!e.slider.isPlaying&&!e.sliderDragging)||!!e.draggingOnGraphpaper}Object.defineProperty(t,"__esModule",{value:!0}),t.isPotentiallyMovable=t.blankOutExpressionAfterClearingLatex=t.isClickableAllowed=t.getCDFEvaluation=t.getLabelAngleValue=t.getColorLatexValue=t.isColorLatexValid=t.isLineWidthValid=t.isPointSizeValid=t.isLabelAngleValid=t.isLabelSizeValid=t.isPointOpacityValid=t.isLineOpacityValid=t.isFillOpacityValid=t.isCDFMaxValid=t.isCDFMinValid=t.setCDFMax=t.setCDFMin=t.setShowCDF=t.getCDFMaxPlaceholder=t.getCDFMinPlaceholder=t.getCDFMax=t.getCDFMin=t.shouldShowCDFFooter=t.isListValuedDistribution=t.isPrimaryLatexValid=t.shouldShowCDFCheckbox=t.parseToplevelFunction=t.isDiscreteDistribution=t.isToplevelDistribution=t.isToplevelFunction=t.isStats=t.isTTest=t.isVisualization=t.isHistogram=t.isDotPlot=t.isBoxPlot=t.isPointOrPointList=t.isPointList=t.isSinglePoint=t.isPolar=t.isParametric=t.isRegression=t.isInequality=t.isPolygon=t.hasSlider=t.isNonemptyAction=t.getParametricDomainMax=t.getParametricDomainMin=t.getPolarDomainMax=t.getPolarDomainMin=t.hasDomain=t.areAllVisibilityPropsOff=t.setHidden=t.isDraggableAndHidden=t.hasEditableLabel=t.getEditableLabelMode=t.setEditableLabelMode=t.setInteractiveLabel=t.setSuppressTextOutline=t.setLabelOrientation=t.setLabelAngle=t.setLabelSize=t.setLineStyle=t.setLines=t.setPointStyle=t.setPoints=t.setDragMode=t.setLabelDropdownOpen=t.setColorLatex=t.setLineWidth=t.setPointSize=t.setPointOpacity=t.setLineOpacity=t.setFillOpacity=t.setFill=t.setColor=t.setLogMode=t.setParametricDomainMax=t.setPolarDomainMax=t.setParametricDomainMin=t.setPolarDomainMin=t.setDescription=t.setShowLabel=t.setLabel=t.setEvaluationAsFraction=t.shouldEvaluationDisplayAsFraction=t.setSliderAnimationPeriod=t.setSliderStep=t.setSliderDragging=t.setSliderLoopMode=t.setLatex=t.commitSliderSoftLimits=t.setSliderIsPlaying=t.setSliderMax=t.setSliderMin=t.restoreState=t.onControllerUpdate=t.shouldBlockActionUpdate=t.isTransient=t.getAssignment=t.eachLatex=t.updateCachedParsableState=t.initModel=t.updateCachedUndoRedoState=t.setIsDraggingOnGrapher=t.updateCachedViewState=t.getState=t.isDomainMaxValid=t.isDomainMinValid=t.getDomainMax=t.getDomainMin=t.isSliderStepValid=t.isSliderMaxValid=t.isSliderMinValid=t.needsDotplotXMode=t.isClickableObject=t.setClickableInfoRuleLatex=t.setClickableInfoProp=t.setVizProp=t.getVizProp=t.isVizPropValid=t.isSliderAtEndOfPlayOnce=t.getSliderValue=t.getRawSliderValue=t.getSliderStep=t.getSliderMax=t.getSliderMin=t.getDisplaySliderMax=t.getDisplaySliderMin=t.getDisplayLatex=t.updateDisplayLatex=t.computeShouldGraph=t.onFormulaUpdate=t.getMissingVariables=t.tickSliderStep=t.adjustSliderByDraggingThumb=t.adjustSliderByKeyboard=t.adjustSliderByMovablePoint=t.updateReconciledDragMode=t.isEmpty=t.computeNewSliderLatex=t.getStatsResults=t.getTTestResults=t.getEvaluationValue=t.shouldShowEvaluation=t.isGraphable=t.isRationalizableConstant=t.EvaluationLabelOptions=void 0,t.EvaluationLabelOptions={smallCutoff:1e-6,bigCutoff:1e9,digits:12},t.isRationalizableConstant=I,t.isGraphable=function(e){return!(!e.formula||!e.formula.is_graphable)},t.shouldShowEvaluation=S,t.getEvaluationValue=function(e){var t=e.formula;return S(e)?t.zero_values&&t.zero_values.length?t.zero_values[0].val:t.rgb_value?t.rgb_value:t.constant_value:I(e)?e.formula.constant_value:NaN},t.getTTestResults=function(e){var t=e.formula.ttest_results;if(t&&isFinite(t.lessThan))return{lessThan:t.lessThan,greaterThan:t.greaterThan,notEqual:t.notEqual}},t.getStatsResults=function(e){var t=e.formula.stats_results;if(t&&isFinite(t.min))return{min:t.min,q1:t.q1,median:t.median,q3:t.q3,max:t.max}},t.computeNewSliderLatex=M,t.isEmpty=function(e){return""===((e.latex||"")+(e.label||"")).split(" ").join("")},t.updateReconciledDragMode=C,t.adjustSliderByMovablePoint=function(e,t){if(e.sliderExists){e.slider.isPlaying&&G(e,!1);var n=D(e,t,{ignoreSoftLimits:!0});e.latex=M(e.latex,n)}},t.adjustSliderByKeyboard=function(e,t,n){if(e.sliderExists){e.slider.isPlaying&&G(e,!1),V(e);var r=function(e,t,n){if(void 0===n&&(n={}),!e.sliderExists)return NaN;var r=N(e),i=O(e),o=B(e),a=P(e);void 0===n.overwriteStep&&(n.overwriteStep=a||(o-i)/20);var s=0;switch(t){case"min":return D(e,i);case"max":return D(e,o);case"up":s=1;break;case"down":s=-1;break;case"bigup":s=5;break;case"bigdown":s=-5;break;default:return t}for(var c=r,l=0;l<20;l++){var d=l/3*n.overwriteStep,u=r;if(s>0)(r=D(e,c+d,n))>u&&(s-=1);else{if(!(s<0))break;(r=D(e,c-d,n))<u&&(s+=1)}}return r}(e,t,n);e.latex=M(e.latex,r)}},t.adjustSliderByDraggingThumb=function(e,t){if(e.sliderExists){e.slider.isPlaying&&G(e,!1);var n=D(e,t);e.latex=M(e.latex,n)}},t.tickSliderStep=function(e,t){if(e.sliderExists&&!e.resetSliderAnimationTargetValue){var n=e.sliderLastTickTime;if(e.sliderLastTickTime=t,void 0!==n){var r=t-n,o=O(e),a=B(e),s=P(e),c=e.slider.animationPeriod,d=e.slider.loopMode;if(isNaN(e.sliderAnimationTargetValue)){var u=N(e);isNaN(u)||(e.sliderAnimationTargetValue=u)}var p,g,h=s?s/2:0;if(d===i.SliderLoopMode.LOOP_FORWARD_REVERSE)e.sliderAnimationTargetValue>=a?Q(e,{playDirection:-1}):e.sliderAnimationTargetValue<=o&&Q(e,{playDirection:1});else if(d===i.SliderLoopMode.LOOP_FORWARD)Q(e,{playDirection:1}),e.sliderAnimationTargetValue>=a+h&&(e.sliderAnimationTargetValue=o-h);else if(d===i.SliderLoopMode.PLAY_ONCE)Q(e,{playDirection:1});else{if(d!==i.SliderLoopMode.PLAY_INDEFINITELY)throw new Error("Unexpected slider loop mode: "+d);Q(e,{playDirection:1})}if(isFinite(r)||(r=0),d===i.SliderLoopMode.PLAY_INDEFINITELY)p=r/(c/4),s&&(p*=s),e.sliderAnimationTargetValue+=p,g=e.sliderAnimationTargetValue,s||(g=l.shortestDecimalBetween(g-.1*p,g+.1*p)),g=D(e,g,{ignoreSoftLimits:!0}),e.latex=M(e.latex,g);else{if(p=(a-o)*(r=Math.min(r,c/10))/c,e.sliderAnimationTargetValue+=p*e.slider.playDirection,e.sliderAnimationTargetValue=Math.max(o-h,Math.min(a+h,e.sliderAnimationTargetValue)),g=e.sliderAnimationTargetValue,!s){var f=p/r*(1e3/60);g=l.shortestDecimalBetween(g-.1*f,g+.1*f)}g=D(e,g),e.latex=M(e.latex,g)}}}},t.getMissingVariables=function(e){var t=e.formula;return t?t.is_single_identifier?[]:t.variables||[]:[]},t.onFormulaUpdate=function(e,t){e.formula=t,e.error=t.error,e.unresolved=!1,t.is_slider?e.sliderExists&&!e.resetSliderAnimationTargetValue||(e.sliderAnimationTargetValue=N(e),e.sliderDragging=!1,e.sliderExists=!0):e.sliderExists=!1,e.resetSliderAnimationTargetValue=!1;var n={};t.is_regression&&(n=t.regression.parameters,e.residualVariable=t.regression.residualVariable,e.controller.areLogModeRegressionsForced()&&(e.isLogModeRegression=!0)),h.isEqual(e.regressionParameters,n)||(e.regressionParameters=n)},t.computeShouldGraph=T,t.updateDisplayLatex=L,t.getDisplayLatex=function(e){return e.cachedDisplayLatex.valueLatex},t.getDisplaySliderMin=function(e){return e.slider.hardMin?e.slider.min:_(O(e))},t.getDisplaySliderMax=function(e){return e.slider.hardMax?e.slider.max:_(B(e))},t.getSliderMin=O,t.getSliderMax=B,t.getSliderStep=P,t.getRawSliderValue=F,t.getSliderValue=N,t.isSliderAtEndOfPlayOnce=function(e){return e.slider.loopMode===i.SliderLoopMode.PLAY_ONCE&&N(e)>=B(e)},t.isVizPropValid=function(e,t){return!!e.formula.viz_valids&&!!e.formula.viz_valids[t]},t.getVizProp=function(e,t){return e.vizProps[t]},t.setVizProp=function(e,t,r){var i;e.vizProps=n.__assign(n.__assign({},e.vizProps),((i={})[t]=r,i))},t.setClickableInfoProp=function(e,t,r){var i;e.clickableInfo=n.__assign(n.__assign({},e.clickableInfo),((i={})[t]=r,i))},t.setClickableInfoRuleLatex=function(e,t){e.clickableInfo=n.__assign(n.__assign({},e.clickableInfo),{latex:t})},t.isClickableObject=function(e){return e.clickableInfo.enabled&&ae(e)&&e.formula.click_handler&&"maybe-valid"===e.formula.click_handler.status},t.needsDotplotXMode=function(e){return!!e.__workerNeedsDotplotXMode},t.isSliderMinValid=function(e){return!(!e.formula||!e.formula.slider_min_valid)},t.isSliderMaxValid=function(e){return!(!e.formula||!e.formula.slider_max_valid)},t.isSliderStepValid=function(e){return!(!e.formula||!e.formula.slider_step_valid)},t.getDomainMin=function(e){if(!e.formula)return NaN;if(isFinite(e.__workerSampledDomainMin))return e.__workerSampledDomainMin;var t=e.formula.domain_min_number;return isFinite(t)?t:NaN},t.getDomainMax=function(e){if(!e.formula)return NaN;if(isFinite(e.__workerSampledDomainMax))return e.__workerSampledDomainMax;var t=e.formula.domain_max_number;return isFinite(t)?t:NaN},t.isDomainMinValid=function(e){return!(!e.formula||!e.formula.domain_min_valid)},t.isDomainMaxValid=function(e){return!(!e.formula||!e.formula.domain_max_valid)},t.getState=function(e,t){var r=e.cachedViewState;if(t.stripDefaults&&""===e.parametricDomain.min&&""===e.parametricDomain.max||(r=n.__assign(n.__assign({},r),{domain:{min:""===e.parametricDomain.min?"0":e.parametricDomain.min,max:""===e.parametricDomain.max?"1":e.parametricDomain.max}})),t.stripDefaults)return w.stripDefaults(r);if(void 0===r.points||void 0===r.lines||void 0===r.fill){var i=d.default(r);return void 0===i.points&&delete i.points,void 0===i.lines&&delete i.lines,void 0===i.fill&&delete i.fill,i}return r},t.updateCachedViewState=q,t.setIsDraggingOnGrapher=function(e,t){t&&V(e),e.draggingOnGraphpaper=t},t.updateCachedUndoRedoState=R,t.initModel=function(e,t){var r=d.default(w.inflateDefaults(e)),i=r.color;return i&&x.default(i)||(i=t.getNextColor()),n.__assign(n.__assign(n.__assign({},r),p.DEFAULTS(t)),{labelDropdownOpen:!1,formula:{error:void 0,operator:"=",variables:[]},error:void 0,unresolved:!1,color:i,pointStyle:r.pointStyle,lineStyle:r.lineStyle,displayEvaluationAsFraction:r.displayEvaluationAsFraction,shouldGraph:void 0,sliderDragging:void 0,sliderAnimationTargetValue:void 0,resetSliderAnimationTargetValue:!1,sliderLastTickTime:void 0,draggingOnGraphpaper:!1,cachedUndoRedoDiffState:void 0,cachedUndoRedoFullState:void 0,cachedParsableState:void 0,cachedViewState:void 0,cachedDisplayLatex:{storedLatex:"",valueLatex:""}})},t.updateCachedParsableState=z,t.eachLatex=function(e,t){t(e.latex,"latex"),t(e.lineWidth,"lineWidth"),t(e.fillOpacity,"fillOpacity"),t(e.lineOpacity,"lineOpacity"),t(e.pointOpacity,"pointOpacity"),t(e.pointSize,"pointSize"),t(e.labelAngle,"labelAngle"),t(e.labelSize,"labelSize"),J(e)&&(t(e.parametricDomain.min,"parametricDomainMin"),t(e.parametricDomain.max,"parametricDomainMax")),X(e)&&(t(e.polarDomain.min,"polarDomainMin"),t(e.polarDomain.max,"polarDomainMax")),e.sliderExists&&(t(e.slider.min,"sliderMin"),t(e.slider.max,"sliderMax"),t(e.slider.step,"sliderStep")),e.residualVariable&&t(e.residualVariable,"residualVariable")},t.getAssignment=function(e){return e.formula&&e.formula.assignment},t.isTransient=U,t.shouldBlockActionUpdate=function(e){return!(!e.sliderExists||!e.sliderDragging)||!!e.draggingOnGraphpaper},t.onControllerUpdate=function(e){U(e)?e.preTransientState||(e.preTransientState={latex:e.latex,slider:{min:e.slider.min,max:e.slider.max,playDirection:e.slider.playDirection}}):delete e.preTransientState,e.sliderExists&&e.slider.isPlaying||(e.sliderLastTickTime=void 0),p.updateIsHiddenFromUI(e),T(e),C(e),q(e),R(e),z(e),L(e)};var j=n.__assign({id:!1,type:!1,color:!0,folderId:!0,latex:!0,showLabel:!0,label:!0,hidden:!0,secret:!0,points:!0,lines:!0,lineStyle:!0,pointStyle:!0,fill:!0,dragMode:!0,labelSize:!0,labelOrientation:!0,suppressTextOutline:!0,interactiveLabel:!0,editableLabelMode:!0,residualVariable:!0,regressionParameters:!0,isLogModeRegression:!0,displayEvaluationAsFraction:!0,slider:!0},u.makeTrueMap(w.DEFAULTS_DYNAMIC));function Q(e,t){e.slider=n.__assign(n.__assign({},e.slider),t)}function G(e,t){e&&e.slider.isPlaying!==t&&(Q(e,{isPlaying:t}),t&&(V(e),e.sliderAnimationTargetValue=N(e)))}function V(e){if(!e.slider.hardMin){var t=y.default(O(e));t!==e.slider.min&&Q(e,{min:t})}if(!e.slider.hardMax){var n=y.default(B(e));n!==e.slider.max&&Q(e,{max:n})}}function Y(e){return e.displayEvaluationAsFraction}function H(e,t){e.interactiveLabel=t}function K(e){if(W(e))return!1;var t=e.points,n=e.lines,r=e.fill,i=f.getReconciledExpressionProps(e.formula.expression_type,{points:t,lines:n,fill:r});return!i.points&&!i.lines&&!i.fill}function W(e){return!!e.formula.is_inequality}function J(e){return e.formula.expression_type===f.ExpressionType.PARAMETRIC}function X(e){return e.formula.expression_type===f.ExpressionType.POLAR}function Z(e){var t=ne(e);return!(!t||"visualization"!==t.type||"boxplot"!==t.symbol)}function $(e){var t=ne(e);return!(!t||"visualization"!==t.type||"dotplot"!==t.symbol)}function ee(e){var t=ne(e);return!(!t||"visualization"!==t.type||"histogram"!==t.symbol)}function te(e){var t=ne(e);return!(!t||"distribution"!==t.type)}function ne(e){if(e.controller.areDistributionsEnabled()&&e.latex)return e.cachedParseToplevelFunction&&e.cachedParseToplevelFunction.latex===e.latex||(e.cachedParseToplevelFunction={latex:e.latex,spec:A.parseToplevelFunction(e.latex)}),e.cachedParseToplevelFunction.spec}function re(e){return ie(e)&&te(e)}function ie(e){return!!e.formula.expression_type}function oe(e){return!!e.formula.is_concrete_list}function ae(e){return!(!f.isClickableExpressionType(e.formula.expression_type)||e.reconciledDragMode&&e.reconciledDragMode!==r.DragMode.NONE)}t.restoreState=function(e,t){u.copyProperties({from:t,to:e,props:j}),e.resetSliderAnimationTargetValue=!0,e.sliderAnimationTargetValue=void 0},t.setSliderMin=function(e,t){Q(e,t?{hardMin:!0,min:t}:{hardMin:!1,min:"-10"})},t.setSliderMax=function(e,t){Q(e,t?{hardMax:!0,max:t}:{hardMax:!1,max:"10"})},t.setSliderIsPlaying=G,t.commitSliderSoftLimits=V,t.setLatex=function(e,t){var n=E.extractSliderValueFromLatex(t);if(isFinite(n)){var r=b.determineWhichLimitsAreCompatibleWithValue({target:n,step:P(e),hardMin:e.slider.hardMin?O(e):void 0,hardMax:e.slider.hardMax?B(e):void 0});r.min||Q(e,{hardMin:!1,min:"-10"}),r.max||Q(e,{hardMax:!1,max:"10"}),r.step||Q(e,{step:""})}e.latex=t},t.setSliderLoopMode=function(e,t){Q(e,{loopMode:t,playDirection:1}),t===i.SliderLoopMode.PLAY_INDEFINITELY&&Q(e,{hardMin:!1,hardMax:!1,min:"",max:""}),e.sliderAnimationTargetValue=O(e)},t.setSliderDragging=function(e,t){t&&V(e),e.sliderDragging=t},t.setSliderStep=function(e,t){Q(e,{step:t})},t.setSliderAnimationPeriod=function(e,t){Q(e,{animationPeriod:t})},t.shouldEvaluationDisplayAsFraction=Y,t.setEvaluationAsFraction=function(e,t){e.displayEvaluationAsFraction=t},t.setLabel=function(e,t){e.label=t},t.setShowLabel=function(e,t){e.showLabel=t},t.setDescription=function(e,t){e.description=t},t.setPolarDomainMin=function(e,t){e.polarDomain=n.__assign(n.__assign({},e.polarDomain),{min:t})},t.setParametricDomainMin=function(e,t){e.parametricDomain=n.__assign(n.__assign({},e.parametricDomain),{min:t})},t.setPolarDomainMax=function(e,t){e.polarDomain=n.__assign(n.__assign({},e.polarDomain),{max:t})},t.setParametricDomainMax=function(e,t){e.parametricDomain=n.__assign(n.__assign({},e.parametricDomain),{max:t})},t.setLogMode=function(e,t){e.isLogModeRegression=t},t.setColor=function(e,t){x.default(t)&&(e.color=t,e.colorLatex="")},t.setFill=function(e,t){e.fill=t},t.setFillOpacity=function(e,t){e.fillOpacity!==t&&(e.fillOpacity=t)},t.setLineOpacity=function(e,t){e.lineOpacity!==t&&(e.lineOpacity=t)},t.setPointOpacity=function(e,t){e.pointOpacity!==t&&(e.pointOpacity=t)},t.setPointSize=function(e,t){e.pointSize!==t&&(e.pointSize=t)},t.setLineWidth=function(e,t){e.lineWidth!==t&&(e.lineWidth=t)},t.setColorLatex=function(e,t){e.colorLatex!==t&&(e.colorLatex=t)},t.setLabelDropdownOpen=function(e,t){e.labelDropdownOpen=t},t.setDragMode=function(e,t){e.dragMode!==t&&(e.dragMode=t)},t.setPoints=function(e,t){e.points=t},t.setPointStyle=function(e,t){e.pointStyle!==t&&(e.pointStyle=t,t!==o.PointStyle.POINT&&(e.dragMode=r.DragMode.NONE))},t.setLines=function(e,t){e.lines=t},t.setLineStyle=function(e,t){e.lineStyle!==t&&(e.lineStyle=t)},t.setLabelSize=function(e,t){e.labelSize=t},t.setLabelAngle=function(e,t){e.labelAngle=t},t.setLabelOrientation=function(e,t){e.labelOrientation=t},t.setSuppressTextOutline=function(e,t){e.suppressTextOutline=t},t.setInteractiveLabel=H,t.setEditableLabelMode=function(e,t){e.editableLabelMode=t},t.getEditableLabelMode=function(e){return e.editableLabelMode},t.hasEditableLabel=function(e){var t=e.editableLabelMode;return t===w.EditableLabelMode.Math||t===w.EditableLabelMode.Text},t.isDraggableAndHidden=function(e){return!(e.reconciledDragMode===r.DragMode.NONE||!e.hidden)},t.setHidden=function(e,t){e.hidden=t,!t&&K(e)&&(e.lines=e.points=e.fill=void 0)},t.areAllVisibilityPropsOff=K,t.hasDomain=function(e){return J(e)||X(e)},t.getPolarDomainMin=function(e){return e.polarDomain.min},t.getPolarDomainMax=function(e){return e.polarDomain.max},t.getParametricDomainMin=function(e){return e.parametricDomain.min},t.getParametricDomainMax=function(e){return e.parametricDomain.max},t.isNonemptyAction=function(e){return!!e.formula.action_value&&Object.keys(e.formula.action_value).length>0},t.hasSlider=function(e){return!!e.sliderExists},t.isPolygon=function(e){return e.formula.expression_type===f.ExpressionType.POLYGON},t.isInequality=W,t.isRegression=function(e){return!!e.formula.is_regression},t.isParametric=J,t.isPolar=X,t.isSinglePoint=function(e){return e.formula.expression_type===f.ExpressionType.SINGLE_POINT},t.isPointList=function(e){return e.formula.expression_type===f.ExpressionType.POINT_LIST},t.isPointOrPointList=function(e){return e.formula.expression_type===f.ExpressionType.POINT_LIST||e.formula.expression_type===f.ExpressionType.SINGLE_POINT},t.isBoxPlot=Z,t.isDotPlot=$,t.isHistogram=ee,t.isVisualization=function(e){return Z(e)||$(e)||ee(e)},t.isTTest=function(e){return e.formula.expression_type===f.ExpressionType.TTEST},t.isStats=function(e){return e.formula.expression_type===f.ExpressionType.STATS},t.isToplevelFunction=function(e){return!!ne(e)},t.isToplevelDistribution=te,t.isDiscreteDistribution=function(e){var t=e.formula;return!!t&&!!t.is_discrete_distribution},t.parseToplevelFunction=ne,t.shouldShowCDFCheckbox=re,t.isPrimaryLatexValid=ie,t.isListValuedDistribution=oe,t.shouldShowCDFFooter=function(e){return!!re(e)&&!oe(e)&&e.cdf.show},t.getCDFMin=function(e){return e.cdf.min},t.getCDFMax=function(e){return e.cdf.max},t.getCDFMinPlaceholder=function(e){var t=k(e.formula.cdf_min_default);return t===-1/0?"-\\infty":isFinite(t)?t+"":"-\\infty"},t.getCDFMaxPlaceholder=function(e){var t=k(e.formula.cdf_max_default);return t===1/0?"\\infty":isFinite(t)?t+"":"\\infty"},t.setShowCDF=function(e,t){e.cdf=n.__assign(n.__assign({},e.cdf),{show:t})},t.setCDFMin=function(e,t){e.cdf=n.__assign(n.__assign({},e.cdf),{min:t})},t.setCDFMax=function(e,t){e.cdf=n.__assign(n.__assign({},e.cdf),{max:t})},t.isCDFMinValid=function(e){return!!e.formula&&!1!==e.formula.cdf_min_valid},t.isCDFMaxValid=function(e){return!!e.formula&&!1!==e.formula.cdf_max_valid},t.isFillOpacityValid=function(e){return!!e.formula&&!1!==e.formula.fill_opacity_valid},t.isLineOpacityValid=function(e){return!!e.formula&&!1!==e.formula.line_opacity_valid},t.isPointOpacityValid=function(e){return!!e.formula&&!1!==e.formula.point_opacity_valid},t.isLabelSizeValid=function(e){return!!e.formula&&!1!==e.formula.label_size_valid},t.isLabelAngleValid=function(e){return!!e.formula&&!1!==e.formula.label_angle_valid},t.isPointSizeValid=function(e){return!!e.formula&&!1!==e.formula.point_size_valid},t.isLineWidthValid=function(e){return!!e.formula&&!1!==e.formula.line_width_valid},t.isColorLatexValid=function(e){return!!e.formula&&!1!==e.formula.color_latex_valid},t.getColorLatexValue=function(e){return e.formula&&e.formula.color_latex_value},t.getLabelAngleValue=function(e){return e.formula&&e.formula.label_angle_value},t.getCDFEvaluation=function(e){var t=e.formula&&e.formula.cdf_evaluation;return isFinite(t)?t:0},t.isClickableAllowed=ae,t.blankOutExpressionAfterClearingLatex=function(e){e.showLabel=w.DEFAULTS.showLabel,e.label=w.DEFAULTS.label,e.hidden=w.DEFAULTS.hidden,e.dragMode=w.DEFAULTS.dragMode,e.fill=w.DEFAULTS.fill,e.points=w.DEFAULTS.points,e.pointStyle=w.DEFAULTS.pointStyle,e.lines=w.DEFAULTS.lines,e.lineStyle=w.DEFAULTS.lineStyle,e.slider=w.SLIDER_DEFAULTS,e.latex="",e.labelSize=a.LabelSize.MEDIUM,e.labelOrientation=s.LabelOrientation.DEFAULT,e.displayEvaluationAsFraction=w.DEFAULTS.displayEvaluationAsFraction,e.suppressTextOutline=!1,e.interactiveLabel=!1,e.editableLabelMode=w.DEFAULTS.editableLabelMode,u.copyAllProperties(w.DEFAULTS_DYNAMIC,e)},t.isPotentiallyMovable=function(e){return!!e.formula.move_strategy}})),i("core/graphing-calc/json/folder",["require","exports","tslib","core/lib/default-spec"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.stripDefaults=t.inflateDefaults=t.DEFAULTS=void 0,t.DEFAULTS={collapsed:!1,hidden:!1,secret:!1,title:""},t.inflateDefaults=function(e){return n.__assign(n.__assign({},t.DEFAULTS),e)},t.stripDefaults=function(e){return r.stripDefaults(t.DEFAULTS,e)}})),i("graphing-calc/models/folder",["require","exports","tslib","core/lib/deepCopy","core/lib/copy-properties","./abstract-item","./list","core/graphing-calc/json/folder"],(function(e,t,n,r,i,o,a,s){function c(e){e.cachedViewState={type:e.type,id:e.id,title:e.title,hidden:e.hidden,collapsed:e.collapsed,secret:e.secret}}function l(e){e.cachedUndoRedoDiffState=e.cachedViewState,e.cachedUndoRedoFullState=e.cachedViewState}Object.defineProperty(t,"__esModule",{value:!0}),t.setHidden=t.setTitle=t.setCollapsed=t.updateSelectedHiddenChild=t.restoreState=t.onControllerUpdate=t.initModel=t.updateCachedUndoRedoState=t.updateCachedViewState=t.getState=void 0,t.getState=function(e,t){var n=e.cachedViewState;return t.stripDefaults?s.stripDefaults(n):n},t.updateCachedViewState=c,t.updateCachedUndoRedoState=l,t.initModel=function(e,t){var i=r.default(s.inflateDefaults(e));return n.__assign(n.__assign(n.__assign({},i),o.DEFAULTS(t)),{cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},cachedViewState:{}})},t.onControllerUpdate=function(e){u(e),o.updateIsHiddenFromUI(e),c(e),l(e)};var d={id:!1,type:!1,hidden:!0,secret:!0,collapsed:!0,title:!0};function u(e){var t=e.controller,n=t.getSelectedItem();e.collapsed?n&&"folder"!==n.type&&n.folderId===e.id&&"none"===o.getDisplayState(n)?(e.selectedHiddenChild=n,a.setSelected(t.getListModel(),e)):n!==e&&(e.selectedHiddenChild=void 0):(n===e&&e.selectedHiddenChild&&a.setSelected(t.getListModel(),e.selectedHiddenChild),e.selectedHiddenChild=void 0)}t.restoreState=function(e,t){i.copyProperties({from:t,to:e,props:d})},t.updateSelectedHiddenChild=u,t.setCollapsed=function(e,t){e.collapsed=t},t.setTitle=function(e,t){e.title=t},t.setHidden=function(e,t){e.hidden=t}})),i("core/graphing-calc/json/text",["require","exports","tslib","core/lib/default-spec"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.stripDefaults=t.inflateDefaults=t.DEFAULTS=void 0,t.DEFAULTS={folderId:"",text:"",secret:!1},t.inflateDefaults=function(e){return n.__assign(n.__assign({},t.DEFAULTS),e)},t.stripDefaults=function(e){return r.stripDefaults(t.DEFAULTS,e)}})),i("graphing-calc/models/text",["require","exports","tslib","./abstract-item","core/lib/deepCopy","core/lib/copy-properties","core/graphing-calc/json/text"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.updateCachedUndoRedoState=t.updateCachedViewState=t.getState=t.restoreState=t.onControllerUpdate=t.initModel=t.setText=void 0,t.setText=function(e,t){e.text=t},t.initModel=function(e,t){var o=i.default(a.inflateDefaults(e));return n.__assign(n.__assign(n.__assign({},o),r.DEFAULTS(t)),{cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},cachedViewState:{}})},t.onControllerUpdate=function(e){r.updateIsHiddenFromUI(e),c(e),l(e)};var s={id:!1,type:!1,folderId:!0,text:!0,secret:!0};function c(e){e.cachedViewState={type:e.type,id:e.id,folderId:e.folderId,text:e.text,secret:e.secret}}function l(e){e.cachedUndoRedoDiffState=e.cachedViewState,e.cachedUndoRedoFullState=e.cachedViewState}t.restoreState=function(e,t){o.copyProperties({from:t,to:e,props:s})},t.getState=function(e,t){var n=e.cachedViewState;return t.stripDefaults?a.stripDefaults(n):n},t.updateCachedViewState=c,t.updateCachedUndoRedoState=l})),i("graphing-calc/models/helper-expression",["require","exports","core/math/evaluationstate","tslib","underscore","core/math/evaluationstate"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.onFormulaUpdate=t.init=t.getGUID=void 0;var a=0;function s(){return"helper_item_"+a++}t.getGUID=s,t.init=function(e){return r.__assign(r.__assign({},e),{formula:o.defaultEvaluationState(),guid:s(),cachedParsableState:{type:"statement",id:e.id,latex:e.latex,shouldGraph:!1}})},t.onFormulaUpdate=function(e,t,n){t.formula=n;var r,o=t.proxy,a={numericValue:o.numericValue,listValue:o.listValue};n.zero_values&&1===n.zero_values.length&&(r=n.zero_values[0].val),o.numericValue=i.isNumber(r)?r:NaN,o.listValue=i.isArray(r)?r.slice(0):void 0,i.isEqual(o.numericValue,a.numericValue)||e.runAfterDispatch((function(){o.notifyPropertyChange("numericValue")})),i.isEqual(o.listValue,a.listValue)||e.runAfterDispatch((function(){o.notifyPropertyChange("listValue")}))}})),i("core/graphing-calc/json/image",["require","exports","tslib","core/lib/default-spec","../../lib/copy-properties"],(function(e,t,n,r,i){function o(e){return i.extractPropertiesLike(e,t.DEFAULTS_DYNAMIC)}Object.defineProperty(t,"__esModule",{value:!0}),t.computeParsableState=t.extractDynamicProperties=t.stripDefaults=t.inflateDefaults=t.DEFAULTS=t.DEFAULTS_DYNAMIC=t.CLICKABLEINFO_DEFAULTS=void 0,t.CLICKABLEINFO_DEFAULTS={enabled:!1,latex:"",hoveredImage:"",depressedImage:""},t.DEFAULTS_DYNAMIC={center:"\\left(0,0\\right)",angle:"0",width:"10",height:"10",opacity:"1",clickableInfo:t.CLICKABLEINFO_DEFAULTS,description:"",draggable:!1},t.DEFAULTS=n.__assign({folderId:"",hidden:!1,secret:!1,foreground:!1,name:""},t.DEFAULTS_DYNAMIC),t.inflateDefaults=function(e){return n.__assign(n.__assign(n.__assign({},t.DEFAULTS),e),{clickableInfo:n.__assign(n.__assign({},t.CLICKABLEINFO_DEFAULTS),e.clickableInfo)})},t.stripDefaults=function(e){var n=r.stripDefaults(t.DEFAULTS,e),i=r.stripDefaultsAndMaybeReturnUndefined(t.CLICKABLEINFO_DEFAULTS,e.clickableInfo);return void 0===i?delete n.clickableInfo:n.clickableInfo=i,n},t.extractDynamicProperties=o,t.computeParsableState=function(e){return n.__assign(n.__assign({type:"image",id:e.id},o(e)),{guid:"",index:0,color:"",shouldGraph:e.hidden,showPoints:!1})}})),i("graphing-calc/models/image",["require","exports","tslib","core/lib/color-helpers","./abstract-item","core/lib/deepCopy","core/lib/copy-properties","./list","jquery","core/graphing-calc/json/image","core/lib/dragmode","./expression"],(function(e,t,n,r,i,o,a,s,c,l,d,u){function p(e){if(e.formula){var t=e.formula.center_reference_id,n=e.formula.center_reference_symbol;if(t&&n){var r=e.controller.getItemModel(t);if(r&&"expression"===r.type&&r.formula.assignment===n&&u.isSinglePoint(r))return r}}}function g(e){var t=p(e);if(!t)return!1;var n=t.reconciledDragMode;return!(!n||n===d.DragMode.NONE)}function h(e){return!!e.draggable&&g(e)}function f(e){var t=l.computeParsableState(e);t.color=e.color,t.index=e.index,t.guid=e.guid,t.shouldGraph=e.shouldGraph,t.showPoints=e.showPoints,e.cachedParsableState=t}function m(e){var t=e.cachedViewState.clickableInfo,r=!0,i=!0;if(t&&(t.depressedImage===e.clickableInfo.depressedImage&&(i=!1),t.hoveredImage===e.clickableInfo.hoveredImage&&(r=!1)),r&&(e.hoveredImageObj&&(c(e.hoveredImageObj).off("load"),delete e.hoveredImageObj),e.clickableInfo.hoveredImage)){e.hoveredImageObj=new Image;var o=function(){var t=e.controller.getGrapher();t&&t.redrawAllLayers()},a=function(){};b(e.hoveredImageObj,e.clickableInfo.hoveredImage,o,a)}i&&(e.depressedImageObj&&(c(e.depressedImageObj).off("load"),delete e.depressedImageObj),e.clickableInfo.depressedImage)&&(e.depressedImageObj=new Image,o=function(){var t=e.controller.getGrapher();t&&t.redrawAllLayers()},a=function(){},b(e.depressedImageObj,e.clickableInfo.depressedImage,o,a)),e.cachedViewState.image_url!==e.image_url&&(c(e.imageObj).off("load"),e.imageObj=new Image,b(e.imageObj,e.image_url,(function(){e.controller.dispatch({type:"image-load-success",id:e.id})}),(function(){e.controller.dispatch({type:"image-load-error",id:e.id})}))),e.cachedViewState=n.__assign({type:e.type,id:e.id,folderId:e.folderId,image_url:e.image_url,name:e.name,hidden:e.hidden,foreground:e.foreground,secret:e.secret},l.extractDynamicProperties(e))}function y(e){var t=e.cachedViewState;e.cachedUndoRedoFullState=e.cachedViewState,e.preTransientState&&(t=n.__assign(n.__assign({},t),e.preTransientState)),e.cachedUndoRedoDiffState=t}function b(e,t,n,r){c(e).on("load.initial-image-load",(function(){var t=e.width,r=e.height;1===t&&1===r?(c(e).off(".initial-image-load"),c(e).on("load",n),e.src=function(e){var t=document.createElement("canvas");return t.width=2,t.height=2,t.getContext("2d").drawImage(e,0,0,2,2),t.toDataURL()}(e)):n()})).on("error",r),/^data:/.test(t)||(e.crossOrigin="anonymous"),e.src=t}Object.defineProperty(t,"__esModule",{value:!0}),t.isClickableObject=t.setClickableInfoRuleLatex=t.setClickableInfoProp=t.retryLoading=t.setLoadStatus=t.uploadImageAndGenerateToken=t.uploadImages=t.restoreState=t.initModel=t.updateCachedUndoRedoState=t.setIsDraggingOnGrapher=t.updateCachedViewState=t.getState=t.hasInputError=t.getMissingVariables=t.onFormulaUpdate=t.onControllerUpdate=t.updateCachedParsableState=t.eachLatex=t.setImageURL=t.setForeground=t.setOpacity=t.canConvertToDraggableImage=t.isActuallyDraggable=t.doesImageCenterReferenceDraggablePoint=t.doesImageCenterReferenceExternalPoint=t.getCenterExternalReferencedModel=t.setDraggable=t.setName=t.setDescription=t.getMQAttribute=t.setMQAttribute=t.setSecret=t.setHidden=void 0,t.setHidden=function(e,t){e.hidden=t},t.setSecret=function(e,t){e.secret=t},t.setMQAttribute=function(e,t,n){e[t]=n},t.getMQAttribute=function(e,t){return e[t]},t.setDescription=function(e,t){e.description=t},t.setName=function(e,t){e.name=t},t.setDraggable=function(e,t){e.draggable=t},t.getCenterExternalReferencedModel=p,t.doesImageCenterReferenceExternalPoint=function(e){return!!p(e)},t.doesImageCenterReferenceDraggablePoint=g,t.isActuallyDraggable=h,t.canConvertToDraggableImage=function(e){if(!e.formula)return!1;if(!e.formula.center_is_point_literal)return!1;var t=e.formula.move_strategy;if(!t)return!1;var n=t[2],r=t[3],i=n&&"none"!==n.type,o=r&&"none"!==r.type;return!(!i&&!o)},t.setOpacity=function(e,t){e.opacity=t},t.setForeground=function(e,t){e.foreground=t},t.setImageURL=function(e,t){e.image_url=t},t.eachLatex=function(e,t){t(e.opacity,"imageOpacity"),t(e.center,"imageCenter"),t(e.height,"imageHeight"),t(e.width,"imageWidth"),t(e.angle,"imageAngle")},t.updateCachedParsableState=f,t.onControllerUpdate=function(e){e.draggingOnGraphpaper?e.preTransientState||(e.preTransientState={center:e.center,width:e.width,height:e.height}):delete e.preTransientState,i.updateIsHiddenFromUI(e);var t=s.getParentFolderModel(e);e.shouldGraph=!(t&&t.hidden||e.hidden),e.showPoints=e.shouldGraph&&s.isItemSelected(e)&&"loaded"===e.loadStatus&&!h(e)&&e.controller.isTraceEnabled(),m(e),y(e),f(e)},t.onFormulaUpdate=function(e,t){e.formula=t,e.error=function(e){var t={center:e.controller.s("graphing-calculator-error-image-invalid-center"),angle:e.controller.s("graphing-calculator-error-image-invalid-angle"),width:e.controller.s("graphing-calculator-error-image-invalid-width"),height:e.controller.s("graphing-calculator-error-image-invalid-height"),opacity:e.controller.s("graphing-calculator-error-image-invalid-opacity")};for(var n in e.formula.errorMap)if(e.formula.errorMap[n])return t[n]}(e)},t.getMissingVariables=function(e){return e.formula&&e.formula.variables||[]},t.hasInputError=function(e,t){return!(!e.formula||!e.formula.errorMap||!e.formula.errorMap[t])},t.getState=function(e,t){var n=e.cachedViewState;return t.stripDefaults?l.stripDefaults(n):n},t.updateCachedViewState=m,t.setIsDraggingOnGrapher=function(e,t){e.draggingOnGraphpaper=t},t.updateCachedUndoRedoState=y,t.initModel=function(e,t){var a=o.default(l.inflateDefaults(e));return n.__assign(n.__assign(n.__assign({},a),i.DEFAULTS(t)),{color:r.colors.BLUE,loadStatus:"loading",failures:0,imageObj:new Image,hoveredImageObj:void 0,depressedImageObj:void 0,shouldGraph:void 0,showPoints:void 0,error:void 0,formula:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{}})};var v=n.__assign({id:!1,type:!1,image_url:!0,name:!0,folderId:!0,hidden:!0,secret:!0,foreground:!0},a.makeTrueMap(l.DEFAULTS_DYNAMIC));t.restoreState=function(e,t){a.copyProperties({from:t,to:e,props:v})},t.uploadImages=function(e){for(var t=e.controller,n=e.files,r=e.id,i={errors:[],tokens:[]},o=0;o<n.length;o++){var a=n[o];a.type.match("image/*")?i.tokens.push(w({controller:t,file:a,id:r})):i.errors.push(t.s("graphing-calculator-error-image-invalid-file",{file:a.name}))}return i};var x=0;function w(e){var t=e.controller,n=e.file,r=e.id,i=""+x++;return t.getGraphSettings().config.imageUploadCallback(n,(function(e,o){setTimeout((function(){if(e)t.dispatch({type:"image-upload-error",token:i,error:e});else{var a=new Image;b(a,o,(function(){var e=a.width,s=a.height,c=Math.max(e,s)/Math.min(e,s);e<s?(s=10,e=Math.round(10*s/c)/10):(e=10,s=Math.round(10*e/c)/10),t.dispatch({type:"image-upload-success",token:i,url:o,width:e+"",height:s+"",name:n.name,id:r})}),(function(){t.dispatch({type:"image-upload-error",token:i,error:""})}))}}))})),i}function A(e,t){e.loadStatus=t,"loaded"===t&&(e.failures=0),"failed"===t&&(e.failures+=1)}t.uploadImageAndGenerateToken=w,t.setLoadStatus=A,t.retryLoading=function(e){e.imageObj.src=e.imageObj.src,A(e,"loading")},t.setClickableInfoProp=function(e,t,r){var i;e.clickableInfo=n.__assign(n.__assign({},e.clickableInfo),((i={})[t]=r,i))},t.setClickableInfoRuleLatex=function(e,t){e.clickableInfo=n.__assign(n.__assign({},e.clickableInfo),{latex:t})},t.isClickableObject=function(e){return e.clickableInfo.enabled&&e.formula&&e.formula.click_handler&&"maybe-valid"===e.formula.click_handler.status}})),i("core/graphing-calc/json/ticker",["require","exports","tslib","core/lib/default-spec"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.inflateDefaults=t.stripDefaults=t.DEFAULTS=void 0,t.DEFAULTS={handlerLatex:"",minStepLatex:"",open:!1,playing:!1},t.stripDefaults=function(e){return r.stripDefaultsAndMaybeReturnUndefined(t.DEFAULTS,e)},t.inflateDefaults=function(e){return n.__assign(n.__assign({},t.DEFAULTS),e)}})),i("graphing-calc/models/ticker",["require","exports","tslib","../../core/graphing-calc/json/ticker","../../core/lib/copy-properties"],(function(e,t,n,r,i){function o(e){e.cachedViewState={handlerLatex:e.handlerLatex,minStepLatex:e.minStepLatex,playing:e.playing,open:e.open}}function a(e){var t=e.cachedViewState;e.cachedUndoRedoDiffState=t,e.cachedUndoRedoFullState=t}function s(e){var t=r.inflateDefaults(e);return n.__assign(n.__assign({},t),{type:"ticker",guid:"dcg_ticker_guid_internal",id:"dcg_ticker_guid_internal",avgDelta:0,lastTickTime:void 0,cachedViewState:{},cachedParsableState:{},cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{}})}Object.defineProperty(t,"__esModule",{value:!0}),t.eachLatex=t.getMissingVariables=t.getMinStepPackedError=t.getHandlerPackedError=t.updateLastTickTime=t.shouldTick=t.onControllerUpdate=t.onFormulaUpdate=t.restoreState=t.initModel=t.updateCachedUndoRedoState=t.updateCachedViewState=t.getUndoRedoFullState=t.getUndoRedoDiffState=t.getState=t.defaultTicker=void 0,t.defaultTicker=function(){return s(r.DEFAULTS)},t.getState=function(e,t){return t.stripDefaults?r.stripDefaults(e.cachedViewState):e.cachedViewState},t.getUndoRedoDiffState=function(e){return e.cachedUndoRedoDiffState},t.getUndoRedoFullState=function(e){return e.cachedUndoRedoFullState},t.updateCachedViewState=o,t.updateCachedUndoRedoState=a,t.initModel=s,t.restoreState=function(e,t){i.copyAllProperties(t,e)},t.onFormulaUpdate=function(e,t){e.formula=t},t.onControllerUpdate=function(e){o(e),a(e),function(e){e.cachedParsableState={type:"ticker",id:e.id,handlerLatex:e.handlerLatex,minStepLatex:e.minStepLatex,shouldGraph:!1}}(e)},t.shouldTick=function(e,t){var n,r,i=t.currentFrameTime,o=t.previousFrameTime;if(!e.playing||"maybe-valid"!==(null===(n=e.formula)||void 0===n?void 0:n.handler.status))return!1;if(null==e.lastTickTime||null==o)return!0;if("valid"!==(null===(r=e.formula)||void 0===r?void 0:r.minStep.status))return!1;var a=e.formula.minStep.value,s=e.lastTickTime+a;return i>=s||s-i<(i-o)/2},t.updateLastTickTime=function(e,t){e.lastTickTime=t},t.getHandlerPackedError=function(e){if(e.formula)return"error"===e.formula.handler.status?e.formula.handler.error:void 0},t.getMinStepPackedError=function(e){if(e.formula)return"error"===e.formula.minStep.status?e.formula.minStep.error:void 0},t.getMissingVariables=function(e){var t;return(null===(t=e.formula)||void 0===t?void 0:t.variables)||[]},t.eachLatex=function(e,t){t(e.handlerLatex,"tickerHandler"),t(e.minStepLatex,"tickerMinStep")}})),i("lib/latex-search-helpers",["require","exports"],(function(e,t){function n(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function r(e){return e.replace(/\\\\right\\(\\*[})\]|])/g,".*\\\\right\\$1").replace(/ ?\\([}\]])/g,".*\\$1")}Object.defineProperty(t,"__esModule",{value:!0}),t.getFuzzyLatexRegExp=t.addFuzzyMatches=t.escapeForRegex=void 0,t.escapeForRegex=n,t.addFuzzyMatches=r,t.getFuzzyLatexRegExp=function(e){var t=r(n(e));return new RegExp(t)}})),i("graphing-calc/models/list",["require","exports","lib/color-distance","tslib","./expression","./folder","./table","./text","./helper-expression","./image","./ticker","core/types/graphmode","core/lib/color-helpers","underscore","core/lib/deepCopy","../../lib/latex-search-helpers"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f){function m(e,t){return e.__itemModelArray[t]}function y(e,t){var n;do{if(-1==--t)return;n=m(e,t)}while(n&&!w(n));return n}function b(e,t){var n,r=O(e);do{if(++t===r)return;n=m(e,t)}while(n&&!w(n));return n}function v(e){if("folder"!==e.type&&e.folderId){var t=M(e.controller.getListModel(),e.folderId);if(t&&"folder"===t.type)return t}}function x(e){if(!e)return!1;if(e.secret)return!0;var t=v(e);return!(!t||!t.secret)}function w(e){return!A(e)}function A(e){if(!e)return!0;if(e.filteredBySearch)return!0;if(e.controller.isItemBeingDragged(e.id))return!1;if(!e.controller.canAdministerSecretFolders()&&x(e))return!0;var t=v(e);return!(!t||!t.collapsed||e.controller.getExpressionSearchStr())}function E(e){return e.__itemModelArray}function k(e,t){for(var n=0;n<e.__itemModelArray.length;n++)I(e.__itemModelArray[n],t)}function I(e,t){switch(e.type){case"expression":i.eachLatex(e,t);break;case"table":a.eachLatex(e,t);break;case"image":l.eachLatex(e,t);break;case"folder":case"text":break;default:return e}}function S(e,t){return!!e.replace(/([_^])([a-z0-9])/gi,"$1{$2}").match(t)}function M(e,t){return e.__itemIdToModel[t]}function C(e,t){return e.__helperIdToModel[t]}function D(e){e.__anyDependsOnRandomSeed=!1;for(var t=0;t<e.__itemModelArray.length;t++){var n=e.__itemModelArray[t];if(n&&"formula"in n&&n.formula&&n.formula.depends_on_random_seed)return void(e.__anyDependsOnRandomSeed=!0)}}function T(e){if(!e.__anyIsAction)if(e.ticker.open)e.__anyIsAction=!0;else for(var t=0;t<e.__itemModelArray.length;t++){var n=e.__itemModelArray[t];if(n&&"formula"in n&&n.formula){if("expression"!==n.type&&"image"!==n.type)continue;var r=n.formula;if(r.hasOwnProperty("action_value")||r.hasOwnProperty("click_handler"))return void(e.__anyIsAction=!0)}}}function L(e){for(var t=!e.controller.canAdministerSecretFolders(),n=1,r=1,i=0;i<e.__itemModelArray.length;i++){var o=e.__itemModelArray[i];o.index=i,o.displayIndex=n,x(o)&&(o.secretIndex=r,r+=1),t&&x(o)||(n+=1)}e.nextDisplayIndex=n}function _(e){e.__itemModelArray=[],e.__itemIdToModel={},e.__helperIdToModel={},e.__anyDependsOnRandomSeed=!1}function O(e){return e.__itemModelArray.length}function B(e){return e.selectedItem}function P(e,t){switch(t.type){case"expression":return i.initModel(t,e.controller);case"table":return a.initModel(t,e.controller);case"image":return l.initModel(t,e.controller);case"folder":return o.initModel(t,e.controller);case"text":return s.initModel(t,e.controller);default:return t}}function F(e,t){e.selectedItem=t}function N(e,t,n){var r=String(t.id);if(e.__itemIdToModel.hasOwnProperty(r))throw Error("Item with id '"+r+"' is already in list");e.__itemIdToModel[r]=t,e.__itemModelArray.splice(n,0,t),L(e)}function q(e,t){var n=e.__itemModelArray[t];if("folder"===n.type){for(var r=0,i=n.index+1;i<e.__itemModelArray.length;i++){var o=e.__itemModelArray[i];if("folder"===o.type||o.folderId!==n.id)break;r+=1,R(o)&&F(e,void 0),delete e.__itemIdToModel[o.id],delete e.expressionAnalysis[n.id]}e.__itemModelArray.splice(t,1+r)}else e.__itemModelArray.splice(t,1);R(n)&&F(e,void 0),delete e.__itemIdToModel[n.id],delete e.expressionAnalysis[n.id],D(e),L(e)}function R(e){return e.controller.getListModel().selectedItem===e}Object.defineProperty(t,"__esModule",{value:!0}),t.collapseAllFolders=t.getMissingVariablesForItem=t.setDragState=t.isItemSelected=t.selectNextItem=t.selectPrevItem=t.removeItemById=t.anyItemIsAction=t.anyItemDependsOnRandomSeed=t.removeItemAtIndex=t.insertItemAtEnd=t.insertItemAtIndex=t.moveItemsTo=t.setSelected=t.onEvaluatorFormulaUpdates=t.onGraphComputed=t.restoreListState=t.modelFromSpec=t.setListState=t.getLargestIntegerId=t.getState=t.getUndoRedoFullState=t.getUndoRedoDiffState=t.getSelected=t.getAllModelsWithSliders=t.hasNoVisibleExpressions=t.getItemCount=t.removeAllItems=t.reindex=t.recomputeAnyItemIsAction=t.clearAnyItemIsAction=t.recomputeAnyItemDependsOnRandomSeed=t.addHelperExpression=t.getHelperExpressionById=t.getItemsByIdentifier=t.getItemById=t.updateDrawOrder=t.findAvailableColumnSubscript=t.filterItemsBySearch=t.eachLatexForItem=t.eachLatex=t.getAllHelperItemModels=t.getAllItemModels=t.isItemHiddenFromUI=t.isItemSelectable=t.isItemSecret=t.getNumberOfItemsInFolder=t.getParentFolderModel=t.findNextSelectableItem=t.findPrevSelectableItem=t.getLastSelectableItem=t.getFirstSelectableItem=t.getItemByIndex=t.getNextColor=t.areAnyImagesLoading=t.init=void 0,t.init=function(e){return{controller:e,__itemModelArray:[],__itemIdToModel:{},__helperIdToModel:{},__anyDependsOnRandomSeed:!1,__anyIsAction:!1,drawOrder:[],colorIdx:0,expressionAnalysis:{},nextDisplayIndex:1,ticker:d.defaultTicker()}},t.areAnyImagesLoading=function(e){for(var t=0;t<e.__itemModelArray.length;t++){var n=e.__itemModelArray[t];if("image"===n.type&&"loading"===n.loadStatus)return!0}return!1},t.getNextColor=function(e){var t=g.filter(g.values(e.controller.getColors()),(function(e){return e!=p.colors.ORANGE})),n=t[e.colorIdx];return e.colorIdx=(e.colorIdx+1)%t.length,n},t.getItemByIndex=m,t.getFirstSelectableItem=function(e){for(var t=0;t<e.__itemModelArray.length;t++){var n=e.__itemModelArray[t];if(w(n))return n}},t.getLastSelectableItem=function(e){for(var t=e.__itemModelArray.length-1;t>=0;t--){var n=e.__itemModelArray[t];if(w(n))return n}},t.findPrevSelectableItem=y,t.findNextSelectableItem=b,t.getParentFolderModel=v,t.getNumberOfItemsInFolder=function(e,t){var n=M(e,t);if(!n||"folder"!==n.type)return 0;for(var r=0,i=e.__itemModelArray.length,o=n.index+1;o<i;o++){var a=e.__itemModelArray[o];if("folder"===a.type||a.folderId!==t)break;r+=1}return r},t.isItemSecret=x,t.isItemSelectable=w,t.isItemHiddenFromUI=A,t.getAllItemModels=E,t.getAllHelperItemModels=function(e){return g.values(e.__helperIdToModel)},t.eachLatex=k,t.eachLatexForItem=I,t.filterItemsBySearch=function(e,t){for(var n=0,r=f.getFuzzyLatexRegExp(t),o=0;o<e.__itemModelArray.length;o++)if(t){var s=e.__itemModelArray[o];switch(s.filteredBySearch=!0,s.type){case"expression":i.eachLatex(s,(function(e){S(e,r)&&(s.filteredBySearch=!1,n++)})),s.label&&s.showLabel&&(0==="label".indexOf(t)||S(s.label,r))&&(s.filteredBySearch=!1,n++);break;case"table":a.eachLatex(s,(function(e){S(e,r)&&(s.filteredBySearch=!1,n++)}));break;case"image":l.eachLatex(s,(function(e){S(e,r)&&(s.filteredBySearch=!1,n++)}));break;case"folder":s.title&&s.title.indexOf(t)>=0&&(s.filteredBySearch=!1,n++);break;case"text":s.text.indexOf(t)>=0&&(s.filteredBySearch=!1,n++);break;default:return s}!s.filteredBySearch&&"folder"!==s.type&&s.folderId&&(e.__itemIdToModel[s.folderId].filteredBySearch=!1,n++)}else e.__itemModelArray[o].filteredBySearch=!1;return n},t.findAvailableColumnSubscript=function(e){var t=[];k(e,(function(e){if(-1===e.indexOf("~")&&-1===e.indexOf("\\sim"))for(var n=/_(\d)|_\{(?:\s|\\space)*(\d+)(?:\s|\\space)*\}/g;;){var r=n.exec(e);if(!r)break;t.push(parseInt(r[1]||r[2],10))}})),t.sort((function(e,t){return e-t}));for(var n=1,r=0;r<t.length;r++)t[r]===n&&n++;return n},t.updateDrawOrder=function(e){var t=[];g.each(e.__itemModelArray,(function(e){"table"===e.type?g.each(e.columnModels,(function(e){t.push(e.id)})):t.push(e.id)})),e.drawOrder=t},t.getItemById=M,t.getItemsByIdentifier=function(e,t){for(var n=[],r=0;r<e.__itemModelArray.length;r++){var o=e.__itemModelArray[r];"expression"===o.type&&i.getAssignment(o)===t&&n.push(o)}return n},t.getHelperExpressionById=C,t.addHelperExpression=function(e,t){var n=c.init(t);e.__helperIdToModel[n.id]=n},t.recomputeAnyItemDependsOnRandomSeed=D,t.clearAnyItemIsAction=function(e){e.__anyIsAction=!1},t.recomputeAnyItemIsAction=T,t.reindex=L,t.removeAllItems=_,t.getItemCount=O,t.hasNoVisibleExpressions=function(e){return 1===e.nextDisplayIndex},t.getAllModelsWithSliders=function(e){for(var t=[],n=0;n<e.__itemModelArray.length;n++){var r=e.__itemModelArray[n];"expression"===r.type&&r.sliderExists&&t.push(r)}return t},t.getSelected=B,t.getUndoRedoDiffState=function(e){return{list:e.__itemModelArray.map((function(e){return e.cachedUndoRedoDiffState})),ticker:d.getUndoRedoDiffState(e.ticker)}},t.getUndoRedoFullState=function(e){return{list:e.__itemModelArray.map((function(e){return e.cachedUndoRedoFullState})),ticker:d.getUndoRedoFullState(e.ticker)}},t.getState=function(e,t){var n={list:e.__itemModelArray.map((function(e){switch(e.type){case"expression":return i.getState(e,t);case"image":return l.getState(e,t);case"table":return a.getState(e,t);case"folder":return o.getState(e,t);case"text":return s.getState(e,t);default:return e}}))},r=d.getState(e.ticker,t);return r&&(n.ticker=r),n},t.getLargestIntegerId=function(e){for(var t=0,n=/^[0-9]+$/,r=e.list.length-1;r>=0;r--){var i=e.list[r],o=i.id;if(n.test(o)&&(s=parseInt(o,10))>t&&(t=s),"table"===i.type&&i.columns)for(var a=i.columns.length-1;a>=0;a--){var s;o=i.columns[a].id,n.test(o)&&(s=parseInt(o,10))>t&&(t=s)}}return t},t.setListState=function(e,t,r){var i,o;for(r||(r={}),e.colorIdx=0,_(e),e.expressionAnalysis={},i=0;i<t.list.length;i++){if(o=P(e,t.list[i]),r.remapColors&&"color"in o&&o.color){var a=g.values(e.controller.getColors());g.contains(a,o.color)||(o.color=n.closestColor(o.color,a))}e.__itemModelArray.push(o),e.__itemIdToModel[o.id]=o}if(e.ticker=d.initModel(t.ticker),L(e),1===e.nextDisplayIndex){var s=P(e,{type:"expression",id:e.controller.generateId(),color:e.controller.getNextColor()});N(e,s,e.__itemModelArray.length)}},t.modelFromSpec=P,t.restoreListState=function(e,t){var n,r,c=e.__itemIdToModel;for(e.__itemModelArray=[],e.__itemIdToModel={},n=0;n<t.list.length;n++){var u=t.list[n];if((r=c[u.id])&&r.type===u.type)switch(r.type){case"expression":if(u.type!==r.type)throw new Error("invalid restoration");i.restoreState(r,u);break;case"table":if(u.type!==r.type)throw new Error("invalid restoration");a.restoreState(r,u);break;case"image":if(u.type!==r.type)throw new Error("invalid restoration");l.restoreState(r,u);break;case"folder":if(u.type!==r.type)throw new Error("invalid restoration");o.restoreState(r,u);break;case"text":if(u.type!==r.type)throw new Error("invalid restoration");s.restoreState(r,u);break;default:return r}else r=P(e,u);e.__itemModelArray.push(r),e.__itemIdToModel[r.id]=r}t.ticker&&d.restoreState(e.ticker,t.ticker),D(e),T(e),L(e)},t.onGraphComputed=function(e,t,n){var r,i=M(e,n[0]&&n[0].tableId||t);if(i)switch(i.type){case"expression":var o=!1;i.__workerNeedsDotplotXMode=!1;for(var s=0;s<n.length;s++)(h=n[s]).graphMode!==u.Z_3D&&h.graphMode!==u.OBJECT3D&&h.graphMode!==u.PARAMETRIC_CURVE_3D&&(h.graphMode!==u.ERROR?("resolved"in h&&!h.resolved&&(o=!0),h.boundingBox&&(r||(r=[]),r.push(h.boundingBox)),h.needsDotplotXMode&&(i.__workerNeedsDotplotXMode=!0)):i.error=h.error);i.unresolved=o,i.boundingBoxes=r;for(var c=1/0,l=-1/0,d=0,p=n;d<p.length;d++)if((h=p[d]).graphMode===u.POLAR){var g=h.sampledDomain;g&&(c=Math.min(c,g.min),l=Math.max(l,g.max))}return isFinite(c)&&(i.__workerSampledDomainMin=c),void(isFinite(l)&&(i.__workerSampledDomainMax=l));case"table":for(s=0;s<n.length;s++){var h;(h=n[s]).graphMode!==u.Z_3D&&h.graphMode!==u.OBJECT3D&&h.graphMode!==u.PARAMETRIC_CURVE_3D&&h.boundingBox&&(r||(r=[]),r.push(h.boundingBox))}return void(r&&a.setColumnBoundingBoxes(i,t,r));default:return}},t.onEvaluatorFormulaUpdates=function(e,t){var n,r,o,s=h.default(e.expressionAnalysis);for(n in t)if(t.hasOwnProperty(n)){o=t[n],r=M(e,n);var u={isGraphable:!!o.is_graphable,isError:!!o.error,errorMessage:o.error?e.controller.unpack(o.error):void 0};if(r)switch(r.type){case"expression":if(i.onFormulaUpdate(r,o),o.zero_values&&1===o.zero_values.length){var p=o.zero_values[0].val;g.isNumber(p)&&(u.evaluation={type:"Number",value:p},u.evaluationDisplayed=!0),g.isArray(p)&&p.every(g.isNumber)&&(u.evaluation={type:"ListOfNumber",value:p.slice()},u.evaluationDisplayed=!0)}else o.hasOwnProperty("constant_value")&&g.isNumber(o.constant_value)&&(u.evaluation={type:"Number",value:o.constant_value},u.evaluationDisplayed=!1);break;case"image":l.onFormulaUpdate(r,o);break;case"table":a.onFormulaUpdate(r,o);break;case"folder":case"text":break;default:return r}else if(n===e.ticker.id)d.onFormulaUpdate(e.ticker,o);else{var f=C(e,n);if(!f)continue;c.onFormulaUpdate(e.controller,f,o)}n!==e.ticker.id&&(s[n]=u)}D(e),T(e),e.expressionAnalysis=s},t.setSelected=F,t.moveItemsTo=function(e,t,n,i){if(t!==n){var o=e.__itemModelArray.splice(t,i);t<n&&(n=n-i+1),e.__itemModelArray.splice.apply(e.__itemModelArray,r.__spreadArray([n,0],o)),L(e)}},t.insertItemAtIndex=N,t.insertItemAtEnd=function(e,t){N(e,t,O(e))},t.removeItemAtIndex=q,t.anyItemDependsOnRandomSeed=function(e){return e.__anyDependsOnRandomSeed},t.anyItemIsAction=function(e){return e.__anyIsAction},t.removeItemById=function(e,t){var n=M(e,t);n&&q(e,n.index)},t.selectPrevItem=function(e){var t=B(e);if(!t)return!1;var n=y(e,t.index);return!!n&&(F(e,n),n.index===O(e)-1&&"expression"===t.type&&i.isEmpty(t)&&q(e,n.index),!0)},t.selectNextItem=function(e){var t=B(e);if(!t)return!1;var n=b(e,t.index);return!!n&&(F(e,n),!0)},t.isItemSelected=R,t.setDragState=function(e,t){e.dragState=t},t.getMissingVariablesForItem=function(e){switch(e.type){case"expression":return i.getMissingVariables(e);case"image":return l.getMissingVariables(e);case"table":case"text":case"folder":return[];default:return e}},t.collapseAllFolders=function(e,t){for(var n=0,r=E(e);n<r.length;n++){var i=r[n];"folder"===i.type&&o.setCollapsed(i,t)}}})),i("graphing-calc/models/abstract-item",["require","exports","./list","graphing-calc/models/expression","graphing-calc/models/table"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.getMaybeGradientDisplayColor=t.getDisplayColor=t.getDisplayState=t.updateIsHiddenFromUI=t.setFolderId=t.setSecret=t.DEFAULTS=t.getGUID=void 0;var o=0;function a(){return"abstract_item_"+o++}function s(e){return e.colorLatex?("expression"===e.type?(t=r.getColorLatexValue(e),n=r.isColorLatexValid(e)):"header"===e.type&&(t=i.getColorLatexValue(e),n=i.isColorLatexValid(e)),n&&t?t:e.color):e.color;var t,n}t.getGUID=a,t.DEFAULTS=function(e){return{guid:a(),controller:e,index:-1,displayIndex:-1,secretIndex:-1,isHiddenFromUI:!0,renderShell:!0}},t.setSecret=function(e,t){e.secret=t},t.setFolderId=function(e,t){"folder"!==e.type&&(e.folderId=t)},t.updateIsHiddenFromUI=function(e){e.isHiddenFromUI=n.isItemHiddenFromUI(e)},t.getDisplayState=function(e){return e.isHiddenFromUI||e.filteredBySearch?"none":e.renderShell?"shell":"render"},t.getDisplayColor=function(e){var t=s(e);return Array.isArray(t)?t[0]:t},t.getMaybeGradientDisplayColor=s})),i("core/graphing-calc/json/table",["require","exports","tslib","core/lib/default-spec","core/types/styles","core/lib/dragmode"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.computeParsableState=t.stripDefaults=t.inflateDefaults=t.COLUMN_DEFAULTS=t.DEFAULTS=void 0,t.DEFAULTS={folderId:"",secret:!1,columns:[]},t.COLUMN_DEFAULTS={latex:"",color:"",hidden:!1,values:[],points:!0,lines:!1,dragMode:o.DragMode.NONE,pointStyle:i.PointStyle.POINT,lineStyle:i.LineStyle.SOLID,colorLatex:"",lineOpacity:"",lineWidth:"",pointOpacity:"",pointSize:""},t.inflateDefaults=function(e){var r=n.__assign(n.__assign({},t.DEFAULTS),e);return r.columns=r.columns.map((function(e){return n.__assign(n.__assign({},t.COLUMN_DEFAULTS),e)})),r},t.stripDefaults=function(e){return e=n.__assign(n.__assign({},e),{columns:e.columns.map((function(e){return r.stripDefaults(t.COLUMN_DEFAULTS,e)}))}),r.stripDefaults(t.DEFAULTS,e)},t.computeParsableState=function(e){return{type:"table",id:e.id,columns:e.columns.map((function(t){return n.__assign(n.__assign({},t),{tableId:e.id})}))}}})),i("graphing-calc/models/table",["require","exports","core/math/rational-arithmetic-sequence","tslib","core/types/styles","core/lib/dragmode","./abstract-item","underscore","core/lib/label","core/math/evaluate-single-expression","core/math/distance","core/lib/deepCopy","core/lib/copy-properties","graphing-calc/models/list","core/graphing-calc/json/table","core/graphing-calc/json/table","core/graphing-calc/json/table","core/lib/validate-color"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y){function b(e,t,n,r){r.row=e.rowModels[t],r.row.cells.splice(n,0,r)}function v(e,t,n){e.rowModels[t].cells.splice(n,1)}function x(e){return isFinite(e)?c.truncatedLatexLabel(e,{digits:8,bigCutoff:1e6,smallCutoff:.001}):"\\mathrm{undefined}"}function w(e,t,n){var r=e.columnModels[t];r.error=n.error,r.discrete=n.discrete,r.disabled=n.dependent,r.draggable=!n.error&&!n.dependent,r.packedErrors=[],r.computedValues=[];for(var i=n.values,o=i.length-1;o>=0;o--){var a=i[o];r.computedValues[o]="number"==typeof a?x(a):"",r.packedErrors[o]=a&&a.key?a:void 0}}function A(e){if(!e.isExpanded){var t=e.rowModels.length;if(!(t<30))return{min:8,max:t-5}}}function E(e,t){var n=e.columnModels[t];return{values:e.columns[t].values.slice(),dragMode:n.dragMode,hidden:n.hidden,id:n.id,color:n.color,points:n.points,lines:n.lines,pointStyle:n.pointStyle,lineStyle:n.lineStyle,latex:n.latex,colorLatex:n.colorLatex,lineOpacity:n.lineOpacity,lineWidth:n.lineWidth,pointSize:n.pointSize,pointOpacity:n.pointOpacity}}Object.defineProperty(t,"__esModule",{value:!0}),t.isColumnEmpty=t.doesCellExist=t.setCellLatex=t.shouldHideColumn=t.mergeBoundingBoxes=t.setColumnBoundingBoxes=t.setColumnHidden=t.setExpanded=t.setColumnColorLatex=t.setColumnColor=t.setColumnDragMode=t.setColumnPointOpacity=t.setColumnPointSize=t.setColumnLineOpacity=t.setColumnLineWidth=t.setColumnLineStyle=t.setColumnLines=t.setColumnPointStyle=t.setColumnPoints=t.getColumnModel=t.getSelectedCell=t.cloneTableAndExtendWithProperties=t.makeTableState=t.buildEntireColumnStructure=t.initModel=t.restoreState=t.computeTableStructureMutation=t.updateCachedUndoRedoState=t.setIsDraggingOnGrapher=t.updateCachedViewState=t.getState=t.stripBlankRowAndColumn=t.addBlankRowAndColumn=t.updateCachedParsableState=t.eachLatex=t.getRowAutoFillValues=t.removeColumn=t.insertBlankColumn=t.removeRow=t.insertBlankRow=t.onFormulaUpdate=t.onControllerUpdate=t.getColorLatexValue=t.isPointOpacityValid=t.isPointSizeValid=t.isLineWidthValid=t.isLineOpacityValid=t.isColorLatexValid=t.isDynamicPropValid=t.makeColumn=t.removeCellFromColumn=t.insertCellToColumn=t.makeRow=t.makeCell=t.getGUID=t.getColumnState=t.getCollapsedRange=t.updateIsCollapsedByFocusLocation=t.setColumnComputedValues=t.formatValueForDisplay=t.removeCellFromRow=t.insertCellToRow=void 0,t.insertCellToRow=b,t.removeCellFromRow=v,t.formatValueForDisplay=x,t.setColumnComputedValues=w,t.updateIsCollapsedByFocusLocation=function(e){var t=V(e);if(t){var n=A(e);n?t.row>=n.min&&t.row<n.max&&H(e,!0):e.isExpanded||H(e,!0)}},t.getCollapsedRange=A,t.getColumnState=E;var k=0;function I(){return"table_guid_"+k++}function S(){return{guid:I(),type:"cell",row:void 0,column:void 0}}function M(e){return{type:"row",index:e,guid:I(),cells:[]}}function C(e,t,n,r){var i=e.columnModels[t];i.cells.splice(n,0,r),r.column=i,e.columns[i.index].values.splice(n,0,"")}function D(e,t,n){var r=e.columnModels[t];r.cells.splice(n,1),e.columns[r.index].values.splice(n,1)}function T(e,t,n){var i=n.color;i&&y.default(i)||(i=e.controller.getNextColor());var o=r.__assign(r.__assign({},n),{type:"header",guid:I(),index:t,error:void 0,table:e,color:i,packedErrors:[],computedValues:[],cells:void 0,row:void 0,discrete:void 0,shouldGraph:void 0,disabled:void 0,draggable:void 0});return o.cells=o.values.map((function(){var e=S();return e.column=o,e})),delete o.values,0===t&&(o.hidden=!0),o}function L(e,t){var n=e.table.formula;if(!n)return!1;var r=n.column_data[e.index];return!!r&&!!r[t]}function _(e,t){var n=M(t+1);e.rowModels.splice(t+1,0,n);for(var r=t+1;r<e.rowModels.length;r++)e.rowModels[r].index=r;for(r=0;r<e.columnModels.length;r++){var i=S();C(e,r,t,i),b(e,t+1,r,i)}}function O(e,t,n){var i=r.__assign(r.__assign(r.__assign({},h.COLUMN_DEFAULTS),n),{values:e.columns[0].values.map((function(){return""}))}),o=T(e,t,i);e.columnModels.splice(t,0,o),e.columns.splice(t,0,i);for(var a=t+1;a<e.columnModels.length;a++)e.columnModels[a].index=a;for(b(e,0,t,o),a=1;a<e.rowModels.length;a++)b(e,a,t,o.cells[a-1])}function B(e){for(var t=m.computeParsableState({type:"table",id:e.id,secret:e.secret,folderId:e.folderId,columns:e.columnModels.map((function(t){return E(e,t.index)}))}),n=0;n<t.columns.length;n++)t.columns[n].hidden=!e.columnModels[n].shouldGraph;e.cachedParsableState=t}function P(e,t){return(e=u.default(e)).push(r.__assign(r.__assign({},h.COLUMN_DEFAULTS),{id:t,values:e[0].values.map((function(){return""}))})),e.forEach((function(e){e.values.push("")})),e}function F(e){return(e=u.default(e)).pop(),e.forEach((function(e){e.values.pop()})),e}function N(e,t){var n=r.__assign(r.__assign({},e.cachedViewState),{columns:F(e.cachedViewState.columns)});return t.stripDefaults?f.stripDefaults(n):n}function q(e){var t=e.columnModels.map((function(t,n){return E(e,n)}));e.cachedViewState={id:e.id,type:e.type,folderId:e.folderId,columns:t,secret:e.secret}}function R(e){var t=r.__assign(r.__assign({},e.cachedViewState),{columns:F(e.cachedViewState.columns)});e.cachedUndoRedoFullState=t,e.preTransientState&&(t=r.__assign(r.__assign({},t),e.preTransientState)),e.cachedUndoRedoDiffState=t}function z(e,t){if(e.columnModels.length-1!==t.length)return{type:"start-fresh"};if(e.columnModels[0].cells.length-1!==t[0].values.length)return{type:"start-fresh"};for(var n=-1,r=t.length-1;r>=0;r--){var i=e.columns[r],o=t[r];if(i.id!==o.id)return{type:"start-fresh"};for(var a=i.values,s=o.values,c=s.length-1;c>=0;c--)if(a[c]!==s[c]&&(-1===n&&(n=c),n!==c))return{type:"start-fresh"}}return-1===n?{type:"none"}:{type:"edit-row",rowIndex:n}}t.getGUID=I,t.makeCell=S,t.makeRow=M,t.insertCellToColumn=C,t.removeCellFromColumn=D,t.makeColumn=T,t.isDynamicPropValid=L,t.isColorLatexValid=function(e){return L(e,"color_latex_valid")},t.isLineOpacityValid=function(e){return L(e,"line_opacity_valid")},t.isLineWidthValid=function(e){return L(e,"line_width_valid")},t.isPointSizeValid=function(e){return L(e,"point_size_valid")},t.isPointOpacityValid=function(e){return L(e,"point_opacity_valid")},t.getColorLatexValue=function(e){var t=e.table.formula;if(t){var n=t.column_data[e.index];if(n)return n.color_latex_value}},t.onControllerUpdate=function(e){e.draggingOnGraphpaper?e.preTransientState||(e.preTransientState={columns:N(e,{stripDefaults:!1}).columns}):delete e.preTransientState,a.updateIsHiddenFromUI(e);var t=g.getParentFolderModel(e),n=t&&t.hidden;s.each(e.columnModels,(function(e){e.shouldGraph=!n&&!e.hidden})),q(e),R(e),B(e)},t.onFormulaUpdate=function(e,t){e.formula=t;var n,r=e.formula.column_data,i=e.columnModels[0].cells.length,o=e.columnModels.length,a=0;for(n=0;n<r.length;n++){var s=r[n].values.length;s>a&&(a=s)}for(n=a-i;n>0;n--)_(e,i),i++;for(n=0;n<r.length&&n<o;n++)w(e,n,r[n]);var c=e.columnModels[e.columnModels.length-1];c.disabled=!0,c.error=void 0},t.insertBlankRow=_,t.removeRow=function(e,t){var n=A(e);n&&t===n.max-1&&H(e,!0);for(var r=0;r<e.columnModels.length;r++)D(e,r,t);for(e.rowModels.splice(t+1,1),r=t+1;r<e.rowModels.length;r++)e.rowModels[r].index=r},t.insertBlankColumn=O,t.removeColumn=function(e,t){e.columns.splice(t,1),e.columnModels.splice(t,1);for(var n=t;n<e.columnModels.length;n++)e.columnModels[n].index=n;for(n=0;n<e.rowModels.length;n++)v(e,n,t)},t.getRowAutoFillValues=function(e,t){var r,i=e.columnModels.length,o=[];for(r=0;r<i;r++)o.push("");var a=e.columns[0].values;if(t>1){var s=e.controller.isDegreeMode(),c=l.default(a[0],s),u=l.default(a[1],s);if(isFinite(c)&&isFinite(u)){var p=n(c,u);if(p){var g=p.nstart,h=g/p.lcm;for(r=0;r<t;r++){var f=l.default(a[r],s);if(!d.approx(f,h))return o;h=(g+=p.nstep)/p.lcm}o[0]=(""+c).length<8&&(""+u).length<8?""+h:"\\frac{"+g+"}{"+p.lcm+"}"}}}return o},t.eachLatex=function(e,t){for(var n=0;n<e.columnModels.length;n++){t(e.columnModels[n].latex,"tableHeader");for(var r=e.columns[n],i=0;i<r.values.length;i++)r.values[i]&&t(r.values[i],"tableCellValue")}},t.updateCachedParsableState=B,t.addBlankRowAndColumn=P,t.stripBlankRowAndColumn=F,t.getState=N,t.updateCachedViewState=q,t.setIsDraggingOnGrapher=function(e,t){e.draggingOnGraphpaper=t},t.updateCachedUndoRedoState=R,t.computeTableStructureMutation=z;var U={id:!1,type:!1,columns:!1,folderId:!0,secret:!0},j={id:!1,values:!1,color:!0,latex:!0,hidden:!0,points:!0,lines:!0,dragMode:!0,lineStyle:!0,pointStyle:!0,colorLatex:!0,lineOpacity:!0,lineWidth:!0,pointSize:!0,pointOpacity:!0};function Q(e){e.columnModels=e.columns.map((function(t,n){return T(e,n,t)})),e.rowModels=[M(0)];for(var t=0;t<e.columnModels.length;t++)b(e,0,t,e.columnModels[t]);for(t=0;t<e.columnModels[0].cells.length;t++){var n=M(t+1);e.rowModels.push(n);for(var r=0;r<e.columnModels.length;r++)b(e,t+1,r,e.columnModels[r].cells[t])}}t.restoreState=function(e,t){var n=z(e,t.columns);if(p.copyProperties({from:t,to:e,props:U}),"start-fresh"===n.type)e.columns=P(t.columns,e.controller.generateId()),Q(e);else{switch(n.type){case"none":break;case"edit-row":for(var r=t.columns.length-1;r>=0;r--)W(e,{column:r,row:n.rowIndex+1},t.columns[r].values[n.rowIndex]);break;default:return n}for(var i=0;i<t.columns.length;i++)p.copyProperties({from:t.columns[i],to:e.columnModels[i],props:j})}},t.initModel=function(e,t){var n=u.default(f.inflateDefaults(e)),i=r.__assign(r.__assign(r.__assign({},n),a.DEFAULTS(t)),{columnModels:void 0,rowModels:void 0,formula:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},isExpanded:!1});i.columns=P(i.columns,t.generateId());var o,s=0;for(o=0;o<i.columns.length;o++)i.columns[o].values||(i.columns[o].values=[]),i.columns[o].values.length>s&&(s=i.columns[o].values.length);for(o=0;o<i.columns.length;o++)for(var c=s-i.columns[o].values.length;c>0;c--)i.columns[o].values.push("");return Q(i),i},t.buildEntireColumnStructure=Q;var G=["x","y","z","u","v","w"];function V(e){var t=e.controller.getFocusLocation();return t&&"table"===t.type&&t.id===e.id?t.location:void 0}function Y(e,t){for(var n=0;n<e.columnModels.length;n++){var r=e.columnModels[n];if(r.id===t)return r}}function H(e,t){e.isExpanded=t}function K(e){var t=[];e.columnModels.forEach((function(e){e.boundingBoxes&&!e.hidden&&(t=t.concat(e.boundingBoxes))})),e.boundingBoxes=t}function W(e,t,n){if(0===t.row){var r=Y(e,e.columnModels[t.column].id);if(!r)return;return r.latex=n,void(t.column>=e.columnModels.length-1&&O(e,t.column+1,{id:e.controller.generateId(),latex:"",color:e.controller.getNextColor()}))}var i=e.columnModels[t.column];e.columns[i.index].values[t.row-1]=n,""!==n&&t.row>=e.columnModels[0].cells.length&&_(e,t.row)}t.makeTableState=function(e,t,n){for(var r=[],a=Math.min(t.length,G.length),s=0;s<a;s++)r.push({id:n.generateId(),latex:c.identifierToLatex(G[s]+"_"+e),values:t[s],color:n.getNextColor(),hidden:!1,points:!0,lines:!1,dragMode:o.DragMode.NONE,pointStyle:i.PointStyle.POINT,lineStyle:i.LineStyle.SOLID,colorLatex:"",lineWidth:"",lineOpacity:"",pointOpacity:"",pointSize:""});return{id:n.generateId(),type:"table",folderId:"",secret:!1,columns:r}},t.cloneTableAndExtendWithProperties=function(e,t){var n=N(e,{stripDefaults:!1});if(!n.columns||!t.columns)return t;for(var r=0;r<t.columns.length;r++){var i=n.columns[r],o=t.columns[r];if(i)for(var a in i)i.hasOwnProperty(a)&&(o.hasOwnProperty(a)||(o[a]=i[a]))}return t},t.getSelectedCell=V,t.getColumnModel=Y,t.setColumnPoints=function(e,t,n){var r=Y(e,t);r&&(r.points=n,n||(r.dragMode=o.DragMode.NONE))},t.setColumnPointStyle=function(e,t,n){var r=Y(e,t);r&&(r.pointStyle=n)},t.setColumnLines=function(e,t,n){var r=Y(e,t);r&&(r.lines=n)},t.setColumnLineStyle=function(e,t,n){var r=Y(e,t);r&&(r.lineStyle=n)},t.setColumnLineWidth=function(e,t,n){var r=Y(e,t);r&&(r.lineWidth=n)},t.setColumnLineOpacity=function(e,t,n){var r=Y(e,t);r&&(r.lineOpacity=n)},t.setColumnPointSize=function(e,t,n){var r=Y(e,t);r&&(r.pointSize=n)},t.setColumnPointOpacity=function(e,t,n){var r=Y(e,t);r&&(r.pointOpacity=n)},t.setColumnDragMode=function(e,t,n){var r=Y(e,t);r&&(r.dragMode=n,n===o.DragMode.NONE||r.points||(r.points=!0))},t.setColumnColor=function(e,t,n){var r=Y(e,t);r&&y.default(n)&&(r.color=n,r.colorLatex="")},t.setColumnColorLatex=function(e,t,n){var r=Y(e,t);r&&(r.colorLatex=n)},t.setExpanded=H,t.setColumnHidden=function(e,t,n){var r=Y(e,t);r&&(r.hidden=n,n&&K(e))},t.setColumnBoundingBoxes=function(e,t,n){var r=Y(e,t);r&&(r.boundingBoxes=n,K(e))},t.mergeBoundingBoxes=K,t.shouldHideColumn=function(e,t){var n=Y(e,t);return!n||!n.points&&!n.lines},t.setCellLatex=W,t.doesCellExist=function(e,t){return t.row<e.rowModels.length&&t.column<e.columnModels.length},t.isColumnEmpty=function(e){if(e.values)for(var t=0,n=e.values;t<n.length;t++)if(""!==n[t])return!1;if(e.computedValues)for(var r=0,i=e.computedValues;r<i.length;r++)if(""!==i[r])return!1;return!0}})),i("main/propagate_selection",["require","graphing-calc/models/table"],(function(e){var t=e("graphing-calc/models/table");function n(e){var n=e&&e.id;if(e&&"table"===e.type){var r=t.getSelectedCell(e);if(r){var i=e.columnModels[r.column];n=i?i.id:void 0}else n=void 0}if(e&&"folder"===e.type){var o=e.selectedHiddenChild;n=o?o.id:void 0}return n}return{getSelectedId:n,propagateSelection:function(e,t,r,i){var o=n(e.getSelectedItem());return o!==i&&t.select(o),o}}})),i("graphing/canvaslayer",["require","jquery","pjs","browser"],(function(e){var t=e("jquery"),n=e("pjs"),r=e("browser");return n((function(e){e.init=function(e){this.grapher=e,this.$=t("<div class='dcg-graph-outer' role='img'></div>").attr("aria-roledescription",this.s("graphing-calculator-narration-graphpaper-label")),this.canvas_node=t("<canvas class='dcg-graph-inner'></canvas>").css("position","relative").css("display","block"),this.devicePixelRatio=window.devicePixelRatio||1,this.ctx=this.canvas_node[0].getContext("2d"),this.resize(0,0),r.IS_IOS&&r.IS_IN_IFRAME&&(this.$.css("-webkit-transform","translate3d(0,-.25px,0)"),this.$.append('<div style="width:1px; height:.5px; pointer-events:none; opacity: 0;" aria-hidden="true">text</div>')),this.$.append(this.canvas_node)},e.resize=function(e,t,n){n=n||this.devicePixelRatio,e===this.width&&t===this.height||(this.width=e,this.height=t,this.canvas_node.css("width",e+"px").css("height",t+"px").attr("width",e*n).attr("height",t*n),this.ctx=this.canvas_node[0].getContext("2d"),this.ctx.scale(n,n))},e.s=function(e,t){return this.grapher.controller.s(e,t)},e.getAriaLabel=function(e){var t="";if(0===e)return this.s("graphing-calculator-narration-empty-graphpaper");t=1===e?this.s("graphing-calculator-narration-graphpaper-one-graph"):this.s("graphing-calculator-narration-graphpaper-multiple-graphs",{count:e});var n=this.grapher.getAudioTrace();return n&&!n.getAudioTraceActive()&&void 0!==n.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!1})&&(r.IS_APPLE?t+=" "+this.s("graphing-calculator-narration-audio-instructions-enter-audio-trace-mac"):t+=" "+this.s("graphing-calculator-narration-audio-instructions-enter-audio-trace-windows")),t},e.updateAria=function(e,t){this.$.attr("aria-hidden",!e||!this.grapher.settings.config.graphpaper).attr("tabindex",e&&this.grapher.settings.config.graphpaper&&this.grapher.settings.config.enableTabindex&&t>0?0:-1).attr("aria-label",this.getAriaLabel(t))},e.redraw=function(){}}))})),i("loadcss!poi",(function(){})),i("graphing/constants",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.LINE_WIDTH=t.OFFSCREEN_RENDER_MARGIN=t.POI_ALPHA=t.POLAR_ALPHA=t.HIGHLIGHTED_POINT_ALPHA=t.POINT_ALPHA=t.FILL_ALPHA=t.MAX_DOTTED_SEGMENTS=t.ZOOM_FACTOR=t.DOUBLETAP_ZOOM=t.ANIMATE_ZOOM_DURATION=void 0,t.ANIMATE_ZOOM_DURATION=500,t.DOUBLETAP_ZOOM=2,t.ZOOM_FACTOR=1.0625,t.MAX_DOTTED_SEGMENTS=1e3,t.FILL_ALPHA=.4,t.POINT_ALPHA=.9,t.HIGHLIGHTED_POINT_ALPHA=.6,t.POLAR_ALPHA=.2,t.POI_ALPHA=.01,t.OFFSCREEN_RENDER_MARGIN=20,t.LINE_WIDTH=2.5})),i("graphing/dasheddrawer",["require","exports","./constants","core/math/distance"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DashedDrawer=void 0;var i=function(){function e(e,t,r){this.pattern=r,this.replen=this.pattern[0]+this.pattern[1],t/this.replen>n.MAX_DOTTED_SEGMENTS&&(this.pattern[0]=t*this.pattern[0]/this.replen/n.MAX_DOTTED_SEGMENTS,this.pattern[1]=t*this.pattern[1]/this.replen/n.MAX_DOTTED_SEGMENTS),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null,this.ctx=e}return e.getDashedPattern=function(e,t){var n=11*e.lineWidth/(t?3.5:2.5);return[n,7*n/11]},e.getDottedPattern=function(e,t,n){var r=.5*e.lineWidth*.1/(n?3.5:2.5),i=8*r/.1;return t&&(i*=2),[r,i]},e.getTotalSegmentLength=function(e){if(e.length<4)return 0;for(var t,n,i=0,o=0,a=e[0],s=e[1];isNaN(a)||isNaN(s);){if((o+=2)>=e.length)return 0;a=e[o],s=e[o+1]}for(o+=2;o<e.length;o+=2)t=e[o],n=e[o+1],isNaN(t)||isNaN(n)||(i+=r.hypot(t-a,n-s),a=t,s=n);return i},e.prototype.start=function(e,t){this.ctx.desmos_batching||this.ctx.beginPath(),this.px=e,this.py=t},e.prototype.next=function(e,t){if(null===this.px||null===this.py)throw new Error("Must call start before calling next");var n=this.pattern[this.pstate],r=Math.sqrt(Math.pow(e-this.px,2)+Math.pow(t-this.py,2));if(r>1e-5){for(;r+this.dstaccum>=n;){var i=e-this.px,o=t-this.py,a=n-this.dstaccum;i*=a/r,o*=a/r,0===this.pstate&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(this.px+i,this.py+o)),this.dstaccum=0,this.px+=i,this.py+=o,this.pstate=0===this.pstate?1:0,n=this.pattern[this.pstate],r-=a}0===this.pstate&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(e,t))}this.px=e,this.py=t,this.dstaccum+=r},e.prototype.close=function(){this.ctx.desmos_batching||this.ctx.stroke(),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null},e.prototype.drawSegment=function(e){for(var t,n,r=0,i=e[0],o=e[1];isNaN(i)||isNaN(o);){if((r+=2)>=e.length)return;i=e[r],o=e[r+1]}for(this.start(i,o),r+=2;r<e.length;r+=2)t=e[r],n=e[r+1],isNaN(t)||isNaN(n)||this.next(t,n);this.close()},e}();t.DashedDrawer=i})),i("graphing/viewport",["require","exports"],(function(e,t){function n(e,t){return e+1e-8*(t-e)>e&&t-e>1e-300&&t-e<1e300}Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;var r=function(){function e(e,t,n,r){void 0===e&&(e=-10),void 0===t&&(t=10),void 0===n&&(n=-10),void 0===r&&(r=10),this.xmin=e,this.xmax=t,this.ymin=n,this.ymax=r}return e.fromObject=function(t){return new e(t.xmin,t.xmax,t.ymin,t.ymax)},e.prototype.toObject=function(){return{xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax}},e.prototype.equals=function(e){return this.xmin===e.xmin&&this.ymin===e.ymin&&this.xmax===e.xmax&&this.ymax===e.ymax},e.prototype.isXValid=function(){return n(this.xmin,this.xmax)},e.prototype.isYValid=function(){return n(this.ymin,this.ymax)},e.prototype.isValid=function(){return this.isXValid()&&this.isYValid()},e.prototype.isSquare=function(e){return Math.abs(e.height-e.width*this.aspectRatio())<1},e.prototype.aspectRatio=function(){return(this.ymax-this.ymin)/(this.xmax-this.xmin)},e.prototype.squareXAxis=function(t){var n=this.xmax-this.xmin,r=this.ymax-this.ymin,i=this.xmin+n/2,o=r/t.height*t.width;return new e(i-o/2,i+o/2,this.ymin,this.ymax)},e.prototype.squareYAxis=function(t){var n=this.xmax-this.xmin,r=this.ymax-this.ymin,i=this.ymin+r/2,o=n/t.width*t.height;return new e(this.xmin,this.xmax,i-o/2,i+o/2)},e.prototype.squareCrop=function(e){return this.aspectRatio()>e.height/e.width?this.squareYAxis(e):this.squareXAxis(e)},e.prototype.polarDiameter=function(){var e=Math.abs(this.xmax),t=Math.abs(this.xmin),n=Math.abs(this.ymax),r=Math.abs(this.ymin);return 1.5*Math.max(e,t,n,r)},e.prototype.largestR=function(){return Math.sqrt(Math.pow(Math.max(-this.xmin,this.xmax),2)+Math.pow(Math.max(-this.ymin,this.ymax),2))},e.prototype.smallestR=function(){return this.xmin<=0&&this.xmax>=0&&this.ymin<=0&&this.ymax>=0?0:this.xmin<=0&&this.xmax>=0?Math.min(Math.abs(this.ymin),Math.abs(this.ymax)):this.ymin<=0&&this.ymax>=0?Math.min(Math.abs(this.xmin),Math.abs(this.xmax)):Math.sqrt(Math.pow(Math.max(this.xmin,-this.xmax),2)+Math.pow(Math.max(this.ymin,-this.ymax),2))},e}();t.Viewport=r})),i("core/types/line-opacity",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT=void 0,t.DEFAULT=.9})),i("graphing/draw-image-to-ctx",["require","exports","graphing-calc/models/list","./svg-classes"],(function(e,t,n,r){var i;function o(e,t){if(i&&i.color===t&&i.img===e)return i.canvas;i?(i.color=t,i.img=e):i={color:t,img:e,canvas:document.createElement("canvas")};var n=i.canvas;n.width=0,n.width=e.width,n.height=e.height;var r=n.getContext("2d");return r.drawImage(e,0,0),r.fillStyle=t,r.globalCompositeOperation="source-atop",r.fillRect(0,0,e.width,e.height),n}Object.defineProperty(t,"__esModule",{value:!0}),t.drawImageToCtx=void 0,t.drawImageToCtx=function(e,t,i){var a=e.formula;if(a&&a.dimensions.x)for(var s=a.dimensions,c=0;c<s.x.length;c++){var l=s.x[c],d=s.y[c],u=s.width[c],p=s.height[c],g=s.radianAngle[c];if(isFinite(l)&&isFinite(d)&&isFinite(u)&&isFinite(p)&&isFinite(g)){r.save(t,"dcg-svg-image"),t.save(),r.restore(t),t.globalAlpha=s.opacity[c];var h=i.mapy(p)-i.mapy(0),f=i.mapx(u)-i.mapx(0),m=0===g?1:Math.abs(f/u*(p/h)),y=i.mapx(l),b=i.mapy(d),v=p<0?-1:1,x=u<0?-1:1,w=(y-f/2)*x,A=(b+h*m/2)*v,E=Math.abs(f),k=Math.abs(h);0!==g&&(t.translate(y,b),t.scale(1,1/m),t.rotate(g),t.translate(-y,-b)),t.scale(x,v);var I,S,M=!1,C=!1,D=e.controller.getGrapher();D&&"2d"===D.type&&(M=D.clickableObjectsLayer.shouldDrawHovered(e.id),I=D.clickableObjectsLayer.getHoveredObject(),C=D.clickableObjectsLayer.shouldDrawPressed(e.id),S=D.clickableObjectsLayer.getPressedObject());var T=e.imageObj,L=T;C&&S&&S.listIndex==c?L=e.depressedImageObj?e.depressedImageObj:o(T,"rgba(50,50,50,0.2)"):M&&I&&I.listIndex===c&&(L=e.hoveredImageObj?e.hoveredImageObj:o(T,"rgba(200,200,200,0.2)")),t.drawImage(L,w,A,E,k*m),n.isItemSelected(e)&&e.controller.isTraceEnabled()&&(t.beginPath(),t.rect(w,A,E,k*m),t.restore(),t.save(),t.strokeStyle="#6993C7",t.lineWidth=2,t.stroke()),t.restore()}}}})),i("graphing/svg-groups",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.restore=t.setTitle=t.save=void 0,t.save=function(e,t){var n=e;n._dcgStartNamedGroup&&n._dcgStartNamedGroup(t)},t.setTitle=function(e,t){var n=e;n._dcgSetTitle&&n._dcgSetTitle(t)},t.restore=function(e){var t=e;t._dcgEndNamedGroup&&t._dcgEndNamedGroup()}})),i("graphing/graphslayer",["require","exports","./clipping","./dasheddrawer","./constants","./viewport","core/types/graphmode","core/lib/color-helpers","core/types/styles","core/types/line-opacity","core/types/point-opacity","core/types/point-size","./draw-image-to-ctx","./svg-groups","./svg-classes"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h){Object.defineProperty(t,"__esModule",{value:!0}),t.GraphsLayer=void 0;var f={};function m(e){return void 0===e&&(e={}),Object.keys(e).length}function y(e,t){return void 0===t&&(t={}),0===m(t)?e:e.filter((function(e,n){return!t[n]}))}function b(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}var v=function(e,t){var n=3;return t&&(n+=t),new o.Viewport(-n,e.width+n,-n,e.height+n)},x=function(e){return Math.round(e-.5)+.5},w=function(){function e(e,t){if(this.getExpressionAriaLabel=t,e.config.plaidMode)for(var n=0,r=["RED","BLUE","GREEN","PURPLE","ORANGE","BLACK"];n<r.length;n++){var i=r[n];f[s.colors[i]]=document.createElement("img"),f[s.colors[i]].setAttribute("src","/assets/img/april-fools/"+i.toLowerCase()+".png")}}return e.prototype.redrawToCtx=function(t,n,r,i,o,a,s,c){var l=this;g.save(t,"expressions"),o.forEach((function(o){var d=r[o],u=i[o];void 0!==d&&d.visible&&(g.save(t,"sketch"),n.settings.takingScreenshot&&g.setTitle(t,l.getExpressionAriaLabel(o)),e.drawSketchToCtx(r[o],t,n,a,s,c),g.restore(t)),u&&u.shouldGraph&&u.foreground&&p.drawImageToCtx(u,t,n)})),g.restore(t)},e.eachSegment=function(e,t){for(var n=0,r=e.branches;n<r.length;n++){var i=r[n];if(i.graphMode!==a.ERROR)for(var o=0,s=i.segments;o<s.length;o++)t(i,s[o])}},e.drawSketchToCtx=function(t,n,r,o,s,p){var g;if(p||(p={}),t.branches&&t.branches.length){var h=n.lineWidth,y=n.globalAlpha,v=r.settings.globalCurveColor?r.settings.globalCurveColor:t.color,x=f[v];if(x&&x.complete&&x.naturalWidth>0){var w=n.createPattern(x,"repeat");n.fillStyle=w}else n.fillStyle=v;n.strokeStyle=v,n.lineJoin="round",n.lineCap="round";for(var A=!!r.settings.takingScreenshot,E=!!p.showMovablePoints,k=s.getHoveredObject(),I=s.getPressedObject(),S=0,M=t.branches;S<M.length;S++){var C=M[S];if(C.graphMode!==a.XYPOINT&&C.graphMode!==a.XYPOINT_MOVABLE&&C.graphMode!==a.ERROR){var D=1;s.shouldDrawHovered(t.id)&&k&&k.listIndex===C.listIndex&&(D=1.2),s.shouldDrawPressed(t.id)&&I&&I.listIndex===C.listIndex&&(D=1.4),!C.color||r.settings.globalCurveColor||Object.keys(f).length||(n.fillStyle=C.color),C.graphMode!==a.POLAR&&(n.desmos_batching=!0,n.beginPath());for(var T=0,L=C.segments;T<L.length;T++){var _=L[T],O=null!==(g=C.graphMode)&&void 0!==g?g:a.Y;if(O!==a.POLYGONFILL||r.settings.disableFill){if(O!==a.IMPLICIT){var B=C.operator,P="<="==B||"<"==B;!r.settings.disableFill&&("<"==B||">"==B||"<="==B||">="==B)&&e.fillGraphStrokeToCtx(n,r,_,P,O)}}else e.fillPolygonToCtx(n,r,_,void 0===C.fillOpacity?NaN:C.fillOpacity*D)}n.globalAlpha=e._clampedOpacity(void 0===C.fillOpacity?NaN:C.fillOpacity*D,i.FILL_ALPHA),C.graphMode!==a.POLAR&&(n.fill(),n.desmos_batching=!1),n.globalAlpha=1}}e.eachSegment(t,function(o,d){if(o.graphMode!==a.XYPOINT&&o.graphMode!==a.XYPOINT_MOVABLE&&o.graphMode!==a.ERROR){var u=a.Y;o.graphMode&&(u=o.graphMode);var p=d,g=void 0!==o.lineWidth,h=o.lineWidth,f=i.LINE_WIDTH;if(n.strokeStyle=o.color,n.fillStyle=o.color,!g||!(h<=0)&&isFinite(h)){n.lineWidth=g?h:f;var m=r.settings.graphLineWidth/f;n.lineWidth*=m,n.globalAlpha*=r.settings.curveOpacity,n.globalAlpha=e._clampedOpacity(1===r.settings.curveOpacity?1:o.lineOpacity,l.DEFAULT);var y=o.operator,b="default";"<"===y||">"===y||"!="===y?b=c.LineStyle.DASHED:"<="===y||">="===y?b=c.LineStyle.SOLID:t.style===c.LineStyle.DASHED||o.style===c.LineStyle.DASHED?b=c.LineStyle.DASHED:t.style!==c.LineStyle.DOTTED&&o.style!==c.LineStyle.DOTTED||(b=c.LineStyle.DOTTED,g&&(n.lineWidth*=2));var v=s.getHoveredObject(),x=s.shouldDrawHovered(t.id)&&v&&v.listIndex===o.listIndex,w=s.getPressedObject(),A=s.shouldDrawPressed(t.id)&&w&&w.listIndex===o.listIndex;(A||x)&&(n.save(),n.lineWidth+=4.5,n.globalAlpha*=A?.5:.3,e.drawGraphStrokeToCtx(n,r,p,b,u,y),n.restore()),e.drawGraphStrokeToCtx(n,r,p,b,u,y)}}}.bind(this)),n.lineWidth=h,n.globalAlpha=y,e.eachSegment(t,function(i,c){if(i.graphMode===a.XYPOINT&&i.showPoint||i.graphMode===a.XYPOINT_MOVABLE&&A){var l=c,p=[],g=void 0;if(i.interactiveLabel&&t.labels)for(var h=0,f=t.labels.length;h<f;h++){var y=t.labels[h],v=o.isOpenPOI(y),x=o.getHoveredPOI()===y;p.push(v||x),!v&&x&&(g=h)}var w=i.graphMode===a.XYPOINT_MOVABLE&&A&&!E&&1===i.pointOpacity,k=1;"number"==typeof i.pointSize?k=i.pointSize/u.DEFAULT:Array.isArray(i.pointSize)&&(k=i.pointSize.map((function(e){return e/u.DEFAULT})));var I=void 0;Array.isArray(i.color)&&(I=i.color);var S=s.getHoveredObject(),M=s.shouldDrawHovered(t.id),C=s.getPressedObject(),D=s.shouldDrawPressed(t.id),T=i.droppedIndices;if(M||D){var L=l.length;T&&(L+=m(T));var _=b(L,0),O=Array.isArray(k)?k.slice():b(L,k);D&&C?(_[C.listIndex]=.5,O[C.listIndex]*=1.5):M&&S&&(_[S.listIndex]=.3,O[S.listIndex]*=1.5),e.drawPointsToCtx({ctx:n,projection:r,segment:l,style:i.style,sizeOverrideIdxs:p,opacityOverrideIdx:g,sizeFactor:O,opacityFactor:_,colorOverrides:I,baseOpacity:i.pointOpacity,droppedIndices:T}),n.restore()}e.drawPointsToCtx({ctx:n,projection:r,segment:l,style:i.style,sizeOverrideIdxs:p,opacityOverrideIdx:g,sizeFactor:k,opacityFactor:1,colorOverrides:I,baseOpacity:w?d.DEFAULT:i.pointOpacity,droppedIndices:T})}}.bind(this))}},e.drawGraphStrokeToCtx=function(e,t,i,o,a,s){var l=n.getClippingGraphType(a,"="!==s,t.settings),d=n.mapSegmentToCanvas(i,t.viewport,t.screen,l),u=n.clipStrokeEdges(d,v(t.screen,e.lineWidth));if(0!==u.length){if(e.save(),h.save(e,"dcg-svg-curve"),o==c.LineStyle.DASHED)new r.DashedDrawer(e,r.DashedDrawer.getTotalSegmentLength(u),r.DashedDrawer.getDashedPattern(e,!!t.settings.highlight)).drawSegment(u);else if(o==c.LineStyle.DOTTED)new r.DashedDrawer(e,r.DashedDrawer.getTotalSegmentLength(u),r.DashedDrawer.getDottedPattern(e,!!t.settings.config.projectorMode,!!t.settings.highlight)).drawSegment(u);else if(o!==c.LineStyle.SOLID&&"default"!==o||1!==e.lineWidth){for(e.desmos_batching||e.beginPath(),e.moveTo(u[0],u[1]),p=0;p<u.length;p+=2)e.lineTo(u[p],u[p+1]);e.desmos_batching||e.stroke()}else{if(e.desmos_batching||e.beginPath(),u.length>4||u[0]!==u[2]&&u[1]!==u[3]){e.moveTo(u[0],u[1]);for(var p=0;p<u.length;p+=2)e.lineTo(u[p],u[p+1])}else for(e.moveTo(x(u[0]),x(u[1])),p=0;p<u.length;p+=2)e.lineTo(x(u[p]),x(u[p+1]));e.desmos_batching||e.stroke()}h.restore(e),e.restore()}},e.mapPointToScreen=function(e,t,n){var r=e.mapx(t)-.5;if(r<-20||r>e.screen.width+20)return null;var i=e.mapy(n)-.5;return i<-20||i>e.screen.height+20?null:{x:r,y:i}},e.drawPointToCtx=function(t,n,r,o,a,s,l,d,u,p){var g=t.lineWidth,f=t.fillStyle,m=t.strokeStyle,y=e.mapPointToScreen(n,r,o);if(!y)return!1;if(void 0!==d&&(d<=0||!isFinite(d)))return!1;h.save(t,"dcg-svg-point"),t.globalAlpha=void 0!==a?a:i.POINT_ALPHA,void 0!==u&&(t.globalAlpha*=u),t.desmos_batching||t.beginPath();var b=n.settings.pointLineWidth;if(l&&(b=n.settings.config.projectorMode?17:11,t.lineWidth=b),void 0!==d&&(b*=d,t.lineWidth=b),p&&(t.fillStyle=p,t.strokeStyle=p),s===c.PointStyle.CROSS){var v=.4*b;t.moveTo(y.x-v,y.y-v),t.lineTo(y.x+v,y.y+v),t.moveTo(y.x+v,y.y-v),t.lineTo(y.x-v,y.y+v),t.lineWidth=.3*b}else s===c.PointStyle.OPEN?(v=.42*b,t.moveTo(y.x+v,y.y),t.arc(y.x,y.y,v,0,2*Math.PI,!0),t.closePath(),t.fillStyle="white",t.lineWidth=.25*b,t.fill()):(t.moveTo(y.x-.1,y.y-.1),t.lineTo(y.x-.1,y.y+.1),t.lineTo(y.x+.1,y.y+.1),t.lineTo(y.x+.1,y.y-.1));return t.desmos_batching||t.stroke(),t.globalAlpha=1,t.lineWidth=g,t.fillStyle=f,t.strokeStyle=m,h.restore(t),!0},e.drawPointsToCtx=function(t){var n,r=t.ctx,o=t.projection,a=t.segment,s=t.style,c=t.sizeOverrideIdxs,l=t.opacityOverrideIdx,d=t.sizeFactor,u=t.opacityFactor,p=t.colorOverrides,g=t.baseOpacity,h=t.droppedIndices,f=r.lineWidth;r.lineWidth=o.settings.pointLineWidth,n=Array.isArray(g)?y(n=g.map(function(t){return e._clampedOpacity(t,i.POINT_ALPHA)}.bind(this)),h):e._clampedOpacity(g,i.POINT_ALPHA),Array.isArray(d)&&(d=y(d,h)),Array.isArray(u)&&(u=y(u,h)),p&&(p=y(p,h));for(var m=0;m<a.length;m++)e.drawPointToCtx(r,o,a[m][0],a[m][1],l===m?i.HIGHLIGHTED_POINT_ALPHA:Array.isArray(n)?n[m]:n,s,c[m],Array.isArray(d)?d[m]:d,Array.isArray(u)?u[m]:u,p&&p[m]);r.lineWidth=f},e.fillGraphStrokeToCtx=function(e,t,r,o,s){e.globalAlpha=s===a.POLAR?i.POLAR_ALPHA:i.FILL_ALPHA;var c,l=null,d=null;if(s===a.POLAR){d=n.ALL;var u=o?0:t.viewport.polarDiameter(),p=t.settings.degreeMode?180:2*Math.PI;l=n.computePolarFill(r,u,p)}else s===a.Y?(d=n.Y,c=o?t.viewport.ymin:t.viewport.ymax,l=n.computeCartesianFill(r,c)):s===a.X&&(d=n.X,c=o?t.viewport.xmin:t.viewport.xmax,l=n.computeCartesianFill(r,c));if(null!==l&&null!==d){for(var g=v(t.screen),f=0,m=l;f<m.length;f++){var y=m[f],b=n.getClippingGraphType(s,!0,t.settings),x=n.mapSegmentToCanvas(y,t.viewport,t.screen,b),w=n.clipFillEdges(x,g,d,!1);if(w.length>=6){h.save(e,"dcg-svg-region"),e.desmos_batching||e.beginPath(),e.moveTo(w[0],w[1]);for(var A=2;A<w.length;A+=2)e.lineTo(w[A],w[A+1]);e.lineTo(w[0],w[1]),e.desmos_batching||e.fill(),h.restore(e)}}e.globalAlpha=1}},e._clampedOpacity=function(e,t){return"number"!=typeof e?t:e<0?0:e>1?1:isFinite(e)?e:t},e.fillPolygonToCtx=function(t,r,o,a){var s=v(r.screen);t.globalAlpha=e._clampedOpacity(a,i.FILL_ALPHA);var c=n.mapSegmentToCanvas(o,r.viewport,r.screen,n.Y_EQUALS),l=n.clipFillEdges(c,s,n.ALL,!1);if(l.length>=6){h.save(t,"dcg-svg-region"),t.desmos_batching||t.beginPath(),t.moveTo(l[0],l[1]);for(var d=2;d<l.length;d+=2)t.lineTo(l[d],l[d+1]);t.desmos_batching||t.fill(),h.restore(t)}t.globalAlpha=1},e}();t.GraphsLayer=w})),i("graphing/poidotslayer",["require","loadcss!poi","pjs","./graphslayer","./constants"],(function(e){e("loadcss!poi");var t=e("pjs"),n=e("./graphslayer").GraphsLayer,r=e("./constants"),i=t((function(e){e.init=function(){this.savedPOI=[]},e.redrawToCtx=function(e,t,n,r,o){var a=[];for(var s in n){var c=n[s];if(c.visible){c.showHighlight&&i.drawSketchHighlight(c,e,t,r,o);var l=c.getPOI();(c.showPOI||l.length&&l[0].isAttachedToPlottedPoint())&&a.push.apply(a,i.drawPOIs(l,e,"#AAAAAA",t))}}this.savedPOI=a},e.getDrawnPOI=function(){return this.savedPOI}}));return i.drawSketchHighlight=function(e,t,r,i,o){r.settings.setProperty("highlight",!0),n.drawSketchToCtx(e,t,r,i,o),r.settings.setProperty("highlight",!1)},i.drawPOIs=function(e,t,i,o){t.lineWidth=o.settings.pointLineWidth,t.strokeStyle=i||"#AAAAAA",t.fillStyle=i||"#AAAAAA",t.lineJoin="round",t.lineCap="round";var a=t.globalAlpha;t.globalAlpha=r.POI_ALPHA;var s,c,l=[],d=e.length;if(d&&e[0].isAttachedToPlottedPoint())for(s=0;s<d;s++)c=e[s],n.mapPointToScreen(o,c.x,c.y)&&l.push(c);else for(s=0;s<d;s++)c=e[s],n.drawPointToCtx(t,o,c.x,c.y)&&l.push(c);return t.globalAlpha=a,l},i})),i("graphing/stepnumber",["require","pjs","./svg-classes"],(function(e){var t=e("pjs"),n=e("./svg-classes"),r=document.createElement("canvas").getContext("2d"),i=t((function(e){e.init=function(e,t){this._label=e,this._fontSize=t,this._layout=this._computeLayout(e,t)},e._computeLayout=function(e,t){var n={};return e.superscript?(n.mantissa_height=t,i.setCtxFontSize(r,n.mantissa_height),n.mantissa_width=r.measureText(e.mantissa).width,n.superscript_height=Math.round(.8*t),i.setCtxFontSize(r,n.superscript_height),n.superscript_width=r.measureText(e.superscript).width,n.mantissa_x=0,n.mantissa_y=t/5,n.superscript_x=n.mantissa_width/2+n.superscript_width/2,n.superscript_y=-t/4,n.top=n.superscript_y-n.superscript_height/2,n.bottom=n.mantissa_y+n.mantissa_height/2,n.left=n.mantissa_x-n.mantissa_width/2,n.right=n.superscript_x+n.superscript_width/2):(n.mantissa_height=t,i.setCtxFontSize(r,t),n.mantissa_width=r.measureText(e.string).width,n.mantissa_x=0,n.mantissa_y=0,n.top=n.mantissa_y-n.mantissa_height/2,n.bottom=n.mantissa_y+n.mantissa_height/2,n.left=n.mantissa_x-n.mantissa_width/2,n.right=n.mantissa_x+n.mantissa_width/2),n},e.getRect=function(){return this.getRectWhenCenteredAt({x:0,y:0})},e.getRectWhenCenteredAt=function(e){return{left:this._layout.left+e.x,right:this._layout.right+e.x,top:this._layout.top+e.y,bottom:this._layout.bottom+e.y}},e.getWidth=function(){return this._layout.right-this._layout.left},e.getHeight=function(){return this._layout.bottom-this._layout.top},e.clampBoundsWithinRect=function(e,t){var n={};return e.x+this._layout.left<t.left?n.x=t.left-this._layout.left:e.x+this._layout.right>t.right?n.x=t.right-this._layout.right:n.x=e.x,e.y+this._layout.top<t.top?n.y=t.top-this._layout.top:e.y+this._layout.bottom>t.bottom?n.y=t.bottom-this._layout.bottom:n.y=e.y,n},e.getValue=function(){return this._label.value},e.getMinusWidth=function(){return this.getValue()<0?(i.setCtxFontSize(r,this._fontSize),r.measureText("-1").width-r.measureText("1").width):0},e.getString=function(){return this._label.superscript?this._label.mantissa+"^"+this._label.superscript:this._label.string},e.drawCenteredAt=function(e,t,r){var o=t.x,a=i.computeBaselineFromCenter(t.y,this._fontSize);r&&n.save(e,r),e.save(),r&&n.restore(e),i.setCtxFontSize(e,this._fontSize),this._label.superscript?(e.strokeText(this._label.mantissa,this._layout.mantissa_x+o,this._layout.mantissa_y+a),e.strokeText(this._label.superscript,this._layout.superscript_x+o,this._layout.superscript_y+a),e.fillText(this._label.mantissa,this._layout.mantissa_x+o,this._layout.mantissa_y+a),e.fillText(this._label.superscript,this._layout.superscript_x+o,this._layout.superscript_y+a)):(e.strokeText(this._label.string,this._layout.mantissa_x+o,this._layout.mantissa_y+a),e.fillText(this._label.string,this._layout.mantissa_x+o,this._layout.mantissa_y+a)),e.restore()}}));return i.computeBaselineFromCenter=function(e,t){return e+.272*t},i.setCtxFontSize=function(e,t){e.font=t+"px Arial",e.textAlign="center"},i})),i("graphing/computestepsizes",["require","./stepnumber","core/lib/label"],(function(e){var t=e("./stepnumber"),n=e("core/lib/label"),r={},i=function(e,t,n,r){var i=Math.ceil(e/n),o=Math.floor(t/n),a=1/n;if(!(i>o||o-i>1e4))for(var s=i;s<=o;s++)r(s/a)};function o(e){return e?{base:10,major:[e,2*e,5*e],minor:[4,4,5]}:r.RATIONAL_STEPS}return r.RATIONAL_STEPS={base:10,major:[1,2,5],minor:[5,4,5]},r.PI_STEPS={base:10,major:[Math.PI,2*Math.PI,5*Math.PI],minor:[4,4,5]},r.PI_FRAC_STEPS={base:2,major:[Math.PI/3],minor:[3]},r.bestStep=function(e,t){for(var n,r,i,o,a=1/0,s=0;s<t.major.length;s++)n=t.major[s],i=Math.ceil(Math.log(e/n)/Math.log(t.base)),(o=n*Math.pow(t.base,i))<a&&(r=(a=o)/t.minor[s]);return{major:a,minor:r}},r.countStepsInRange=function(e,t,n){return 1+(t-e)/n},r.calculateSpaceBetweenRects=function(e,t){var n,r;return r=e.right<t.left?t.left-e.right:t.right<e.left?e.left-t.right:0,n=e.bottom<t.top?t.top-e.bottom:t.bottom<e.top?e.top-t.bottom:0,Math.max(n,r)},r.estimateMajors=function(e){var t=e.screen.width,n=e.screen.height,r=e.viewport.xmax-e.viewport.xmin,i=e.viewport.ymax-e.viewport.ymin,o=e.settings.pixelsPerLabel;return{majorStepX:o/t*r,majorStepY:o/n*i}},r.cartesian=function(e){var a,s={},c=Math.abs(e.settings.xAxisStep),l=Math.abs(e.settings.yAxisStep),d=e.viewport.xmax-e.viewport.xmin,u=e.viewport.ymax-e.viewport.ymin,p=n.value(c,d).string.indexOf("π")>=0,g=n.value(l,u).string.indexOf("π")>=0,h=r.countStepsInRange(e.viewport.xmin,e.viewport.xmax,c),f=r.countStepsInRange(e.viewport.ymin,e.viewport.ymax,l),m=r.estimateMajors(e),y=e.settings.labelSize;if(c&&c!==Math.PI&&h>=3&&h<100){var b=0;e.settings.xAxisNumbers&&i(e.viewport.xmin,e.viewport.xmax,c,(function(e){var r=t(n.value(e,d),y);b=Math.max(r.getWidth(),b)})),a=b+10,e.settings.xAxisNumbers||(a=1===e.settings.xAxisMinorSubdivisions?8:20),h*a<=e.screen.width&&(s.majorStepX=c,s.minorStepX=3===c||5===c?1:c/4)}if(l&&l!==Math.PI&&f>=3&&f<100){var v=0;e.settings.yAxisNumbers&&i(e.viewport.ymin,e.viewport.ymax,l,(function(e){var r=t(n.value(e,u),y);v=Math.max(r.getHeight(),v)})),a=v+10,e.settings.yAxisNumbers||(a=1===e.settings.yAxisMinorSubdivisions?8:20),f*a<=e.screen.height&&(s.majorStepY=l,s.minorStepY=3===l||5===l?1:l/4)}if(!s.majorStepX){var x;x=p?m.majorStepX>=1?r.PI_STEPS:r.PI_FRAC_STEPS:o(c);var w=r.bestStep(m.majorStepX,x);s.majorStepX=w.major,s.minorStepX=w.minor}if(!s.majorStepY){var A;A=g?m.majorStepY>=1?r.PI_STEPS:r.PI_FRAC_STEPS:o(l);var E=r.bestStep(m.majorStepY,A);s.majorStepY=E.major,s.minorStepY=E.minor}if(c===l){var k=e.screen.width/d/(e.screen.height/u);k>=1&&k<=2?(s.majorStepX=s.majorStepY,s.minorStepX=s.minorStepY):k<=1&&k>=.5&&(s.majorStepY=s.majorStepX,s.minorStepY=s.minorStepX)}return e.settings.xAxisMinorSubdivisions>0&&(s.minorStepX=s.majorStepX/e.settings.xAxisMinorSubdivisions),e.settings.yAxisMinorSubdivisions>0&&(s.minorStepY=s.majorStepY/e.settings.yAxisMinorSubdivisions),s},r.polar=function(e){var t=r.estimateMajors(e),n=r.bestStep(t.majorStepX,r.RATIONAL_STEPS),i=r.bestStep(t.majorStepY,r.RATIONAL_STEPS),o=n.major>i.major?n:i;return{majorStepR:o.major,minorStepR:o.minor}},r})),i("graphing/gridlayer",["require","pjs","./stepnumber","core/lib/label","./computestepsizes","core/graphing-calc/json/graph-settings","./svg-classes","./svg-groups"],(function(e){var t=e("pjs"),n=e("./stepnumber"),r=e("core/lib/label"),i=e("./computestepsizes"),o=e("core/graphing-calc/json/graph-settings").AxisArrowModes,a=e("./svg-classes"),s=e("./svg-groups"),c=t((function(e){e.redrawToCtx=function(e,t,n){var r,o;s.save(e,"graphpaper");var a=t.settings.showGrid;if(t.settings.polarMode&&a)r=i.polar(t),s.save(e,"grid"),this.drawPolarGrid(e,t,r),s.restore(e),s.save(e,"axis"),this.drawAxes(e,t,n),o=this.drawPolarStepNumbers(e,t,r),this.drawLabels(e,t,o),s.restore(e);else{r=i.cartesian(t),a&&(s.save(e,"grid"),this.drawCartesianGrid(e,t,r),s.restore(e));var c=!a;s.save(e,"axis"),this.drawAxes(e,t,n),o=this.drawCartesianStepNumbers(e,t,r,c),this.drawLabels(e,t,o),s.restore(e)}s.restore(e)},e.addTextShadow=function(e,t){e.strokeStyle=t.settings.getBackgroundColor(),e.lineWidth=3,e.miterLimit=2},e.drawPolarGrid=function(e,t,n){e.save();var r=t.settings.minorAxisOpacity,i=1-(1-t.settings.majorAxisOpacity)/(1-r),o=Math.round(t.mapx(0))-.5,s=Math.round(t.mapy(0))-.5,c=t.screen.height/(t.viewport.ymax-t.viewport.ymin),d=t.screen.width/(t.viewport.xmax-t.viewport.xmin),u=c/d,p=d/c,g=s/u,h=t.viewport.smallestR(),f=t.viewport.largestR(),m=n.minorStepR*Math.max(1,Math.floor(h/n.minorStepR)),y=n.majorStepR*Math.max(1,Math.floor(h/n.majorStepR));e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+r+")",l(m,f,n.minorStepR,(function(n){a.save(e,"dcg-svg-minor-gridline"),e.beginPath(),a.restore(e),e.scale(1,u);var r=t.mapx(n)-o;e.moveTo(o+r,g),e.arc(o,g,r,0,2*Math.PI),e.scale(1,p),e.stroke()})),l(0,359,h>0?5:15,(function(n){if((0!==n&&180!==n||!t.settings.showXAxis)&&(90!==n&&270!==n||!t.settings.showYAxis)){a.save(e,"dcg-svg-minor-gridline"),e.beginPath(),a.restore(e),e.moveTo(o,s);var r=t.mapx(f*Math.cos(n*Math.PI/180)),i=t.mapy(f*Math.sin(n*Math.PI/180));e.lineTo(Math.round(r)-.5,Math.round(i)-.5),e.stroke()}})),e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+i+")",l(y,f,n.majorStepR,(function(n){a.save(e,"dcg-svg-major-gridline"),e.beginPath(),a.restore(e),e.scale(1,u);var r=t.mapx(n)-o;e.moveTo(o+r,g),e.arc(o,g,r,0,2*Math.PI),e.scale(1,p),e.stroke()})),e.restore()},e.drawCartesianGrid=function(e,t,n){e.save();var r=t.viewport.xmin,i=t.viewport.ymin,o=t.viewport.xmax,s=t.viewport.ymax,c=t.screen.width,d=t.screen.height,u=d,p=0;t.settings.restrictGridToFirstQuadrant&&(r=0,i=0,u=t.mapy(0),p=t.mapx(0));var g=t.settings.minorAxisOpacity,h=t.settings.majorAxisOpacity;e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+g+")",a.save(e,"dcg-svg-minor-gridline"),l(r,o,n.minorStepX,(function(n){if(0!==n||!t.settings.showYAxis){var r=Math.round(t.mapx(n));r!==c&&(e.beginPath(),e.moveTo(r-.5,0),e.lineTo(r-.5,u),e.stroke())}})),l(i,s,n.minorStepY,(function(n){if(0!==n||!t.settings.showXAxis){var r=Math.round(t.mapy(n));r!==d&&(e.beginPath(),e.moveTo(p,r-.5),e.lineTo(c,r-.5),e.stroke())}})),a.restore(e);var f=1-(1-h)/(1-g);e.strokeStyle="rgba(0, 0 , 0, "+f+")",a.save(e,"dcg-svg-major-gridline"),l(r,o,n.majorStepX,(function(n){if(0!==n||!t.settings.showYAxis){var r=Math.round(t.mapx(n));r!==c&&(e.beginPath(),e.moveTo(r-.5,0),e.lineTo(r-.5,u),e.stroke())}})),l(i,s,n.majorStepY,(function(n){if(0!==n||!t.settings.showXAxis){var r=Math.round(t.mapy(n));r!==d&&(e.beginPath(),e.moveTo(p,r-.5),e.lineTo(c,r-.5),e.stroke())}})),a.restore(e),e.restore()},e.drawAxes=function(e,t,n){var r=t.settings.axisLineOffset,i=t.settings.axisOpacity.toString(),c="rgba(127,205,230,"+i+")",l="rgba(0,0,0,"+i+")",d=t.settings.xAxisArrowMode,u=t.settings.yAxisArrowMode,p=t.settings.showXAxis,g=t.settings.showYAxis,h=Math.round(t.mapx(0))-r,f=Math.round(t.mapy(0))-r,m=t.screen.height,y=t.screen.width;function b(t,n,r){e.save();var i=Math.PI/12,o=8*Math.max(e.lineWidth,1.5);e.lineJoin="round",e.fillStyle=l,e.strokeStyle=l,e.beginPath(),e.moveTo(t,n),e.lineTo(t+Math.cos(r-i)*o,n+Math.sin(r-i)*o),e.lineTo(t+Math.cos(r+i)*o,n+Math.sin(r+i)*o),e.lineTo(t,n),e.lineTo(t+Math.cos(r-i)*o,n+Math.sin(r-i)*o),e.stroke(),e.fill(),e.restore()}var v=m,x=0;t.settings.restrictGridToFirstQuadrant&&(v=f,x=h,d===o.BOTH&&(d=o.POSITIVE),u===o.BOTH&&(u=o.POSITIVE)),g&&(s.save(e,"yaxis"),t.settings.takingScreenshot&&s.setTitle(e,t.settings.yAxisLabel||"Y axis"),e.save(),a.save(e,"dcg-svg-axis-line"),e.lineWidth=1*t.settings.axisLineWidth,e.strokeStyle="y"===n?c:l,u===o.BOTH?(e.beginPath(),e.moveTo(h,2*t.settings.axisLineWidth),e.lineTo(h,m-2*t.settings.axisLineWidth),e.stroke(),b(h,m-t.settings.axisLineWidth,3*Math.PI/2),b(h,t.settings.axisLineWidth,Math.PI/2)):u===o.POSITIVE?(e.beginPath(),e.moveTo(h,2*t.settings.axisLineWidth),e.lineTo(h,v),e.stroke(),b(h,t.settings.axisLineWidth,Math.PI/2)):(e.beginPath(),e.moveTo(h,0),e.lineTo(h,v),e.stroke()),a.restore(e),e.restore(),s.restore(e)),p&&(s.save(e,"xaxis"),t.settings.takingScreenshot&&s.setTitle(e,t.settings.xAxisLabel||"X axis"),e.save(),a.save(e,"dcg-svg-axis-line"),e.lineWidth=1*t.settings.axisLineWidth,e.strokeStyle="x"===n?c:l,d===o.BOTH?(e.beginPath(),e.moveTo(2*t.settings.axisLineWidth,f),e.lineTo(y-2*t.settings.axisLineWidth,f),e.stroke(),b(t.settings.axisLineWidth,f,0),b(y-t.settings.axisLineWidth,f,Math.PI)):d===o.POSITIVE?(e.beginPath(),e.lineTo(x,f),e.lineTo(y-2*t.settings.axisLineWidth,f),e.stroke(),b(y-t.settings.axisLineWidth,f,Math.PI)):(e.beginPath(),e.lineTo(x,f),e.lineTo(y,f),e.stroke()),a.restore(e),e.restore(),s.restore(e))},e.drawPolarStepNumbers=function(e,t,i){e.save();var o=t.settings.showGrid,s=t.settings.xAxisNumbers&&t.settings.showXAxis,c=t.settings.yAxisNumbers&&t.settings.showYAxis,p=o&&t.settings.polarNumbers,g=t.viewport.largestR(),h=t.viewport.smallestR(),f=t.viewport.xmin,m=t.viewport.xmax,y=t.viewport.ymin,b=t.viewport.ymax,v=t.screen.width,x=t.screen.height,w={left:3,right:v-3,top:3,bottom:x-3},A=t.settings.labelHangingColor,E=t.settings.getTextColor(),k=t.settings.labelSize,I=k;function S(e,n,r){var i=Math.sqrt(e*e-n*n);y<=i&&i<=b&&r.push({x:t.mapx(n),y:t.mapy(i)}),y<=-i&&-i<=b&&r.push({x:t.mapx(n),y:t.mapy(-i)})}function M(e,n,r){var i=Math.sqrt(e*e-n*n);f<=i&&i<=m&&r.push({x:t.mapx(i),y:t.mapy(n)}),f<=-i&&-i<=m&&r.push({x:t.mapx(-i),y:t.mapy(n)})}this.addTextShadow(e,t),e.fillStyle=E;var C=t.mapx(0),D=t.mapy(0),T=y<=0&&0<=b&&s,L=f<=0&&0<=m&&c,_="";if(!T&&!L&&o){var O,B,P,F,N=Math.abs(C),q=Math.abs(C-v),R=Math.abs(D),z=Math.abs(D-x);N<=q?(O="left",P=N):(O="right",P=q),R<=z?(B="top",F=R):(B="bottom",F=z),s&&c?_=P<=F?O:B:c?_=O:s&&(_=B)}var U={left:0,right:v,top:D-1,bottom:D+1},j={left:C-1,right:C+1,top:0,bottom:x};if(l(0,g,i.majorStepR,(function(i){var o=[],a=[],l=[],d=n(r.value(i,g),k),p=d.getRect();switch(i>0?(L&&y<=i&&i<=b&&a.push({x:C-p.right-5,y:t.mapy(i)}),L&&y<=-i&&-i<=b&&a.push({x:C-p.right-5,y:t.mapy(-i)}),T&&f<=i&&i<=m&&o.push({x:t.mapx(i),y:D-p.top+3}),T&&f<=-i&&-i<=m&&o.push({x:t.mapx(-i),y:D-p.top+3})):L&&!s&&y<=i&&i<=b?a.push({x:C-p.right-5,y:t.mapy(i)}):T&&!c&&f<=i&&i<=m&&o.push({x:t.mapx(i),y:D-p.top+3}),_){case"top":M(i,b,l);break;case"bottom":M(i,y,l);break;case"left":S(i,f,l);break;case"right":S(i,m,l)}o.forEach((function(t){t=d.clampBoundsWithinRect(t,w),d.drawCenteredAt(e,t,"dcg-svg-axis-value"),u(U,d.getRectWhenCenteredAt(t))})),a.forEach((function(t){t=d.clampBoundsWithinRect(t,w),d.drawCenteredAt(e,t,"dcg-svg-axis-value"),u(j,d.getRectWhenCenteredAt(t))})),l.forEach((function(t){t=d.clampBoundsWithinRect(t,w),d.drawCenteredAt(e,t,"dcg-svg-axis-value")}))})),p){var Q=Math.ceil(h/i.majorStepR),G=Math.floor(g/i.majorStepR),V=Math.ceil((Q+G)/2)*i.majorStepR;l(0,359,h>0?15:30,(function(i){var o;o=t.settings.degreeMode?i.toString()+"°":r.value(i*Math.PI/180,2*Math.PI).string;var s=e.measureText(o).width/2,c=V/1.05,l=c*Math.cos(i*Math.PI/180),u=c*Math.sin(i*Math.PI/180);if(!(l<f||l>m||u<y||u>b)){var p=t.mapx(l),g=t.mapy(u);0===i||180===i?g-=I:90!==i&&270!==i||(p+=s+3);var h=d(p,3+s,v-3-s),w=d(g,3+I,x-3-I);w=n.computeBaselineFromCenter(w,k),a.save(e,"dcg-svg-polar-axis-value"),e.save(),a.restore(e),e.fillStyle=A,n.setCtxFontSize(e,k),e.strokeText(o,h,w),e.fillText(o,h,w),e.restore()}}))}return e.restore(),{x:U,y:j}},e.drawLabels=function(e,t,n){var r=t.viewport.xmin,i=t.viewport.xmax,o=t.viewport.ymin,s=t.viewport.ymax,c=t.screen.width,l=t.screen.height,d=(i-r)/c,u=(s-o)/l,g=t.settings.getTextColor(),h=t.mapx(0),f=t.mapy(0),m=t.settings.labelSize,y=t.settings.showXAxis&&t.settings.xAxisLabel,b=t.settings.showYAxis&&t.settings.yAxisLabel,v=n.x,x=n.y;if(y&&v){var w;if(a.save(e,"dcg-svg-axis-label"),e.save(),a.restore(e),e.fillStyle=g,e.__xLabelOffset&&t.settings.isViewportTransient&&p(e.__xLabelOffset.xscale,d)&&p(e.__xLabelOffset.yscale,u)&&(w={x:e.__xLabelOffset.x+h,y:e.__xLabelOffset.y+f}),this._setAxisLabelFont(e,y,m,t),!w){var A=c-e.measureText(y).width-15,E=m;w=v.bottom+E<l?{x:A,y:v.bottom+E}:{x:A,y:v.top-E/2},e.__xLabelOffset={x:w.x-h,y:w.y-f,xscale:d,yscale:u}}e.strokeText(y,w.x,w.y),e.fillText(y,w.x,w.y),e.restore()}else e.__xLabelPosition=null;if(b&&x){var k;if(a.save(e,"dcg-svg-axis-label"),e.save(),a.restore(e),e.fillStyle=g,e.__yLabelOffset&&t.settings.isViewportTransient&&p(e.__yLabelOffset.xscale,d)&&p(e.__yLabelOffset.yscale,u)&&(k={x:e.__yLabelOffset.x+h,y:e.__yLabelOffset.y+f}),this._setAxisLabelFont(e,b,m,t),!k){var I=e.measureText(b).width,S=m,M=I+5;if(!this._isShortMathyLabel(b)){var C=I;I=S,S=C,M=.5*I}var D=15+S;k=x.left-I>0?{x:x.left-M,y:D}:{x:x.right+I,y:D},e.__yLabelOffset={x:k.x-h,y:k.y-f,xscale:d,yscale:u}}e.translate(k.x,k.y),this._isShortMathyLabel(b)||e.rotate(-Math.PI/2),e.strokeText(b,0,0),e.fillText(b,0,0),e.restore()}else e.__yLabelPosition=null},e._isShortMathyLabel=function(e){return e.trim().match(/^([a-zA-Z]?)\(?([a-zA-Z]?)\)?$/)},e._setAxisLabelFont=function(e,t,n,r){this.addTextShadow(e,r),this._isShortMathyLabel(t)?e.font="italic "+Math.round(1.4*n.toString())+"px Times":e.font=Math.round(1.2*n.toString())+"px Arial"},e.drawCartesianStepNumbers=function(e,t,i,o){e.save();var s=t.settings.showXAxis,c=t.settings.showYAxis,d=s&&t.settings.xAxisNumbers,p=c&&t.settings.yAxisNumbers,g=t.viewport.xmin,h=t.viewport.xmax,f=t.viewport.ymin,m=t.viewport.ymax,y=t.screen.width,b=t.screen.height,v={left:3,top:3,right:y-3,bottom:b-3};t.settings.restrictGridToFirstQuadrant&&(g=0,f=0);var x=t.settings.labelHangingColor,w=t.settings.getTextColor(),A=t.mapx(0),E=t.mapy(0),k=t.settings.labelSize;this.addTextShadow(e,t);var I={left:0,right:y,top:E-1,bottom:E+1},S={left:A-1,right:A+1,top:0,bottom:b},M=!1;if(s&&c&&(d||p)){M=!0,e.fillStyle=w;var C=n(r.value(0,1),k);C.drawCenteredAt(e,{x:A-C.getRect().right-5,y:E-C.getRect().top+5},"dcg-svg-axis-value")}var D=[],T=[];if(d&&l(g,h,i.majorStepX,(function(e){var t=n(r.value(e,h-g),k);"0"===t.getString()&&M||D.push(t)})),p&&l(f,m,i.majorStepY,(function(e){var t=n(r.value(e,m-f),k);"0"===t.getString()&&M||T.push(t)})),o){e.save(),a.save(e,"dcg-svg-tickmark");var L=t.settings.axisLineOffset,_="rgba(0,0,0,"+t.settings.axisOpacity.toString()+")";e.lineWidth=t.settings.axisLineWidth,e.strokeStyle=_;var O=Math.round(t.mapy(0))-L,B=Math.round(t.mapx(0))-L,P=Math.round(2*e.lineWidth)-L;e.beginPath(),D.forEach((function(n){var r=Math.round(t.mapx(n.getValue()))-L;e.moveTo(r,O-P),e.lineTo(r,O+P)})),T.forEach((function(n){var r=Math.round(t.mapy(n.getValue()))-L;e.moveTo(B-P,r),e.lineTo(B+P,r)})),e.stroke(),a.restore(e),e.restore()}return D.forEach((function(n){var r={x:t.mapx(n.getValue())-.5*n.getMinusWidth(),y:E-n.getRect().top+5},i=n.clampBoundsWithinRect(r,v);e.fillStyle=r.y===i.y?w:x;var o="dcg-svg-axis-value";r.x!==i.x&&(o+=" dcg-svg-offcenter-axis-value"),n.drawCenteredAt(e,i,o),u(I,n.getRectWhenCenteredAt(i)),a.restore(e)})),T.forEach((function(n){var r={x:A-5-n.getRect().right,y:t.mapy(n.getValue())},i=n.clampBoundsWithinRect(r,v);e.fillStyle=r.x===i.x?w:x;var o="dcg-svg-axis-value";r.y!==i.y&&(o+=" dcg-svg-offcenter-axis-value"),n.drawCenteredAt(e,i,o),u(S,n.getRectWhenCenteredAt(i)),a.restore(e)})),e.restore(),{x:I,y:S}}})),l=function(e,t,n,r){var i=Math.ceil(e/n),o=Math.floor(t/n);if(isFinite(o-i)&&!(o-i>1e4))for(var a=i;a<=o;a++)r(a*n)},d=function(e,t,n){return e<t?t:e>n?n:e},u=function(e,t){t.left<e.left&&(e.left=t.left),t.right>e.right&&(e.right=t.right),t.top<e.top&&(e.top=t.top),t.bottom>e.bottom&&(e.bottom=t.bottom)},p=function(e,t){var n=Math.abs(e),r=Math.abs(t);return Math.abs(n-r)<=1e-4*(n<r?r:n)};return c})),i("lib/aria",["require","exports","browser","jquery"],(function(e,t,n,r){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.alert=t.queue=t.clear=void 0;var o=[],a="";function s(e){o.push(e)}t.clear=function(){void 0!==i&&i.empty()},t.queue=s,t.alert=function(e){if(void 0!==e&&s(e),void 0!==i&&o.length>0){var t=o.join(" ").replace(/ +(?= )/g,"");i.attr("aria-relevant",a===t&&n.IS_APPLE?"all":"additions text"),i.empty().text(t),a=t}o.length=0},r((function(){var e=".dcg-aria-alert";0===r(e).length&&r("body").append("<p aria-live='assertive' aria-atomic='true' class='dcg-aria-alert'></p>"),i=r(e)}))})),i("core/math/recttransformation",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RT=void 0;var n=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=n),this.tx=e,this.ty=t,this.sx=n,this.sy=r}return e.prototype.toJSON=function(){return{tx:this.tx,ty:this.ty,sx:this.sx,sy:this.sy}},e.prototype.compose=function(t){return new e(this.sx*t.tx+this.tx,this.sy*t.ty+this.ty,this.sx*t.sx,this.sy*t.sy)},e.prototype.translate=function(t,n){var r=void 0===n?t.x:n.x-t.x,i=void 0===n?t.y:n.y-t.y;return new e(this.tx+r,this.ty+i,this.sx,this.sy)},e.prototype.scale=function(t,n){return e.scale(t,n).compose(this)},e.prototype.scaleAtPoint=function(t,n,r){return void 0===r&&(r=n),e.scaleAtPoint(t,n,r).compose(this)},e.prototype.inverse=function(){return new e(-this.tx/this.sx,-this.ty/this.sy,1/this.sx,1/this.sy)},e.prototype.div=function(t){return new e((this.tx*t.sx-this.sx*t.tx)/t.sx,(this.ty*t.sy-this.sy*t.ty)/t.sy,this.sx/t.sx,this.sy/t.sy)},e.prototype.conjugate=function(t){return new e(this.tx*t.sx+t.tx*(1-this.sx),this.ty*t.sy+t.ty*(1-this.sy),this.sx,this.sy)},e.prototype.pow=function(t){return new e(this.tx*r(this.sx,t),this.ty*r(this.sy,t),Math.pow(this.sx,t),Math.pow(this.sy,t))},e.prototype.mapX=function(e){return this.sx*e+this.tx},e.prototype.mapY=function(e){return this.sy*e+this.ty},e.prototype.mapPoint=function(e){return{x:this.mapX(e.x),y:this.mapY(e.y)}},e.prototype.mapRect=function(e){return{left:this.mapX(e.left),right:this.mapX(e.right),bottom:this.mapY(e.bottom),top:this.mapY(e.top)}},e.scale=function(t,n){return void 0===n&&(n=t),new e(0,0,t,n)},e.translate=function(t,n){return(new e).translate(t,n)},e.scaleAtPoint=function(t,n,r){return void 0===r&&(r=n),void 0===r&&(r=n),new e(t.x*(1-n),t.y*(1-r),n,r)},e.fromRects=function(t,n){var r=(n.right-n.left)/(t.right-t.left),i=(n.top-n.bottom)/(t.top-t.bottom);return new e(n.left-r*t.left,n.bottom-i*t.bottom,r,i)},e.fromJSON=function(t){return new e(t.tx,t.ty,t.sx,t.sy)},e}();function r(e,t){var n=e-1;return 1+n*n*n==1?t*(1+n*(t-1)*(.5+1/6*n*(t-2))):(Math.pow(e,t)-1)/n}t.RT=n})),i("graphing/projection",["require","exports","core/math/recttransformation"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Projection=void 0;var r=function(){function e(e,t,r){this.screen=e,this.viewport=t,this.settings=r,this.mathCoordinates=function(e){return{left:e.xmin,right:e.xmax,bottom:e.ymin,top:e.ymax}}(t),this.pixelCoordinates=function(e){return{left:0,right:e.width,top:0,bottom:e.height}}(e),this.mathToPixels=n.RT.fromRects(this.mathCoordinates,this.pixelCoordinates),this.pixelsToMath=n.RT.fromRects(this.pixelCoordinates,this.mathCoordinates)}return e.prototype.mapx=function(e){return this.mathToPixels.mapX(e)},e.prototype.mapy=function(e){return this.mathToPixels.mapY(e)},e.prototype.map_pt=function(e){return this.mathToPixels.mapPoint(e)},e.prototype.reverse_mapx=function(e){return this.pixelsToMath.mapX(e)},e.prototype.reverse_mapy=function(e){return this.pixelsToMath.mapY(e)},e.prototype.reverse_map_pt=function(e){return this.pixelsToMath.mapPoint(e)},e.prototype.coordsAreOnscreen=function(e,t,n){return e>-(n=void 0===n?0:n)&&t>-n&&e<this.screen.width+n&&t<this.screen.height+n},e.prototype.closestPointOnScreen=function(e){var t=this.pixelCoordinates;return{x:Math.min(Math.max(e.x,t.left),t.right),y:Math.min(Math.max(e.y,t.top),t.bottom)}},e}();t.Projection=r})),i("keys",["require","browser"],(function(e){var t=e("browser");return new function(){for(var e={8:this.BACKSPACE="Backspace",9:this.TAB="Tab",13:this.ENTER="Enter",16:this.SHIFT="Shift",17:this.CONTROL="Control",18:this.ALT="Alt",20:this.CAPSLOCK="CapsLock",27:this.ESCAPE="Esc",32:this.SPACEBAR="Space",33:this.PAGEUP="PageUp",34:this.PAGEDOWN="PageDown",35:this.END="End",36:this.HOME="Home",37:this.LEFT="Left",38:this.UP="Up",39:this.RIGHT="Right",40:this.DOWN="Down",46:this.DELETE="Del"},n={Backspace:this.BACKSPACE,Tab:this.TAB,Enter:this.ENTER,Shift:this.SHIFT,Control:this.CONTROL,Alt:this.ALT,CapsLock:this.CAPSLOCK,Escape:this.ESCAPE," ":this.SPACEBAR,PageUp:this.PAGEUP,PageDown:this.PAGEDOWN,End:this.END,Home:this.HOME,ArrowLeft:this.LEFT,ArrowUp:this.UP,ArrowRight:this.RIGHT,ArrowDown:this.DOWN,Delete:this.DELETE},r={UIKeyInputUpArrow:this.UP,UIKeyInputDownArrow:this.DOWN,UIKeyInputLeftArrow:this.LEFT,UIKeyInputRightArrow:this.RIGHT,UIKeyInputEscape:this.ESCAPE,UIKeyInputPageUp:this.PAGEUP,UIKeyInputPageDown:this.PAGEDOWN},i=["0123456789abcdefghijklmnopqrstuvwxyz","º¡™£¢∞§¶•ªå∫ç∂ ƒ©˙ ∆˚¬µ øπœ®ß† √∑≈¥Ω","‚⁄€‹›ﬁﬂ‡°·ÅıÇÎ´Ï˝ÓˆÔÒÂ˜Ø∏Œ‰Íˇ¨◊„˛Á¸"].map((function(e){return e.split("")})),o=i[0],a=i[1],s=i[2],c={},l={},d=0;d<o.length;d++){var u=o[d];" "!==a[d]&&(c[a[d]]=u.toUpperCase())," "!==s[d]&&(l[s[d]]=u.toUpperCase())}this.isUndo=function(e){return!e.altKey&&!e.shiftKey&&(e.ctrlKey||e.metaKey)&&("z"==e.key||90==e.which)},this.isRedo=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&("y"===e.key||89==e.which||e.shiftKey&&("Z"===e.key||"z"===e.key||90===e.which))},this.isSelectAll=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&("a"===e.key||"A"===e.key||65==e.which)},this.isBacktick=function(e){return!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"`"!==e.key&&192!=e.which)},this.isHelp=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&("/"===e.key||191==e.which)},this.lookup=function(t){return n[t.key]||e[t.which]||r[t.key]},this.lookupChar=function(e){if(!e.key)return String.fromCharCode(e.which);if(t.IS_APPLE&&e.altKey){var n=e.shiftKey?l:c;if(n[e.key])return n[e.key]}return 1===e.key.length?e.key.toUpperCase():"Enter"===e.key?String.fromCharCode(13):"Tab"===e.key?String.fromCharCode(9):void 0}}})),i("jquery.handleevent",["require","jquery"],(function(e){var t=e("jquery"),n="_*_";t.Event.prototype.wasHandled=function(e){e=e||n;var r=this.originalEvent,i=r&&r.handledBy;if(i&&i[e])return!0;if(e!==n)return!1;var o=t(this.target).closest("[handleEvent]");return!(!o.length||o[0]===this.currentTarget)&&"false"!==o.attr("handleEvent")},t.Event.prototype.handle=function(e){e=e||n;var t=this.originalEvent;if(t){var r=t.handledBy;r||(r=t.handledBy={}),r[e]=!0}}})),function(e){"function"==typeof i&&i.amd?i("vendor/jquery.mousewheel",["jquery"],e):"object"==_typeof(o)?n.exports=e:e(jQuery)}((function(e){var t,n,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var a=r.length;a;)e.event.fixHooks[r[--a]]=e.event.mouseHooks;var s=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],c,!1);else this.onmousewheel=c;e.data(this,"mousewheel-line-height",s.getLineHeight(this)),e.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],c,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};function c(r){var i=r||window.event,a=o.call(arguments,1),s=0,c=0,u=0,p=0;if((r=e.event.fix(i)).type="mousewheel","detail"in i&&(u=-1*i.detail),"wheelDelta"in i&&(u=i.wheelDelta),"wheelDeltaY"in i&&(u=i.wheelDeltaY),"wheelDeltaX"in i&&(c=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(c=-1*u,u=0),s=0===u?c:u,"deltaY"in i&&(s=u=-1*i.deltaY),"deltaX"in i&&(c=i.deltaX,0===u&&(s=-1*c)),0!==u||0!==c){if(1===i.deltaMode){var g=e.data(this,"mousewheel-line-height");s*=g,u*=g,c*=g}else if(2===i.deltaMode){var h=e.data(this,"mousewheel-page-height");s*=h,u*=h,c*=h}return p=Math.max(Math.abs(u),Math.abs(c)),(!n||p<n)&&(n=p,d(i,p)&&(n/=40)),d(i,p)&&(s/=40,c/=40,u/=40),s=Math[s>=1?"floor":"ceil"](s/n),c=Math[c>=1?"floor":"ceil"](c/n),u=Math[u>=1?"floor":"ceil"](u/n),r.deltaX=c,r.deltaY=u,r.deltaFactor=n,r.deltaMode=0,a.unshift(r,s,c,u),t&&clearTimeout(t),t=setTimeout(l,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function l(){n=null}function d(e,t){return s.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})),i("graphing/viewportcontroller",["require","jquery","pjs","lib/aria","lib/i18n","core/math/recttransformation","./viewport","core/math/distance","./constants","./projection","keys","jquery.handleevent","vendor/jquery.mousewheel"],(function(e){var t=e("jquery"),n=e("pjs"),r=e("lib/aria"),i=e("lib/i18n"),o=e("core/math/recttransformation").RT,a=e("./viewport").Viewport,s=e("core/math/distance"),c=e("./constants"),l=e("./projection").Projection,d=e("keys");return e("jquery.handleevent"),e("vendor/jquery.mousewheel"),n((function(e){var n=0;function u(e,t){var n=t.x-e.x,r=t.y-e.y,i=.5*(e.x+t.x),o=.5*(e.y+t.y),a=.5*s.hypot(n,r);return{center:h(i,o),radius:a}}function p(e,t){return u(t,{x:2*e.x-t.x,y:2*e.y-t.y})}function g(e,t){for(var n=[],r=0;r<e.length;r++)n.push(h(e[r].x-t.left,e[r].y-t.top));return n}function h(e,t){return{x:e,y:t}}function f(e){return h(.5*(e.left+e.right),.5*(e.bottom+e.top))}e.init=function(e,t){this.grapher=e,this.$=this.grapher.$,this.__id=n++,this.controller=t,this.isScalingEnabled=!1,this.mousePt=h(0,0),this.lastScrollZoom=Date.now(),this.preventScrollZoom=!1,this.addMouseWheelEventHandler(),this.addTouchEventHandler()},e.remove=function(){t(window).off(".viewportcontroller-"+this.__id)},e.s=function(e,t){return i.s(e,t,this.grapher.settings.language)},e.getViewport=function(){return this.grapher.getProjection().viewport},e.getProjection=function(){return this.grapher.getProjection()},e.updateMouse=function(e){var t=this.$[0].getBoundingClientRect();this.mousePt=h(e.clientX-t.left,e.clientY-t.top)},e.updateScaleAxis=function(){this.isMouseInViewport()&&(this.isMouseNearYAxis()?this.grapher.scaleAxis="y":this.isMouseNearXAxis()?this.grapher.scaleAxis="x":this.grapher.scaleAxis="both"),this.updateCursor(),this.grapher.redrawAllLayers()},e.updateCursor=function(){this.$.toggleClass("dcg-scale-horizontal","x"===this.grapher.scaleAxis),this.$.toggleClass("dcg-scale-vertical","y"===this.grapher.scaleAxis),this.$.toggleClass("dcg-scale-both","both"===this.grapher.scaleAxis)},e.isMouseNearOrigin=function(){var e=this.getProjection().mathToPixels.mapPoint(h(0,0));return Math.abs(this.mousePt.x-e.x)<50&&Math.abs(this.mousePt.y-e.y)<50},e.isMouseNearXAxis=function(){var e=this.getProjection(),t=e.pixelCoordinates,n=e.mathToPixels.mapY(0);return n=Math.min(Math.max(t.top,n),t.bottom),Math.abs(this.mousePt.y-n)<40&&e.settings.showXAxis},e.isMouseNearYAxis=function(){var e=this.getProjection(),t=e.pixelCoordinates,n=e.mathToPixels.mapX(0);return n=Math.min(Math.max(t.left,n),t.right),Math.abs(this.mousePt.x-n)<40&&e.settings.showYAxis},e.isMouseInViewport=function(){var e=this.getProjection(),t=e.mathCoordinates,n=e.pixelsToMath.mapPoint(this.mousePt);return n.x>=t.left&&n.x<=t.right&&n.y>=t.bottom&&n.y<=t.top},e.getDefaultViewport=function(){return this.controller.getDefaultStateViewport()||this.grapher.getDefaultViewport()},e._setViewportWithoutCancellingAnimation=function(e){if(e.isValid()&&!e.equals(this.getViewport())){var t=this.getProjection();this.grapher._setProjection(new l(t.screen,e,t.settings))}},e.setViewport=function(e){this.cancelAnimation(),this._setViewportWithoutCancellingAnimation(e)},e.setScreen=function(e){var t=this.getProjection(),n=t.settings.squareAxes,r=new l(e,this.getViewportForScreen(t.viewport,e,n),t.settings);this.grapher._setProjection(r)},e.getTransformedViewport=function(e){var t=this.getProjection(),n=t.pixelsToMath.div(e).mapRect(t.pixelCoordinates);return new a(n.left,n.right,n.bottom,n.top)},e.transformViewport=function(e){this.setViewport(this.getTransformedViewport(e))},e.animateTransformation=function(e){var t=this;this.cancelAnimation();var n,r=this.getTransformedViewport(e),i=0;this.__animationTimeout=requestAnimationFrame((function o(a){n||(n=a);var s=(a-n)/c.ANIMATE_ZOOM_DURATION;(i+=s)<1?(t.__animationTimeout=requestAnimationFrame(o),t._setViewportWithoutCancellingAnimation(t.getTransformedViewport(e.pow(s))),t.grapher.debounceUserRequestedViewportChange()):(t.setViewport(r),t.grapher.debounceUserRequestedViewportChange())}))},e.cancelAnimation=function(){cancelAnimationFrame(this.__animationTimeout)},e.addMouseWheelEventHandler=function(){var e,n,r=this,i=!1;t(window).on("scroll.viewportcontroller-"+this.__id,(function(e){i=!0})),t(window).on("mousewheel.viewportcontroller-"+this.__id,(function(t){e=t.clientX,n=t.clientY})),t(window).on("mousemove.viewportcontroller-"+this.__id,(function(t){if(i){var r=t.clientX-e,o=t.clientY-n;r*r+o*o<100||(i=!1)}}));var a=0;this.$.mousewheel(function(e,t){var n=Date.now();if(r.preventScrollZoom&&n-r.lastScrollZoom>50&&(r.preventScrollZoom=!1),r.lastScrollZoom=n,!r.preventScrollZoom){var s=this.getProjection();if(!s.settings.config.lockViewport){var l=s.mathToPixels;if(!i){e.preventDefault(),r.updateMouse(e);var d=l.mapPoint(h(0,0)),u=r.isMouseNearOrigin()&&t>0?d:r.mousePt;if(!(a>0)){a+=1,requestAnimationFrame((function(){a--}));var p=(t=t>0?1:-1)>0?c.ZOOM_FACTOR:1/c.ZOOM_FACTOR,g=r.grapher.scaleAxis,f="x"!==g&&"both"!==g&&g?1:p,m="y"!==g&&"both"!==g&&g?1:p;this.transformViewport(o.scaleAtPoint(u,f,m)),this.grapher.debounceUserRequestedViewportChange()}}}}}.bind(this))},e.handleDoubleClick=function(e){var t=this.getProjection();if(!t.settings.config.lockViewport&&!t.settings.config.disable_dblclick_zooming&&!e.wasHandled()){e.preventDefault();var n=this.$[0].getBoundingClientRect(),r=h(e.clientX-n.left,e.clientY-n.top);this.animateTransformation(o.scaleAtPoint(r,c.DOUBLETAP_ZOOM))}},e.applyPanTouchChanges=function(e,t){if(!this.getProjection().settings.config.lockViewport&&!this.isScalingEnabled){var n=h(t[0].x-e[0].x,t[0].y-e[0].y);this.transformViewport(o.translate(n)),this.grapher.debounceUserRequestedViewportChange()}},e.chooseDragScaleCenter=function(){var e=this.getProjection(),t=e.pixelCoordinates,n=e.mathToPixels.mapX(0),r=e.mathToPixels.mapY(0);return h(n=Math.min(Math.max(t.left,n),t.right),r=Math.min(Math.max(t.top,r),t.bottom))},e.applyScaleTouchChanges=function(e,t){if(!this.getProjection().settings.config.lockViewport){var n,r,i=this.grapher.scaleAxis;if(2===e.length&&2===t.length)n=u(e[0],e[1]),r=u(t[0],t[1]);else{if(1!==t.length)return;var a=this.chooseDragScaleCenter();n=p(a,e[0]),r=p(a,t[0])}var s=r.radius/n.radius,c="y"===i?1:s,l="x"===i?1:s,d=o.scaleAtPoint(n.center,c,l).translate(n.center,r.center);this.transformViewport(d),this.grapher.debounceUserRequestedViewportChange()}},e.addTouchEventHandler=function(){var e=this,n=[],r=!1,i=!0,o=!0;t(window).on("mousemove.viewportcontroller-"+this.__id,(function(t){var n=e.grapher.getProjection();r||n.settings.config.lockViewport||(e.updateMouse(t),e.isScalingEnabled&&e.updateScaleAxis())}));var a=function(){e.grapher.scaleAxis&&(e.grapher.scaleAxis=void 0,e.grapher.redrawAllLayers(),e.updateCursor())},s=function(){e.isScalingEnabled=!1,e.preventScrollZoom=!0,a()},c=function(t){if(r&&!e.getProjection().settings.config.lockViewport&&e.grapher&&e.grapher.clickableObjectsLayer&&!e.grapher.clickableObjectsLayer.isAnObjectPressed()){var s=g(t.touches,e.$.offset());if(2===n.length&&2===s.length)(function(t){e.grapher.scaleAxis||(e.grapher.scaleAxis=function(t){if(!(t.length<2)){var n=e.grapher.getProjection(),r=n.pixelCoordinates,i=n.mathToPixels.mapX(0),o=n.mathToPixels.mapY(0);i=Math.min(Math.max(r.left,i),r.right),o=Math.min(Math.max(r.top,o),r.bottom);var a=t[1].x-t[0].x,s=t[1].y-t[0].y;return Math.abs(t[0].x-i)<40&&Math.abs(t[1].x-i)<40&&Math.abs(s)>3*Math.abs(a)&&n.settings.showYAxis?"y":Math.abs(t[0].y-o)<40&&Math.abs(t[1].y-o)<40&&Math.abs(a)>3*Math.abs(s)&&n.settings.showXAxis?"x":"both"}}(t)),e.grapher.scaleAxis})(s),e.applyScaleTouchChanges(n,s);else if(1===n.length&&e.isScalingEnabled){e.updateMouse(t);var c,l,d=e.grapher.scaleAxis,u=e.getProjection().mathToPixels.mapPoint(h(0,0)),p=i?1:-1,f=o?1:-1;if("x"!==d&&"both"!==d||(c=e.mousePt.x>u.x+5*p),"y"!==d&&"both"!==d||(l=e.mousePt.y>u.y+5*f),"x"===d&&i!==c)return;if("y"===d&&o!==l)return;if("both"===d&&i!==c&&o!==l)return;e.applyScaleTouchChanges(n,s)}else a();1===n.length&&e.applyPanTouchChanges(n,s),e.controller.dispatch({type:"grapher/drag-move"}),n=s}},l=function(i){r&&(e.cancelAnimation(),n=g(i.touches,e.$.offset()),0===i.touches.length&&(r=!1,e.grapher.isDragging=!1,t(document).off(".graphdrag"),e.grapher.debounceUserRequestedViewportChange(),e.controller.dispatch({type:"grapher/drag-end"})),(0===i.touches.length||1===i.touches.length&&!e.isScalingEnabled)&&a())};this.$.on("dcg-tapstart",(function(n){var a=e.getProjection();if(!a.settings.config.lockViewport&&!n.wasHandled()&&!r&&n.touches.length===n.changedTouches.length){r=!0,e.grapher.isDragging=!0,e.updateMouse(n);var s=a.mathToPixels.mapPoint(h(0,0)),d=e.grapher.scaleAxis;"x"!==d&&"both"!==d||(i=e.mousePt.x>s.x),"y"!==d&&"both"!==d||(o=e.mousePt.y>s.y),e.controller.dispatch({type:"grapher/drag-start"}),t(document).on("dcg-tapmove.graphdrag",c),t(document).on("dcg-tapstart.graphdrag dcg-tapend.graphdrag dcg-tapcancel.graphdrag",l)}})),this.$.on("dblclick",this.handleDoubleClick.bind(this)),t(window).on("keydown.viewportcontroller-"+this.__id,function(e){this.getProjection().settings.config.lockViewport||(d.lookup(e)!==d.SHIFT||function(e){return e.altKey||e.ctrlKey||e.metaKey}(e)?s():(this.isScalingEnabled=!0,this.grapher.scaleAxis||this.updateScaleAxis()))}.bind(this)),t(window).on("keyup.viewportcontroller-"+this.__id+" blur.viewportcontroller-"+this.__id,s)},e.zoom=function(e){var t=this.getProjection().pixelCoordinates;if("in"===e)this.animateTransformation(o.scaleAtPoint(f(t),2)),r.alert(this.s("graphing-calculator-narration-viewport-zoom-in"));else if("out"===e)this.animateTransformation(o.scaleAtPoint(f(t),.5)),r.alert(this.s("graphing-calculator-narration-viewport-zoom-out"));else if("default"===e){var n=this.getDefaultViewport();this.animateTransformation(this.getCustomZoomTransformation(n)),r.alert(this.s("graphing-calculator-narration-viewport-zoom-default"))}else if("square"===e){var i=this.getSquareViewport();this.animateTransformation(this.getCustomZoomTransformation(i)),r.alert(this.s("graphing-calculator-narration-viewport-zoom-square"))}},e.zoomCustom=function(e){this.animateTransformation(this.getCustomZoomTransformation(e)),r.alert(this.s("graphing-calculator-narration-viewport-updated"))},e.getCustomZoomTransformation=function(e){var t=this.getProjection().viewport,n=this.getProjection().pixelCoordinates,r=this.getProjection().mathCoordinates,i=(t.xmax-t.xmin)/(e.xmax-e.xmin),a=(t.ymax-t.ymin)/(e.ymax-e.ymin),s=o.fromRects(r,n),c=new o.translate(s.mapPoint({x:0,y:0}),{x:0,y:0}),l=new o.scale(i,a),d=o.fromRects({left:e.xmin,right:e.xmax,bottom:e.ymin,top:e.ymax},n);return new o.translate({x:0,y:0},d.mapPoint({x:0,y:0})).compose(l.compose(c))},e.isZoomRestored=function(){var e=this.getProjection(),t=e.viewport,n=this.getDefaultViewport(),r=.05;return e.settings.squareAxes&&Math.abs((t.xmin-n.xmin)/t.xmin)<r&&Math.abs((t.xmax-n.xmax)/t.xmax)<r&&Math.abs((t.ymin-n.ymin)/t.ymin)<r&&Math.abs((t.ymax-n.ymax)/t.ymax)<r},e.getViewportForScreen=function(e,t,n){return n?"y"==this.getProjection().settings.lastChangedAxis?e.squareXAxis(t):e.squareYAxis(t):e},e.getSquareViewport=function(){var e=this.getProjection();return this.getViewportForScreen(e.viewport,e.screen,!0)},e.enforceSquareAxes=function(){var e=this.getProjection();e.settings.squareAxes&&(e.viewport.isSquare(e.screen)||this.setViewport(this.getViewportForScreen(e.viewport,e.screen,!0)))}}))})),i("loadcss!touchtracking",(function(){})),i("touchtracking",["require","jquery","ipad.ghostevents","keys","loadcss!./touchtracking"],(function(e){var t,n,r=-1!==document.location.href.indexOf("dcgDebugTouchTracking=dcgYES"),i=e("jquery"),o=e("ipad.ghostevents"),a=e("keys");e("loadcss!./touchtracking"),null==window._touchtracking_id_counter&&(window._touchtracking_id_counter=0),window._touchtracking_id_counter+=1;var s="touchtracking_id_"+window._touchtracking_id_counter,c=function(e){n&&(n[0].value="("+Date.now()+") "+e+"\n"+n[0].value)};o.evtInScope=function(e){return k(e.target)},o.isGhostEvent=function(e){return!(window.PointerEvent||u!==l&&u!==d&&!M()||e.target===y||e.target&&i.contains(e.target,y)||y&&i.contains(y,e.target)||(c("found ghost event"),0))};var l=1,d=4,u=0,p={},g={},h=[],f=0,m=null,y=null,b=null,v=[],x=function(e){for(var t=[];e;)t.push(e),e=e.parentNode;return t},w=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(t.push(r),i(r).is(".dcg-tap-container, .dcg-no-touchtracking"))return i(r).is(".dcg-tap-container."+s)?t:[]}return[]},A=function(e,t){y=null,c("beginMode:"+(u=e)),h=x(u===l?t.originalEvent.touches[0].target:t.target),i(w(h)).addClass("dcg-depressed").each((function(){var e=i(this);I(e)&&e.addClass("dcg-focus-by-tap")})),i(h).each((function(){var e=i(this);e.data({originalScrollTop:e.scrollTop(),originalScrollLeft:e.scrollLeft()})})),g={}},E=function(e){return e.is('input, textarea, select, [role="textbox"]')||e.hasClass("dcg-mathquill-input-span")||e.is("[contenteditable=true]")},k=function(e){return!!i(e).closest(".dcg-tap-container, .dcg-no-touchtracking").is(".dcg-tap-container."+s)},I=function(e){return 3!==u&&!E(e)&&k(e)},S=function(e,t){y=null,c("endMode:"+u),i(".dcg-depressed").removeClass("dcg-depressed");var n=i(document.activeElement);if(!z(e.target)&&I(n))try{n.blur()}catch(e){}if(i(".dcg-focus-by-tap").removeClass("dcg-focus-by-tap"),i(h).each((function(){var e=i(this),t=e.data("originalScrollTop")-e.scrollTop(),n=e.data("originalScrollLeft")-e.scrollLeft();(t||n)&&(g.scroll=!0)})),1===g["dcg-tapstart"]&&1===g["dcg-tapend"]&&!g["dcg-tapcancel"]&&!g.scroll){c("potential dcg-tap");var r=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY;if(e&&!e.device&&0===r&&0===o){var a=e.target.getBoundingClientRect();r=(a.left+a.right)/2,o=(a.top+a.bottom)/2,e.device="keyboard"}c("potential dcg-tap coords:"+r+":"+o);for(var s=!1,p=!1,b=0;b<h.length&&!s;b++){var v,x=i(h[b]);if("function"==typeof x[0].getBoundingClientRect&&(v=x[0].getBoundingClientRect()),"true"===x.attr("tapboundary")&&(s=!0),v){if(r<v.left||o<v.top)continue;if(r>v.right)continue;if(o>v.bottom)continue}y=x[0],p=!0,T("dcg-tap",e,{target:y,touches:t.touches,changedTouches:t.changedTouches});break}}c("result of dcg-tap:  did_dispatch="+p+"  did_escape="+s),u!==l&&u!==d||(m=setTimeout((function(){m=null,f=(new Date).getTime()}),1e3)),h=[],u=0},M=function(){return m||(new Date).getTime()-f<500},C=function(e){return void 0!==e.identifier?e.identifier:e.pointerId},D=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push({identifier:C(r),x:r.pageX,y:r.pageY,screenX:r.screenX,screenY:r.screenY,pageX:r.pageX,pageY:r.pageY,clientX:r.clientX,clientY:r.clientY})}return t},T=function(e,t,n){var r=C(t),o=D(n.touches),a=D(n.changedTouches);if(c("dispatchEvent:"+e),"dcg-tapstart"===e)p[r]={type:e,pageX:a[0].pageX,pageY:a[0].pageY};else if("dcg-tapmove"===e){var s=a[0],h=p[r];if(h&&s.pageX===h.pageX&&s.pageY===h.pageY)return;if((u===l||u===d)&&h&&"dcg-tapstart"===h.type&&Math.abs(h.pageX-s.pageX)+Math.abs(h.pageY-s.pageY)<2)return;p[r]={type:e,pageX:a[0].pageX,pageY:a[0].pageY}}void 0===g[e.toLowerCase()]?g[e.toLowerCase()]=1:g[e.toLowerCase()]++;var f=i.event.fix(t.originalEvent);f.type=e,f.device=u===l||u===d?"touch":3===u?"keyboard":"mouse",f.touches=o,f.changedTouches=a,f.target=n.target?n.target:t.target;var m="keyboard"!==f.device&&g["dcg-longhold"]>0;f.wasLongheld=function(){return m},f.preventTap=function(){g["dcg-tapcancel"]=1},clearTimeout(b),"dcg-tapstart"===f.type&&"keyboard"!==f.device&&1===f.touches.length&&(b=setTimeout((function(){T("dcg-longhold",t,n)}),500)),f.target&&f.target.nodeName&&"a"===f.target.nodeName.toLowerCase()&&"dcg-tap"===f.type&&"keyboard"===f.device&&f.target.click&&f.target.click(),c("trigger event:"+f.type),i(f.target).trigger(f)},L=function(e){var t=h,n=!!h.length,r=i(".dcg-tap-container."+s+" .dcg-hovered"),o=i.makeArray(r.filter((function(){return k(this)}))),a=[],c=[],l=[];w(x(e)).forEach((function(e){n&&-1===t.indexOf(e)||(-1===o.indexOf(e)&&l.push(e),a.push(e))}));for(var d=0;d<o.length;d++)e=o[d],-1===a.indexOf(e)&&c.push(e);i(c).removeClass("dcg-hovered").trigger("tipsyhide"),i(l).addClass("dcg-hovered").trigger("tipsyshow")},_=function(e){for(var t=0;t<v.length;t++)if(v[t].pointerId===e)return!0;return!1},O=function(e){for(var t=0;t<v.length;t++)if(v[t].pointerId===e)return v.splice(t,1)[0]},B=function(e){0===u&&A(d,e),L(null),v.push(e.originalEvent),T("dcg-tapstart",e,{touches:v,changedTouches:[e.originalEvent]})},P=function(e){O(e.originalEvent.pointerId);var t={touches:v,changedTouches:[e.originalEvent]};T("dcg-tapcancel",e,t),0===v.length&&S(e,t)},F=function(e){O(e.originalEvent.pointerId);var t={touches:v,changedTouches:[e.originalEvent]};T("dcg-tapend",e,t),0===v.length&&S(e,t)},N=function(e){return"touch"===e.originalEvent.pointerType||2===e.originalEvent.pointerType};i(document).on("pointerdown MSPointerDown",(function(e){c("document.on:"+e.type),2!==u&&u!==l&&N(e)&&(_(e.originalEvent.pointerId)?c("exit. pointer id already exists: "+e.originalEvent.pointerId):B(e))})),i(document).on("pointermove MSPointerMove",(function(e){c("document.on:"+e.type),2!==u&&u!==l&&N(e)&&(_(e.originalEvent.pointerId)||(c("pointer id already exists: "+e.originalEvent.pointerId),B(e)),O(e.originalEvent.pointerId),v.push(e.originalEvent),T("dcg-tapmove",e,{touches:v,changedTouches:[e.originalEvent]}))})),i(document).on("pointercancel MSPointerCancel",(function(e){var t;if(c("document.on:"+e.type),u===d&&N(e)&&_(e.originalEvent.pointerId))for(P(e);t=v.pop();)e=i.Event(t,{originalEvent:t}),P(e)})),i(document).on("pointerup MSPointerUp",(function(e){var t;if(c("document.on:"+e.type),u===d&&N(e)&&_(e.originalEvent.pointerId))for(F(e);t=v.pop();)e=i.Event(t,{originalEvent:t}),F(e)}));var q=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",(function(){}),t),window.removeEventListener("test",(function(){}),t)}catch(e){}return e}();function R(e,t){var n=q?{passive:!1}:void 0;document.addEventListener(e,(function(e){c("document.on:"+e.type),t(i.event.fix(e))}),n)}function z(e){var t=!!i(e).closest(".dcg-do-not-blur").length,n=!!i(e).closest(".dcg-do-blur").length;return!(!t||n||!k(e))}return R("touchstart",(function(e){2!==u&&u!==d&&(0===u&&A(l,e),L(null),T("dcg-tapstart",e,{touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches}))})),R("touchmove",(function(e){u===l&&T("dcg-tapmove",e,{touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches})})),R("touchcancel",(function(e){if(u===l){var t={touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches};T("dcg-tapcancel",e,t),0===e.originalEvent.touches.length&&S(e,t)}})),R("touchend",(function(e){if(u===l){var t={touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches};T("dcg-tapend",e,t),0===e.originalEvent.touches.length&&S(e,t)}})),i(document).on("mousedown",(function(e){if(c("document.on:"+e.type),1!==e.button&&2!==e.button){if(u===l||u===d||M())return!i(e.target).is("input, textarea, select")&&k(e.target)&&e.preventDefault(),void c("abort mousedown: "+u+":"+M());A(2,e),T("dcg-tapstart",e,{touches:[e],changedTouches:[e]})}})),i(document).ready((function(){i(document).on("mousedown",(function(e){if(c("document.on:"+e.type),z(e.target)){e.preventDefault();try{var t=window.getSelection();if(1===t.rangeCount){var n=t.getRangeAt(0);n.startContainer===n.endContainer&&i(n.startContainer).closest(".dcg-text-selectable").length&&t.removeAllRanges()}}catch(e){}}}))})),i(document).on("mouseleave",(function(e){c("document.on:"+e.type),0===u&&(M()?c("abort mouseleave: "+u+":"+M()):L(null))})),i(document).on("mousemove",(function(e){c("document.on:"+e.type),1!==e.button&&2!==e.button&&u!==l&&u!==d&&(M()?c("abort mousemove: "+u+":"+M()):(L(e.target),T("dcg-tapmove",e,{touches:[e],changedTouches:[e]})))})),i(document).on("mouseup",(function(e){if(c("document.on:"+e.type),1!==e.button&&2!==e.button&&2===u){var t={touches:[],changedTouches:[e]};T("dcg-tapend",e,t),S(e,t)}})),i(document).on("keydown",(function(e){if(c("document.on:"+e.type),(a.lookup(e)===a.ENTER||a.lookup(e)===a.SPACEBAR)&&k(e.target)&&3!==u){if(i(e.target).is('a:not([ontap]), button, input, textarea, select, [role="textbox"], [contenteditable="true"]'))return;e.preventDefault(),A(3,e),T("dcg-tapstart",e,{touches:[e],changedTouches:[e]})}})),i(document).on("keyup",(function(e){if(c("document.on:"+e.type),(a.lookup(e)===a.ENTER||a.lookup(e)===a.SPACEBAR)&&k(e.target)&&3===u){var t={touches:[],changedTouches:[e]};T("dcg-tapend",e,t),S(e,t)}})),{monitor:function(e){i(e).addClass("dcg-tap-container"),i(e).addClass(s),r&&(t&&t.remove(),t=i('<div style="position:absolute;bottom:10px;right:10px;"><textarea rows="30" cols="40"></textarea><div id="dcg-touchtracking-debug-copy" class="dcg-btn-blue">COPY LOGS</div></div>'),n=t.find("textarea"),i(e).append(t),i("#dcg-touchtracking-debug-copy")[0].addEventListener("mousedown",(function(){n[0].select(),document.execCommand("copy")}),!0),c("monitor touches"))},ignore:function(e){i(e).addClass("dcg-no-touchtracking")},isTapActive:function(){return 0!==u},elIsFocusable:E}})),i("lib/conditional_blur",["require","exports","touchtracking","jquery"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(document.activeElement){var e=r(document.activeElement);n.elIsFocusable(e)&&r(document.activeElement).trigger("blur")}}})),i("geometry/math/hypot",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Math.hypot&&Math.hypot(1/0,NaN)===1/0;function r(e){return e===1/0||e===-1/0}t.default=n?Math.hypot:function(e,t){if(r(e)||r(t))return 1/0;if(isNaN(e)||isNaN(t))return NaN;if(0===e&&0===t)return 0;if(Math.abs(e)>Math.abs(t)){var n=t/e;return Math.abs(e)*Math.sqrt(n*n+1)}return n=e/t,Math.abs(t)*Math.sqrt(n*n+1)}})),i("lib/priority-queue",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.comparator=e,this._data=[]}return e.prototype.size=function(){return this._data.length},e.prototype.queue=function(e){var t=this._data.length;for(this._data.push(e);t>0;){var n=t-1>>>1;if(!(this.comparator(this._data[t],this._data[n])<0))break;var r=this._data[n];this._data[n]=this._data[t],this._data[t]=r,t=n}},e.prototype.dequeue=function(){var e=this._data[0],t=this._data.pop();if(this._data.length>0&&void 0!==t){this._data[0]=t;for(var n=0,r=this._data.length-1;;){var i=1+(n<<1),o=i+1,a=n;if(i<=r&&this.comparator(this._data[i],this._data[a])<0&&(a=i),o<=r&&this.comparator(this._data[o],this._data[a])<0&&(a=o),a===n)break;var s=this._data[a];this._data[a]=this._data[n],this._data[n]=s,n=a}}return e},e.prototype.peek=function(){return this._data[0]},e.prototype.clear=function(){this._data.length=0},e}();t.default=n})),i("geometry/math/polygon-area-support",["require","exports","lib/priority-queue","bugsnag"],(function(e,t,n,r){function i(e,t){var n=e.pt2.y-e.pt1.y,r=e.pt1.x-e.pt2.x,i=t.pt2.y-t.pt1.y,o=t.pt1.x-t.pt2.x,a=n*e.pt1.x+r*e.pt1.y,s=i*t.pt1.x+o*t.pt1.y,c=n*o-i*r;if(0!==c)return(n*s-i*a)/c}function o(e,t,n){if(n.scanlineX<t.scanlineX&&r.notify("PolygonArea: rightEdge should not be left of leftEdge!",{metaData:{scanlineY:e,leftEdge:t,rightEdge:n}}),!(n.xSlope>=t.xSlope)){if(t.scanlineX===n.scanlineX)return e;var o=t.pt2.y>t.pt1.y?t.pt2:t.pt1,a=n.pt2.y>n.pt1.y?n.pt2:n.pt1,c=o.y;if(a.y<o.y){if(s(c=a.y,t)<a.x)return}else if(o.y<a.y){var l=s(c,n);if(o.x<l)return}else if(o.x<a.x)return;var d=i(t,n);if(void 0!==d)return Math.max(Math.min(d,c),e)}}function a(e,t,n,r){if(n&&r){if(n.id<r.id){if(n.skipIntersectionWith[r.id])return}else if(r.skipIntersectionWith[n.id])return;var i=o(e,n,r);void 0!==i&&(n.id<r.id?n.skipIntersectionWith[r.id]=!0:r.skipIntersectionWith[n.id]=!0,t.queue({type:"x",y:i,edge1:n,edge2:r}))}}function s(e,t){var n=t.pt1.x,r=t.pt2.x,i=t.pt1.y,o=t.pt2.y;if(i===e)return n;if(o===e)return r;var a=(e-i)/(o-i),s=(1-a)*n+a*r;if(n<r){if(s<=n)return n;if(r<=s)return r}else{if(s<=r)return r;if(n<=s)return n}return s}Object.defineProperty(t,"__esModule",{value:!0}),t.processEvent=t.setupEventQueueAndActiveEdges=t.measureUpwardNonZeroLength=t.measureUpwardEvenOddLength=t.measureDownwardNonZeroLength=t.measureDownwardEvenOddLength=t.computeScanlineX=t.checkForEdgeIntersection=t._stableYIntersectEdges=t._unstableYIntersectEdges=void 0,t._unstableYIntersectEdges=i,t._stableYIntersectEdges=o,t.checkForEdgeIntersection=a,t.computeScanlineX=s,t.measureDownwardEvenOddLength=function(e){for(var t=0,n=0,r=!1,i=0,o=e;i<o.length;i++){var a=o[i].scanlineX;r?(r=!1,t+=a-n):(r=!0,n=a)}return t},t.measureDownwardNonZeroLength=function(e){for(var t=0,n=0,r=!1,i=0,o=0,a=e;o<a.length;o++){var s=a[o],c=s.scanlineX;s.isClockwise?i+=1:i-=1,0===i||r?0===i&&r&&(r=!1,t+=c-n):(r=!0,n=c)}return t},t.measureUpwardEvenOddLength=function(e,t){for(var n=0,i=0,o=!1,a=-1/0,c=0,l=t;c<l.length;c++){var d=l[c],u=s(e,d);u<a?(u-a<-1e-4&&r.notify("PolygonArea: scanlineX reversed!",{metaData:{scanlineY:e,edge:d,minScanlineX:a,scanlineX:u}}),u=a):a=u,d.scanlineX=u,o?(o=!1,n+=u-i):(o=!0,i=u)}return n},t.measureUpwardNonZeroLength=function(e,t){for(var n=0,i=0,o=!1,a=0,c=-1/0,l=0,d=t;l<d.length;l++){var u=d[l],p=s(e,u);p<c?(p-c<-1e-4&&r.notify("PolygonArea: scanlineX reversed!",{metaData:{scanlineY:e,edge:u,minScanlineX:c,scanlineX:p}}),p=c):c=p,u.scanlineX=p,u.isClockwise?a+=1:a-=1,0===a||o?0===a&&o&&(o=!1,n+=p-i):(o=!0,i=p)}return n},t.setupEventQueueAndActiveEdges=function(e){for(var t=1,r=new n.default((function(e,t){return e.y-t.y})),i=e.length-1;i>=1;i--){var o=e[i],a=e[i-1],s={id:t++,pt1:o,pt2:a,scanlineX:0,xSlope:1/0,isClockwise:a.y>o.y,skipIntersectionWith:{}};a.y>o.y?(r.queue({type:"+",y:o.y,edge:s}),r.queue({type:"-",y:a.y,edge:s}),s.xSlope=(a.x-o.x)/(a.y-o.y),s.scanlineX=o.x):o.y>a.y&&(r.queue({type:"+",y:a.y,edge:s}),r.queue({type:"-",y:o.y,edge:s}),s.xSlope=(o.x-a.x)/(o.y-a.y),s.scanlineX=a.x)}return{activeEdges:[],events:r}},t.processEvent=function(e,t,n){"x"===e.type?function(e,t,n){var r=e.edge1,i=e.edge2,o=e.y,s=n.indexOf(r),c=s+1;-1===s||n[c]!==i?r.id<i.id?delete r.skipIntersectionWith[i.id]:delete i.skipIntersectionWith[r.id]:(n[s]=i,n[c]=r,a(o,t,n[s-1],i),a(o,t,r,n[c+1]))}(e,t,n):"+"===e.type?function(e,t,n){for(var r=e.edge,i=e.y,o=r.xSlope,s=r.scanlineX,c=0;c<n.length;c++){var l=n[c];if(s<l.scanlineX)break;if(s===l.scanlineX&&o<=l.xSlope)break}n.splice(c,0,r),a(i,t,n[c-1],r),a(i,t,r,n[c+1])}(e,t,n):"-"===e.type&&function(e,t,n){var r=e.edge,i=e.y,o=n.indexOf(r);n.splice(o,1),a(i,t,n[o-1],n[o])}(e,t,n)}})),i("geometry/math/polygon",["require","exports","tslib","./hypot","bugsnag","./polygon-area-support"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePaintedNonZeroArea=t.calculatePaintedEvenOddArea=t.calculateSimpleArea=t.calculatePerimeter=t.pointIsWithinNonZeroFill=t.pointIsWithinEvenOddFill=void 0,t.pointIsWithinEvenOddFill=function(e,t){if(!e)return!1;for(var n=t.x,r=t.y,i=!1,o=e.length-1;o>=3;o-=2){var a=e[o-3],s=e[o-2],c=e[o-1],l=e[o];s>r!=l>r&&n<(c-a)*(r-s)/(l-s)+a&&(i=!i)}return i},t.pointIsWithinNonZeroFill=function(e,t){if(!e)return!1;for(var r=function(e){var t=e.slice(0,2),r=e.slice(-2);return t[0]!==r[0]||t[1]!==r[1]?n.__spreadArray(n.__spreadArray([],e),t):e}(e),i=t.x,o=t.y,a=0,s=r.length-1;s>=3;s-=2){var c=r[s-3],l=r[s-2],d=r[s-1],u=r[s];l>o!=u>o&&i<(d-c)*(o-l)/(u-l)+c&&(l>u?a+=1:l<u&&(a-=1))}return 0!==a},t.calculatePerimeter=function(e){for(var t=0,n=0;n<e.length-1;n++)t+=r.default(e[n].x-e[n+1].x,e[n].y-e[n+1].y);return t},t.calculateSimpleArea=function(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].x*e[n+1].y-e[n].y*e[n+1].x;return Math.abs(t)/2},t.calculatePaintedEvenOddArea=function(e){if(e.length<4)return 0;if(e[0].x!==e[e.length-1].x||e[0].y!==e[e.length-1].y)return 0;var t=o.setupEventQueueAndActiveEdges(e),n=t.events,r=t.activeEdges,a=n.peek();if(!a)return 0;for(var s,c=0,l=a.y,d=0;s=n.dequeue();){var u=s.y;u<l&&i.notify("PolygonArea: scanlineY jumped up vertically",{metaData:{points:e,scanlineY:u,lastScanlineY:l}}),d+=.5*(u-l)*(o.measureUpwardEvenOddLength(u,r)+c),o.processEvent(s,n,r),l=u,c=o.measureDownwardEvenOddLength(r)}return d},t.calculatePaintedNonZeroArea=function(e){if(e.length<4)return 0;if(e[0].x!==e[e.length-1].x||e[0].y!==e[e.length-1].y)return 0;var t=o.setupEventQueueAndActiveEdges(e),n=t.events,r=t.activeEdges,a=n.peek();if(!a)return 0;for(var s,c=0,l=a.y,d=0;s=n.dequeue();){var u=s.y;u<l&&i.notify("PolygonArea: scanlineY jumped up vertically",{metaData:{points:e,scanlineY:u,lastScanlineY:l}}),d+=.5*(u-l)*(o.measureUpwardNonZeroLength(u,r)+c),o.processEvent(s,n,r),l=u,c=o.measureDownwardNonZeroLength(r)}return d}})),i("graphing/poicontroller",["require","jquery","core/math/distance","lib/rounding","core/types/graphmode","core/lib/dragmode","lib/conditional_blur","keys","lib/aria","core/lib/label","expressions/colors","graphing-calc/models/image","graphing-calc/models/expression","../geometry/math/polygon"],(function(e){var t=e("jquery"),n=e("core/math/distance"),r=e("lib/rounding"),i=e("core/types/graphmode"),o=e("core/lib/dragmode"),a=e("lib/conditional_blur").default,s=e("keys"),c=e("lib/aria"),l=e("core/lib/label"),d=e("expressions/colors").getColorName,u=e("graphing-calc/models/image"),p=e("graphing-calc/models/expression"),g=e("../geometry/math/polygon");function h(e){if(e){if("image"===e.type&&e.listIndex)return e.listIndex;if(e.poi)return e.poi.pointIdxOnBranch;if(e.branchInfo&&e.branchInfo.sketch){var t=e.branchInfo.branch;return e.branchInfo.sketch.branches[t].listIndex}return 0}}var f=0;function m(e,t){this.manager=e,this.controller=e.controller,this.graphSettings=t,this.$=this.manager.$,this.__id=f++,this.graphSettings.config.graphpaper&&!this.graphSettings.config.disableMouseInteractions&&(this.addTouchEventHandlers(),this.addHoverEventHandler(),this.addKeydownEventHandler(),this.addManualUnhoverListener())}return m.prototype.getExpressionModel=function(e){return this.controller.getItemModel(e)},m.prototype.remove=function(){this.removeAllGlobalMouseListeners(),this.removeManualUnhoverListener()},m.prototype.addGlobalMouseListener=function(e,n){for(var r=e.split(" "),i=0;i<r.length;i++)t(document).on(r[i]+".dcg-poiController-"+this.__id,n)},m.prototype.removeAllGlobalMouseListeners=function(){t(document).off(".dcg-poiController-"+this.__id)},m.prototype.getToleranceByDevice=function(e){return"touch"===e?20:10},m.prototype.addHoverEventHandler=function(){this.$.on("dcg-tapmove",function(e){if("touch"!==e.device){var n,r,i,o,a,s=t(document.elementFromPoint(e.clientX,e.clientY)).closest(".dcg-grapher").length,c=this.manager.poiLabelsLayer,l=this.getMouseRelativeToGrapher(e),d=this.getToleranceByDevice(e.device);s&&(n=this.getFeatureUnderPoint(l,d)),n&&"movable-point"===n.type&&(r=n.poi.getMovablePoint().id),n&&n.isClickable&&(this.manager.movablePointsLayer.isMovingPoint()||this.manager.traceLayer.isTracing()||(i=n.model,o=h(n))),this.manager.clickableObjectsLayer.setHoveredObject(i&&{id:i.id,listIndex:o}),n&&"poi"===n.type&&(n.poi.isAttachedToPlottedPoint()&&!n.poi.hasInteractiveLabel()||(a=n.poi)),a!==c.getHoveredPOI()&&(this.controller.isTraceEnabled()?c.setHoveredPOI(a):c.setHoveredPOI(void 0),this.manager.redrawAllLayers());var p=!1;if(n&&"image"===n.type){var g=u.isActuallyDraggable(n.model),f=n.isClickable;p=g&&!f}var m=!1;n&&"draggable-label"===n.type&&(m=!0),p||m?this.manager.setLayerClass("extraMoveCursor","dcg-mouse-over-movable-point"):this.manager.setLayerClass("extraMoveCursor",""),this.manager.movablePointsLayer.setHoveredPointId(r)}}.bind(this))},m.prototype.addManualUnhoverListener=function(){var e=function(){var e=this.manager;e.poiLabelsLayer.setHoveredPOI(void 0),e.clickableObjectsLayer.setHoveredObject(void 0),e.redrawAllLayers()}.bind(this);t(window).on("blur.dcg-poiController-"+this.__id,e),this.$.on("mouseleave",e)},m.prototype.removeManualUnhoverListener=function(){t(window).off(".dcg-poiController-"+this.__id)},m.prototype.addTouchEventHandlers=function(){this.$.on("dblclick",function(e){var t=this.getMouseRelativeToGrapher(e),n=this.getToleranceByDevice(e.device);this.getFeatureUnderPoint(t,n)&&(e.preventDefault(),e.handle())}.bind(this)),this.$.on("touchstart",function(e){if(this.graphSettings.config.lockViewport){var n=this.getMouseRelativeToGrapher(e),r=this.getToleranceByDevice(e.device),i=this.getFeatureUnderPoint(n,r);i&&("image"!==i.type||i.model.selected||u.isActuallyDraggable(i.model))&&("sketch-branch"===i.type&&this.graphSettings.config.onlyTraceSelected&&!i.sketch.selected||t(e.target).is(":not(input, textarea)")&&e.preventDefault())}else t(e.target).is(":not(input, textarea)")&&e.preventDefault()}.bind(this)),this.$.on("dcg-tapstart",function(e){var t=this.getMouseRelativeToGrapher(e),n=this.getToleranceByDevice(e.device),r=this.getFeatureUnderPoint(t,n);if(r&&r.isClickable?this.manager.clickableObjectsLayer.setPressedObject({id:r.model.id,listIndex:h(r)}):this.manager.clickableObjectsLayer.setPressedObject(void 0),r&&"editable-label"===r.type)e.handle();else{if(a(),r&&"draggable-label"===r.type)return this.startMovingPoint({type:"draggable-label",label:r.label,startScreenPt:t}),void e.handle();if(r&&"clickable-label"===r.type&&e.handle(),r&&"image"===r.type&&u.isActuallyDraggable(r.model)){var i=!1;if(r.isClickable&&(i=!0),this.startMovingPoint({type:"image",image:r.model,startScreenPt:t,shouldDelayUntilRealMove:i}),!i)return void e.handle()}if(r&&"movable-point"===r.type)return this.startMovingPoint({type:"poi",poi:r.poi,startScreenPt:t}),e.handle(),void e.handle("do-not-clear-poi-labels");if(this._togglePOIUnderPoint(t,n))return e.handle(),void e.handle("do-not-clear-poi-labels");if(r&&"sketch-branch"===r.type&&!r.isClickable){if(!this.graphSettings.config.onlyTraceSelected){var o=!this.controller.isTraceEnabled(),s=!this.controller.isListEnabled();if(o&&s)return;if(this.selectItemIfNotSecret(r.sketch.id),o)return;return this.startTracingBranch(r.branchInfo,t),e.handle(),void e.handle("do-not-clear-poi-labels")}if(r.sketch.selected)return this.startTracingBranch(r.branchInfo,t),e.handle(),void e.handle("do-not-clear-poi-labels")}r&&"image"===r.type||this.controller.dispatch({type:"set-none-selected"});var c=this;this.addGlobalMouseListener("dcg-tapmove",function(e){this.manager.clickableObjectsLayer.isAnObjectPressed()?t=this.getMouseRelativeToGrapher(e):c.removeAllGlobalMouseListeners()}.bind(this)),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",function(e){c.removeAllGlobalMouseListeners();var r=this.manager.clickableObjectsLayer.getPressedObject(),i=r&&r.id;this.manager.clickableObjectsLayer.setPressedObject(void 0);var o=this.getFeatureUnderPoint(t,n);o&&o.isClickable?o.model.id!==i||e.wasHandled("dragged-clickable-object")||this.controller.dispatch({type:"clickable-item-clicked",id:o.model.id,listIndex:h(o)}):!o||"sketch-branch"!==o.type||o.sketch.selected?o&&"image"===o.type&&this.selectItemIfNotSecret(o.model.id):this.selectItemIfNotSecret(o.model.id)}.bind(this))}}.bind(this))},m.prototype.addKeydownEventHandler=function(){this.$.on("keydown",function(e){var t=this.manager.movablePointsLayer.getFocusedPoint();if(t){var n=s.lookup(e),r=s.lookupChar(e);"Up"===n||"Down"===n||"Left"===n||"Right"===n?(e.stopPropagation(),e.preventDefault(),this.movePointFromKeyboard(t,e)):"X"!==r&&"Y"!==r&&"L"!==r&&"C"!==r||this.speakPoint(t,r)}}.bind(this))},m.prototype.getMouseRelativeToGrapher=function(e){var t=this.$[0].getBoundingClientRect(),n=e.touches?e.touches[0]:e;return{x:n.clientX-t.left,y:n.clientY-t.top}},m.prototype._getClosestPoint=function(e,t,r){for(var i=r,o=null,a=this.manager.getProjection(),s=0;s<e.length;s++){var c=e[s],l=a.map_pt(c),d=n.hypot(l.x-t.x,l.y-t.y);d<i&&(i=d,o=c)}return o},m.prototype.getFeatureUnderPoint=function(e,t){var n=this.manager.poiLabelsLayer,r=this.manager.getProjection(),i=r.reverse_map_pt(e);if(!this.manager.scaleAxis){var o=n.getInteractiveLabelUnderPoint(e);if(o){if("editable"===o.type)return{type:"editable-label",model:o.model};if("draggable"===o.type)return{type:"draggable-label",label:o.label};if("clickable"===o.type)return{type:"clickable-label",model:o.model,poi:o.poi,isClickable:!0}}for(var a,s=this.manager.__sketchOrder,c={},l=1,d=s.length-1;d>=0;d--){var g=s[d],h=this.controller.getItemModel(g),f=l;if(c[g]=f,h)if("expression"===h.type){var y=this.manager.getGraphSketch(g);if(!y||!y.visible)continue;var b=y.branches;if(!b||!b.length)continue;if(y.showHighlight&&(f=-1/0,c[g]=f),!a||a.stackingContext>=f)for(var v=p.isClickableObject(h),x=0;x<b.length;x++){var w=m.calculateDistanceFromBranch(b[x],i,r,v);if(w<t){var A=!1;a?(f<a.stackingContext||f===a.stackingContext&&w<a.distance)&&(A=!0):A=!0,A&&(a={type:"sketch-branch",model:h,sketch:y,distance:w,stackingContext:f,branchInfo:{id:y.id,branch:x,sketch:y}})}}}else if("image"===h.type){var E=this.manager.getGraphImage(g);if(!E)continue;var k=this.getImageInfoUnderMouse(E,i,t);if(!k)continue;E.foreground?(f=l+=1,c[g]=f,l+=1):(f=1/0,c[g]=f),(!a||a.stackingContext>f)&&(a={type:"image",model:E,distance:0,stackingContext:f,listIndex:k.listIndex})}}var I=[],S=[],M=[],C=a?a.stackingContext:1/0;this.manager.poiDotsLayer.getDrawnPOI().forEach((function(e){e.isBareLabel()||(e.isMovable()?I.push(e):e.isAttachedToPlottedPoint()?c[e.sketch.id]<=C&&S.push(e):M.push(e))}));var D=this._getClosestPoint(I,e,t);if(D)return{type:"movable-point",poi:D};var T=this._getClosestPoint(M,e,t);if(T)return{type:"poi",poi:T};var L=this._getClosestPoint(S,e,t);if(L){var _=this.controller.getItemModel(L.sketch.id);return _&&"expression"===_.type&&p.isClickableObject(_)?{type:"poi",poi:L,isClickable:!0,model:_}:{type:"poi",poi:L}}return a?"sketch-branch"===a.type?{type:"sketch-branch",branchInfo:a.branchInfo,sketch:a.sketch,model:a.model,isClickable:p.isClickableObject(a.model)}:{type:"image",model:a.model,isClickable:u.isClickableObject(a.model),listIndex:a.listIndex}:void 0}},m.prototype._togglePOIUnderPoint=function(e,t){if(this.controller.isTraceEnabled()){var n=this.getFeatureUnderPoint(e,t);if(!n)return!1;if(n.isClickable)return!1;var r=n.poi;return!!r&&!r.isBareLabel()&&(this.manager.poiLabelsLayer.isOpenPOI(r)?(this.manager.poiLabelsLayer.closePOI(r),this.manager.poiLabelsLayer.setHoveredPOI(void 0)):(this.manager.poiLabelsLayer.openPOI(r),this.speakPoint(r)),this.manager.redrawAllLayers(),!0)}},m.prototype.getImageInfoUnderMouse=function(e,t,n){if(e){var r=e.formula;if(r){var i=r.dimensions;if(i.x&&i.y&&i.width&&i.height&&e.shouldGraph)for(var o=i.x.length-1;o>=0;o--){var a=i.x[o],s=i.y[o],c=i.radianAngle[o],l=a+Math.cos(c)*(t.x-a)-Math.sin(c)*(t.y-s),d=s+Math.sin(c)*(t.x-a)+Math.cos(c)*(t.y-s),u=.5*Math.abs(i.width[o]),p=.5*Math.abs(i.height[o]);if(l>a-u&&l<a+u&&d>s-p&&d<s+p)return{listIndex:o}}}}},m.calculateDistanceFromBranch=function(e,t,n,r){if(e&&e.graphMode===i.POLYGONFILL&&r){for(var o=e.segments,a=0;a<o.length;a++)if(g.pointIsWithinNonZeroFill(o[a],t))return 0;return 1/0}var s=m.getBranchesDistanceInfo(e,t,n,r);return s?s.minDistance:1/0},m.getBranchesDistanceInfo=function(e,t,r,o){var a=r.screen.width/(r.viewport.xmax-r.viewport.xmin),s=r.screen.height/(r.viewport.ymax-r.viewport.ymin),c=t.x,l=t.y,d=!1,u=!1;switch(e.graphMode){case i.PARAMETRIC:case i.IMPLICIT:if(!o)return null;break;case i.POLAR:if(!o)return null;u=!0;break;case i.Y:break;case i.X:d=!0;var p=c;c=l,l=p,p=a,a=s,s=p;break;default:return null}for(var g,h,f=1/0,m=1/0,y=0;y<e.segments.length;y++)for(var b=e.segments[y],v=0;v<b.length-3;v+=2){var x=b[v],w=b[v+1],A=b[v+2],E=b[v+3];if(u){var k=w,I=x;x=k*Math.cos(I),w=k*Math.sin(I);var S=E,M=A;A=S*Math.cos(M),E=S*Math.sin(M)}var C=n.closestPointOnSegment(0,0,(x-c)*a,(w-l)*s,(A-c)*a,(E-l)*s),D=n.hypot(C[0],C[1]);C[0]<0?D<f&&(f=D,g=C):D<m&&(m=D,h=C)}var T=f<m?g:h;if(!T)return null;var L=T[0]/a+c,_=T[1]/s+l;return{closestPoint:{x:d?_:L,y:d?L:_},minDistance:Math.min(f,m),secondDistance:Math.max(f,m)}},m.getBranchesTracePoint=function(e,t,n){if(e&&e.compiled&&e.compiled.fn){var o=e.compiled.fn,a=n.screen.width/(n.viewport.xmax-n.viewport.xmin),s=n.screen.height/(n.viewport.ymax-n.viewport.ymin),c=this.getBranchesDistanceInfo(e,t,n,!1);if(!c)return null;var l=c.minDistance/c.secondDistance;l*=l;var d=e.graphMode===i.Y?"x":"y",u=c.closestPoint[d]*(1-l)+t[d]*l,p=1/(2*a),g=1/(2*s),h=o(u-p),f=o(u),y=o(u+p),b=p*Math.min(1,g/Math.abs(h-f)),v=p*Math.min(1,g/Math.abs(y-f));isFinite(b)||(b=p),isFinite(v)||(v=p),u=r.shortestDecimalBetween(u-b,u+v);var x=m.fillHole(o,u,a,s,t.x,t.y);return{x:e.graphMode===i.Y?u:x,y:e.graphMode===i.Y?x:u}}},m.prototype.startMovingPoint=function(e){var t=!1,n=!1;function r(){return"poi"===e.type?e.poi.getMovablePoint():"image"===e.type?{sketch:{id:e.image.formula.center_reference_id}}:"draggable-label"===e.type?{sketch:{id:e.label.model.id}}:void 0}var i,o=r(),a=this.controller;function s(){n=!0,a.dispatch({type:"start-moving-point",pointInfo:o})}e.shouldDelayUntilRealMove||s(),"poi"===e.type?i=e.poi:"image"===e.type?i={x:e.image.formula.dimensions.x[0],y:e.image.formula.dimensions.y[0]}:"draggable-label"===e.type&&(i={x:e.label.x,y:e.label.y});var c=this.manager.getProjection().map_pt(i),l=e.startScreenPt.x-c.x,d=e.startScreenPt.y-c.y,u=e.poi;"poi"===e.type&&this.manager.movablePointsLayer.setPressedPointId(u.isMovable()?u.getMovablePoint().id:void 0);var p=null,g=function(){if(p){n||s(),t=!0;var e=this.manager.getProjection(),i=this.getMouseRelativeToGrapher(p);p=null,this.controller.dispatch({type:"on-move-point",pointInfo:r(),screenPt:{x:i.x-l,y:i.y-d},projection:e})}}.bind(this);this.manager.registerMovablePointListener(g),this.addGlobalMouseListener("dcg-tapmove",(function(e){p=e})),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",function(i){if(g(),this.manager.deregisterMovablePointListener(),this.removeAllGlobalMouseListeners(),this.manager.movablePointsLayer.setPressedPointId(void 0),n&&(i.handle("dragged-clickable-object"),this.controller.dispatch({type:"stop-moving-point",pointInfo:r()})),"poi"===e.type&&!t){var o=this.manager.getProjection(),a=this.getToleranceByDevice(i.device),s=o.map_pt(u);this._togglePOIUnderPoint(s,a)}}.bind(this))},m.prototype.startTracingBranch=function(e,t){this.manager.markLabelsDirty(),this.last_screen_pt=t;var n=this.manager.getProjection(),r=n.reverse_map_pt(t),i=e.sketch.branches[e.branch],o=m.getBranchesTracePoint(i,r,n);o&&this.speakPoint(o),this.manager.traceLayer.setTraceInfo({pt:o,branchInfo:e}),this.manager.redrawAllLayers(),this.addGlobalMouseListener("dcg-tapmove",this.handleTraceUpdate.bind(this)),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",this.stopTracingBranch.bind(this))},m.prototype.stopTracingBranch=function(e){this.manager.markLabelsDirty();var t=this.manager.poiLabelsLayer.getHoveredPOI();t&&!this.manager.poiLabelsLayer.isOpenPOI(t)&&(this.manager.poiLabelsLayer.openPOI(t),this.speakPoint(t),this.manager.redrawAllLayers()),this.last_screen_pt=null,this.manager.traceLayer.setTraceInfo(void 0),this.manager.redrawAllLayers(),this.removeAllGlobalMouseListeners()},m.prototype.handleTraceUpdate=function(e){if(this.manager.traceLayer.traceInfo){var t,n=this.manager.getProjection();if(e)t=this.getMouseRelativeToGrapher(e),this.last_screen_pt=t,this.manager.markLabelsDirty();else{if(!this.last_screen_pt)return;t=this.last_screen_pt}var r=n.reverse_map_pt(t),i=1/0,o=-1,a=this.manager.traceLayer.traceInfo,s=this.manager.graphSketches[a.branchInfo.sketch.id];if(s){a.branchInfo.sketch=s;for(var c=a.branchInfo.sketch.branches,l=0;l<c.length;l++){var d=m.calculateDistanceFromBranch(c[l],r,n,!1);d<i&&(o=l,i=d)}var u=c[o],p=u?m.getBranchesTracePoint(u,r,n):null;p&&this.speakPoint(p),this.manager.traceLayer.traceInfo.branchInfo.branch=o,this.manager.traceLayer.traceInfo.pt=p,this.manager.redrawAllLayers()}}},m.prototype.speakPoint=function(e){var t=this.manager.getAudioTrace();t&&e&&t.queueCoordinates(e,void 0,!0)},m.fillHole=function(e,t,r,i,o,a){var s=e(t);if(isFinite(s))return s;var c=t-1e-11,l=t+1e-11,d=e(c),u=e(l);if(isNaN(d)&&isNaN(u))return NaN;if(isNaN(d))return u;if(isNaN(u))return d;var p=(o-c)*r,g=(o-l)*r,h=(a-d)*i,f=(a-u)*i;return n.hypot(p,h)<n.hypot(g,f)?d:u},m.prototype.hasNonlinearMoveStrategy=function(e){if(!e||!e.sketch)return!1;var t=this.getExpressionModel(e.sketch.id);if(!t||!t.formula)return!1;var n=t.formula.move_strategy;return!(!n||!n[0])&&"updateSliderNonlinear"===n[0].type},m.prototype.movePointFromKeyboard=function(e,t){if(t&&e&&e.sketch){var n=this.getExpressionModel(e.sketch.id);if(n&&("movable-point"===e.type||void 0!==n.label&&n.showLabel&&n.reconciledDragMode!==o.NONE)){var r,i=this.manager.getProjection(),a=i.map_pt({x:e.x,y:e.y}),c=0,l=0,d=t.shiftKey?10:2,u=t.shiftKey?"big":"",p=s.lookup(t);if("Up"===p?(r="y",l-=d,u+="up"):"Down"===p?(r="y",l+=d,u+="down"):"Left"===p?(r="x",c-=d,u+="down"):"Right"===p&&(r="x",c+=d,u+="up"),0!==c||0!==l){var g,h={x:a.x+c,y:a.y+l};"x"===r||this.hasNonlinearMoveStrategy(e)?g={x:u}:"y"===r&&(g={y:u}),this.controller.dispatch({type:"on-move-point",pointInfo:e,screenPt:h,projection:i,keyboardDirection:g})}}}},m.prototype.speakPoint=function(e,t){if(e&&this.manager.getAudioTrace()){var n=this.manager.getProjection();if(n){var r=n.viewport;switch(t){case"X":c.alert("X: "+l.value(e.x,r.xmax-r.xmin).ariaString);break;case"Y":c.alert("Y: "+l.value(e.y,r.ymax-r.ymin).ariaString);break;case"L":c.alert(e.ariaLabel||this.controller.s("graphing-calculator-narration-poi-graph-point"));break;case"C":c.alert(d(this.controller,e.sketch.color))}}}},m.prototype.selectItemIfNotSecret=function(e){this.controller.isItemSecret(e)||this.controller.dispatch({type:"set-selected-id",id:e})},m})),i("vendor/canvas2svg",[],(function(){var e,t,n,r,i;function o(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function a(e){var t,n,r;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=t[Math.floor(51*Math.random())]}while(e[n]);return n}i=function(e,t){var n,r,i,o={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",i=parseInt(e[n],t),o[r]="&#"+i+";";return o["\\xa0"]="&#160;",o}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(n=function(e,t){this.__root=e,this.__ctx=t}).prototype.addColorStop=function(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",o("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)},r=function(e,t){this.__root=e,this.__ctx=t},(t=function(e){var n,r={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((n=r).width=arguments[0],n.height=arguments[1]):n=e||r,!(this instanceof t))return new t(n);this._randomPostfix="-"+"xxxxxxxx".replace(/x/g,(function(e){return(16*Math.random()|0).toString(16)})),this._svgClassNames=[],this.width=n.width||r.width,this.height=n.height||r.height,this.enableMirroring=void 0!==n.enableMirroring?n.enableMirroring:r.enableMirroring,this.canvas=this,this.__document=n.document||document,n.ctx?this.__ctx=n.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(e,t,n){void 0===t&&(t={});var r,i,o=this.__document.createElementNS("http://www.w3.org/2000/svg",e),a=Object.keys(t);for(n&&(o.setAttribute("fill","none"),o.setAttribute("stroke","none")),r=0;r<a.length;r++)i=a[r],o.setAttribute(i,t[i]);var s=this._svgClassNames&&this._svgClassNames[this._svgClassNames.length-1];return s&&o.setAttribute("class",s),o},t.prototype.__setDefaultStyles=function(){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n].canvas},t.prototype.__applyStyleState=function(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]},t.prototype.__getStyleState=function(){var t,n,r={},i=Object.keys(e);for(t=0;t<i.length;t++)r[n=i[t]]=this[n];return r},t.prototype.__applyStyleToCurrentElement=function(t){var i=this.__currentElement,a=this.__currentElementsToStyle;a&&(i.setAttribute(t,""),i=a.element,a.children.forEach((function(e){e.setAttribute(t,"")})));var s,c,l,d,u,p=Object.keys(e);for(s=0;s<p.length;s++)if(c=e[p[s]],l=this[p[s]],c.apply)if(l instanceof r){if(l.__ctx)for(;l.__ctx.__defs.childNodes.length;)d=l.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[d]=d,this.__defs.appendChild(l.__ctx.__defs.childNodes[0]);i.setAttribute(c.apply,o("url(#{id})",{id:l.__root.getAttribute("id")}))}else if(l instanceof n)i.setAttribute(c.apply,o("url(#{id})",{id:l.__root.getAttribute("id")}));else if(-1!==c.apply.indexOf(t)&&c.svg!==l)if("stroke"!==c.svgAttr&&"fill"!==c.svgAttr||-1===l.indexOf("rgba")){var g=c.svgAttr;if("globalAlpha"===p[s]&&(g=t+"-"+c.svgAttr,i.getAttribute(g)))continue;i.setAttribute(g,l)}else{u=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(l),i.setAttribute(c.svgAttr,o("rgb({r},{g},{b})",{r:u[1],g:u[2],b:u[3]}));var h=u[4],f=this.globalAlpha;null!=f&&(h*=f),i.setAttribute(c.svgAttr+"-opacity",h)}},t.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},t.prototype.getSerializedSvg=function(e){var t,n,r,o,a,s=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(s)&&(s=s.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),e)for(t=Object.keys(i),n=0;n<t.length;n++)r=t[n],o=i[r],(a=new RegExp(r,"gi")).test(s)&&(s=s.replace(a,o));return s},t.prototype.getSvg=function(){return this.__root},t.prototype._dcgStartNamedGroup=function(e){var t=this.__createElement("g");t.setAttribute("id",e+this._randomPostfix);var n=this.__closestGroupOrSvg();this.__groupStack.push(n),n.appendChild(t),this.__currentElement=t},t.prototype._dcgEndNamedGroup=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElement||(this.__currentElement=this.__root.childNodes[1])},t.prototype._dcgSaveClassName=function(e){this._svgClassNames.push(e),this.__currentElement&&"path"===this.__currentElement.tagName&&!this.__currentDefaultPath&&(this.__currentElement.getAttribute("class")||this.__currentElement.setAttribute("class",e))},t.prototype._dcgRestoreClassName=function(){this._svgClassNames.pop()},t.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},t.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)},t.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=e,this.__currentElement.setAttribute("transform",r)},t.prototype.scale=function(e,t){void 0===t&&(t=e),this.__addTransform(o("scale({x},{y})",{x:e,y:t}))},t.prototype.rotate=function(e){var t=180*e/Math.PI;this.__addTransform(o("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))},t.prototype.translate=function(e,t){this.__addTransform(o("translate({x},{y})",{x:e,y:t}))},t.prototype.transform=function(e,t,n,r,i,a){this.__addTransform(o("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:i,f:a}))},t.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},t.prototype.__applyCurrentDefaultPath=function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)},t.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},t.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(o("M {x} {y}",{x:e,y:t}))},t.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},t.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(o("L {x} {y}",{x:e,y:t})):this.__addPathCommand(o("M {x} {y}",{x:e,y:t}))},t.prototype.bezierCurveTo=function(e,t,n,r,i,a){this.__currentPosition={x:i,y:a},this.__addPathCommand(o("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:i,y:a}))},t.prototype.quadraticCurveTo=function(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(o("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))};var s=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};return t.prototype.arcTo=function(e,t,n,r,i){var o=this.__currentPosition&&this.__currentPosition.x,a=this.__currentPosition&&this.__currentPosition.y;if(void 0!==o&&void 0!==a){if(i<0)throw new Error("IndexSizeError: The radius provided ("+i+") is negative.");if(o===e&&a===t||e===n&&t===r||0===i)this.lineTo(e,t);else{var c=s([o-e,a-t]),l=s([n-e,r-t]);if(c[0]*l[1]!=c[1]*l[0]){var d=c[0]*l[0]+c[1]*l[1],u=Math.acos(Math.abs(d)),p=s([c[0]+l[0],c[1]+l[1]]),g=i/Math.sin(u/2),h=e+g*p[0],f=t+g*p[1],m=[-c[1],c[0]],y=[l[1],-l[0]],b=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},v=b(m),x=b(y);this.lineTo(h+m[0]*i,f+m[1]*i),this.arc(h,f,i,v,x)}else this.lineTo(e,t)}}},t.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},t.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},t.prototype.rect=function(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()},t.prototype.fillRect=function(e,t,n,r){var i;i=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("fill")},t.prototype.strokeRect=function(e,t,n,r){var i;i=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("stroke")},t.prototype.__clearCanvas=function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],n=t.childNodes,r=n.length-1;r>=0;r--)n[r]&&t.removeChild(n[r]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)},t.prototype.clearRect=function(e,t,n,r){if(0!==e||0!==t||n!==this.width||r!==this.height){var i,o=this.__closestGroupOrSvg();i=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),o.appendChild(i)}else this.__clearCanvas()},t.prototype.createLinearGradient=function(e,t,r,i){var o=this.__createElement("linearGradient",{id:a(this.__ids),x1:e+"px",x2:r+"px",y1:t+"px",y2:i+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(o),new n(o,this)},t.prototype.createRadialGradient=function(e,t,r,i,o,s){var c=this.__createElement("radialGradient",{id:a(this.__ids),cx:i+"px",cy:o+"px",r:s+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(c),new n(c,this)},t.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t},t.prototype.__wrapTextLink=function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t},t.prototype.__applyText=function(e,t,n,r){var i,o,a=this.__parseFont(),s=this.__closestGroupOrSvg(),c=this.__createElement("text",{"font-family":a.family,"font-size":a.size,"font-style":a.style,"font-weight":a.weight,"text-decoration":a.decoration,x:t,y:n,"text-anchor":(i=this.textAlign,o={left:"start",right:"end",center:"middle",start:"start",end:"end"},o[i]||o.start)},!0);c.appendChild(this.__document.createTextNode(e)),this.__currentElement=c,this.__applyStyleToCurrentElement(r),s.appendChild(this.__wrapTextLink(a,c))},t.prototype.fillText=function(e,t,n){this.__applyText(e,t,n,"fill")},t.prototype.strokeText=function(e,t,n){this.__applyText(e,t,n,"stroke")},t.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},t.prototype.arc=function(e,t,n,r,i,a){if(r!==i){(r%=2*Math.PI)==(i%=2*Math.PI)&&(i=(i+2*Math.PI-.001*(a?-1:1))%(2*Math.PI));var s,c=e+n*Math.cos(i),l=t+n*Math.sin(i),d=e+n*Math.cos(r),u=t+n*Math.sin(r),p=a?0:1,g=i-r;g<0&&(g+=2*Math.PI),s=a?g>Math.PI?0:1:g>Math.PI?1:0,this.lineTo(d,u),this.__addPathCommand(o("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:s,sweepFlag:p,endX:c,endY:l})),this.__currentPosition={x:c,y:l}}},t.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=a(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",o("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r},t.prototype.drawImage=function(){var e,n,r,i,o,a,s,c,l,d,u,p,g,h=Array.prototype.slice.call(arguments),f=h[0],m=0,y=0;if(3===h.length)e=h[1],n=h[2],r=o=f.width,i=a=f.height;else if(5===h.length)e=h[1],n=h[2],r=h[3],i=h[4],o=f.width,a=f.height;else{if(9!==h.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);m=h[1],y=h[2],o=h[3],a=h[4],e=h[5],n=h[6],r=h[7],i=h[8]}s=this.__closestGroupOrSvg(),this.__currentElement;var b="translate("+e+", "+n+")";if(f instanceof t){if((c=f.getSvg().cloneNode(!0)).childNodes&&c.childNodes.length>1){for(l=c.childNodes[0];l.childNodes.length;)g=l.childNodes[0].getAttribute("id"),this.__ids[g]=g,this.__defs.appendChild(l.childNodes[0]);if(d=c.childNodes[1]){var v,x=d.getAttribute("transform");v=x?x+" "+b:b,d.setAttribute("transform",v),s.appendChild(d)}}}else"CANVAS"!==f.nodeName&&"IMG"!==f.nodeName||((u=this.__createElement("image")).setAttribute("width",r),u.setAttribute("height",i),u.setAttribute("opacity",this.globalAlpha),u.setAttribute("preserveAspectRatio","none"),(m||y||o!==f.width||a!==f.height)&&((p=this.__document.createElement("canvas")).width=r,p.height=i,p.getContext("2d").drawImage(f,m,y,o,a,0,0,r,i),f=p),u.setAttribute("transform",b),u.setAttribute("xlink:href","CANVAS"===f.nodeName?f.toDataURL():f.getAttribute("src")),s.appendChild(u))},t.prototype.createPattern=function(e,n){var i,o=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),s=a(this.__ids);return o.setAttribute("id",s),o.setAttribute("width",e.width),o.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((i=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",e.width),i.setAttribute("height",e.height),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),o.appendChild(i),this.__defs.appendChild(o)):e instanceof t&&(o.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(o)),new r(o,this)},t.prototype.setLineDash=function(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null},t.prototype.ellipse=function(e,t,n,r,i,a,s,c){if(a!==s){(a%=2*Math.PI)==(s%=2*Math.PI)&&(s=(s+2*Math.PI-.001*(c?-1:1))%(2*Math.PI));var l,d=e+Math.cos(-i)*n*Math.cos(s)+Math.sin(-i)*r*Math.sin(s),u=t-Math.sin(-i)*n*Math.cos(s)+Math.cos(-i)*r*Math.sin(s),p=e+Math.cos(-i)*n*Math.cos(a)+Math.sin(-i)*r*Math.sin(a),g=t-Math.sin(-i)*n*Math.cos(a)+Math.cos(-i)*r*Math.sin(a),h=c?0:1,f=s-a;f<0&&(f+=2*Math.PI),l=c?f>Math.PI?0:1:f>Math.PI?1:0,this.lineTo(p,g),this.__addPathCommand(o("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:r,xAxisRotation:i*(180/Math.PI),largeArcFlag:l,sweepFlag:h,endX:d,endY:u})),this.__currentPosition={x:d,y:u}}},t.prototype._dcgSetTitle=function(e){var t,n=this.__currentElement,r=!1,i=n.getElementsByTagName("title");i.length>0?t=i[0]:(t=this.__document.createElementNS("http://www.w3.org/2000/svg","title"),r=!0),t.textContent=e,r&&n.appendChild(t)},t.prototype.drawFocusRing=function(){},t.prototype.createImageData=function(){},t.prototype.getImageData=function(){},t.prototype.putImageData=function(){},t.prototype.globalCompositeOperation=function(){},t.prototype.setTransform=function(){},t})),i("submodules/dcgview/build-amd/attr-event-handler",[],(function(){return function(e,t){if(null!=t){if("string"!=typeof e)throw new Error("Must pass a string for an EventHandler name");if("function"!=typeof t)throw new Error("Must pass a function for an EventHandler callback");return{bindings:{onMount:function(n){n[e.toLowerCase()]=function(e){e&&t.apply(this,arguments)}}}}}}})),i("submodules/dcgview/build-amd/const",[],(function(){return{isConst:function(e){return!("function"!=typeof e||!e.isDCGViewConst)},makeConst:function(e){var t=function(){return e};return t.isDCGViewConst=!0,t}}})),i("submodules/dcgview/build-amd/attr",[],(function(){return{update:function(e,t,n){void 0===n?e.removeAttribute(t):e.setAttribute(t,n+"")}}})),i("submodules/dcgview/build-amd/attr-generic",["./const","./attr"],(function(e,t){function n(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var r=n(e),i=n(t);return function(e,t){var n,o=t();return r.default.isConst(t)||(n={onUpdate:function(n){var r=t();r!==o&&(o=r,i.default.update(n,e,r))}}),{value:o,bindings:n}}})),i("submodules/dcgview/build-amd/is-event-handler",[],(function(){return function(e){return"o"===e[0]&&"n"===e[1]&&e[2].toUpperCase()===e[2]}})),i("submodules/dcgview/build-amd/custom-attributes",[],(function(){var e={};return{isCustomAttribute:function(t){return e.hasOwnProperty(t)},add:function(t,n){e[t]=n},parse:function(t,n){return(0,e[t])(n)}}})),i("submodules/dcgview/build-amd/bindings",[],(function(){return{add:function(e,t,n){var r=e._bindings[t];r?r.push(n):e._bindings[t]=[n]},invoke:function(e,t){var n=e._bindings[t];if(n)for(var r=n.length,i=0;i<r;i++)n[i]()}}})),i("submodules/dcgview/build-amd/warnings",[],(function(){var e=[];return{warn:function(t,n){try{if(n&&n._isDCGView){t+=" ["+n._viewName+"]";var r=n.traceViewHierarchy();r.ancestors.length>0&&(t+="\nView Hierarchy:\n"+r.formatted)}throw new Error(t)}catch(t){console.warn(t);for(var i=0;i<e.length;i++)e[i](t)}},addWarningHandler:function(t){e.push(t)},removeWarningHandler:function(t){var n=e;e=[];for(var r=0;r<n.length;r++){var i=n[r];i!==t&&e.push(i)}}}})),i("submodules/dcgview/build-amd/bind-attrs",["./attr-event-handler","./attr-generic","./is-event-handler","./custom-attributes","./bindings","./warnings"],(function(e,t,n,r,i,o){function a(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var s=a(e),c=a(t),l=a(n),d=a(r),u=a(i),p=a(o),g={onMount:!0,didMount:!0,willUnmount:!0,willUpdate:!0,onUpdate:!0,didUpdate:!0},h={willMount:!0,onMount:!0,didMount:!0,willUnmount:!0,onUnmount:!0,didUnmount:!0};function f(e,t,n){var r=!1;return function(){r?p.default.warn(e+" is a one-time binding but was called multiple times",n):(r=!0,t.apply(this,arguments))}}function m(e,t,n){var r=n.bindings;if(r)for(var i in r){var o=r[i];i in g&&(o=o.bind(null,t)),i in h&&(o=f(i,o,e)),u.default.add(e,i,o)}}function y(e,t){if("function"!=typeof t)throw new Error('The "'+e+'" attr must be a function. It is: '+JSON.stringify(t));return d.default.isCustomAttribute(e)?d.default.parse(e,t):l.default(e)?s.default(e,t):c.default(e,t)}return function(e,t,n){if(t)for(var r in t){var i=y(r,t[r]);if(i){var o=i.value;void 0!==o&&n.setAttribute(r,o),i.bindings&&m(e,n,i)}}}})),i("submodules/dcgview/build-amd/bind-text",["./bindings"],(function(e){var t=function(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}(e),n=!1;return{bindText:function(e,r,i){if("function"!=typeof i)throw new Error("bindText expects a function");var o=i();null==o&&(o="");var a=document.createTextNode(o);if(n){var s=document.createElement("span");s.appendChild(a),r.appendChild(s)}else r.appendChild(a);t.default.add(e,"onUpdate",(function(){var e=i();null==e&&(e=""),o!==e&&(a.nodeValue=e,o=e)}))},enableSpanWrapping:function(){n=!0}}})),i("submodules/dcgview/build-amd/dcg-element",["./bind-attrs","./bind-text","./const","./warnings"],(function(e,t,n,r){function i(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var o=i(e),a=i(t),s=i(n),c=i(r),l=a.default.bindText;function d(e,t){var n=document.createTextNode(t);e.appendChild(n)}function u(e,t,n){if(this.tagName=e,this.attrs=t,this.children=n,Array.isArray(this.children))for(var r=0;r<this.children.length;r++){var i=_typeof(this.children[r]);"object"!==i&&"function"!==i||(this.children[r]._parentElement=this)}}return u.prototype._isDCGElement=!0,u.prototype.renderToDocFrag=function(e,t){if(this._domNode)throw new Error("Cannot remount a DCGElement");var n=this.children,r=document.createElement(this.tagName);this._domNode=r,o.default(t,this.attrs,r),e.appendChild(r);for(var i=n.length,a=0;a<i;a++){var u=n[a];u._isDCGElement?u.renderToDocFrag(r,t):s.default.isConst(u)?d(r,u()):"function"==typeof u?l(t,r,u):(c.default.warn("Text should be a const or a getter: "+JSON.stringify(u),t),d(r,u))}},u})),i("submodules/dcgview/build-amd/create-element",["./dcg-element"],(function(e){var t=function(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}(e);function n(e,t){if(null!=e)if(Array.isArray(e))for(var r=0;r<e.length;r++)n(e[r],t);else t.push(e)}return function(e,r){for(var i=[],o=arguments.length-1,a=2;a<=o;a++)n(arguments[a],i);if("string"==typeof e)return new t.default(e,r,i);if(e&&e._isDCGViewClass)return new e(r,i);throw new Error("createElement expects a String or DCGViewClass")}})),i("submodules/dcgview/build-amd/mounting",["./bindings"],(function(e){var t=function(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}(e);function n(e){e.willMount&&e.willMount(),t.default.invoke(e,"willMount"),e._childViews.forEach(n)}function r(e){e._isMounted=!0,e.onMount&&e.onMount(),t.default.invoke(e,"onMount"),e._childViews.forEach(r)}function i(e){e.didMount&&e.didMount(),t.default.invoke(e,"didMount"),e._childViews.forEach(i)}function o(e){e.willUnmount&&e.willUnmount(),t.default.invoke(e,"willUnmount"),e._childViews.forEach(o)}function a(e){e._isMounted=!1,e._childViews.forEach(a),t.default.invoke(e,"onUnmount"),e.onUnmount&&e.onUnmount()}function s(e){e._childViews.forEach(s),t.default.invoke(e,"didUnmount"),e.didUnmount&&e.didUnmount()}return{renderToDocFrag:function(e,t){if(t&&t._childViews.push(this),this.__generatedHTMLBefore)throw new Error("Cannot remount a DCGView");this.__generatedHTMLBefore=!0,this._element.renderToDocFrag(e,this)},findRootNode:function(){for(var e=this._element;e._isDCGView;)e=e._element;return e._domNode},createNodeForView:function(e,t){var n=document.createDocumentFragment();return e.renderToDocFrag(n,t),n.firstChild},willMount:n,onMount:r,didMount:i,willUnmount:o,onUnmount:a,didUnmount:s,mountToNode:function(e,t,o){if(!e||!e._isDCGViewClass)throw new Error("Must pass a DCGView class to be mounted");if(!t||1!==t.nodeType)throw new Error("Must pass an HTMLElement for the node");if(t._mountedDCGView)throw new Error("This node is already mounted by a view");var a=new e(o),s=document.createDocumentFragment();return a.renderToDocFrag(s),t.innerHTML="",n(a),t._mountedDCGView=a,t.appendChild(s),r(a),i(a),a},unmountFromNode:function(e){var t=e._mountedDCGView;if(!t)throw new Error("This node is not mounted by a DCGView");o(t),e.innerHTML="",delete e._mountedDCGView,a(t),s(t)}}})),i("submodules/dcgview/build-amd/update",["./bindings","./warnings"],(function(e,t){function n(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var r=n(e),i=n(t);return{update:function(){if(!this._isMounted)return i.default.warn("Trying to update view that is not mounted. Ignoring update.",this);if(!this.shouldUpdate||this.shouldUpdate()){if(this.willUpdate&&this.willUpdate(),r.default.invoke(this,"willUpdate"),r.default.invoke(this,"onUpdate"),this.onUpdate&&this.onUpdate(),this.overrideChildUpdates)this.overrideChildUpdates();else for(var e=this._childViews,t=e.length,n=0;n<t;n++)e[n].update();r.default.invoke(this,"didUpdate"),this.didUpdate&&this.didUpdate()}}}})),i("submodules/dcgview/build-amd/spread",[],(function(){return function(e){var t=arguments.length;if(t<2)return e;for(var n=1;n<t;n++)for(var r=arguments[n],i=Object.keys(r),o=i.length,a=0;a<o;a++){var s=i[a];e[s]=r[s]}return e}})),i("submodules/dcgview/build-amd/create-class",["./create-element","./mounting","./update","./const","./spread"],(function(e,t,n,r,i){function o(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var a=o(e),s=o(t),c=o(n),l=o(r),d=o(i);return function(e){if(!e)throw new Error("must pass a spec to DCGView.createClass");if("function"!=typeof e.template)throw new Error("must pass a template function to DCGView.createClass");var t=function(t,n){this._viewName=e.viewName||(this.constructor?this.constructor.name:"Anonymous DCGView"),this._setupProps(t,n),this.init&&this.init(),this._callTemplate()};for(var n in t.prototype._setupProps=function(e,t){if(e){for(var n in e){var r=e[n];if("function"!=typeof r&&void 0!==r)throw new Error('The "'+n+'" prop must be a function. It is: '+JSON.stringify(r))}this.props=e}else this.props={};this.children=t,this._childViews=[],this._bindings={}},t.prototype._callTemplate=function(){if(this._element=this.template(),!this._element||!this._element._isDCGElement)throw new Error("template() must return a DCGElement");this._element._parentElement=this},t.prototype.bindFn=function(e){return e.bind(this)},t.prototype.findRootNode=s.default.findRootNode,t.prototype.renderToDocFrag=s.default.renderToDocFrag,t.prototype.const=l.default.makeConst,t.prototype.spread=d.default,t.prototype.createElement=a.default,t.prototype.update=c.default.update,t.prototype.traceViewHierarchy=function(){for(var e=[],t=this._parentElement;t;t=t._parentElement)e.unshift(t);var n=e.concat([this]).filter((function(e){return!(!e._isDCGView||e._isDCGSwitch&&e._parentElement&&e._parentElement._isDCGIf||e._isDCGIfDefinedWrapper||e._isDCGSwitchWrapper||e._isDCGSwitchUnionWrapper)})).map((function(e,t){for(var n="";t-- >0;)n+="  ";return n+"<"+e._viewName+">"})).join("\n");return{ancestors:e,formatted:n}},e)if(e.hasOwnProperty(n)){if(t.prototype.hasOwnProperty(n))throw new Error("Cannot override the "+n+"() method");t.prototype[n]=e[n]}return t._isDCGViewClass=!0,t.prototype._isDCGView=!0,t.prototype._isDCGElement=!0,t}})),i("submodules/dcgview/build-amd/attr-style",["./const","./attr"],(function(e,t){function n(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var r=n(e),i=n(t);function o(e){var t=e(),n=_typeof(t);if("string"===n)return t;if(!n||"object"!==n)throw new Error("Unsupported type returned from style getter: "+n);var r="";for(var i in t){var o=t[i];t.hasOwnProperty(i)&&null!=o&&(r?r+=";"+i+":"+o:r=i+":"+o)}return r}return function(e){var t,n=o(e);return r.default.isConst(e)||(t={onUpdate:function(t){var r=o(e);n!==r&&(i.default.update(t,"style",r),n=r)}}),{value:n,bindings:t}}})),i("submodules/dcgview/build-amd/attr-class",["./const"],(function(e){var t=function(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}(e);function n(e){var t=e(),n=_typeof(t);if("string"===n)return t;if(!n||"object"!==n)throw new Error("Unsupported type returned from class getter: "+n);var r="";for(var i in t)t.hasOwnProperty(i)&&t[i]&&(r?r+=" "+i:r=i);return r}var r=/^\s+|\s+$/g,i=/\s+/;return function(e){var o,a=n(e);return t.default.isConst(e)||(o={onUpdate:function(t){var o=n(e);a!==o&&(t.className===a?(t.className=o,a=o):(t.className=function(e,t,n){for(var o=[],a=e.className.replace(r,"").split(i),s=t.replace(r,"").split(i),c={},l=s.length-1;l>=0;l--)c[s[l]]=!0;var d=a.length;for(l=0;l<d;l++){var u=a[l];c.hasOwnProperty(u)||o.push(u)}return n?o.length?n+" "+o.join(" "):n:o.join(" ")}(t,a,o),a=o))}}),{value:a,bindings:o}}})),i("submodules/dcgview/build-amd/attr-lifecycle",["./const"],(function(e){var t=function(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}(e);return function(e){return function(n){if("function"!=typeof n)throw new Error("The "+e+" attribute expects a function for the value");if(t.default.isConst(n))throw new Error("The "+e+" attribute does not expect a const for the value");var r={bindings:{}};return r.bindings[e]=n,r}}})),i("submodules/dcgview/build-amd/longest-subsequence",[],(function(){return function(e){var t,n,r=e.length,i=new Array(r),o=new Array(r+1),a=0;for(n=0;n<r;n++){if(e[o[a]]<e[n])t=a+1;else{for(var s=1,c=a-1;s<=c;){var l=Math.ceil((s+c)/2);e[o[l]]<e[n]?s=l+1:c=l-1}t=s}i[n]=o[t-1],o[t]=n,t>a&&(a=t)}var d=new Array(a),u=o[a];for(n=a-1;n>=0;n--)d[n]=e[u],u=i[u];return d}})),i("submodules/dcgview/build-amd/compute-key-mutations",["./longest-subsequence"],(function(e){var t=function(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}(e);return function(e,n){var r,i,o={},a=[],s=[];for(r=0;r<n.length;r++)o[i=n[r]]=r;for(r=0;r<e.length;r++)void 0===o[i=e[r]]&&a.push(i);var c=[];for(r=0;r<e.length;r++){var l=o[i=e[r]];void 0!==l&&c.push(l)}var d=t.default(c),u={};for(r=0;r<d.length;r++)u[i=n[d[r]]]=!0;for(r=n.length-1;r>=0;r--)u[i=n[r]]||s.push({key:i,beforeKey:n[r+1]});return{removes:a,inserts:s}}})),i("submodules/dcgview/build-amd/for",["./create-class","./compute-key-mutations","./const","./mounting"],(function(e,t,n,r){function i(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var o=i(e),a=i(t),s=i(n),c=i(r),l=o.default({viewName:"ForWrapper",template:function(){return this.children[0]}});return o.default({viewName:"For",_isDCGFor:!0,getKeys:function(){this._keyToItem={};var e=this.props.each();if(!Array.isArray(e))throw new Error("<For each={}> must return an array");var t=this.props.key?e.map(this.props.key):e.slice(0);if(!this._chosenKeyType&&t.length&&(this._chosenKeyType=_typeof(t[0]),"string"!==this._chosenKeyType&&"number"!==this._chosenKeyType))throw new Error("The key: "+JSON.stringify(t[0])+" is not a string or number");for(var n=0;n<t.length;n++){var r=t[n];if(_typeof(r)!==this._chosenKeyType)throw new Error("Keys must be the same type. "+JSON.stringify(r)+" is not a "+this._chosenKeyType);if(r in this._keyToItem)throw new Error("The key: "+JSON.stringify(r)+" is not unique");this._keyToItem[r]=e[n]}return t},createViewForKey:function(e){var t=this._keyToItem[e],n=this._viewFunction.call(this,t,e),r=n;return r._isDCGView||(r=this.createElement(l,null,n)),this._keyToView[e]=r,r},template:function(){if(this._keyToView={},"function"!=typeof this.props.each)throw new Error("<For each={}> must be a function");if(1!==this.children.length)throw new Error("<For> expects a single child. You passed "+this.children.length);var e=this.children[0];if(!e||!e._isDCGElement)throw new Error("<For> expects the root node to be a DCGElement. You passed "+JSON.stringify(e));if(e._isDCGView)throw new Error("<For> expects the root node to not be a DCGView. Pass in something like <div> or <span>");if(1!==e.children.length)throw new Error("<For> expects a root node with a single child. You passed "+e.children.length);if(this._viewFunction=e.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<For> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var t=JSON.stringify(this._viewFunction);throw new Error("<For> expects a function that constructs a DCGElement. You passed "+t)}if(s.default.isConst(this._viewFunction))throw new Error("<For> expects a function that constructs a DCGElement. You passed a constant");this._keys=this.getKeys();for(var n=[],r=0;r<this._keys.length;r++){var i=this._keys[r],o=this.createViewForKey(i);o._parentElement=this,n.push(o)}return e.children=n,e},detachAllRemovedViews:function(){for(var e,t=this._childViews,n=0,r=t.length,i=0;i<r;i++)(e=t[i])._will_be_unmounted_?n++:t[i-n]=e;t.splice(r-n,n)},overrideChildUpdates:function(){var e=this._keys,t=this.getKeys();this._keys=t;var n,r,i,o,s,l,d=this.findRootNode(),u=a.default(e,t),p=[];for(n=u.removes.length-1;n>=0;n--)l=u.removes[n],p.push(this._keyToView[l]);for(p.forEach(c.default.willUnmount),n=0;n<u.removes.length;n++)l=u.removes[n],r=this._keyToView[l],delete this._keyToView[l],r._will_be_unmounted_=!0,d.removeChild(r.findRootNode());p.length>0&&this.detachAllRemovedViews(),p.forEach(c.default.onUnmount),p.forEach(c.default.didUnmount);var g=[];for(n=u.inserts.length-1;n>=0;n--)(l=u.inserts[n].key)in this._keyToView||(r=this.createViewForKey(l),g.push(r),c.default.createNodeForView(r,this));for(g.forEach(c.default.willMount),n=0;n<u.inserts.length;n++)s=u.inserts[n],i=this._keyToView[s.key].findRootNode(),o=void 0!==s.beforeKey?this._keyToView[s.beforeKey].findRootNode():null,d.insertBefore(i,o);g.forEach(c.default.onMount),g.forEach(c.default.didMount);var h=this._childViews,f=h.length-g.length;for(n=0;n<f;n++)h[n].update()}})})),i("submodules/dcgview/build-amd/switch",["./create-class","./const","./mounting"],(function(e,t,n){function r(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var i=r(e),o=r(t),a=r(n),s=i.default({viewName:"SwitchWrapper",_isDCGSwitchWrapper:!0,template:function(){return this.children[0]}});return i.default({viewName:"Switch",_isDCGSwitch:!0,updateKey:function(){this._key=this.props.key()},createView:function(){var e=this._viewFunction(this._key);null==e&&(e=this.createElement("div",{style:this.const("display: none")}));var t=this.createElement(s,null,e);return t._parentElement=this,t},template:function(){if(this._key=void 0,"function"!=typeof this.props.key)throw new Error("<Switch key={}> must be a function");if(1!==this.children.length)throw new Error("<Switch> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var e=JSON.stringify(this._viewFunction);throw new Error("<Switch> expects a function that constructs a DCGElement. You passed "+e)}if(o.default.isConst(this._viewFunction))throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a constant");return this.updateKey(),this.createView()},overrideChildUpdates:function(){var e=this._key;if(this.updateKey(),e===this._key)this._element.update();else{var t=this.findRootNode(),n=document.createTextNode("");t.parentNode.insertBefore(n,t),a.default.willUnmount(this._element),this._childViews=[],t.parentNode.removeChild(t),a.default.onUnmount(this._element),a.default.didUnmount(this._element),this._element=this.createView();var r=a.default.createNodeForView(this._element,this);a.default.willMount(this._element),n.parentNode.insertBefore(r,n),n.parentNode.removeChild(n),a.default.onMount(this._element),a.default.didMount(this._element)}}})})),i("submodules/dcgview/build-amd/switch-union",["./create-class","./mounting","./create-element"],(function(e,t,n){function r(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var i=r(e),o=r(t),a=r(n),s=i.default({viewName:"SwitchUnionWrapper",_isDCGSwitchUnionWrapper:!0,template:function(){return this.children[0]}}),c=i.default({viewName:"SwitchUnion",_isDCGSwitchUnion:!0,updateCase:function(){this._case=this.props.getCase()},createView:function(){var e=this.props.buildChildView(this._case);null==e&&(e=this.createElement("div",{style:this.const("display: none")}));var t=this.createElement(s,null,e);return t._parentElement=this,t},template:function(){return this._case=void 0,this.updateCase(),this.createView()},overrideChildUpdates:function(){var e=this._case;if(this.updateCase(),e===this._case)this._element.update();else{var t=this.findRootNode(),n=document.createTextNode("");t.parentNode.insertBefore(n,t),o.default.willUnmount(this._element),this._childViews=[],t.parentNode.removeChild(t),o.default.onUnmount(this._element),o.default.didUnmount(this._element),this._element=this.createView();var r=o.default.createNodeForView(this._element,this);o.default.willMount(this._element),n.parentNode.insertBefore(r,n),n.parentNode.removeChild(n),o.default.onMount(this._element),o.default.didMount(this._element)}}});function l(e,t,n){return a.default(c,{getCase:function(){var n=t();return e?n&&n[e]:n},buildChildView:function(e){var r=n[e];if(r)return r(t)}})}return function(e,t){return"string"==typeof e?l.bind(this,e,t):l(void 0,e,t)}})),i("submodules/dcgview/build-amd/if",["./create-class","./const","./switch"],(function(e,t,n){function r(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var i=r(e),o=r(t),a=r(n);return i.default({viewName:"If",_isDCGIf:!0,template:function(){if("function"!=typeof this.props.predicate)throw new Error("<If predicate={}> must be a function");if(1!==this.children.length)throw new Error("<If> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<If> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var e=JSON.stringify(this._viewFunction);throw new Error("<If> expects a function that constructs a DCGElement. You passed "+e)}if(o.default.isConst(this._viewFunction))throw new Error("<If> expects a function that constructs a DCGElement. You passed a constant");var t=function(){return!!this.props.predicate()}.bind(this),n=function(e){if(e)return this._viewFunction()}.bind(this);return this.createElement(a.default,{key:t},n)}})})),i("submodules/dcgview/build-amd/if-defined",["./create-class","./mounting","./create-element"],(function(e,t,n){function r(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var i=r(e),o=r(t),a=r(n),s=i.default({viewName:"IfDefinedWrapper",_isDCGIfDefinedWrapper:!0,template:function(){return this.children[0]}}),c=i.default({viewName:"IfDefined",_isDCGIfDefined:!0,updateIsDefined:function(){this._isDefined=this.props.isDefined()},createView:function(){var e;this._isDefined&&(e=this.props.buildChildView()),null==e&&(e=this.createElement("div",{style:this.const("display: none")}));var t=this.createElement(s,null,e);return t._parentElement=this,t},template:function(){return this._isDefined=void 0,this.updateIsDefined(),this.createView()},overrideChildUpdates:function(){var e=this._isDefined;if(this.updateIsDefined(),e===this._isDefined)this._element.update();else{var t=this.findRootNode(),n=document.createTextNode("");t.parentNode.insertBefore(n,t),o.default.willUnmount(this._element),this._childViews=[],t.parentNode.removeChild(t),o.default.onUnmount(this._element),o.default.didUnmount(this._element),this._element=this.createView();var r=o.default.createNodeForView(this._element,this);o.default.willMount(this._element),n.parentNode.insertBefore(r,n),n.parentNode.removeChild(n),o.default.onMount(this._element),o.default.didMount(this._element)}}});return function(e,t){return a.default(c,{isDefined:function(){return null!=e()},buildChildView:function(){return t(e)}})}})),i("submodules/dcgview/build-amd/if-else",["./switch-union"],(function(e){var t=function(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}(e);return function(e,n){var r=t.default((function(){return e()?"true":"false"}),n);return r._viewName="IfElse",r}})),i("submodules/dcgview/build-amd/textarea",["./create-class","./spread"],(function(e,t){function n(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var r=n(e),i=n(t);return r.default({viewName:"Textarea",computeValue:function(){var e=this.props.value();return null==e?"":e+""},template:function(){if(!this.props.value)throw new Error('<Textarea> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Textarea> expects an "onInput={}" prop');var e=i.default({},this.props,{onInput:function(e){this.props.onInput(e.target.value),this._isMounted&&this.update()}.bind(this)});return this.props.disabled&&(e.disabled=function(){return!!this.props.disabled()||void 0}.bind(this)),delete e.value,this.createElement("textarea",e,this.const(this.computeValue()))},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})})),i("submodules/dcgview/build-amd/input",["./create-class","./spread"],(function(e,t){function n(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var r=n(e),i=n(t);return r.default({viewName:"Input",computeValue:function(){var e=this.props.value();return null==e?"":e+""},template:function(){if(!this.props.value)throw new Error('<Input> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Input> expects an "onInput={}" prop');var e=i.default({},this.props,{value:this.const(this.computeValue()),onInput:function(e){this.props.onInput(e.target.value),this._isMounted&&this.update()}.bind(this)});return this.props.onEnterPressed&&(e.onKeypress=function(e){13===e.which&&this.props.onEnterPressed()}.bind(this)),this.props.disabled&&(e.disabled=function(){return!!this.props.disabled()||void 0}.bind(this)),e.hasOwnProperty("tabindex")||(e.tabindex=function(){return this.props.disabled&&this.props.disabled()?"-1":"0"}.bind(this)),this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})})),i("submodules/dcgview/build-amd/checkbox",["./create-class","./spread"],(function(e,t){function n(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var r=n(e),i=n(t);return r.default({viewName:"Checkbox",computeChecked:function(){return!!this.props.checked()},template:function(){if(!this.props.checked)throw new Error('<Checkbox> expects a "checked={}" prop');if(!this.props.onChange)throw new Error('<Checkbox> expects an "onChange={}" prop');var e=i.default({},this.props,{type:this.const("checkbox"),checked:this.const(this.computeChecked()?"checked":void 0),onChange:function(e){this.props.onChange(e.target.checked),this._isMounted&&this.update()}.bind(this)});return this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeChecked();this.rootDOM.checked!==e&&(this.rootDOM.checked=e)}})})),i("submodules/dcgview/build-amd/components",["./for","./switch","./switch-union","./if","./if-defined","./if-else","./textarea","./input","./checkbox"],(function(e,t,n,r,i,o,a,s,c){function l(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var d=l(e),u=l(t),p=l(n),g=l(r),h=l(i),f=l(o),m=l(a),y=l(s),b=l(c);return{For:d.default,Switch:u.default,SwitchUnion:p.default,If:g.default,IfDefined:h.default,IfElse:f.default,Textarea:m.default,Input:y.default,Checkbox:b.default}})),i("submodules/dcgview/build-amd/class",["./create-class"],(function(e){return function(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}(e).default({template:function(){}})})),i("submodules/dcgview/build-amd/dcg-view",["./create-element","./create-class","./mounting","./spread","./const","./custom-attributes","./attr-style","./attr-class","./attr-lifecycle","./components","./warnings","./bind-text","./class"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p){function g(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}var h=g(e),f=g(t),m=g(n),y=g(r),b=g(i),v=g(o),x=g(a),w=g(s),A=g(c),E=g(l),k=g(d),I=g(u),S=g(p),M=I.default.enableSpanWrapping,C={createElement:h.default,createClass:f.default,mountToNode:m.default.mountToNode,unmountFromNode:m.default.unmountFromNode,spread:y.default,const:b.default.makeConst,isConst:b.default.isConst,addCustomAttribute:v.default.add,Components:E.default,addWarningHandler:k.default.addWarningHandler,removeWarningHandler:k.default.removeWarningHandler,_warn:k.default.warn,enableSpanWrapping:M,Class:S.default};return C.addCustomAttribute("style",x.default),C.addCustomAttribute("class",w.default),C.addCustomAttribute("willMount",A.default("willMount")),C.addCustomAttribute("onMount",A.default("onMount")),C.addCustomAttribute("didMount",A.default("didMount")),C.addCustomAttribute("willUnmount",A.default("willUnmount")),C.addCustomAttribute("onUnmount",A.default("onUnmount")),C.addCustomAttribute("didUnmount",A.default("didUnmount")),C.addCustomAttribute("willUpdate",A.default("willUpdate")),C.addCustomAttribute("onUpdate",A.default("onUpdate")),C.addCustomAttribute("didUpdate",A.default("didUpdate")),C})),i("submodules/dcgview/dcgview",["require","./build-amd/dcg-view"],(function(e){return e("./build-amd/dcg-view")})),i("lib/urlparser",["require","exports"],(function(e,t){function n(e,t){return new RegExp("[?|&]"+t+"(=|&|;|$)").test(e)}function r(e,t,n){if(t!==encodeURIComponent(t))throw new Error("Programming error: parameter name should be URL-safe without encoding.");var r=encodeURIComponent(n);if(e.length){var i=e.split("#"),o=/\?/.test(e)?i[0]+"&"+t+"="+r:i[0]+"?"+t+"="+r;return void 0!==i[1]?o+"#"+i[1]:o}return"?"+t+"="+r}function i(e,t,n){var r=new RegExp("([?|&])"+t+"=([^&;]+?)(&|#|;|$)").exec(e);if(!r)return e;var i=r[1],o=""+i+t+"="+r[2],a=""+i+t+"="+encodeURIComponent(n);return e.replace(o,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.setParameter=t.deleteParameter=t.replaceParameter=t.pushParameter=t.hasParameter=t.getParameter=void 0,t.getParameter=function(e,t){var n=new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g,"%20")):null},t.hasParameter=n,t.pushParameter=r,t.replaceParameter=i,t.deleteParameter=function(e,t){var n=new RegExp("([?|&])"+t+"=([^&;]+?)(&|#|;|$)").exec(e);if(!n)return e;var r=""+n[1]+t+"="+n[2],i=e.replace(r,"");return"&"===i[0]?i.replace("&","?"):i},t.setParameter=function(e,t,o){return n(e,t)?i(e,t,o):r(e,t,o)}})),i("lib/retain-lang",["require","exports","./parse-query-params","./urlparser"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.retainLang=t.domainNotDesmos=void 0;var i=/lang=[A-Za-z]+/,o=/(cl|learn|help).desmos.com/,a=/^(?:https?:)?(?:\/\/)?([^\s\/\?]+)/i,s=/(^desmos\.com$)|(\.desmos.com$)/;function c(e){var t=a.exec(e);if(t){var n=t[1];return!s.test(n)}return!1}t.domainNotDesmos=c,t.retainLang=function(e,t){var a,s=n.getQueryParams();return a=void 0!==t?t:s.lang?""+s.lang:"",""===e||""===a||i.test(e)||o.test(e)||c(e)?e:r.setParameter(e,"lang",a)}})),i("loadcss!dcgview-shim",(function(){})),i("dcgview",["require","exports","submodules/dcgview/dcgview","jquery","bugsnag","lib/retain-lang","loadcss!dcgview-shim"],(function(e,t,n,r,i,o){return n.addWarningHandler((function(e){return i.notify(e)})),n.addCustomAttribute("href",(function(e){var t=o.retainLang(e()),n={value:""+o.retainLang(e()),bindings:{onMount:function(e){if(!r(e).is("a")&&!r(e).is("use"))throw new Error("Cannot have an href on a non-link element.")}}};return n.bindings.onUpdate=function(n){var r=o.retainLang(e());t!==r&&(t=r,n.setAttribute("href",r))},n})),n.addCustomAttribute("onTap",(function(e){return{value:"",bindings:{onMount:function(t){r(t).on("dcg-tap",e)}}}})),n.addCustomAttribute("ignoreRealClick",(function(e){return{bindings:{onMount:function(t){r(t).on("click",(function(t){e()&&t.preventDefault()}))}}}})),n.addCustomAttribute("onTapStart",(function(e){return{bindings:{onMount:function(t){r(t).on("dcg-tapstart",e)}}}})),n.addCustomAttribute("onTapMove",(function(e){return{bindings:{onMount:function(t){r(t).on("dcg-tapmove",e)}}}})),n.addCustomAttribute("onTapEnd",(function(e){return{bindings:{onMount:function(t){r(t).on("dcg-tapend",e)}}}})),n.addCustomAttribute("onLongHold",(function(e){return{bindings:{onMount:function(t){r(t).on("dcg-longhold",e)}}}})),n.addCustomAttribute("manageFocus",(function(e){return void 0===e()?{}:{bindings:{onMount:function(t){e().shouldBeFocused()&&t.focus(),t.onfocus=function(t){e().shouldBeFocused()||e().onFocusedChanged(!0,t)},t.onblur=function(t){e().shouldBeFocused()&&e().onFocusedChanged(!1,t)}},onUpdate:function(t){var n=e().shouldBeFocused(),r=document.activeElement===t;n&&!r?t.focus():r&&!n&&t.blur()},willUnmount:function(e){e.onfocus=null,e.onblur=null}}}})),n})),i("graphing/screen",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0,t.Screen=function(e,t){this.width=e,this.height=t}})),i("core/math/poi-type",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.LABEL=t.TRACE=t.DEFINITION=t.EXTREMUM=t.INTERCEPT=t.ZERO=t.INTERSECTION=void 0,t.INTERSECTION=1001,t.ZERO=1002,t.INTERCEPT=1003,t.EXTREMUM=1004,t.DEFINITION=1006,t.TRACE=1007,t.LABEL=1008})),i("graphing/poi",["require","exports","core/math/poi-type","core/types/graphmode","core/types/point-opacity"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.POI=void 0;var o=1,a=function(){function e(e,t,n,r,i,a,s){this.x=e,this.y=t,this.type=n,this.sketch=r,this.branch=i,this.pointIdxOnBranch=a,this.bareLabel=void 0!==s&&s,this.id=o++}return e.prototype.getLabel=function(){var e=this.sketch&&this.sketch.branches[this.branch];return e&&"labels"in e&&e.labels&&e.labels[this.pointIdxOnBranch]||""},e.prototype.getGraphMode=function(){return this.sketch.branches[this.branch].graphMode},e.prototype.getCompiledFunction=function(){var e=this.sketch.branches[this.branch];if("compiled"in e&&e.compiled)return e.compiled.fn},e.prototype.isAttachedToPlottedPoint=function(){return this.type===n.DEFINITION||this.type===n.LABEL},e.prototype.isMovable=function(){return this.getGraphMode()===r.XYPOINT_MOVABLE},e.prototype.isPersistent=function(){return this.type===n.LABEL},e.prototype.getLabelSize=function(){var e=this.sketch&&this.sketch.branches[this.branch];return this.type===n.LABEL&&e&&"labelSize"in e?void 0===e.labelSize?1:e.labelSize:1},e.prototype.getLabelRotation=function(){var e=this.sketch&&this.sketch.branches[this.branch];return this.type===n.LABEL&&e&&"labelAngle"in e?void 0===e.labelAngle?0:e.labelAngle:0},e.prototype.getPointOpacity=function(){var e=this.sketch&&this.sketch.branches[this.branch];return e&&"pointOpacity"in e&&void 0!==e.pointOpacity?e.pointOpacity:this.isMovable()?1:i.DEFAULT},e.prototype.getTextOutline=function(){if(this.hasEditableLabel())return!1;var e=this.sketch&&this.sketch.branches[this.branch];return this.type!==n.LABEL||!e||!("suppressTextOutline"in e)||!e.suppressTextOutline},e.prototype.hasInteractiveLabel=function(){var e=this.sketch&&this.sketch.branches[this.branch];return!(!e||!("interactiveLabel"in e)||!e.interactiveLabel)},e.prototype.hasEditableLabel=function(){var e=this.sketch&&this.sketch.branches[this.branch];return!(!e||!("editableLabel"in e)||!e.editableLabel)},e.prototype.isBareLabel=function(){return this.bareLabel},e.prototype.getMovablePoint=function(){return this.sketch.getMovablePointByIndex(this.pointIdxOnBranch)},e}();t.POI=a})),i("vendor/mathquill",["require","exports","mathquill"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MQ=void 0,t.MQ=n})),i("lib/mathspeak",["require","exports","vendor/mathquill"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getMathspeakFromText=void 0;var r=/`[^`]*`/g,i=/^[\+\-]?[\d]*(\.\d+)?$/,o=n.MQ.StaticMath(document.createElement("span"));function a(e){var t="";return i.test(e)?(/^\+/.test(e)?(t="positive ",e=e.slice(1)):/^\-/.test(e)&&(t="negative ",e=e.slice(1)),t+=e.replace(/(\.)([0-9]+)/g,(function(e,t,n){return t+n.split("").join(" ").trim()}))):(o.latex(e),t=o.mathspeak().trim()),t}t.getMathspeakFromText=function(e){for(var t="",n=0,i=function(e){if(null!=e){var t=e.match(/`/g);return(null!=t&&t.length||0)%2==0}return!0}(e)?function(e){var t=[];if(null==e||0==e.length)return t;for(var n,i=0;n=r.exec(e);){var o=e.slice(i,n.index);o.length>0&&t.push({from:i,to:n.index,type:"text",text:o}),i=n.index+n[0].length,t.push({from:n.index,to:i,type:"math",text:n[0].slice(1,-1)})}var a=e.slice(i);return a.length>0&&t.push({from:i,to:e.length,type:"text",text:a}),t}(e):[{from:0,to:e.length,type:"text",text:e}];n<i.length;n++){var o=i[n];t+="text"===o.type?o.text:a(o.text)}return t}})),i("graphing/graphsketch",["require","exports","core/math/poi-type","core/types/graphmode","./poi","core/math/poi-type","lib/mathspeak"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.GraphSketch=void 0;var s=function(){function e(e,t){var r=this;this.color="#000000",this.style="normal",this.visible=!0,this.showPOI=!1,this.showHighlight=!1,this.selected=!1,this.labels=[],this.id=e,this.branches=void 0!==t?t:[],this.getPOI().forEach((function(e){e.type===n.LABEL&&r.labels.push(e)}))}return e.prototype.getPOI=function(){if(this.__cachedPOI)return this.__cachedPOI;this.__cachedPOI=[],this.__cachedPOIIds={};for(var e=0;e<this.branches.length;e++){var t=this.branches[e];if(t.graphMode===r.X||t.graphMode===r.Y)(i=t.poi).zeros&&this._pushPOI(i.zeros,e,n.ZERO),i.intercept&&this._pushPOI(i.intercept,e,n.INTERCEPT),i.extrema&&this._pushPOI(i.extrema,e,n.EXTREMUM),i.intersections&&this._pushPOI(i.intersections,e,n.INTERSECTION);else if(t.graphMode===r.XYPOINT||t.graphMode===r.XYPOINT_MOVABLE){var i=t.poi,o=t.graphMode===r.XYPOINT&&!0===t.interactiveLabel;if(!0===t.showLabel||o){var a=t.nakedLabel;i.defined&&this._pushPOI(i.defined,e,n.LABEL,a)}else i.defined&&this._pushPOI(i.defined,e,n.DEFINITION)}}return this.__cachedPOI},e.prototype.getBranchPOI=function(e){return this.getPOI().filter((function(t){return t.branch===e}))},e.prototype.getMovablePoints=function(){if(this.__cachedMovablePoints)return this.__cachedMovablePoints;this.__cachedMovablePoints=[];var e=this.branches[0];if(e&&1===e.segments.length&&e.graphMode===r.XYPOINT_MOVABLE)for(var t=e.segments[0],n=0;n<t.length;n++){var i=void 0;e.tableId&&(i={tableId:e.tableId,columnId:this.id,rowIndex:e.movablePointInfo[n].index,dragX:e.movablePointInfo[n].dragX,dragY:e.movablePointInfo[n].dragY});var o=e.scaleFactors?e.scaleFactors[0][n]:void 0,s=i?i.rowIndex:n,c=1===e.segments.length&&e.labels&&e.labels[n]?e.labels[n]:void 0,l=e.hasOwnProperty("pointOpacity")?e.pointOpacity:1;this.__cachedMovablePoints.push({type:"movable-point",id:"movable:["+this.id+","+s+"]",sketch:this,color:this.color,pointOpacity:l,tableInfo:i,scaleFactor:o,x:t[n][0],y:t[n][1],label:c,ariaLabel:c&&a.getMathspeakFromText(c)})}return this.__cachedMovablePoints},e.prototype.getMovablePointByIndex=function(e){return this.getMovablePoints()[e]},e.prototype.getStaticLabeledPoints=function(){var e=this;if(this.__cachedStaticLabeledPoints)return this.__cachedStaticLabeledPoints;var t=this.branches[0];return this.__cachedStaticLabeledPoints=[],this.getPOI().forEach((function(n){if((n.type===o.DEFINITION||n.type===o.LABEL)&&t.graphMode===r.XYPOINT){var i=t.showLabel,s=n.getLabel();(i||""!==s)&&e.__cachedStaticLabeledPoints.push({type:"static-labeled-point",id:"static["+e.id+","+n.id+"]",x:n.x,y:n.y,sketch:n.sketch,label:s,ariaLabel:""!==s?a.getMathspeakFromText(s):void 0})}})),this.__cachedStaticLabeledPoints},e.prototype._pushPOI=function(e,t,n,r){void 0===r&&(r=!1);for(var o=0,a=e.x.length;o<a;o++){var s=new i.POI(e.x[o],e.y[o],n,this,t,o,r);e.intersects&&(s.intersects=e.intersects[o]),this.__cachedPOI.push(s),this.__cachedPOIIds[s.id]=s}},e.prototype.updateIntersections=function(e){for(var t=this,i=0,o=this.branches.length;i<o;i++)(s=this.branches[i]).graphMode!==r.ERROR&&(s.poi.intersections=e[i]);var a=this.__cachedPOI;for(this.__cachedPOI=[],a.forEach((function(e){e.type!==n.INTERSECTION?t.__cachedPOI.push(e):delete t.__cachedPOIIds[e.id]})),i=0;i<this.branches.length;i++){var s;if((s=this.branches[i]).graphMode===r.X||s.graphMode===r.Y){var c=s.poi;c.intersections&&this._pushPOI(c.intersections,i,n.INTERSECTION)}}},e.prototype.getPOIById=function(e){return this.__cachedPOIIds[e]},e.prototype.updateFrom=function(e){if(e){this.visible=!0,this.showPOI=e.showPOI,this.showHighlight=e.showHighlight,this.selected=e.selected;var t=this.branches[0].graphMode;if(t===r.XYPOINT||t===r.XYPOINT_MOVABLE){for(var n=!0,i=0;i<this.__cachedPOI.length;i++){var o=e.__cachedPOI[i],a=this.__cachedPOI[i];if(!o||o.type!==a.type){n=!1;break}}if(n)for(i=0;i<this.__cachedPOI.length;i++)o=e.__cachedPOI[i],a=this.__cachedPOI[i],delete this.__cachedPOIIds[a.id],this.__cachedPOIIds[o.id]=a,a.id=o.id}}},e}();t.GraphSketch=s})),function(t){"object"==_typeof(o)&&void 0!==n?n.exports=t():"function"==typeof i&&i.amd?i("base64",[],t):("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).base64js=t()}((function(){return function e(t,n,i){function o(s,c){if(!n[s]){if(!t[s]){var l="function"==typeof r&&r;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({"/":[function(e,t,n){n.byteLength=function(e){return 3*e.length/4-c(e)},n.toByteArray=function(e){var t,n,r,a,s,l,d=e.length;s=c(e),l=new o(3*d/4-s),r=s>0?d-4:d;var u=0;for(t=0,n=0;t<r;t+=4,n+=3)a=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],l[u++]=a>>16&255,l[u++]=a>>8&255,l[u++]=255&a;return 2===s?(a=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,l[u++]=255&a):1===s&&(a=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,l[u++]=a>>8&255,l[u++]=255&a),l},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o="",a=[],s=16383,c=0,d=n-i;c<d;c+=s)a.push(l(e,c,c+s>d?d:c+s));return 1===i?(t=e[n-1],o+=r[t>>2],o+=r[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=r[t>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="="),a.push(o),a.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16)+(e[s+1]<<8)+e[s+2],a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}]},{},[])("/")})),i("bin",["base64"],(function(e){var t={};return{load:function(e,n,i,o){var a=n.toUrl(e);if(o.isBuild){var s=r.nodeRequire("fs");t[e]=s.readFileSync(a).toString("base64"),i()}else{var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=function(){i(c.response)},c.send()}},write:function(e,n,r,i){n in t?r("define('"+e+"!"+n+"', ['base64'], function (base64) {  return base64.toByteArray('"+t[n]+"').buffer;});"):console.log("ERROR - failed to find file "+n+" in buildMap")}}})),i("bin!graphing/poi.mp3",["base64"],(function(e){return e.toByteArray("//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAIAAAHVwAgICAgICAgICAgICBAQEBAQEBAQEBAQEBgYGBgYGBgYGBgYGBggICAgICAgICAgICAoKCgoKCgoKCgoKCgoMDAwMDAwMDAwMDAwODg4ODg4ODg4ODg4OD///////////////8AAAA5TEFNRTMuOThyAaUAAAAALmcAABRAJAiwQgAAQAAAB1cctrbdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAjsKyK0YYABp52xtx8wAgAgBd34IAhAgnsECEe7QIAAgsPxACDgcBAEHQfD/g+D4PggCAIf///ghLny4Pg+D5+sHz/wf+XPwfB8H3iMHwfwffUCYPvz/Y7Hg/H4/H4/H4HAwADcoDwAP7XfuAFtXrhzjsjOXP8iCYM4IBVoH2DGAhQR2hm5vikA2IVEPX9nQaITi6IiLCKX/fxcg/DdGmS5BP7fIGQ0hw7DQi5Q//8midImXygdJ0tlz/1NAgXIANV6MA2Vy2y27jv/+1LEBIALOHOTvGGAMXWhbnTxGZ+LOa2FNMsDtj9/jUmPqqqARrNvlVjDDoGZqq0T11A0DVqeEnlQk8q4sVEp0FcqdxLoEJ0RPYWvIlQkbGA0Anw6VJJgqRKw1NJaAXkR4ag0/FwCCABbbdbJA0fzVgdvgvu5Px6Rwiv3VllZVDREqmWntLyBDka3sz951iTve+ddHP0/M3P/+ydU4zbqOZOeop5jfu1kwk8VezPeGc1hRMbWrJNv6SO/fH0Mc15KYvKqAAAAdrdsrbBDuBpp4v/7UsQGgguVE2ekjNP5aSBo6YSNgKAQUoCZEBJK8q73G/nhJFFmLY5dNc4b7gjBRyEs5yjJokY9TBoU/pXQBglyNjeiA87V8vkzaw019YTu2fxY0t6gteLMI37f9fYw7UVnWoE4NJOSpQBu3GfVAIVACgw+IikZZAnB7UKlLGnha4PDbIhsBhk4RYmlE2hYZ8NrQ5HnyEUvZxDyVG1hM33ZZH0OlrJV5///3/51qTGtJgxhREVLEfoO1w6686eRAAAAUicksbA1qegZCe2AuEgJ//tSxAkCDF0XSaw8ailyn+l1h4w1BvVY04S56fYY5nGkBZHMGLBjHDUMlORG4wcCT9R6RB+3vM8jVMU1hmlOoXIOMKqotE2HxWYNJq/7EZ2l63NJ+Z2aTA4Yq+7t0PhOxCz9WP1mA3DJZZGDkRfq+qFAGwhwHUAVqBfDiMUlypaMWApR1VoWLChfUpJzkBDMCTf85UZr6jyHa1psZnTS5iKatTVKcX/Ker9zMvM1T0okGyiQcreJbU1tc+Yj/ms3395FBIADkjlkjbAZNdiwgRD/+1LEBwAL8Tdbp6Rh+XmT6XWHjCx5U4sTCtlUidNtS9I7oUx7oxdIZlOghkIQYzB0vxtMs6QgCg4WMVakQMM5HRfrsdIEftM0yfOHnNGkiPRMoWCKSsxsChat8/vYw4c4t+CMMB5AAAAXZrftWiEVdbSgnURZoWvK2KhK9GfCkIGnQKxIqbYJ0JCNFJ3St1wuUNRLW4Kw5VhLVGrmgYKhhRe1qzzC7SqFFyjJlIqXcPD6gw//epZ9bwQFw+s+rdVAFtzl0AAAA3I3JK0QJxtCHv/7UsQGAApAM0WssGFpSCKqNYMMvgZph6CwIhKEt0yEiMwFKpnDBBajVc5jbTM7KayRt3I43h8Ag05kd9AtqO0bItmf/+Aevzf7dx28sK0hvP//3/izNwf1pfEAgANutuOJACSqWvuW+SKNLQSpOQKsrX3XxnZxy2Rus0Q1irPy9Mkg4kZGJFRQUax4R+jsACwavqYd2bmRX/6VnKrLk2Z2VGYwQNCIEasJh7/oBScAAMtBNgBWssKw0uCAgKkVpJirpZyBklUCwqaSIkW6BgIY//tSxBIDSYw3Km0kSoEzi9KAliSw9QNAydBqoFQVEQNBwiJYiBWdDqxiwVBUGqg6JgaBoGj3//////huVcFQsIRoPjBXLBGA8AkCwOhcD4KAmFAtEYcR6E8gD2OAXJ2N//uSJVZVJNRdh0gkLCwuKioqz4sLC3//////4sLC31ioqKpAoqKirOgFqkxBTUUzLjk4LjKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEIwPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==").buffer})),i("graphing/tonegenerator",["require","exports","bin!./poi.mp3","browser","bugsnag","core/types/graphmode","graphing/clipping"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.getReportedBranch=t.getFirstPlayableBranchIndex=t.canPlayBranch=t.canPlaySketch=void 0;var s=.0015,c=function(){function e(e){var t=e.audioPointMove,n=e.animationFinished,r=e.audioEnabled;this.audioSpeed=50,this.audioVolume=.5,this.audioPointMove=t,this.animationFinished=n,this.audioEnabled=r}return e.prototype.suspend=function(){this.playbackSupported&&this.audioCtx&&(this.stop(),this.audioCtx.suspend())},e.prototype.resume=function(){if(!this.audioCtx){var e=window.AudioContext||window.webkitAudioContext;if(r.IS_IE)this.playbackSupported=!1,this.audioCtx=void 0;else try{this.audioCtx=e?new e:void 0,this.playbackSupported=!0}catch(e){i.notify(e),this.playbackSupported=!1,this.audioCtx=void 0}}this.playbackSupported&&this.audioCtx&&("suspended"===this.audioCtx.state&&this.audioCtx.resume(),this.loadPOI())},e.prototype.stop=function(){this.playTimeout&&(cancelAnimationFrame(this.playTimeout),this.playTimeout=void 0),this.bufferSource&&(this.bufferSource.stop(),this.bufferSource.disconnect(),this.bufferSource=void 0),this.animationFinished()},e.prototype.isAnimating=function(){return void 0!==this.playTimeout},e.prototype.getAudioSpeed=function(){return this.audioSpeed},e.prototype.setAudioSpeed=function(e){this.audioSpeed=e},e.prototype.getAudioVolume=function(){return this.audioVolume},e.prototype.setAudioVolume=function(e){this.audioVolume=e,void 0!==this.gainMaster&&(this.gainMaster.gain.value=this.audioVolume)},e.prototype.getPlaybackSupported=function(){return this.playbackSupported},e.prototype.playBranchByIndex=function(e,t,n){var r=this;!this.audioEnabled()||t<0||t>=e.branches.length||!f(e.branches[t])||this.playBranch(e.branches[t],t,n,(function(){return r.stop()}))},e.prototype.playSketch=function(e,t){var n=this;if(this.audioEnabled()){var r=e.branches;if(0!==r.length){var i=-1,o=function(){for(i+=1;i<r.length&&!f(r[i]);)i+=1;i<r.length?n.playBranch(r[i],i,t,o):n.stop()};o()}}},e.prototype.playPoint=function(e,t){if(this.audioEnabled()&&this.audioCtx&&function(e){switch(e.graphMode){case o.X:case o.Y:case o.XYPOINT:case o.XYPOINT_MOVABLE:return!0;default:return!1}}(e)){var n=this.audioCtx.sampleRate,r=.075*n,i=this.audioCtx.createBuffer(2,r,n);!function(e,t,n,r){for(var i=e.sampleRate,a=e.getChannelData(0),s=e.getChannelData(1),c=t.graphMode,u=m(n,c),p=a.length-1,g={amplitude:0,phase:0,noiseVal:0,lowerOctaveGain:0,upperOctaveGain:0},f=function(e){switch(e.graphMode){case o.Y:case o.XYPOINT:case o.XYPOINT_MOVABLE:return{independent:e.x,dependent:e.y};case o.X:return{independent:e.y,dependent:e.x};default:throw b(e.graphMode)}}(t),y=f.independent,v=f.dependent,x=l(c,y,u),w=0;w<a.length;w++)g=d(g,{independent:y,dependent:v},u,i,(p-w)/i),a[w]+=g.amplitude*x.left,s[w]+=g.amplitude*x.right;r&&void 0!==t.intersects&&h(r,e,0,x)}(i,e,t,this.poiBuffer),this.connectBuffer(i)}},e.prototype.connectBuffer=function(e){if(this.audioEnabled()&&this.audioCtx){this.gainMaster=this.audioCtx.createGain(),this.gainMaster.connect(this.audioCtx.destination),this.gainMaster.gain.value=this.audioVolume;var t=this.audioCtx.createBufferSource();this.bufferSource=t,t.buffer=e,t.connect(this.gainMaster),t.start()}},e.prototype.playBranch=function(e,t,n,r){var i=this;if(this.audioEnabled()&&this.audioCtx){var s=this.audioSpeed/10,c=function(e,t,n){switch(e.graphMode){case o.Y:for(var r=[],i=0,s=e.segments;i<s.length;i++){var c=s[i];(h=a.clipStrokeEdges(c,t)).length>2&&r.push(h)}return{graphMode:e.graphMode,segments:r,poi:e.poi};case o.X:r=[];for(var l={xmin:t.ymin,xmax:t.ymax,ymin:t.xmin,ymax:t.ymax},d=0,u=e.segments;d<u.length;d++)c=u[d],(h=a.clipStrokeEdges(c,l)).length>2&&r.push(h);return{graphMode:e.graphMode,segments:r,poi:e.poi};case o.XYPOINT:case o.XYPOINT_MOVABLE:var p=e.segments[0].slice();p.sort(v),r=[];for(var g=0;g<p.length;g++){var h,f=p[g],m=g>0?p[g-1][0]:-1/0,y=g<p.length-1?p[p.length-1][0]:1/0,b=Math.max(f[0]-.5*n,.5*(f[0]+m)),x=Math.min(f[0]+.5*n,.5*(f[0]+y));c=[b,f[1],x,f[1]],(h=a.clipStrokeEdges(c,t)).length>2&&r.push(h)}return{graphMode:o.Y,segments:r};default:throw new Error("Unimplemented graph mode: "+e.graphMode)}}(e,n,(n.xmax-n.xmin)*(.075/s));if(c.segments.length){var u=m(n,c.graphMode),p=y(c),g=p.independentMin,f=p.independentMax,x=this.audioCtx.sampleRate,w=s*(f-g)/(u.independentMax-u.independentMin),A=Math.floor(x*w),E=this.audioCtx.createBuffer(2,A,x);!function(e,t,n,r){for(var i=e.sampleRate,a=e.getChannelData(0),s=e.getChannelData(1),c=t.graphMode,u=m(n,c),p=y(t),g=p.independentMin,f=p.independentMax,v=f-g,x=0,w=0,A=a.length-1,E=A/i,k={amplitude:0,phase:0,noiseVal:0,lowerOctaveGain:0,upperOctaveGain:0},I=0;I<a.length;I++){for(var S=l(c,F=(A-I)/A*g+I/A*f,u);x<t.segments.length&&t.segments[x][w]<F;)(w+=2)>=t.segments[x].length&&(x+=1,w=0);var M=t.segments[x],C=NaN,D=NaN;if(M&&M.length>2&&w-2>=0&&w+1<M.length){D=(M[M.length-2]-F)*(E/v);var T=M[w-2],L=M[w-1],_=M[w],O=_-T;C=(_-F)/O*L+(F-T)/O*M[w+1]}k=d(k,{independent:F,dependent:C},u,i,D),a[I]+=k.amplitude*S.left,s[I]+=k.amplitude*S.right}if(r&&t.poi&&t.poi.intersections)for(var B=0,P=function(e,t){if(e===o.X)return t.y;if(e===o.Y)return t.x;throw b(e)}(c,t.poi.intersections);B<P.length;B++){var F=P[B];h(r,e,I=Math.round((F-g)/(f-g)*A),l(c,F,u))}}(E,c,n,this.poiBuffer),this.connectBuffer(E);var k=this.audioCtx.currentTime,I=function(){if(void 0!==i.playTimeout&&cancelAnimationFrame(i.playTimeout),i.audioCtx){var e=i.audioCtx.currentTime-k,n=(w-e)/w*g+e/w*f;i.audioPointMove(t,n),e<w?i.playTimeout=requestAnimationFrame(I):r()}};I()}else requestAnimationFrame(r)}},e.prototype.loadPOI=function(){var e=this;this.playbackSupported&&!this.poiBuffer&&this.audioCtx&&this.audioCtx.decodeAudioData(n.slice(0),(function(t){e.poiBuffer=t}))},e}();function l(e,t,n){if(e===o.X)return{left:1,right:1};var r=n.independentMin,i=n.independentMax,a=Math.abs((t-r)/(i-r));return isFinite(a)||(a=.5),a=Math.max(Math.min(a,1),0),{left:Math.cos(Math.PI/2*a),right:Math.sin(Math.PI/2*a)}}function d(e,t,n,r,i){var o=t.independent,a=t.dependent,c=e.phase,l=e.noiseVal,d=e.lowerOctaveGain,p=e.upperOctaveGain,h=n.dependentMin,f=n.dependentMax,m=0,y=0,b=0;return!isNaN(a)&&h<=a&&a<=f?(c+=function(e){return Math.min(Math.max(330*Math.pow(2,e),125),2e3)}((a-h)/(f-h))/r,i<.006?(y=0,b=0):(y=.5,b=o>=0?.15:0),a<0&&(m+=.1*(l=g(l)))):m+=.04*(l=g(l)),p+=(b-p)/(r*s),{amplitude:m+=(d+=(y-d)/(r*s))*u(c)+p*u(2*c),phase:c,noiseVal:l,lowerOctaveGain:d,upperOctaveGain:p}}function u(e){return.8782*(p(e)+.25*p(2*e)+.25*p(3*e))}function p(e){return Math.sin(2*Math.PI*e)}function g(e){return(e+.2*(2*Math.random()-1))/1.02}function h(e,t,n,r){for(var i=e.getChannelData(0),o=t.getChannelData(0),a=t.getChannelData(1),s=0;s<i.length&&s+n<o.length;s++)o[s+n]+=i[s]*r.left,a[s+n]+=i[s]*r.right}function f(e){switch(e.graphMode){case o.X:case o.Y:case o.XYPOINT:case o.XYPOINT_MOVABLE:return e.segments.length>0;default:return!1}}function m(e,t){switch(t){case o.Y:case o.XYPOINT:case o.XYPOINT_MOVABLE:return{independentMin:e.xmin,independentMax:e.xmax,dependentMin:e.ymin,dependentMax:e.ymax};case o.X:return{independentMin:e.ymin,independentMax:e.ymax,dependentMin:e.xmin,dependentMax:e.xmax};default:throw b(t)}}function y(e){var t=e.segments[0],n=e.segments[e.segments.length-1];return{independentMin:t[0],independentMax:n[n.length-2]}}function b(e){return"Unexpected graph mode. Received "+e}function v(e,t){return e[0]-t[0]}t.default=c,t.canPlaySketch=function(e){if(!e.visible)return!1;for(var t=0,n=e.branches;t<n.length;t++)if(f(n[t]))return!0;return!1},t.canPlayBranch=f,t.getFirstPlayableBranchIndex=function(e){for(var t=0;t<e.branches.length;t++)if(f(e.branches[t]))return t;return 0},t.getReportedBranch=function(e,t){for(var n=0,r=0;r<=t;r++)f(e.branches[r])&&(n+=1);return n}})),i("graphing/audiographnavigator",["require","exports","main/propagate_selection","tslib","underscore","core/types/graphmode","core/lib/label","core/math/poi-type","graphing/tonegenerator","underscore","lib/aria"],(function(e,t,n,r,i,o,a,s,c,l,d){function u(e,t,n){return{x:e.x,y:e.y,branch:e.branch,reportedBranch:n,type:e.type,graphMode:t,intersects:e.intersects}}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t,n){this.grapher=n,this.controller=e,this.audiograph=t,this.reset()}return e.prototype.reset=function(){this.currentPoint=void 0,this.resetToFirstBranch(),this.sampledPoints=[],this.pois=[],this.independent=0,this.xstep=0,this.ystep=0},e.prototype.resetToFirstBranch=function(){var e=this.getCurrentSketch();this.branch=e?c.getFirstPlayableBranchIndex(e):0},e.prototype.getBranchPoints=function(e){var t=[];if(e>=0)for(var n=0,r=this.getSampledPoints();n<r.length;n++){var i=r[n];i.branch===e&&t.push(i)}return t},e.prototype.resetTracePoint=function(){this.drawTrace(this.getCurrentPoint())},e.prototype.drawTrace=function(e){var t=this.getCurrentSketch();if(e&&t){var n=t.branches[this.branch];if(n&&n.graphMode!==o.XYPOINT){var r={x:e.x,y:e.y},i={branchInfo:{branch:e.branch,id:t.id,sketch:t},pt:r};l.isEqual(i,this.grapher.traceLayer.getTraceInfo())||(this.grapher.traceLayer.setTraceInfo(i),this.grapher.redrawAllLayers())}}},e.prototype.moveToOrigin=function(){var e=this.getCurrentSketch();if(e&&c.canPlaySketch(e)){var t=e.branches[this.branch];if(c.canPlayBranch(t)){var n=t.graphMode;if(n===o.Y)this.setIndependent("x",0);else if(n===o.X)this.setIndependent("y",0);else if(n===o.XYPOINT){var r=this.getSortedPOI()[0];this.setIndependent("x",r?r.x:0)}}}},e.prototype.getCurrentSketch=function(){var e,t=this.getSelectedItem();if(t){var n=this.audiograph.getFocusedCell();if("table"===t.type){if(n&&(e=this.getGraphSketchForTableCell(t,n)),!e)for(var r=0,i=t.columnModels;r<i.length;r++){var o=i[r];if(void 0!==(e=this.grapher.getGraphSketch(o.id)))break}}else e=this.grapher.getGraphSketch(t.id)}return e},e.prototype.getFirstTraceableSketch=function(e){for(var t,n=this.controller.getItemCount(),r=this.controller.shouldAudioTraceReverseExpressions(),i=0;i<n;i++){var o=r?n-1-i:i,a=this.controller.getItemModelByIndex(o);if(a&&this.canTrace(a)){var s=r?this.prevTableColumn(a):this.nextTableColumn(a);if(s?(this.audiograph.setFocusedCell(s),t=this.getGraphSketchForTableCell(a,s)):t=this.grapher.getGraphSketch(a.id),t){e&&e.selectAssociatedExpression&&this.controller.dispatch({type:"set-selected-index",index:o});break}}}return t},e.prototype.canTrace=function(e){if("image"===e.type)return!1;if("shouldGraph"in e){var t=this.grapher.getGraphSketch(e.id);return!!t&&c.canPlaySketch(t)}return!1},e.prototype.getTraceableExpressionCount=function(){for(var e=0,t=this.controller.getItemCount(),n=0;n<t;n++){var r=this.controller.getItemModelByIndex(n);r&&this.canTrace(r)&&e++}return e},e.prototype.computeStepSizes=function(){var e=this.grapher.getProjection().viewport;if(e){this.viewport=e;var t=e.xmin,n=e.xmax;this.xstep=Math.abs(n-t)/100,this.xscale=n-t;var r=e.ymin,i=e.ymax;this.ystep=Math.abs(i-r)/100,this.yscale=i-r;var a=this.getCurrentSketch();if(a&&c.canPlaySketch(a)){var s=a.branches[this.branch];if(c.canPlayBranch(s)){var l=s.graphMode;if(l===o.Y)this.independent<t?this.independent=t:this.independent>n&&(this.independent=n);else if(l===o.X)this.independent<r?this.independent=r:this.independent>i&&(this.independent=i);else if(l===o.XYPOINT){var d=void 0,u=void 0;this.independent<t?(u=this.getSortedPOI()[0],this.independent=u&&void 0!==u.x?u.x:0):this.independent>n&&(u=(d=this.getSortedPOI())[d.length-1],this.independent=u&&void 0!==u.x?u.x:0)}}}}},e.prototype.getPoint=function(e,t){var n,r,i,a,s=this.getCurrentSketch();if(!s||!c.canPlaySketch(s))return n;var l=0,d=s.branches[e];if(d){var u=c.getReportedBranch(s,e);return"compiled"in d&&d.compiled&&(a=d.compiled.fn),(i=d.graphMode)===o.Y?((r=this.getInterveningPOIs(t,t+this.xstep,e,i)[0])&&r.x===t&&r.branch===e||(r=void 0,l=a?a(t):0),r?n={x:r.x,y:r.y,type:r.type,typeChain:r.typeChain,branch:r.branch,reportedBranch:u,graphMode:i,intersects:r.intersects}:a&&(n={x:t,y:l,branch:e,reportedBranch:u,graphMode:i})):i===o.X?((r=this.getInterveningPOIs(t,t+this.ystep,e,i)[0])&&r.y===t&&r.branch===e||(r=void 0,l=a?a(t):0),r?n={x:r.x,y:r.y,type:r.type,typeChain:r.typeChain,branch:r.branch,reportedBranch:u,graphMode:i,intersects:r.intersects}:a&&(n={y:t,x:l,branch:e,reportedBranch:u,graphMode:i})):i===o.XYPOINT&&(n=(r=this.getInterveningPOIs(t,t+this.xstep,e,i)[0])&&r.x===t&&r.branch===e?{x:r.x,y:r.y,type:r.type,typeChain:r.typeChain,branch:r.branch,reportedBranch:u,graphMode:i,intersects:r.intersects}:{x:t,y:NaN,branch:e,reportedBranch:u,graphMode:i}),n}},e.prototype.getSampledPoints=function(){return 0===this.sampledPoints.length&&this.updateSampledPoints(),this.sampledPoints},e.prototype.updateSampledPoints=function(){var e=this.getCurrentSketch();if(e&&c.canPlaySketch(e)){for(var t=[],n=0;n<e.branches.length;n++){var r=e.branches[n];if(c.canPlayBranch(r)){var i=r.graphMode,s=0,l=0,d=0,u=[];if(i===o.Y||i===o.XYPOINT?(s=this.viewport.xmin,l=this.viewport.xmax,d=this.xstep):i===o.X&&(s=this.viewport.ymin,l=this.viewport.ymax,d=this.ystep),0!==s||0!==l||0!==d){for(var p=0;a.value(s+p*d).value<=l;p++){var g=a.value(s+p*d).value,h=this.getInterveningPOIs(g,g+d,n,i);if(h.length>0)u.push.apply(u,h);else{var f=this.getPoint(n,g);f&&u.push(f)}}t.push.apply(t,this.removeDuplicates(u,i))}}}this.sampledPoints=t}},e.prototype.getCurrentPoint=function(){return this.currentPoint||this.updateCurrentPoint(),this.currentPoint},e.prototype.updateCurrentPoint=function(e){if(e){this.currentPoint=e;var t=e.graphMode;t===o.Y||t===o.XYPOINT?this.independent=void 0!==e.x?e.x:0:t===o.X&&(this.independent=void 0!==e.y?e.y:0),this.branch=e.branch}else this.currentPoint=this.getPoint(this.branch,this.independent)},e.prototype.prevPoint=function(){this.moveToPoint(-1)},e.prototype.nextPoint=function(){this.moveToPoint(1)},e.prototype.firstPoint=function(){var e=this.getSampledPoints();e.length>0&&this.updateCurrentPoint(e[0])},e.prototype.lastPoint=function(){var e=this.getSampledPoints();e.length>0&&this.updateCurrentPoint(e[e.length-1])},e.prototype.moveToPoint=function(e){var t=this.getCurrentPoint();if(t)if(t.graphMode!==o.XYPOINT){var n=this.getSampledPoints(),r=this.getPointIndex(n,t);if(-1!==r){var i=r+e;i<=0?(i=0,d.queue(this.controller.s("graphing-calculator-narration-audio-trace-first-point"))):i>=n.length-1&&(i=n.length-1,d.queue(this.controller.s("graphing-calculator-narration-audio-trace-last-point")));var a=n[i];this.updateCurrentPoint(a)}}else this.moveToPOI(e)},e.prototype.canMoveToPrevPoint=function(){var e=this.getCurrentPoint();if(!e)return!1;if(e.graphMode===o.XYPOINT)return this.canMoveToPrevPOI();var t=this.getSampledPoints();return this.getPointIndex(t,e)>0},e.prototype.canMoveToNextPoint=function(){var e=this.getCurrentPoint();if(!e)return!1;if(e.graphMode===o.XYPOINT)return this.canMoveToNextPOI();var t=this.getSampledPoints();return this.getPointIndex(t,e)<t.length-1},e.prototype.prevPOI=function(){this.moveToPOI(-1)},e.prototype.nextPOI=function(){this.moveToPOI(1)},e.prototype.getSortedPOI=function(){return this.pois&&0!==this.pois.length||this.updatePOI(),this.pois},e.prototype.updatePOI=function(){var e,t=[],n=[],r=this.getCurrentSketch();if(r&&c.canPlaySketch(r)){for(var a=0;a<r.branches.length;a++){var s=r.branches[a];if(s){var l=c.getReportedBranch(r,a),d=s.graphMode;if(n=[],(e=r.getBranchPOI(a)).length>0){d===o.Y||d===o.XYPOINT?n=i.sortBy(e,"x"):d===o.X&&(n=i.sortBy(e,"y"));for(var p=[],g=0,h=n;g<h.length;g++){var f=h[g];p.push(u(f,d,l))}t.push.apply(t,this.removeDuplicates(p,d))}}}this.pois=t}},e.prototype.removeDuplicates=function(e,t){for(var n=[],i=0,o=e;i<o.length;i++){var c=o[i];if((c=r.__assign({},c)).graphMode=t,0!==n.length){var l=n[n.length-1];a.value(l.x).value===a.value(c.x).value&&a.value(l.y).value===a.value(c.y).value&&l.branch===c.branch?(l.typeChain||(l.typeChain=void 0!==l.type?[l.type]:[]),void 0!==c.type&&-1===l.typeChain.indexOf(c.type)&&l.typeChain.push(c.type),c.type===s.INTERSECTION&&c.intersects&&void 0===l.intersects&&(l.intersects=c.intersects)):n.push(c)}else n.push(c)}return n},e.prototype.getInterveningPOIs=function(e,t,n,r){for(var i=[],a=NaN,s=0,c=this.getSortedPOI();s<c.length;s++){var l=c[s];l&&(r!==o.Y&&r!==o.XYPOINT||isNaN(l.x)?r!==o.X||isNaN(l.y)||(a=l.y):a=l.x,l.branch===n&&!isNaN(a)&&(e<=a&&a<t||t<=a&&a<e)&&i.push(l))}return e>t?i.reverse():i},e.prototype.setIndependent=function(e,t){for(var n=this.getSampledPoints(),r=0,i=n;r<i.length;r++){var o=i[r];if(o&&o.hasOwnProperty(e)&&o[e]===t){if("x"===e)return this.independent=void 0!==o.x?o.x:0,void this.updateCurrentPoint();if("y"===e)return this.independent=void 0!==o.y?o.y:0,void this.updateCurrentPoint()}}var a=!0;if(n.length>0){var s=n[Math.floor((n.length-1)/2)];s&&("x"===e?(this.independent=void 0!==s.x?s.x:0,a=!1):"y"===e&&(this.independent=void 0!==s.y?s.y:0,a=!1))}a&&(this.independent=0),this.resetToFirstBranch(),this.updateCurrentPoint()},e.prototype.moveToPOI=function(e){if(this.getCurrentPoint()){var t=this.getSampledPoints(),n=this.getPOIIndexByDirection(e);-1===n?d.queue(this.controller.s("graphing-calculator-narration-audio-trace-no-more-pois")):this.updateCurrentPoint(t[n])}},e.prototype.getPOIIndexByDirection=function(e){var t=this.getCurrentPoint();if(!t)return-1;var n=this.getSampledPoints(),r=this.getPointIndex(n,t),i=-1;if(-1!==r)for(var a=t.graphMode,s=1===e?n.length-1:0,c=r;c!==s+e;c+=e){var l=n[c];if(((a===o.Y||a===o.XYPOINT)&&t.x!==l.x||a===o.X&&t.y!==l.y)&&void 0!==l.type){i=c;break}}return i},e.prototype.canMoveToPrevPOI=function(){return-1!==this.getPOIIndexByDirection(-1)},e.prototype.canMoveToNextPOI=function(){return-1!==this.getPOIIndexByDirection(1)},e.prototype.getPointIndex=function(e,t){var n=-1;if(e.length>0&&t)for(var r=t.graphMode,i=0;i<e.length;i++){var a=e[i];if(((r===o.Y||r===o.XYPOINT)&&a.x===t.x||r===o.X&&a.y===t.y)&&a.branch===t.branch){n=i;break}}return n},e.prototype.prevCurve=function(){this.controller.shouldAudioTraceReverseExpressions()?this.curveDown():this.curveUp()},e.prototype.nextCurve=function(){this.controller.shouldAudioTraceReverseExpressions()?this.curveUp():this.curveDown()},e.prototype.curveUp=function(){var e=this.getSelectedItem();if(e){var t=this.prevTableColumn(e);if(t)this.audiograph.setFocusedCell(t);else{var n=e.index,r=this.findPrevTraceableIndex({index:n,focusTableCell:!0});if(-1!==r){var i=this.controller.getItemModelByIndex(r);i&&this.controller.dispatch({type:"set-selected-id",id:i.id})}}(t||this.getSelectedItem()!==e)&&this.audiograph.enterAudioTrace()}},e.prototype.curveDown=function(){var e=this.getSelectedItem();if(e){var t=this.nextTableColumn(e);if(t)this.audiograph.setFocusedCell(t);else{var n=e.index,r=this.findNextTraceableIndex({index:n,focusTableCell:!0});if(-1!==r){var i=this.controller.getItemModelByIndex(r);i&&this.controller.dispatch({type:"set-selected-id",id:i.id})}}(t||this.getSelectedItem()!==e)&&this.audiograph.enterAudioTrace()}},e.prototype.canMoveToPrevCurve=function(){var e=this.getSelectedItem();return!!e&&(this.controller.shouldAudioTraceReverseExpressions()?-1!==this.findNextTraceableIndex({index:e.index,focusTableCell:!1}):-1!==this.findPrevTraceableIndex({index:e.index,focusTableCell:!1}))},e.prototype.canMoveToNextCurve=function(){var e=this.getSelectedItem();return!!e&&(this.controller.shouldAudioTraceReverseExpressions()?-1!==this.findPrevTraceableIndex({index:e.index,focusTableCell:!1}):-1!==this.findNextTraceableIndex({index:e.index,focusTableCell:!1}))},e.prototype.findPrevTraceableIndex=function(e){var t,n=e.index;do{n--;var r=(t=this.controller.getItemModelByIndex(n))&&this.prevTableColumn(t);if(r)return e.focusTableCell&&this.audiograph.setFocusedCell(r),n}while(t&&!this.canTrace(t));return t?n:-1},e.prototype.findNextTraceableIndex=function(e){var t,n=e.index;do{n++;var r=(t=this.controller.getItemModelByIndex(n))&&this.nextTableColumn(t);if(r)return e.focusTableCell&&this.audiograph.setFocusedCell(r),n}while(t&&!this.canTrace(t));return t?n:-1},e.prototype.prevTableColumn=function(e){return this.tableColumn(e,-1)},e.prototype.nextTableColumn=function(e){return this.tableColumn(e,1)},e.prototype.tableColumn=function(e,t){var n;if(e&&"table"===e.type){var r=this.audiograph.getFocusedCell(),i=void 0,o=void 0,a=void 0;-1===t?(i=r?Math.max(r.location.column-1,0):NaN,o=r&&r.tableId===e.id&&!isNaN(i)?i:e.columnModels.length-1,a=0):(i=r?Math.min(r.location.column+1,e.columnModels.length-1):NaN,o=r&&r.tableId===e.id&&!isNaN(i)?i:0,a=e.columnModels.length-1);var s=(a-o)/t;if(isFinite(s)&&s>=0)for(var c=o;c!==a;c+=t){var l=e.columnModels[c];if(l&&this.grapher.getGraphSketch(l.id)){n={tableId:e.id,location:{column:c,row:0}};break}}}return n},e.prototype.getGraphSketchForTableCell=function(e,t){if(e&&"table"===e.type&&t){var n=e.columnModels[t.location.column];return n?this.grapher.getGraphSketch(n.id):void 0}},e.prototype.getXScale=function(){return this.xscale},e.prototype.getYScale=function(){return this.yscale},e.prototype.getSelectedItem=function(){var e=this.controller.getSelectedItem();return e&&"folder"===e.type?this.controller.getItemModel(n.getSelectedId(e)):e},e}();t.default=p})),i("graphing/audiograph",["require","exports","tslib","browser","keys","lib/aria","graphing/audiographnavigator","graphing/tonegenerator","core/types/graphmode","core/lib/label","core/math/poi-type","graphing-calc/models/expression","graphing-calc/models/table","expressions/colors","lib/mathspeak"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h){Object.defineProperty(t,"__esModule",{value:!0}),t.audioSpeedOptions=void 0,t.audioSpeedOptions=[{speed:200,displayedSpeed:"1/4 x"},{speed:100,displayedSpeed:"1/2 x"},{speed:50,displayedSpeed:"1 x"},{speed:25,displayedSpeed:"2 x"},{speed:12.5,displayedSpeed:"4 x"}];var f=function(){function e(e,t){var n=this;this.grapher=t,this.controller=e,this.audioTraceActive=!1,this.isTracing=!1,this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.sliderTraceActive=!1,this.sliderIndex=0,this.sliderArray=[],this.lastSpokenBranch=1,this.agNavigator=new a.default(e,this,this.grapher),this.tonegen=new s.default({audioPointMove:function(e,t){n.agNavigator.drawTrace(n.agNavigator.getPoint(e,t))},animationFinished:function(){n.recomputePoints(),n.isTracing&&(n.isTracing=!1,n.controller.dispatch({type:"render"}))},audioEnabled:function(){return n.controller.getAudio()}}),this.audioSpeedIndex=2,this.tonegen.suspend()}return e.prototype.remove=function(){},e.prototype.handleKeydown=function(e){var t=e.altKey||e.metaKey,n=e.altKey&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey,o=e.ctrlKey&&!e.metaKey&&!e.altKey,a=r.IS_APPLE?o:t,s=a&&(61===e.which||187===e.which),c=a&&!e.shiftKey&&(173===e.which||189===e.which),l=a&&!e.shiftKey&&"0"===i.lookupChar(e);n&&"S"===i.lookupChar(e)?this.agNavigator.getSelectedItem()&&(this.audioTraceActive||this.isFocusInExpressionsView())&&(e.preventDefault(),e.stopPropagation(),this.describeCurve()):n&&"T"===i.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.toggleAudioTrace()):s?(e.preventDefault(),e.stopPropagation(),this.zoom("in")):c?(e.preventDefault(),e.stopPropagation(),this.zoom("out")):l?(e.preventDefault(),e.stopPropagation(),this.zoom("default")):this.audioTraceActive&&(this.sliderTraceActive?this.sliderTraceKeydown(e):this.audioTraceKeydown(e))},e.prototype.sliderTraceKeydown=function(e){var t=e.altKey||e.metaKey,n=!t&&!e.ctrlKey&&!e.shiftKey;n&&i.lookup(e)===i.LEFT||"J"===i.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.decrementSliderValue()):n&&i.lookup(e)===i.RIGHT||"L"===i.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.incrementSliderValue()):n&&i.lookup(e)===i.PAGEDOWN?(e.preventDefault(),e.stopPropagation(),this.decrementBigSliderValue()):n&&i.lookup(e)===i.PAGEUP?(e.preventDefault(),e.stopPropagation(),this.incrementBigSliderValue()):t||i.lookup(e)!==i.DOWN&&(e.shiftKey||i.lookup(e)!==i.TAB)&&"K"!==i.lookupChar(e)?!t&&(i.lookup(e)===i.UP||e.shiftKey&&i.lookup(e)===i.TAB||"I"===i.lookupChar(e))?(e.preventDefault(),e.stopPropagation(),this.prevSlider()):n&&i.lookup(e)===i.HOME||"U"===i.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.sliderMin()):n&&i.lookup(e)===i.END||"N"===i.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.sliderMax()):(this.stopAnimations(),this.audioTraceKeydown(e)):(e.preventDefault(),e.stopPropagation(),this.nextSlider())},e.prototype.audioTraceKeydown=function(e){var t=e.altKey||e.metaKey,n=t&&!e.ctrlKey&&!e.shiftKey,r=!t&&!e.ctrlKey&&!e.shiftKey,a=i.lookupChar(e);if(i.lookup(e)===i.UP&&n)e.preventDefault(),e.stopPropagation(),o.clear(),this.agNavigator.prevCurve();else if(i.lookup(e)===i.DOWN&&n)e.preventDefault(),e.stopPropagation(),o.clear(),this.agNavigator.nextCurve();else if(r&&i.lookup(e)===i.LEFT||i.lookup(e)===i.UP||"J"===a)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"keypad/audio-trace",command:"previous-point"});else if(r&&i.lookup(e)===i.RIGHT||i.lookup(e)===i.DOWN||"L"===a)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"keypad/audio-trace",command:"next-point"});else if(t||i.lookup(e)!==i.PAGEDOWN&&(e.shiftKey||i.lookup(e)!==i.TAB)&&"I"!==a)if(!t&&(i.lookup(e)===i.PAGEUP||e.shiftKey&&i.lookup(e)===i.TAB||"K"===a))e.preventDefault(),e.stopPropagation(),this.reportAndMoveToPrevPOI();else if(r&&i.lookup(e)===i.HOME||"U"===a)e.preventDefault(),e.stopPropagation(),this.reportAndMoveToFirstPoint();else if(r&&i.lookup(e)===i.END||"N"===a)e.preventDefault(),e.stopPropagation(),this.reportAndMoveToLastPoint();else if(r&&"X"===a)e.preventDefault(),e.stopPropagation(),this.reportX();else if(r&&"P"===a)e.preventDefault(),e.stopPropagation(),this.reportPOICount();else if(r&&"Y"===a)e.preventDefault(),e.stopPropagation(),this.reportY();else if(r&&"T"===a)e.preventDefault(),e.stopPropagation(),this.reportType();else if(r&&"B"===a)e.preventDefault(),e.stopPropagation(),this.reportBranch();else if(r&&"O"===a)e.preventDefault(),e.stopPropagation(),this.reportAndMoveToOrigin();else if(r&&"H"===a)e.preventDefault(),e.stopPropagation(),this.hearGraph();else if(r&&"string"==typeof a&&a>="0"&&a<="9"){if(e.preventDefault(),e.stopPropagation(),o.clear(),!this.controller.getAudio())return void o.alert(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"));this.tonegen.stop();var c=this.agNavigator.getCurrentSketch();if(c){for(var l,d=l=48===e.which?9:e.which-49,u=-1,p=0;p<c.branches.length;p++)if(s.canPlayBranch(c.branches[p])&&(d-=1),d<0){u=p;break}u>=0?this.tonegen.getPlaybackSupported()?this.tonegen.playBranchByIndex(c,u,this.grapher.getCurrentViewport()):o.alert(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-play")):o.alert(this.controller.s("graphing-calculator-narration-audio-trace-branch-not-found",{branch:l+1}))}else o.alert(this.controller.s("graphing-calculator-narration-audio-trace-no-graph-selected"))}else t&&"string"==typeof a&&a>="1"&&a<="5"?(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-audio-trace-speed",speed:parseInt(a,10)-1})):e.altKey||e.ctrlKey||e.metaKey||"V"!==a?r&&"A"===a?(e.preventDefault(),e.stopPropagation(),o.clear(),this.queueAnimatingPoints(!0),o.alert()):r&&"S"===a&&this.controller.isListEnabled()?(e.preventDefault(),e.stopPropagation(),this.toggleSliderTrace()):r&&"C"===a?(e.preventDefault(),e.stopPropagation(),this.reportColor()):r&&this.exitAudioTrace():(e.preventDefault(),e.stopPropagation(),this.controller.getAudio()?e.shiftKey?this.controller.dispatch({type:"keypad/audio-trace",command:"volume-down"}):this.controller.dispatch({type:"keypad/audio-trace",command:"volume-up"}):o.alert(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-play")));else e.preventDefault(),e.stopPropagation(),this.reportAndMoveToNextPOI();this.controller.dispatch({type:"render"})},e.prototype.describeCurve=function(){var e=this;o.clear();var t=this.agNavigator.getCurrentSketch();if(t){o.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-color",{color:g.getColorName(this.controller,t.color)}));var n=s.getReportedBranch(t,t.branches.length-1);n>1&&o.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-branch-count",{branches:n}));for(var r=!1,i=!1,a=0,l=t.branches;a<l.length;a++){var u=l[a];if(1===n&&u.segments.length>0&&u.hasOwnProperty("operator")){if(u.graphMode===c.Y){if(">"===u.operator||">="===u.operator){o.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-above"));break}if("<"===u.operator||"<="===u.operator){o.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-below"));break}}else if(u.graphMode===c.X){if(">"===u.operator||">="===u.operator){o.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-right"));break}if("<"===u.operator||"<="===u.operator){o.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-left"));break}}}else n>1&&(u.graphMode===c.Y||u.graphMode===c.X?"<"!==u.operator&&"<="!==u.operator&&">"!==u.operator&&">="!==u.operator||(r=!0):u.graphMode===c.POLYGONFILL&&(i=!0))}r&&i&&o.queue(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-in-regions"));var p=t.getPOI();if(p.length>0){for(var h=[],f=0,m=p;f<m.length;f++){var y=m[f];void 0===h[y.type]?h[y.type]=1:h[y.type]+=1}h.forEach((function(t,n){n===d.INTERSECTION?o.queue(1===t?e.controller.s("graphing-calculator-narration-audio-trace-description-one-intersection"):e.controller.s("graphing-calculator-narration-audio-trace-description-multiple-intersections",{count:t})):n===d.ZERO?o.queue(1===t?e.controller.s("graphing-calculator-narration-audio-trace-description-one-root"):e.controller.s("graphing-calculator-narration-audio-trace-description-multiple-roots",{count:t})):n===d.INTERCEPT?o.queue(1===t?e.controller.s("graphing-calculator-narration-audio-trace-description-one-intercept"):e.controller.s("graphing-calculator-narration-audio-trace-description-multiple-intercepts",{count:t})):n===d.EXTREMUM?o.queue(1===t?e.controller.s("graphing-calculator-narration-audio-trace-description-one-extremum"):e.controller.s("graphing-calculator-narration-audio-trace-description-multiple-extrema",{count:t})):n===d.LABEL&&o.queue(1===t?e.controller.s("graphing-calculator-narration-audio-trace-description-one-label"):e.controller.s("graphing-calculator-narration-audio-trace-description-multiple-labels",{count:t}))}))}o.alert()}else o.alert(this.controller.s("graphing-calculator-narration-audio-trace-description-unavailable"))},e.prototype.queueCoordinates=function(e,t,n){if(void 0===n&&(n=!1),e){var r=this.agNavigator.getCurrentSketch();(e.hasOwnProperty("branch")&&r&&r.branches.length>1&&this.lastSpokenBranch!==e.reportedBranch||"branch"===t)&&"number"==typeof e.reportedBranch&&o.queue(this.controller.s("graphing-calculator-narration-audio-trace-property-branch-number",{branch:e.reportedBranch})),this.lastSpokenBranch=e.reportedBranch?e.reportedBranch:e.branch+1,e.hasOwnProperty("type")&&!t?o.queue(this.controller.s("graphing-calculator-narration-audio-trace-property-type-before-coordinates",{type:this.describePOI(e)})):"type"===t&&o.queue(this.describePOI(e)),t&&"x"!==t||o.queue(this.controller.s("graphing-calculator-narration-audio-trace-property-x",{x:l.value(e.x,this.agNavigator.getXScale()).ariaString})),t&&"y"!==t||o.queue(this.controller.s("graphing-calculator-narration-audio-trace-property-y",{y:l.value(e.y,this.agNavigator.getYScale()).ariaString})),n&&o.alert()}},e.prototype.describePOI=function(e){if(e.typeChain){for(var t=[],n=0;n<e.typeChain.length;n++)t.push(this.poiTypeToText(e,n));return t.join(", ")}return this.poiTypeToText(e)},e.prototype.poiTypeToText=function(e,t){switch(t&&e.typeChain?e.typeChain[t]:e.type){case d.INTERSECTION:var n=this.getIntersectingCurves(e);return""!==n?this.controller.s("graphing-calculator-narration-audio-trace-point-type-intersection-with-curves",{curves:n}):this.controller.s("graphing-calculator-narration-audio-trace-point-type-intersection");case d.ZERO:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-root");case d.INTERCEPT:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-intercept");case d.EXTREMUM:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-extremum");case d.DEFINITION:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-definition");case d.TRACE:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-trace");case d.LABEL:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-label");default:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-not-a-poi")}},e.prototype.getIntersectingCurves=function(e){return e&&e.intersects?this.getExpressionAriaLabel(e.intersects):""},e.prototype.getExpressionAriaLabel=function(e){var t=this.controller.getItemModel(e);return t?"expression"===t.type&&t.label?h.getMathspeakFromText(t.label):this.controller.isItemSecret(t.id)?this.controller.s("graphing-calculator-narration-audio-trace-secret-expression",{index:t.secretIndex}):"table"===t.type&&this.focusedCell?this.controller.s("graphing-calculator-narration-audio-trace-expression-with-column",{index:t.displayIndex,column:this.focusedCell.location.column+1}):this.controller.s("shared-calculator-narration-expression-index",{index:t.displayIndex}):""},e.prototype.exitAudioTrace=function(e){if(this.audioTraceActive){if(this.audioTraceActive=!1,this.controller.isKeypadEnabled()&&this.controller.dispatch({type:"keypad/123"}),e||(e=this.controller.s("graphing-calculator-text-audio-trace-off")),this.controller.dispatch({type:"toast/close"}),this.wasFocusInExpressionsView){var t=this.agNavigator.getSelectedItem();t&&this.controller.isItemSelectable(t.id)||(t=this.controller.getFirstFullyVisibleItem()),t&&this.controller.isItemSelectable(t.id)&&this.controller.dispatch({type:"move-focus-to-item",id:t.id,where:"table"===t.type&&void 0!==this.focusedCell?n.__assign({location:"cell"},this.focusedCell.location):"end"})}this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.stopAnimations(),this.sliderTraceActive=!1,this.sliderIndex=0,this.tonegen.stop(),this.tonegen.suspend(),this.agNavigator.reset(),this.lastSpokenBranch=1,this.grapher.traceLayer.setTraceInfo(void 0),this.grapher.redrawAllLayers(),o.alert(e),this.resumeAnimations()}},e.prototype.isFocusInExpressionsView=function(){return!!this.controller.getFocusedItem()},e.prototype.canAudioTraceCurrentExp=function(){var e=this.agNavigator.getSelectedItem();return!!e&&("table"===e.type?!!this.agNavigator.getCurrentSketch():this.agNavigator.canTrace(e))},e.prototype.enterAudioTrace=function(e){var t,n=this,i=this.agNavigator.getSelectedItem(),a=i&&"table"!==i.type&&!this.agNavigator.canTrace(i)?this.getExpressionAriaLabel(i.id):void 0,s=!1;if(this.audioTraceActive||(this.wasFocusInExpressionsView=this.isFocusInExpressionsView(),i&&a&&o.queue(this.controller.s("graphing-calculator-narration-audio-trace-unsupported-expression",{expression:a})),s=!!a||!this.wasFocusInExpressionsView),s)t=this.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!0});else if(!a){if(i&&"expression"===i.type&&i.formula&&i.formula.error)return this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-graph-to-trace")}});if(i&&"table"===i.type){var l=p.getSelectedCell(i);this.focusedCell&&this.focusedCell.tableId===i.id&&(!l||l.column===this.focusedCell.location.column&&l.row===this.focusedCell.location.row)||(this.focusedCell=void 0!==l?{tableId:i.id,location:l}:void 0)}else this.focusedCell=void 0;t=this.agNavigator.getCurrentSketch()}if(!t)return this.agNavigator.reset(),this.lastSpokenBranch=1,this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-graph-to-trace")}});var d=t.branches[0].graphMode;return d===c.IMPLICIT?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-implicit-support")}})):d===c.PARAMETRIC?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-parametric-support")}})):d===c.POLAR?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-polar-support")}})):(this.agNavigator.reset(),this.agNavigator.computeStepSizes(),this.lastSpokenBranch=1,this.grapher.traceLayer.clearOpenedPOI(),this.grapher.redrawAllLayers(),this.audioTraceActive||(this.controller.isKeypadEnabled()||this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-on"),noAria:!0,onHide:function(){return n.exitAudioTrace()},hideAfter:0}}),a&&t&&o.queue(this.controller.s("graphing-calculator-narration-audio-trace-tracing-different-expression",{expression:this.getExpressionAriaLabel(t.id)})),o.queue(this.controller.s("graphing-calculator-text-audio-trace-on")),this.controller.getAudio()||o.queue(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled")),this.pauseAnimations(),this.queueAnimatingPoints(!1),this.tonegen.resume(),e&&e.fromKeypad||(o.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-use-arrow-keys")),this.controller.getAudio()&&o.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-hear-graph")),this.agNavigator.getTraceableExpressionCount()>1&&(r.IS_APPLE?o.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-expression-navigation-mac")):o.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-expression-navigation-windows"))),r.IS_APPLE?o.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-disable-mac")):o.queue(this.controller.s("graphing-calculator-narration-audio-trace-instructions-disable-windows"))),this.wasFocusInExpressionsView&&(this.controller.find$(".dcg-graph-outer").one("focusin",(function(){setTimeout((function(){o.alert()}),0)})),this.controller.focusGraphPaper())),this.agNavigator.moveToOrigin(),o.queue(this.getExpressionAriaLabel(t.id)),this.reportAudioTrace({playSound:!1}),this.wasFocusInExpressionsView||o.alert(),this.audioTraceActive=!0,void(this.controller.isKeypadEnabled()&&this.controller.dispatch({type:"keypad/audio"})))},e.prototype.checkIfSelectedItemChanged=function(e){this.lastSelectedId!==e&&(this.lastSelectedId=e,this.audioTraceActive&&(e?(o.queue(this.getExpressionAriaLabel(e)),this.exitSliderTrace(),this.agNavigator.updatePOI(),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),o.alert()):this.exitAudioTrace()))},e.prototype.pauseAnimations=function(){var e=this;this.sliderArray.length=0,this.controller.getAllModelsWithSliders().forEach((function(t){t.slider.isPlaying&&(e.controller.dispatch({type:"set-slider-isplaying",id:t.id,isPlaying:!1}),e.sliderArray.push(t))}))},e.prototype.resumeAnimations=function(){if(0!==this.sliderArray.length){for(var e=0;e<this.sliderArray.length;e++){var t=this.sliderArray[e];!0!==t.slider.isPlaying&&this.controller.dispatch({type:"set-slider-isplaying",id:t.id,isPlaying:!0})}this.sliderArray.length=0}},e.prototype.stopAnimations=function(){var e=this;this.controller.getAllModelsWithSliders().forEach((function(t){t.slider.isPlaying&&e.controller.dispatch({type:"set-slider-isplaying",id:t.id,isPlaying:!1})}))},e.prototype.getAnimatingVars=function(){for(var e=[],t=0;t<this.sliderArray.length;t++)e.push('"'+u.getAssignment(this.sliderArray[t])+'"');return e},e.prototype.hasActiveSliders=function(){for(var e=this.controller.getAllModelsWithSliders(),t=0;t<e.length;t++)if(e[t].slider.isPlaying)return!0;return!1},e.prototype.queueAnimatingPoints=function(e){1===this.sliderArray.length?o.queue(this.controller.s("graphing-calculator-narration-audio-trace-one-slider-paused")):this.sliderArray.length>1?o.queue(this.controller.s("graphing-calculator-narration-audio-trace-multiple-sliders-paused",{sliders:this.sliderArray.length})):e&&o.queue(this.controller.s("graphing-calculator-narration-audio-trace-no-sliders-paused"))},e.prototype.queueSliderLatex=function(){this.hasActiveSliders()||this.tonegen.stop();var e=this.getSelectedSlider();e?o.queue(e.latex):o.queue(this.controller.s("graphing-calculator-narration-audio-trace-slider-value-unknown"))},e.prototype.getSelectedSlider=function(){var e=this.controller.getAllModelsWithSliders();return this.sliderIndex<=e.length-1?e[this.sliderIndex]:null},e.prototype.incrementSliderValue=function(){this.adjustSlider("up")},e.prototype.decrementSliderValue=function(){this.adjustSlider("down")},e.prototype.incrementBigSliderValue=function(){this.adjustSlider("bigup")},e.prototype.decrementBigSliderValue=function(){this.adjustSlider("bigdown")},e.prototype.nextSlider=function(){this.adjustSlider("next")},e.prototype.prevSlider=function(){this.adjustSlider("prev")},e.prototype.sliderMin=function(){this.adjustSlider("min")},e.prototype.sliderMax=function(){this.adjustSlider("max")},e.prototype.adjustSlider=function(e){var t=this.getSelectedSlider();if(t){var n=t.latex,r=this.controller.getAllModelsWithSliders().length;switch(e){case"up":case"down":case"bigup":case"bigdown":case"min":case"max":this.controller.dispatch({type:"adjust-slider-by-keyboard",id:t.id,adjustment:e}),this.queueSliderLatex(),o.alert();break;case"next":return this.sliderIndex++,this.sliderIndex>=r&&(o.queue(this.controller.s("graphing-calculator-narration-audio-trace-last-slider")),this.sliderIndex=r-1),this.queueSliderLatex(),void o.alert();case"prev":return this.sliderIndex--,this.sliderIndex<0&&(o.queue(this.controller.s("graphing-calculator-narration-audio-trace-first-slider")),this.sliderIndex=0),this.queueSliderLatex(),void o.alert()}t.slider.isPlaying||n===t.latex||(this.queueSliderLatex(),o.alert())}else o.queue(this.controller.s("graphing-calculator-narration-audio-trace-cannot-change-slider-value"))},e.prototype.toggleAudioTrace=function(){this.audioTraceActive?this.exitAudioTrace():this.enterAudioTrace()},e.prototype.toggleSliderTrace=function(){this.sliderTraceActive?this.exitSliderTrace():this.enterSliderTrace()},e.prototype.enterSliderTrace=function(){this.sliderTraceActive||(this.sliderIndex=0,0!==this.controller.getAllModelsWithSliders().length?(o.queue(this.controller.s("graphing-calculator-narration-slider-trace-on")),this.queueSliderLatex(),this.sliderTraceActive=!0):(o.queue(this.controller.s("graphing-calculator-narration-slider-trace-no-sliders")),this.sliderTraceActive=!1),o.alert())},e.prototype.exitSliderTrace=function(){this.sliderTraceActive&&(o.queue(this.controller.s("graphing-calculator-narration-slider-trace-off")),this.sliderTraceActive=!1,this.sliderIndex=0,o.alert())},e.prototype.recomputePoints=function(){this.audioTraceActive&&(this.tonegen.isAnimating()||(this.agNavigator.updatePOI(),this.agNavigator.updateSampledPoints(),this.agNavigator.updateCurrentPoint(),this.agNavigator.resetTracePoint(),this.agNavigator.computeStepSizes()))},e.prototype.reportAndMoveToPrevPoint=function(){o.clear(),this.agNavigator.prevPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},e.prototype.reportAndMoveToNextPoint=function(){o.clear(),this.agNavigator.nextPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},e.prototype.reportAndMoveToOrigin=function(){o.clear(),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},e.prototype.reportAndMoveToPrevPOI=function(){o.clear(),this.agNavigator.prevPOI(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},e.prototype.reportAndMoveToNextPOI=function(){o.clear(),this.agNavigator.nextPOI(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},e.prototype.reportAndMoveToFirstPoint=function(){o.clear(),this.agNavigator.firstPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},e.prototype.reportAndMoveToLastPoint=function(){o.clear(),this.agNavigator.lastPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})},e.prototype.reportX=function(){o.clear(),this.reportAudioTrace({propToSpeak:"x",playSound:!1})},e.prototype.reportY=function(){o.clear(),this.reportAudioTrace({propToSpeak:"y",playSound:!1})},e.prototype.reportColor=function(){o.clear();var e=this.agNavigator.getCurrentSketch();e?o.queue(g.getColorName(this.controller,e.color)):o.queue(this.controller.s("graphing-calculator-narration-color-unknown")),o.alert()},e.prototype.reportPOICount=function(){o.clear();var e=this.agNavigator.getCurrentSketch(),t=e?e.getPOI().length:0;o.alert(this.controller.s("graphing-calculator-narration-audio-trace-poi-count",{x:t}))},e.prototype.reportType=function(){o.clear(),this.reportAudioTrace({propToSpeak:"type",playSound:!1})},e.prototype.reportBranch=function(){o.clear(),this.reportAudioTrace({propToSpeak:"branch",playSound:!1})},e.prototype.describePoint=function(){o.clear(),this.reportAudioTrace({playSound:!1}),o.alert()},e.prototype.playCurrentPoint=function(){var e=this.agNavigator.getCurrentPoint();e&&this.tonegen.playPoint(e,this.grapher.getCurrentViewport())},e.prototype.reportAudioTrace=function(e){var t=this.agNavigator.getCurrentPoint();if(t){var n=e&&e.propToSpeak,r=this.controller.getAudio()&&this.tonegen.getPlaybackSupported()&&(!e||void 0===e.playSound||e.playSound),i=!e||void 0===e.speakCoordinates||e.speakCoordinates;this.tonegen.stop(),r&&this.playCurrentPoint(),i&&(this.queueCoordinates(t,n),setTimeout((function(){o.alert()}),n?0:100))}},e.prototype.adjustPlaybackSpeed=function(e){if(this.controller.getAudio()){if(!(e<0||e>=t.audioSpeedOptions.length)){this.audioSpeedIndex=e;var n=t.audioSpeedOptions[e];return this.tonegen.setAudioSpeed(n.speed),o.alert(this.controller.s("graphing-calculator-narration-audio-trace-playback-speed",{speed:n.displayedSpeed}))}}else o.alert(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"))},e.prototype.speedUp=function(){this.adjustPlaybackSpeed(this.audioSpeedIndex+1)},e.prototype.speedDown=function(){this.adjustPlaybackSpeed(this.audioSpeedIndex-1)},e.prototype.adjustVolume=function(e){if(o.clear(),this.controller.getAudio()){var t=this.tonegen.getAudioVolume(),n="up"===e?Math.min(100,Math.round(100*(t+.1))):Math.max(0,Math.round(100*(t-.1)));this.tonegen.setAudioVolume(n/100),this.playCurrentPoint(),o.alert(this.controller.s("graphing-calculator-narration-audio-trace-volume",{volume:n}))}else o.alert(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"))},e.prototype.zoom=function(e){this.grapher.viewportController.zoom(e)},e.prototype.getFocusedCell=function(){return this.focusedCell},e.prototype.setFocusedCell=function(e){this.focusedCell=e},e.prototype.getAudioTraceActive=function(){return this.audioTraceActive},e.prototype.hearGraph=function(){if(o.clear(),this.controller.getAudio())if(this.tonegen.getPlaybackSupported()){this.tonegen.stop();var e=this.agNavigator.getCurrentSketch();e&&s.canPlaySketch(e)?(this.isTracing=!0,this.tonegen.playSketch(e,this.grapher.getCurrentViewport())):o.alert(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-trace-this-expression"))}else o.alert(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-play"));else o.alert(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"))},e.prototype.stopGraph=function(){this.tonegen.getPlaybackSupported()&&this.tonegen.stop()},e.prototype.getIsTracing=function(){return this.isTracing},e.prototype.getAudioSpeedIndex=function(){return this.audioSpeedIndex},e}();t.default=f})),function(e,t){if("object"==_typeof(o)&&"object"==_typeof(n))n.exports=t();else if("function"==typeof i&&i.amd)i("abraham",[],t);else{var r=t();for(var a in r)("object"==_typeof(o)?o:e)[a]=r[a]}}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.map=function(e,t){var n=r.map(e,t);return e.warnings&&(n.warnings=e.warnings),n}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],d=!1,u=-1;function p(){d&&c&&(d=!1,c.length?l=c.concat(l):u=-1,l.length&&g())}function g(){if(!d){var e=s(p);d=!0;for(var t=l.length;t;){for(c=l,l=[];++u<t;)c&&c[u].run();u=-1,t=l.length}c=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||d||s(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=["abs","ans","arccosh","arccot","arccoth","arccsc","arccsch","arcsec","arcsech","arcsinh","arctanh","binomialdist","boxplot","cdf","ceil","corr","cov","csch","distance","dotplot","erf","floor","gcf","histogram","IndependentTTest","iTTest","ittest","lcm","length","mad","mcd","mcm","mean","median","midpoint","mod","nCr","normaldist","nPr","pdf","poissondist","polygon","quantile","quartile","random","round","sech","sign","signum","sgn","stdDev","stddev","stdDevP","stddevp","stdev","stdevp","tdist","total","TScore","TScore","Tscore","tscore","tscore","TTest","ttest","var","variance","varp"],o=i,a=s(i);function s(e){var t=e.sort((function(e,t){return t.length-e.length||t.localeCompare(e)})).join("|");return new RegExp("("+t+")","g")}t.getAutoOperator=function(e){for(var t,n=0,i="",o=0,a=e;o<a.length;o++){var s=a[o];if("terminal"!==s.type||!/[A-Za-z]/.test(s.value))break;i+=s.value,n++}return t=i.replace(r,"\\operatorname{$1}"),{modified:n>0&&t!==i,terminalCount:n,value:t}},t.containsValue=function(e){return-1!==o.indexOf(e.toLowerCase())},t.setOperatorNames=function(e){if(!Array.isArray(e))throw new Error("Operator names must be an array, got "+_typeof(e));for(var t=0,n=e;t<n.length;t++){var i=n[t];if("string"!=typeof i)throw new Error("Operator names must be strings, found "+_typeof(i))}r=s(o=e)},t.resetOperatorNames=function(){o=i,r=a}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(14),o=n(15),a=n(16),s=n(0),c=n(23),l=n(25);function d(e){if(!l.isSixDotCells(e))throw new Error("EncodingError: Expected input to be six-dot unicode braille characters.")}t.nemethToLatex=function(e,n){return d(e),a.default(t.UnicodeBraille.toBrailleAscii(e),n)},t.latexToNemeth=function(e,n){return n&&n.operatorNames?r.setOperatorNames(n.operatorNames):r.resetOperatorNames(),s.map(i.default(e),t.UnicodeBraille.coerceToSixDotCells)},t.uebToLatex=function(e,n){return d(e),c.default(t.UnicodeBraille.toBrailleAscii(e),n)},t.latexToUeb=function(e,n){return n&&n.operatorNames?r.setOperatorNames(n.operatorNames):r.resetOperatorNames(),s.map(o.default(e),t.UnicodeBraille.coerceToSixDotCells)},t.UnicodeBraille={coerceToSixDotCells:l.coerceToSixDotCells,toBrailleAscii:l.toBrailleAscii,toExpandedBrailleAscii:l.toExpandedBrailleAscii},t.version="1.0.3"},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return(r?"/":"")+(t=n(o(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===a(e,-1);return(e=n(o(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}var l=[];for(c=s;c<i.length;c++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(1))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.hash)throw e;return{_diagnostic:{expected:e.hash.expected,message:e.message,text:e.hash.text,token:e.hash.token},location:e.hash.loc}}},function(e,t,n){function r(e){return{type:"command",value:e}}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=function(e){return{type:"terminal",value:e}},t.command=r,t.greek=function(e){return{type:"greek",value:e}},t.level=function(e){return{subscript:e._,superscript:e["^"],type:"level"}},t.processPrimes=function(e,t){var n=[],o=e.match(/'+/);if(null!==o)for(var a=o[0].length,s=0;s<a;s++)n.push(r("\\prime"));return i(n,t)},t.fraction=function(e,t){return{type:"fraction",numerator:e,denominator:t}},t.typeform=function(e,t){return{name:e,type:"typeform",value:t}},t.radical=function(e,t){return{type:"radical",index:t,radicand:e}},t.group=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e,r){var i=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,11],n=[1,12],r=[1,13],i=[1,70],o=[1,71],a=[1,69],s=[1,38],c=[1,39],l=[1,59],d=[1,60],u=[1,61],p=[1,62],g=[1,63],h=[1,64],f=[1,65],m=[1,66],y=[1,67],b=[1,68],v=[1,40],x=[1,34],w=[1,35],A=[1,36],E=[1,37],k=[1,41],I=[1,42],S=[1,43],M=[1,44],C=[1,45],D=[1,46],T=[1,47],L=[1,48],_=[1,49],O=[1,50],B=[1,51],P=[1,52],F=[1,53],N=[1,17],q=[1,54],R=[1,55],z=[1,56],U=[1,57],j=[1,58],Q=[5,12,13,14,18,24,25],G=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,82],V=[1,75],Y=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,77,78,79,80,82],H=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],K={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,element:6,index_element:7,modified_expression:8,radical:9,primes:10,OPEN_MODEXP:11,MODEXP_UNDER:12,MODEXP_OVER:13,CLOSE_MODEXP:14,RADICAL_INDEX:15,index_group:16,OPEN_RADICAL:17,CLOSE_RADICAL:18,level:19,LEVEL:20,BASELINE:21,frac:22,OPEN_FRAC:23,SLASH:24,CLOSE_FRAC:25,subscript_head:26,number:27,atom:28,command:29,greek:30,letter:31,comma:32,period:33,space:34,operation:35,comparison:36,level_with_comparison:37,ellipsis:38,colon:39,infinity:40,integral:41,factorial:42,ampersand:43,question_mark:44,bracket:45,",":46,".":47,"[":48,"{":49,"(":50,"]":51,"}":52,")":53,LANGLE:54,RANGLE:55,PIPE:56,DOUBLE_PIPE:57,SPACE:58,COMMAND:59,GREEK:60,LETTER:61,CAPITAL_LETTER:62,"+":63,"-":64,CDOT:65,TIMES:66,"*":67,"/":68,DIV:69,PERCENT:70,TO:71,COMPARISON:72,LEVEL_WITH_COMPARISON:73,ELLIPSIS:74,COLON:75,NUMBER:76,INFINITY:77,INTEGRAL:78,FACTORIAL:79,"&":80,PRIMES:81,"?":82,unknown:83,UNKNOWN:84,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",11:"OPEN_MODEXP",12:"MODEXP_UNDER",13:"MODEXP_OVER",14:"CLOSE_MODEXP",15:"RADICAL_INDEX",17:"OPEN_RADICAL",18:"CLOSE_RADICAL",20:"LEVEL",21:"BASELINE",23:"OPEN_FRAC",24:"SLASH",25:"CLOSE_FRAC",46:",",47:".",48:"[",49:"{",50:"(",51:"]",52:"}",53:")",54:"LANGLE",55:"RANGLE",56:"PIPE",57:"DOUBLE_PIPE",58:"SPACE",59:"COMMAND",60:"GREEK",61:"LETTER",62:"CAPITAL_LETTER",63:"+",64:"-",65:"CDOT",66:"TIMES",67:"*",68:"/",69:"DIV",70:"PERCENT",71:"TO",72:"COMPARISON",73:"LEVEL_WITH_COMPARISON",74:"ELLIPSIS",75:"COLON",76:"NUMBER",77:"INFINITY",78:"INTEGRAL",79:"FACTORIAL",80:"&",81:"PRIMES",82:"?",84:"UNKNOWN"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,2],[6,1],[8,7],[8,6],[8,5],[8,6],[8,5],[8,5],[8,4],[8,4],[8,3],[8,4],[8,4],[8,4],[8,4],[8,3],[8,3],[8,2],[9,5],[9,4],[9,4],[9,3],[9,3],[9,2],[19,1],[19,1],[22,5],[22,4],[22,4],[22,3],[16,2],[16,1],[7,3],[7,2],[7,2],[7,3],[7,2],[7,2],[7,1],[7,1],[7,1],[26,1],[26,1],[26,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[32,1],[33,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[34,1],[29,1],[30,1],[31,1],[31,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[36,1],[37,1],[38,1],[39,1],[27,1],[40,1],[41,1],[42,1],[43,1],[10,1],[44,1],[83,1]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:return r.group();case 3:case 37:case 41:case 43:case 44:case 7:this.$=r.group(o[s-1],o[s]);break;case 4:case 38:this.$=r.group(o[s]);break;case 9:this.$=r.modified_expression(o[s-5],o[s-3],o[s-1]);break;case 10:this.$=r.modified_expression(o[s-4],o[s-2]);break;case 11:this.$=r.modified_expression(o[s-3],o[s-1]);break;case 12:this.$=r.modified_expression(o[s-4],r.group(),o[s-1]);break;case 13:this.$=r.modified_expression(o[s-3],r.group(),o[s-1]);break;case 14:this.$=r.modified_expression(o[s-3],r.group(),r.group());break;case 15:case 16:this.$=r.modified_expression(o[s-2],r.group());break;case 17:this.$=r.modified_expression(o[s-1]);break;case 18:case 19:case 22:case 23:case 24:this.$=r.modified_expression(r.group());break;case 20:case 21:r.warnOrError("Multi-level modified expressions are not supported."),this.$=r.modified_expression(r.group());break;case 25:this.$=r.radical(o[s-1],o[s-3]);break;case 26:this.$=r.radical(o[s-1],r.group());break;case 27:this.$=r.radical(r.group(),o[s-2]);break;case 28:this.$=r.radical(r.group(),r.group());break;case 29:this.$=r.radical(o[s-1]);break;case 30:this.$=r.radical(r.group());break;case 31:this.$=r.level(o[s]);break;case 32:this.$=r.baseline();break;case 33:this.$=r.fraction(o[s-3],o[s-1]);break;case 34:this.$=r.fraction(o[s-2],r.group());break;case 35:this.$=r.fraction(r.group(),o[s-1]);break;case 36:this.$=r.fraction(r.group(),r.group());break;case 39:this.$=r.group(r.simple_subscript(o[s-2],o[s]),o[s-1]);break;case 40:this.$=r.simple_subscript(o[s-1],o[s]);break;case 42:r.warnOrError("Illegal use of Nemeth primes"),this.$=r.group(r.simple_subscript(o[s-2],o[s-1]),o[s]);break;case 67:this.$=r.terminal(",");break;case 68:this.$=r.terminal(".");break;case 69:this.$=r.terminal("[");break;case 70:this.$=r.terminal("\\{");break;case 71:this.$=r.terminal("(");break;case 72:this.$=r.terminal("]");break;case 73:this.$=r.terminal("\\}");break;case 74:this.$=r.terminal(")");break;case 75:this.$=r.terminal("\\langle ");break;case 76:this.$=r.terminal("\\rangle ");break;case 77:this.$=r.terminal("|");break;case 78:this.$=r.terminal("\\|");break;case 79:this.$=r.terminal(" ");break;case 80:this.$=r.command(o[s].toLowerCase());break;case 81:this.$=r.terminal(r.greek(o[s]));break;case 82:this.$=r.terminal(o[s].toLowerCase());break;case 83:this.$=r.terminal(o[s].toUpperCase());break;case 84:this.$=r.terminal("+");break;case 85:this.$=r.terminal("-");break;case 86:this.$=r.terminal("\\cdot ");break;case 87:this.$=r.terminal("\\times ");break;case 88:this.$=r.terminal("*");break;case 89:this.$=r.terminal("/");break;case 90:this.$=r.terminal("\\div ");break;case 91:this.$=r.terminal("\\%");break;case 92:this.$=r.terminal("\\to ");break;case 93:this.$=r.comparison(o[s].trim());break;case 94:this.$=r.level_with_comparison(o[s].trim());break;case 95:this.$=r.terminal("\\ldots ");break;case 96:this.$=r.terminal(":");break;case 97:this.$=r.terminal(o[s]);break;case 98:this.$=r.terminal("\\infty ");break;case 99:this.$=r.terminal("\\int ");break;case 100:this.$=r.terminal("!");break;case 101:this.$=r.terminal("\\&");break;case 102:this.$=r.primes(o[s]);break;case 103:this.$=r.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,11:t,15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},{1:[3]},{5:[1,72]},{1:[2,2]},e(Q,[2,4],{6:4,7:5,8:6,9:7,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,22:32,19:33,4:73,11:t,15:n,17:r,20:i,21:o,23:a,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j}),e(G,[2,5]),e(G,[2,6]),e(G,[2,8],{10:74,81:V}),e(Y,[2,45],{10:76,27:77,76:N,81:V}),e(G,[2,46],{10:78,81:V}),e(G,[2,47],{10:79,81:V}),{4:80,6:4,7:5,8:6,9:7,11:t,12:[1,82],13:[1,81],14:[1,83],15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},{7:86,16:84,17:[1,85],19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},{4:87,6:4,7:5,8:6,9:7,11:t,15:n,17:r,18:[1,88],19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},e(H,[2,48]),e(H,[2,49]),e(H,[2,50]),e(H,[2,97]),e(H,[2,51]),e(H,[2,52]),e(H,[2,53]),e(H,[2,54]),e(H,[2,55]),e(H,[2,56]),e(H,[2,57]),e(H,[2,58]),e(H,[2,59]),e(H,[2,60]),e(H,[2,61]),e(H,[2,62]),e(H,[2,63]),e(H,[2,64]),e(H,[2,65]),e(H,[2,66]),e(H,[2,80]),e(H,[2,81]),e(H,[2,82]),e(H,[2,83]),e(H,[2,67]),e(H,[2,68]),e(H,[2,79]),e(H,[2,84]),e(H,[2,85]),e(H,[2,86]),e(H,[2,87]),e(H,[2,88]),e(H,[2,89]),e(H,[2,90]),e(H,[2,91]),e(H,[2,92]),e(H,[2,93]),e(H,[2,94]),e(H,[2,95]),e(H,[2,96]),e(H,[2,98]),e(H,[2,99]),e(H,[2,100]),e(H,[2,101]),e(H,[2,103]),e(H,[2,69]),e(H,[2,70]),e(H,[2,71]),e(H,[2,72]),e(H,[2,73]),e(H,[2,74]),e(H,[2,75]),e(H,[2,76]),e(H,[2,77]),e(H,[2,78]),{4:89,6:4,7:5,8:6,9:7,11:t,15:n,17:r,19:33,20:i,21:o,22:32,23:a,24:[1,90],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},e(H,[2,31]),e(H,[2,32]),{1:[2,1]},e(Q,[2,3]),e(G,[2,7]),e(G,[2,102]),e(Y,[2,41],{27:91,76:N}),e(G,[2,40],{10:92,81:V}),e(G,[2,43]),e(G,[2,44]),{12:[1,93],13:[1,94],14:[1,95]},{12:[1,96],13:[1,97],14:[1,98]},{12:[1,100],13:[1,99],14:[1,101]},e(G,[2,24]),{17:[1,102]},{4:103,6:4,7:5,8:6,9:7,11:t,15:n,17:r,18:[1,104],19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},{7:86,16:105,17:[2,38],19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},{18:[1,106]},e(H,[2,30]),{24:[1,107]},{4:108,6:4,7:5,8:6,9:7,11:t,15:n,17:r,19:33,20:i,21:o,22:32,23:a,25:[1,109],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},e(G,[2,39]),e(G,[2,42]),{4:110,6:4,7:5,8:6,9:7,11:t,13:[1,111],14:[1,112],15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},{4:113,6:4,7:5,8:6,9:7,11:t,14:[1,114],15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},e(G,[2,17]),{14:[1,115]},{14:[1,116]},e(G,[2,22]),{14:[1,117]},{14:[1,118]},e(G,[2,23]),{4:119,6:4,7:5,8:6,9:7,11:t,15:n,17:r,18:[1,120],19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},{18:[1,121]},e(H,[2,28]),{17:[2,37]},e(H,[2,29]),{4:122,6:4,7:5,8:6,9:7,11:t,15:n,17:r,19:33,20:i,21:o,22:32,23:a,25:[1,123],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},{25:[1,124]},e(H,[2,36]),{13:[1,125],14:[1,126]},{4:127,6:4,7:5,8:6,9:7,11:t,14:[1,128],15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},e(G,[2,16]),{14:[1,129]},e(G,[2,15]),e(G,[2,18]),e(G,[2,20]),e(G,[2,19]),e(G,[2,21]),{18:[1,130]},e(H,[2,27]),e(H,[2,26]),{25:[1,131]},e(H,[2,34]),e(H,[2,35]),{4:132,6:4,7:5,8:6,9:7,11:t,14:[1,133],15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:c,48:l,49:d,50:u,51:p,52:g,53:h,54:f,55:m,56:y,57:b,58:v,59:x,60:w,61:A,62:E,63:k,64:I,65:S,66:M,67:C,68:D,69:T,70:L,71:_,72:O,73:B,74:P,75:F,76:N,77:q,78:R,79:z,80:U,82:j},e(G,[2,11]),{14:[1,134]},e(G,[2,14]),e(G,[2,13]),e(H,[2,25]),e(H,[2,33]),{14:[1,135]},e(G,[2,10]),e(G,[2,12]),e(G,[2,9])],defaultActions:{3:[2,2],72:[2,1],105:[2,37]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,c=0,l=0,d=i.slice.call(arguments,1),u=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);u.setInput(e,p.yy),p.yy.lexer=u,p.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var h=u.yylloc;i.push(h);var f=u.options&&u.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,y,b,v,x,w,A,E,k,I=function(){var e;return"number"!=typeof(e=u.lex()||1)&&(e=t.symbols_[e]||e),e},S={};;){if(b=n[n.length-1],this.defaultActions[b]?v=this.defaultActions[b]:(null==m&&(m=I()),v=o[b]&&o[b][m]),void 0===v||!v.length||!v[0]){var M;for(w in k=[],o[b])this.terminals_[w]&&w>2&&k.push("'"+this.terminals_[w]+"'");M=u.showPosition?"Parse error on line "+(s+1)+":\n"+u.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:u.match,token:this.terminals_[m]||m,line:u.yylineno,loc:h,expected:k})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+m);switch(v[0]){case 1:n.push(m),r.push(u.yytext),i.push(u.yylloc),n.push(v[1]),m=null,y?(m=y,y=null):(c=u.yyleng,a=u.yytext,s=u.yylineno,h=u.yylloc,l>0&&l--);break;case 2:if(A=this.productions_[v[1]][1],S.$=r[r.length-A],S._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},f&&(S._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),void 0!==(x=this.performAction.apply(S,[a,c,s,p.yy,v[1],r,i].concat(d))))return x;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[v[1]][0]),r.push(S.$),i.push(S._$),E=o[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}},W={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:case 2:return this.begin("modexp"),11;case 1:case 51:return 21;case 3:return 12;case 4:return 13;case 5:return this.popState(),14;case 6:return 63;case 7:return 64;case 8:return 65;case 9:return 66;case 10:return 67;case 11:return 68;case 12:return 69;case 13:return 54;case 14:return 48;case 15:return 49;case 16:return 50;case 17:return 55;case 18:return 51;case 19:return 52;case 20:return 53;case 21:return 57;case 22:return 56;case 23:return 75;case 24:return 70;case 25:return 71;case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 36:case 37:return 73;case 35:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return 72;case 48:return 74;case 49:return 20;case 50:case 72:return 47;case 52:return 81;case 53:return 60;case 54:return 15;case 55:return this.begin("radical"),17;case 56:return this.popState(),18;case 57:return 18;case 58:return 78;case 59:return 80;case 60:return 79;case 61:case 62:return 59;case 63:return t.yytext=this.matches[1],76;case 64:return 23;case 65:return 24;case 66:return 25;case 67:return t.yytext=this.matches[1],62;case 68:return 61;case 69:return 77;case 70:return 82;case 71:return 46;case 73:return 58;case 74:return 5;case 75:return 84}},rules:[/^(?:"(?=[^>\]]+%))/,/^(?:")/,/^(?:"(?=[^>\]]+\]|[^>\]]+%))/,/^(?:%)/,/^(?:<)/,/^(?:\])/,/^(?:[+])/,/^(?:[-])/,/^(?:[*])/,/^(?:[@][*])/,/^(?:[@][\#])/,/^(?:[_][/])/,/^(?:[.][/])/,/^(?:[.][.][(])/,/^(?:[@][(])/,/^(?:[.][(])/,/^(?:[(])/,/^(?:[.][.][)])/,/^(?:[@][)])/,/^(?:[.][)])/,/^(?:[)])/,/^(?:[\\][\\])/,/^(?:[\\])/,/^(?:[_][3])/,/^(?:[@][0])/,/^(?:[ ][$]O[ ])/,/^(?:[ ][\^;]+[.]K[ ])/,/^(?:[\^;]+[=])/,/^(?:[ ][\^;]+[/][.]K[ ])/,/^(?:[ ][\^;]+[@][:][@][:][ ])/,/^(?:[ ][\^;]+["]K[:][ ])/,/^(?:[ ][\^;]+[.]1[:][ ])/,/^(?:[ ][\^;]+["]K[ ])/,/^(?:[ ][\^;]+[.]1[ ])/,/^(?:[ ][\^;]+[/][$][L][ ])/,/^(?:[ ][.]K[ ])/,/^(?:[ ][\^;]+[/]?[$][L][ ])/,/^(?:[ ][\^;]+[$]P[ ])/,/^(?:[=])/,/^(?:[ ][/][.]K[ ])/,/^(?:[ ][@][:][@][:][ ])/,/^(?:[ ]["]K[:][ ])/,/^(?:[ ][.]1[:][ ])/,/^(?:[ ]["]K[ ])/,/^(?:[ ][.]1[ ])/,/^(?:[@][:])/,/^(?:[ ][/]?[$][L][ ])/,/^(?:[ ][$]P[ ])/,/^(?:[ ]['][']['][ ])/,/^(?:[\^;]+)/,/^(?:[.]["])/,/^(?:["])/,/^(?:[']+)/,/^(?:[.][,]?[ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[.]*[<])/,/^(?:[.]*[>])/,/^(?:[.]*\])/,/^(?:[.]*\])/,/^(?:!)/,/^(?:[_]&)/,/^(?:&)/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:#?(\d*\.?\d+))/,/^(?:[,]*[?])/,/^(?:[,]*[/])/,/^(?:[,]*#)/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,][=])/,/^(?:[_][8])/,/^(?:[,][ ]?)/,/^(?:[.])/,/^(?:[ ])/,/^(?:$)/,/^(?:.)/],conditions:{radical:{rules:[0,1,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],inclusive:!0},modexp:{rules:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],inclusive:!0},INITIAL:{rules:[2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],inclusive:!0}}};function J(){this.yy={}}return K.lexer=W,J.prototype=K,K.Parser=J,new J}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var i=n(4).readFileSync(n(5).normalize(r[1]),"utf8");return t.parser.parse(i)},void 0!==r&&n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(t,n(1),n(8)(e))},function(e,t,n){(function(e,r){var i=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,15],n=[1,16],r=[1,17],i=[1,36],o=[1,18],a=[1,37],s=[1,38],c=[1,14],l=[1,46],d=[1,47],u=[1,39],p=[1,40],g=[1,41],h=[1,56],f=[1,42],m=[1,43],y=[1,44],b=[1,45],v=[1,54],x=[1,55],w=[1,57],A=[1,58],E=[1,59],k=[1,60],I=[1,61],S=[1,62],M=[1,63],C=[1,64],D=[1,65],T=[1,66],L=[1,67],_=[1,68],O=[1,69],B=[1,70],P=[1,71],F=[1,72],N=[1,73],q=[1,74],R=[1,75],z=[1,76],U=[1,48],j=[1,49],Q=[1,50],G=[1,51],V=[1,52],Y=[1,77],H=[1,53],K=[5,14,18,19,29,52,53,54],W=[5,10,13,14,15,18,19,29,52,53,54],J=[5,10,13,14,15,17,18,19,21,23,24,28,29,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88],X=[1,85],Z=[1,86],$=[1,87],ee=[10,13,15,17,21,23,24,28,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88],te={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,expression_group:6,delimited_expression:7,level:8,radical:9,LEVEL:10,basic_token:11,bracketed_expression:12,RADICAL_WITH_INDEX:13,CLOSE_RADICAL:14,RADICAL:15,frac:16,OPEN_FRAC:17,OVER:18,CLOSE_FRAC:19,simple_frac:20,NUMBER:21,NUMBER_FRAC_DENOMINATOR:22,NUMBER_FRAC_NUMERATOR_BAD:23,NUMBER_FRAC_DENOMINATOR_BAD:24,atom:25,lbracket:26,rbracket:27,OPEN_GROUP:28,CLOSE_GROUP:29,command:30,greek:31,letter:32,comma:33,period:34,colon:35,infinity:36,integral:37,factorial:38,ampersand:39,question_mark:40,bracket:41,space:42,operation:43,comparison:44,ellipsis:45,primes:46,",":47,".":48,"[":49,"{":50,"(":51,"]":52,"}":53,")":54,SPACE:55,COMMAND:56,GREEK:57,CAPITAL_LETTER:58,LETTER:59,PIPE:60,DOUBLE_PIPE:61,"+":62,"-":63,CDOT:64,TIMES:65,"*":66,DIV:67,SLASH:68,PERCENT:69,TO:70,"=":71,NEQ:72,"<":73,">":74,LEQ:75,APPROX:76,GEQ:77,TILDE:78,PARALLEL:79,PERPENDICULAR:80,ELLIPSIS:81,COLON:82,INFINITY:83,INTEGRAL:84,FACTORIAL:85,"&":86,PRIMES:87,"?":88,unknown:89,UNKNOWN:90,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"LEVEL",13:"RADICAL_WITH_INDEX",14:"CLOSE_RADICAL",15:"RADICAL",17:"OPEN_FRAC",18:"OVER",19:"CLOSE_FRAC",21:"NUMBER",22:"NUMBER_FRAC_DENOMINATOR",23:"NUMBER_FRAC_NUMERATOR_BAD",24:"NUMBER_FRAC_DENOMINATOR_BAD",28:"OPEN_GROUP",29:"CLOSE_GROUP",47:",",48:".",49:"[",50:"{",51:"(",52:"]",53:"}",54:")",55:"SPACE",56:"COMMAND",57:"GREEK",58:"CAPITAL_LETTER",59:"LETTER",60:"PIPE",61:"DOUBLE_PIPE",62:"+",63:"-",64:"CDOT",65:"TIMES",66:"*",67:"DIV",68:"SLASH",69:"PERCENT",70:"TO",71:"=",72:"NEQ",73:"<",74:">",75:"LEQ",76:"APPROX",77:"GEQ",78:"TILDE",79:"PARALLEL",80:"PERPENDICULAR",81:"ELLIPSIS",82:"COLON",83:"INFINITY",84:"INTEGRAL",85:"FACTORIAL",86:"&",87:"PRIMES",88:"?",90:"UNKNOWN"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[7,1],[7,1],[8,2],[8,2],[8,2],[9,4],[9,3],[9,3],[9,2],[9,4],[9,3],[9,2],[16,5],[16,4],[16,4],[16,3],[16,2],[20,2],[20,1],[20,1],[11,1],[11,1],[11,1],[6,2],[6,2],[6,1],[6,1],[12,3],[12,2],[12,3],[12,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[33,1],[34,1],[26,1],[26,1],[26,1],[27,1],[27,1],[27,1],[42,1],[30,1],[31,1],[32,1],[32,1],[41,1],[41,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[45,1],[35,1],[36,1],[37,1],[38,1],[39,1],[46,1],[40,1],[89,1]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:return r.group();case 3:case 35:this.$=r.group(o[s-2],o[s-1],o[s]);break;case 4:case 6:case 31:case 32:case 36:this.$=r.group(o[s-1],o[s]);break;case 5:case 7:case 33:case 34:this.$=r.group(o[s]);break;case 10:case 11:case 12:this.$=r.basic_level(o[s-1],r.group(o[s]));break;case 13:case 17:this.$=r.radical(o[s-1],r.group(o[s-2]));break;case 14:case 15:this.$=r.radical(r.group(),r.group(o[s-1]));break;case 16:this.$=r.radical(r.group(),r.group());break;case 18:this.$=r.radical(o[s-1]);break;case 19:this.$=r.radical(r.group());break;case 20:this.$=r.fraction(o[s-3],o[s-1]);break;case 21:this.$=r.fraction(o[s-2],r.group());break;case 22:this.$=r.fraction(r.group(),o[s-1]);break;case 23:case 24:this.$=r.fraction(r.group(),r.group());break;case 25:this.$=r.fraction(r.group(r.terminal(r.to_number(o[s-1]))),r.group(r.terminal(r.to_number(o[s]))));break;case 26:this.$=r.fraction(r.group(r.terminal(r.to_number(o[s]))),r.group());break;case 27:this.$=r.fraction(r.group(),r.group(r.terminal(r.to_number(o[$01]))));break;case 37:this.$=r.group(o[s-1]);break;case 38:this.$=r.group();break;case 39:this.$=r.terminal(r.to_number(o[s]));break;case 57:this.$=r.terminal(",");break;case 58:this.$=r.terminal(".");break;case 59:this.$=r.terminal("[");break;case 60:this.$=r.terminal("\\{");break;case 61:this.$=r.terminal("(");break;case 62:this.$=r.terminal("]");break;case 63:this.$=r.terminal("\\}");break;case 64:this.$=r.terminal(")");break;case 65:this.$=r.terminal(" ");break;case 66:this.$=r.command("\\"+o[s].trim().toLowerCase());break;case 67:this.$=r.terminal(r.greek(o[s]));break;case 68:this.$=r.terminal(o[s].toUpperCase());break;case 69:this.$=r.terminal(o[s].toLowerCase());break;case 70:this.$=r.terminal("|");break;case 71:this.$=r.terminal("\\|");break;case 72:this.$=r.terminal("+");break;case 73:this.$=r.terminal("-");break;case 74:this.$=r.terminal("\\cdot ");break;case 75:this.$=r.terminal("\\times ");break;case 76:this.$=r.terminal("*");break;case 77:this.$=r.terminal("\\div ");break;case 78:this.$=r.terminal("/");break;case 79:this.$=r.terminal("\\%");break;case 80:this.$=r.terminal("\\to ");break;case 81:this.$=r.terminal("=");break;case 82:this.$=r.terminal("\\neq ");break;case 83:this.$=r.terminal("<");break;case 84:this.$=r.terminal(">");break;case 85:this.$=r.terminal("\\leq ");break;case 86:this.$=r.terminal("\\approx ");break;case 87:this.$=r.terminal("\\geq ");break;case 88:this.$=r.terminal("\\sim ");break;case 89:this.$=r.terminal("\\parallel ");break;case 90:this.$=r.terminal("\\perp ");break;case 91:this.$=r.terminal("\\ldots ");break;case 92:this.$=r.terminal(":");break;case 93:this.$=r.terminal("\\infty ");break;case 94:this.$=r.terminal("\\int ");break;case 95:this.$=r.terminal("!");break;case 96:this.$=r.terminal("\\&");break;case 97:this.$=r.primes(o[s]);break;case 98:this.$=r.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},{1:[3]},{5:[1,78]},{1:[2,2]},e(K,[2,5],{8:8,9:9,7:79,10:t,13:n,15:r}),e(K,[2,7],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:80,10:t,13:n,15:r,17:i,21:o,23:a,24:s,28:c,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H}),e(W,[2,33],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:81,17:i,21:o,23:a,24:s,28:c,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H}),e(W,[2,34],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:82,17:i,21:o,23:a,24:s,28:c,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H}),e(J,[2,8]),e(J,[2,9]),e(J,[2,28]),e(J,[2,29]),e(J,[2,30]),{4:83,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,27:84,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,52:X,53:Z,54:$,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},{4:88,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:c,29:[1,89],30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},{9:92,11:90,12:91,13:n,15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},{11:93,12:94,14:[1,95],16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},{4:96,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,14:[1,97],15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},e(J,[2,39],{22:[1,98]}),e(J,[2,40]),e(J,[2,41]),e(J,[2,42]),e(J,[2,43]),e(J,[2,44]),e(J,[2,45]),e(J,[2,46]),e(J,[2,47]),e(J,[2,48]),e(J,[2,49]),e(J,[2,50]),e(J,[2,51]),e(J,[2,52]),e(J,[2,53]),e(J,[2,54]),e(J,[2,55]),e(J,[2,56]),{4:99,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,18:[1,100],19:[1,101],20:12,21:o,23:a,24:s,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},e(J,[2,26]),e(J,[2,27]),e(ee,[2,59]),e(ee,[2,60]),e(ee,[2,61]),e(J,[2,66]),e(J,[2,67]),e(J,[2,68]),e(J,[2,69]),e(J,[2,57]),e(J,[2,58]),e(J,[2,92]),e(J,[2,93]),e(J,[2,94]),e(J,[2,95]),e(J,[2,96]),e(J,[2,98]),e(J,[2,70]),e(J,[2,71]),e(J,[2,65]),e(J,[2,72]),e(J,[2,73]),e(J,[2,74]),e(J,[2,75]),e(J,[2,76]),e(J,[2,77]),e(J,[2,78]),e(J,[2,79]),e(J,[2,80]),e(J,[2,81]),e(J,[2,82]),e(J,[2,83]),e(J,[2,84]),e(J,[2,85]),e(J,[2,86]),e(J,[2,87]),e(J,[2,88]),e(J,[2,89]),e(J,[2,90]),e(J,[2,91]),e(J,[2,97]),{1:[2,1]},e(K,[2,4],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:102,10:t,13:n,15:r,17:i,21:o,23:a,24:s,28:c,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H}),e(K,[2,6]),e(W,[2,31]),e(W,[2,32]),{27:103,52:X,53:Z,54:$},e(J,[2,36]),e(J,[2,62]),e(J,[2,63]),e(J,[2,64]),{29:[1,104]},e(J,[2,38]),e(J,[2,10]),e(J,[2,11]),e(J,[2,12]),{4:105,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,14:[1,106],15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},{4:108,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,14:[1,107],15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},e(J,[2,16]),{14:[1,109]},e(J,[2,19]),e(J,[2,25]),{18:[1,110]},{4:111,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,19:[1,112],20:12,21:o,23:a,24:s,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},e(J,[2,24]),e(K,[2,3]),e(J,[2,35]),e(J,[2,37]),{14:[1,113]},e(J,[2,15]),e(J,[2,14]),{14:[1,114]},e(J,[2,18]),{4:115,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,19:[1,116],20:12,21:o,23:a,24:s,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:l,48:d,49:u,50:p,51:g,55:h,56:f,57:m,58:y,59:b,60:v,61:x,62:w,63:A,64:E,65:k,66:I,67:S,68:M,69:C,70:D,71:T,72:L,73:_,74:O,75:B,76:P,77:F,78:N,79:q,80:R,81:z,82:U,83:j,84:Q,85:G,86:V,87:Y,88:H},{19:[1,117]},e(J,[2,23]),e(J,[2,13]),e(J,[2,17]),{19:[1,118]},e(J,[2,21]),e(J,[2,22]),e(J,[2,20])],defaultActions:{3:[2,2],78:[2,1]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,c=0,l=0,d=i.slice.call(arguments,1),u=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);u.setInput(e,p.yy),p.yy.lexer=u,p.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var h=u.yylloc;i.push(h);var f=u.options&&u.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,y,b,v,x,w,A,E,k,I=function(){var e;return"number"!=typeof(e=u.lex()||1)&&(e=t.symbols_[e]||e),e},S={};;){if(b=n[n.length-1],this.defaultActions[b]?v=this.defaultActions[b]:(null==m&&(m=I()),v=o[b]&&o[b][m]),void 0===v||!v.length||!v[0]){var M;for(w in k=[],o[b])this.terminals_[w]&&w>2&&k.push("'"+this.terminals_[w]+"'");M=u.showPosition?"Parse error on line "+(s+1)+":\n"+u.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:u.match,token:this.terminals_[m]||m,line:u.yylineno,loc:h,expected:k})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+m);switch(v[0]){case 1:n.push(m),r.push(u.yytext),i.push(u.yylloc),n.push(v[1]),m=null,y?(m=y,y=null):(c=u.yyleng,a=u.yytext,s=u.yylineno,h=u.yylloc,l>0&&l--);break;case 2:if(A=this.productions_[v[1]][1],S.$=r[r.length-A],S._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},f&&(S._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),void 0!==(x=this.performAction.apply(S,[a,c,s,p.yy,v[1],r,i].concat(d))))return x;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[v[1]][0]),r.push(S.$),i.push(S._$),E=o[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}},ne={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return void this.begin("captext");case 1:return 58;case 2:return this.popState(),58;case 3:return 62;case 4:return 63;case 5:return 64;case 6:return 65;case 7:return 66;case 8:return 67;case 9:return 49;case 10:return 50;case 11:return 51;case 12:return 52;case 13:return 53;case 14:return 54;case 15:return 72;case 16:return 75;case 17:return 76;case 18:return 77;case 19:return 71;case 20:return 73;case 21:return 74;case 22:return 78;case 23:return 69;case 24:return 70;case 25:return 81;case 26:return 13;case 27:return 15;case 28:return 14;case 29:return 10;case 30:return 28;case 31:return 29;case 32:return 84;case 33:return 85;case 34:return 86;case 35:return 17;case 36:return 18;case 37:return 19;case 38:return 79;case 39:return 80;case 40:return 83;case 41:return t.yytext=this.matches[1],21;case 42:return t.yytext=this.matches[1],22;case 43:return t.yytext=this.matches[1],24;case 44:return 68;case 45:return 47;case 46:return 48;case 47:return 87;case 48:return 61;case 49:return 60;case 50:return 82;case 51:case 52:return 56;case 53:return 57;case 54:return t.yytext=this.matches[1],58;case 55:return 59;case 56:case 58:return;case 57:return 88;case 59:return 55;case 60:return 5;case 61:return 90}},rules:[/^(?:([,][,])(?=[A-Z]))/,/^(?:[A-Z](?=[A-Z]))/,/^(?:[A-Z])/,/^(?:["][6])/,/^(?:["][-])/,/^(?:["][4])/,/^(?:["][8])/,/^(?:["][9])/,/^(?:["][/])/,/^(?:[.][<])/,/^(?:[_][<])/,/^(?:["][<])/,/^(?:[.][>])/,/^(?:[_][>])/,/^(?:["][>])/,/^(?:["][7][@][:])/,/^(?:[_][@][<])/,/^(?:[\^][9])/,/^(?:[_][@][>])/,/^(?:["][7])/,/^(?:[@][<])/,/^(?:[@][>])/,/^(?:[@][9])/,/^(?:[.][0])/,/^(?:[:][O])/,/^(?:[4][4][4])/,/^(?:[%][9])/,/^(?:[%])/,/^(?:[\+])/,/^(?:[95]+(?=.))/,/^(?:[<])/,/^(?:[>])/,/^(?:!)/,/^(?:[6])/,/^(?:[@]&)/,/^(?:[(])/,/^(?:[.][/])/,/^(?:[)])/,/^(?:#[L])/,/^(?:#-)/,/^(?:#=)/,/^(?:#([A-J4]+))/,/^(?:[/]([A-J4]+))/,/^(?:[#][/]([A-J4]+))/,/^(?:[_]?[/])/,/^(?:[1])/,/^(?:[4])/,/^(?:[7]+)/,/^(?:[_][\\][_][\\])/,/^(?:[_][\\])/,/^(?:[3])/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:[,]?[.][ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,]['])/,/^(?:[8])/,/^(?:[;])/,/^(?:[ ])/,/^(?:$)/,/^(?:.)/],conditions:{captext:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61],inclusive:!0},INITIAL:{rules:[0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61],inclusive:!0}}};function re(){this.yy={}}return te.lexer=ne,re.prototype=te,te.Parser=re,new re}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var i=n(4).readFileSync(n(5).normalize(r[1]),"utf8");return t.parser.parse(i)},void 0!==r&&n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(t,n(1),n(8)(e))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(7),o={"~":"\\ ","\\,":"\\ ","\\:":"\\ ","\\;":"\\ ","\\!":"\\ "},a={"\\Vert":"\\|","\\ge":"\\geq","\\le":"\\leq","\\vert":"|"},s={"\\space":!0};function c(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];t.push(i.terminal(o))}return t}function l(e){for(var t=0,n=0;n<Math.min(3,e.length);n++){var r=e[n];"terminal"===r.type&&"."===r.value&&t++}return 3===t}t.default=function e(t){for(var n=[],d=0;d<t.length;d++){var u=t[d];switch(u.type){case"command":var p=u.value.slice(1).trim();a.hasOwnProperty(u.value)?n.push(i.command(a[u.value])):r.containsValue(p)?n.push(i.typeform("operator_name",c(p))):s[u.value]||n.push(u);break;case"level":var g={subscript:u.subscript&&u.subscript.length>0?e(u.subscript):void 0,superscript:u.superscript&&u.superscript.length>0?e(u.superscript):void 0,type:u.type};(g.subscript||g.superscript)&&n.push(g);break;case"fraction":n.push({denominator:e(u.denominator),numerator:e(u.numerator),type:u.type});break;case"radical":n.push({index:u.index?e(u.index):void 0,radicand:e(u.radicand),type:u.type});break;case"terminal":l(t.slice(d))?(n.push({type:"command",value:"\\ldots"}),d+=2):n.push({type:u.type,value:o.hasOwnProperty(u.value)?o[u.value]:u.value});break;case"typeform":n.push(u);break;case"greek":n.push({type:u.type,value:o.hasOwnProperty(u.value)?o[u.value]:u.value});break;default:throw new Error("Unexpected item:\n"+JSON.stringify({group:t,item:u}))}}return n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(13),o=n(7);i.parser.yy=o,t.default=function(e){try{return{isError:!1,value:i.parser.parse(e)}}catch(e){return{isError:!0,error:r.default(e)}}}},function(e,t,n){(function(e,r){var i=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,13],n=[1,14],r=[1,15],i=[1,16],o=[1,17],a=[1,21],s=[1,18],c=[1,19],l=[1,20],d=[1,22],u=[1,23],p=[1,28],g=[1,30],h=[1,31],f=[1,32],m=[1,33],y=[1,29],b=[5,21,27,38],v=[5,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],x=[5,10,12,13,14,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],w=[5,10,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],A={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,level:6,expression:7,subscript:8,superscript:9,_:10,atom:11,"^":12,"PRIMES^":13,PRIMES:14,delimited_group:15,typeform:16,frac:17,radical:18,LEFT:19,delimiter:20,RIGHT:21,FRAC:22,OPERATOR_NAME:23,MATHRM:24,TEXT:25,RADICAL_OPTARG:26,CLOSE_OPTARG:27,RADICAL:28,curly_group:29,greek:30,command:31,SYMBOL:32,DELIMITER:33,DELIMITER_COMMAND:34,GREEK:35,COMMAND:36,"{":37,"}":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"_",12:"^",13:"PRIMES^",14:"PRIMES",19:"LEFT",21:"RIGHT",22:"FRAC",23:"OPERATOR_NAME",24:"MATHRM",25:"TEXT",26:"RADICAL_OPTARG",27:"CLOSE_OPTARG",28:"RADICAL",32:"SYMBOL",33:"DELIMITER",34:"DELIMITER_COMMAND",35:"GREEK",36:"COMMAND",37:"{",38:"}"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[6,2],[6,2],[6,1],[6,1],[8,2],[9,2],[9,2],[9,1],[7,1],[7,1],[7,1],[7,1],[7,1],[15,5],[15,4],[17,3],[16,2],[16,2],[16,2],[18,4],[18,3],[18,2],[18,2],[11,1],[11,1],[11,1],[11,1],[11,1],[20,1],[20,1],[30,1],[31,1],[29,3],[29,2]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:return r.group();case 3:this.$=r.group(o[s-2],o[s-1],o[s]);break;case 4:case 6:this.$=r.group(o[s-1],o[s]);break;case 5:case 7:this.$=r.group(o[s]);break;case 8:this.$=r.level({_:r.group(o[s-1]),"^":r.group(o[s])});break;case 9:this.$=r.level({_:r.group(o[s]),"^":r.group(o[s-1])});break;case 10:this.$=r.level({"^":r.group(o[s])});break;case 11:this.$=r.level({_:r.group(o[s])});break;case 12:case 13:this.$=o[s];break;case 14:this.$=r.processPrimes(o[s-1],o[s]);break;case 15:this.$=r.processPrimes(o[s],r.group());break;case 21:this.$=r.group(o[s-3],o[s-2],o[s]);break;case 22:this.$=r.group(o[s-2],o[s]);break;case 23:this.$=r.fraction(r.group(o[s-1]),r.group(o[s]));break;case 24:this.$=r.typeform("operator_name",r.group(o[s]));break;case 25:this.$=r.typeform("mathrm",r.group(o[s]));break;case 26:this.$=r.typeform("text",r.group(o[s]));break;case 27:this.$=r.radical(o[s],r.group(o[s-2]));break;case 28:this.$=r.radical(r.group(o[s]),r.group());break;case 29:case 30:this.$=r.radical(r.group(o[s]));break;case 35:case 36:this.$=r.terminal(o[s]);break;case 37:case 39:this.$=r.command(o[s]);break;case 38:this.$=r.greek(o[s]);break;case 40:this.$=o[s-1];break;case 41:this.$=r.group()}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:t,11:12,12:n,13:r,14:i,15:8,16:9,17:10,18:11,19:o,20:25,22:a,23:s,24:c,25:l,26:d,28:u,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},{1:[3]},{5:[1,34]},{1:[2,2]},e(b,[2,5],{15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,7:35,19:o,22:a,23:s,24:c,25:l,26:d,28:u,32:p,33:g,34:h,35:f,36:m,37:y}),e(b,[2,7],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,4:36,10:t,12:n,13:r,14:i,19:o,22:a,23:s,24:c,25:l,26:d,28:u,32:p,33:g,34:h,35:f,36:m,37:y}),e(v,[2,11],{9:37,12:n,13:r,14:i}),e(v,[2,10],{8:38,10:t}),e(x,[2,16]),e(x,[2,17]),e(x,[2,18]),e(x,[2,19]),e(x,[2,20]),{11:39,20:25,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},{11:40,20:25,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},{11:41,20:25,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},e(w,[2,15]),{20:42,33:g,34:h},{11:43,20:25,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},{11:44,20:25,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},{11:45,20:25,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},{11:46,20:25,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},{4:47,6:4,7:5,8:6,9:7,10:t,11:12,12:n,13:r,14:i,15:8,16:9,17:10,18:11,19:o,20:25,22:a,23:s,24:c,25:l,26:d,27:[1,48],28:u,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},{11:49,17:50,20:25,22:a,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},e(x,[2,31]),e(x,[2,32]),e(x,[2,33]),e(x,[2,34]),e(x,[2,35]),{4:51,6:4,7:5,8:6,9:7,10:t,11:12,12:n,13:r,14:i,15:8,16:9,17:10,18:11,19:o,20:25,22:a,23:s,24:c,25:l,26:d,28:u,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y,38:[1,52]},e(x,[2,36]),e(x,[2,37]),e(x,[2,38]),e(x,[2,39]),{1:[2,1]},e(b,[2,4],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,4:53,10:t,12:n,13:r,14:i,19:o,22:a,23:s,24:c,25:l,26:d,28:u,32:p,33:g,34:h,35:f,36:m,37:y}),e(b,[2,6]),e(v,[2,8]),e(v,[2,9]),e([5,12,13,14,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],[2,12]),e(w,[2,13]),e(w,[2,14]),{4:54,6:4,7:5,8:6,9:7,10:t,11:12,12:n,13:r,14:i,15:8,16:9,17:10,18:11,19:o,20:25,21:[1,55],22:a,23:s,24:c,25:l,26:d,28:u,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},e(x,[2,24]),e(x,[2,25]),e(x,[2,26]),{11:56,20:25,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},{27:[1,57]},{11:58,20:25,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},e(x,[2,29]),e(x,[2,30]),{38:[1,59]},e(x,[2,41]),e(b,[2,3]),{21:[1,60]},{20:61,33:g,34:h},e(x,[2,23]),{11:62,20:25,29:24,30:26,31:27,32:p,33:g,34:h,35:f,36:m,37:y},e(x,[2,28]),e(x,[2,40]),{20:63,33:g,34:h},e(x,[2,22]),e(x,[2,27]),e(x,[2,21])],defaultActions:{3:[2,2],34:[2,1]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,c=0,l=0,d=i.slice.call(arguments,1),u=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);u.setInput(e,p.yy),p.yy.lexer=u,p.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var h=u.yylloc;i.push(h);var f=u.options&&u.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,y,b,v,x,w,A,E,k,I=function(){var e;return"number"!=typeof(e=u.lex()||1)&&(e=t.symbols_[e]||e),e},S={};;){if(b=n[n.length-1],this.defaultActions[b]?v=this.defaultActions[b]:(null==m&&(m=I()),v=o[b]&&o[b][m]),void 0===v||!v.length||!v[0]){var M;for(w in k=[],o[b])this.terminals_[w]&&w>2&&k.push("'"+this.terminals_[w]+"'");M=u.showPosition?"Parse error on line "+(s+1)+":\n"+u.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:u.match,token:this.terminals_[m]||m,line:u.yylineno,loc:h,expected:k})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+m);switch(v[0]){case 1:n.push(m),r.push(u.yytext),i.push(u.yylloc),n.push(v[1]),m=null,y?(m=y,y=null):(c=u.yyleng,a=u.yytext,s=u.yylineno,h=u.yylloc,l>0&&l--);break;case 2:if(A=this.productions_[v[1]][1],S.$=r[r.length-A],S._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},f&&(S._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),void 0!==(x=this.performAction.apply(S,[a,c,s,p.yy,v[1],r,i].concat(d))))return x;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[v[1]][0]),r.push(S.$),i.push(S._$),E=o[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}},E={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return this.begin("optarg"),26;case 2:return this.popState(),27;case 3:return 23;case 4:return 24;case 5:return 25;case 6:return 28;case 7:return 22;case 8:return 13;case 9:return 14;case 10:return 12;case 11:return 10;case 12:return 19;case 13:return 21;case 14:return 34;case 15:return 33;case 16:return 37;case 17:return 38;case 18:case 19:case 20:case 24:return 32;case 21:case 22:return 35;case 23:return 36;case 25:return 5}},rules:[/^(?:\s+)/,/^(?:(\\sqrt)\s*\[)/,/^(?:\])/,/^(?:(\\operatorname))/,/^(?:(\\mathrm))/,/^(?:(\\text))/,/^(?:(\\sqrt))/,/^(?:(\\frac))/,/^(?:'+\^)/,/^(?:'+)/,/^(?:\^)/,/^(?:[_])/,/^(?:(\\left))/,/^(?:(\\right))/,/^(?:(\\langle|\\rangle|\\vert|\\Vert))/,/^(?:\[|\]|\\\{|\\\}|\(|\)|\||\\\|)/,/^(?:\{)/,/^(?:\})/,/^(?:\\(infty))/,/^(?:\\(int))/,/^(?:!)/,/^(?:\\(alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|omicron|pi|rho|sigma|tau|xi|upsilon|phi|chi|psi|omega))/,/^(?:\\(Alpha|Beta|Gamma|Delta|Epsilon|Zeta|Eta|Theta|Iota|Kappa|Lambda|Mu|Nu|Omicron|Pi|Rho|Sigma|Tau|Xi|Upsilon|Phi|Chi|Psi|Omega))/,/^(?:\\[A-Za-z]+)/,/^(?:\\.|.)/,/^(?:$)/],conditions:{optarg:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0}}};function k(){this.yy={}}return A.lexer=E,k.prototype=A,A.Parser=k,new k}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var i=n(4).readFileSync(n(5).normalize(r[1]),"utf8");return t.parser.parse(i)},void 0!==r&&n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(t,n(1),n(8)(e))},function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(12),a=n(0);t.default=function(e){return a.map(o.default(e),(function(e){return function(e){return f({isStartOfLine:!0,levelIndicator:"",radicalLevel:0,wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1},e).value}(i.default(e))}))};var s={"!":"&","*":"@#",",":", ","/":"_/",":":"_3","<":' "K ',"=":" .K ",">":" .1 ","?":"_8","[":"@(","\\ ":" ","\\%":"@0","\\&":"_&","\\,":" ","\\infty":",=","\\int":"!","\\{":".(","\\|":"\\\\","\\}":".)","]":"@)","|":"\\"};function c(e){return/^[a-z]$/.test(e.value)?e.value.toUpperCase():/^[A-Z]$/.test(e.value)?","+e.value:/^[0-9.]$/.test(e.value)||/^[+\-()]$/.test(e.value)?e.value:s.hasOwnProperty(e.value)?s[e.value]:"[terminal: "+e.value+"]"}var l={"\\Vert":"\\\\","\\cdot":"*","\\div":"./","\\ge":" .1: ","\\geq":" .1: ","\\langle":"..(","\\ldots":" ''' ","\\le":' "K: ',"\\leq":' "K: ',"\\ne":" /.K ","\\neq":" /.K ","\\approx":" @:@: ","\\nparallel":" /$L ","\\parallel":" $L ","\\perp":" $P ","\\prime":"'","\\prod":".,P","\\rangle":"..)","\\sim":"@:","\\sum":".,S","\\times":"@*","\\to":" $O ","\\vert":"\\"},d={"\\Alpha":".,A","\\Beta":".,B","\\Chi":".,&","\\Delta":".,D","\\Epsilon":".,E","\\Eta":".,:","\\Gamma":".,G","\\Iota":".,I","\\Kappa":".,K","\\Lambda":".,L","\\Mu":".,M","\\Nu":".,N","\\Omega":".,W","\\Omicron":".,O","\\Phi":".,F","\\Pi":".,P","\\Psi":".,Y","\\Rho":".,R","\\Sigma":".,S","\\Tau":".,T","\\Theta":".,?","\\Upsilon":".,U","\\Xi":".,X","\\Zeta":".,Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"};function u(e){return l.hasOwnProperty(e.value)?l[e.value]:e.value.slice(1).toUpperCase()+" "}function p(e,t){return e.isStartOfLine&&/^-?$/.test(t)||/\s-?$/.test(t)||e.wasFraction}function g(e){return"\\sum"===e.value||"\\prod"===e.value}function h(e,t){if(t>=e.length)return!1;var n=e[t];if("terminal"===n.type){if(/^[0-9]$/.test(n.value))return!0;if("."!==n.value)return!1;if(t+1>=e.length)return!1;if("terminal"===(n=e[t+1]).type)return/^[0-9]$/.test(n.value)}return!1}function f(e,t){for(var n,r="",i=e.levelIndicator,o=0,a=!1,s=0;s<t.length;s++){h(t,s)&&(""===i&&/[A-Z]$/.test(r)?r+=v(i):p(e,r)&&(r+="#"));var l=t[s],A=s<t.length-1?t[s+1]:null;switch("level"!==l.type&&i!==e.levelIndicator&&(w(l)?i="":(e.wasModifiedExpression&&""===e.levelIndicator?e=x(e,{wasModifiedExpression:!1}):r+=v(e.levelIndicator),i=e.levelIndicator)),l.type){case"terminal":!e.wasModifiedExpression&&""!==i&&w(l)?r+=" "+v(i)+c(l).trim()+" ":r+=c(l),"."===l.value&&A&&("terminal"===A.type&&/^[^_\d,]/.test(c(A))||"greek"===A.type)&&(r+='"'),e=x(e,{wasFraction:!1,wasRomanCommand:!1});break;case"command":if("\\space"!==l.value){var E=g(l);E&&(r+='"'),!E&&""!==i&&w(l)?r+=" "+v(i)+u(l).trim()+" ":r+=u(l),e=x(e,{wasFraction:!1,wasModifiedExpression:E,wasRomanCommand:!0})}break;case"greek":r+=(n=l,d.hasOwnProperty(n.value)?d[n.value]:n.value.slice(1).toUpperCase()+" "),e=x(e,{wasFraction:!1});break;case"fraction":var k=m(e,l);r+=k.value,o=Math.max(o,k.fractionLevel),e=x(e,{wasFraction:!0,wasRomanCommand:!1});break;case"radical":var I=y(e,l);r+=I.value,o=Math.max(o,I.fractionLevel),e=x(e,{wasFraction:!1,wasRomanCommand:!1});break;case"level":!e.wasModifiedExpression&&e.wasRomanCommand?(a=/\s$/.test(r))&&(r=r.replace(/\s$/,"")):a=!1;var S=b(e,r.length>0&&!0===/[A-Za-z]/.test(r[r.length-1]),a,l);r+=S.value,i=S.levelIndicator,e=x(e,{wasFraction:!1,wasRomanCommand:!1});break;case"typeform":r+=f(e,l.value).value,"operator_name"===l.name&&(r+=" "),e=x(e,{wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1})}}return{fractionLevel:o,levelIndicator:i,value:r}}function m(e,t){for(var n=f(e=x(e,{isStartOfLine:!1}),t.numerator),r=f(e,t.denominator),i=Math.max(n.fractionLevel,r.fractionLevel),o="",a=0;a<i;a++)o+=",";var s=o+"?"+n.value;return n.levelIndicator!==e.levelIndicator&&(s+=v(e.levelIndicator)),/\.$/.test(n.value)&&(s+='"'),s+=o+"/"+r.value,r.levelIndicator!==e.levelIndicator&&(s+=v(e.levelIndicator)),/\.$/.test(r.value)&&(s+='"'),{fractionLevel:i+1,value:s+=o+"#"}}function y(e,t){for(var n=e.radicalLevel,r="",i="",o=0;o<n;o++)i+=".";if(t.index){r+=i+"<";var a=f(x(e,{isStartOfLine:!1}),t.index);r+=a.value,/\.$/.test(a.value)&&(r+='"'),a.levelIndicator!==e.levelIndicator&&(r+=v(e.levelIndicator)),r+=">"}else r+=i+">";var s=f(x(e,{isStartOfLine:!1,radicalLevel:n+1}),t.radicand);return r+=s.value,/\.$/.test(s.value)&&(r+='"'),s.levelIndicator!==e.levelIndicator&&(r+=v(e.levelIndicator)),r+=i+"]",{fractionLevel:s.fractionLevel,value:r}}function b(e,t,n,r){var i=e.levelIndicator,o="",a=function(e){var t="";if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if("command"!==i.type||"\\prime"!==i.value)break;t+="'"}return t}(r.superscript);if(o+=a,r.subscript){e.wasModifiedExpression&&(o+="%");var s=f(x(e,{isStartOfLine:!1,levelIndicator:i=e.levelIndicator+";"}),r.subscript);t&&/^[0-9]*(\.|\,)?[0-9]+$/.test(s.value)&&i.length<=1?i=e.levelIndicator:!e.wasModifiedExpression&&r.subscript[0]&&"level"!==r.subscript[0].type&&(o+=v(i)),o+=s.value,/\.$/.test(s.value)&&(o+='"')}if(r.superscript){e.wasModifiedExpression&&(o+="<");var c=f(x(e,{isStartOfLine:!1,levelIndicator:i=e.levelIndicator+"^"}),r.superscript.slice(a.length));!e.wasModifiedExpression&&r.superscript[0]&&"level"!==r.superscript[0].type&&""!==c.value&&(o+=v(i)),o+=c.value,/\.$/.test(c.value)&&(o+='"')}return e.wasModifiedExpression?o+="]":e.wasRomanCommand&&n&&(o+=" ",i=i.slice(0,i.length-1)),{levelIndicator:i,value:o}}function v(e){return e||'"'}function x(e,t){return r(r({},e),t)}function w(e){return("terminal"===e.type||"command"===e.type)&&/^<|>|\=|\\leq?|\\geq?|\\neq?$/.test(e.value)}},function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=n(11),a=n(12),s=n(0);t.default=function(e){return s.map(a.default(e),(function(e){return function(e){return h({capsLock:!1,wasNumber:!1},e).value}(o.default(e))}))};var c={"!":"6","(":'"<',")":'">',"*":'"9',"+":'"6',",":"1","-":'"-',".":"4","/":"_/",":":"3","<":"@<","=":'"7',">":"@>","?":"8","[":".<","\\ ":" ","\\%":".0","\\&":"@&","\\,":" ","\\infty":"#=","\\int":"!","\\{":"_<","\\|":"_\\_\\","\\}":"_>","]":".>","|":"_\\"};function l(e,t,n){var r="",i=t.value,o=n&&"terminal"===n.type?n.value:"";return f(i,e)&&(r+=";"),/^[\D]/.test(i)&&(e=A(e,{wasNumber:!1})),/^[a-z]$/.test(i)?e.capsLock?(e=A(e,{capsLock:!1}),r+=",'"+i.toUpperCase()):r+=i.toUpperCase():/^[A-Z]$/.test(i)?e.capsLock?r+=i:/[A-Z]/.test(o)?(e=A(e,{capsLock:!0}),r+=",,"+i):r+=","+i:(e=A(e,{capsLock:!1}),/^[0-9.]$/.test(i)?r+=function(e){for(var t="",n="A".charCodeAt(0)-1,r=0,i=e;r<i.length;r++){var o=i[r];t+=","===o?"1":"."===o?"4":"0"===o?"J":String.fromCharCode(n+Number(o))}return t}(i):c.hasOwnProperty(i)?r+=c[i]:r+="[terminal: "+i+"]"),{value:r,ctx:e}}var d={"\\Vert":"_\\_\\","\\cdot":'"4',"\\div":'"/',"\\ge":"_@>","\\geq":"_@>","\\langle":"@<","\\ldots":"444","\\le":"_@<","\\leq":"_@<","\\ne":'"7@:',"\\neq":'"7@:',"\\approx":"^9","\\parallel":"#L","\\perp":"#-","\\prime":"7","\\prod":",.P","\\rangle":"@>","\\sim":"@9","\\sum":",.S","\\times":'"8',"\\to":":O","\\vert":"_\\"},u={"\\Alpha":",.A","\\Beta":",.B","\\Chi":",.&","\\Delta":",.D","\\Epsilon":",.E","\\Eta":",.:","\\Gamma":",.G","\\Iota":",.I","\\Kappa":",.K","\\Lambda":",.L","\\Mu":",.M","\\Nu":",.N","\\Omega":",.W","\\Omicron":",.O","\\Phi":",.F","\\Pi":",.P","\\Psi":",.Y","\\Rho":",.R","\\Sigma":",.S","\\Tau":",.T","\\Theta":",.?","\\Upsilon":",.U","\\Xi":",.X","\\Zeta":",.Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"};function p(e,t){var n;return f(n=d.hasOwnProperty(e.value)?d[e.value]:e.value.slice(1).toUpperCase()+" ",t)&&(n=";"+n),/^[\D]/.test(n)&&(t=A(t,{wasNumber:!1})),{value:n,ctx:t}}function g(e,t){if(t<e.length){var n=e[t];if("terminal"===n.type){if(/^\d$/.test(n.value))return!0;if("."!==n.value)return!1;if(t+1>=e.length)return!1;if("terminal"===(n=e[t+1]).type)return/^\d$/.test(n.value)}}return!1}function h(e,t){for(var n,r,i,o="",a=!0,s=0;s<t.length;s++){g(t,s)?(e=A(e,{wasNumber:!0}),a&&(o+="#",a=!1)):a=!0;var c=t[s];switch(c.type){case"terminal":e=(n=l(e,c,s<t.length-1?t[s+1]:void 0)).ctx," "===(o+=n.value)[o.length-1]&&(a=!0);break;case"command":"\\space"!==c.value&&(e=(r=p(c,e)).ctx," "===(o+=r.value)[o.length-1]&&(a=!0));break;case"greek":" "===(o+=(i=c,u.hasOwnProperty(i.value)?u[i.value]:i.value.slice(1).toUpperCase()+" "))[o.length-1]&&(a=!0);break;case"fraction":var d=m(e,c);o+=d.value,e=d.ctx,a=!1;break;case"radical":o+=b(e,c).value,a=!0;break;case"level":var f=v(e,c);o+=f.value,e=f.ctx,a=!0;break;case"typeform":var y=h(e,c.value).value;o+=y,/(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?/.test(y)&&(o+=" ")}}return{ctx:e,value:o}}function f(e,t){return t.wasNumber&&/^[A-Ja-j]/.test(e)}function m(e,t){var n,r=h(e,t.numerator),i=h(e,t.denominator);return y(r.value)&&y(i.value)?(e=A(e,{wasNumber:!0}),n=r.value+"/"+i.value.slice(1)):(e=A(e,{wasNumber:!1}),n="("+r.value+"./"+i.value+")"),{ctx:e,value:n}}function y(e){return/^\#[A-J41]+$/.test(e)}function b(e,t){var n="%",r=h(e,t.radicand);if(t.index){var o=h(e,i.group(i.level({"^":t.index})));n+=o.value,/\#[A-J]$/.test(o.value)&&/^[A-J]/.test(r.value)&&(n+=";")}return{ctx:e,value:n+=r.value+"+"}}function v(e,t){var n,r="",i=function(e){var t="";if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if("command"!==i.type||"\\prime"!==i.value)break;t+="7"}return t}(t.superscript);if(r+=i,t.subscript){var o=h(e,t.subscript);n=w(t.subscript,o.value,0)?"<"+x(o.value)+">":o.value,e=A(e,{wasNumber:o.ctx.wasNumber}),""!==n&&(r+="5"+n)}if(t.superscript){var a=h(e,t.superscript.slice(i.length));n=w(t.superscript,a.value,i.length)?"<"+x(a.value)+">":a.value,e=A(e,{wasNumber:a.ctx.wasNumber}),""!==i&&""===n||(r+="9"+n)}return{ctx:e,value:r}}function x(e){return/^;/.test(e)?e.slice(1):e}function w(e,t,n){var r=e[0],i=(t.match(/\</g)||[]).length,o=/^["|\.|_]?\</.test(t),a=(t.match(/\>/g)||[]).length,s=/["|\.|_]?\>$/.test(t);return!y(t)&&e.length-n>1&&0===i&&0===a||i>0&&a>0&&(!o||!s)||i>1||a>1||r&&"typeform"===r.type}function A(e,t){return r(r({},e),t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(18),o=n(0);function a(e,t){for(var n="",i=t,o="",h=!1,f="",m="",y=function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];if(l(i))t.push({direction:s,index:r}),n.push(0);else if(d(i)){for(;t.length&&2===t[t.length-1].direction;)t.pop();t.length?(o=t.pop())&&(n[o.index]=s,n.push(c)):n.push(0)}else if(u(i)){var o;t.length&&2===t[t.length-1].direction?(o=t.pop())&&(n[o.index]=s,n.push(c)):(t.push({direction:2,index:r}),n.push(0))}else n.push(0)}return n}(e),b=0;b<e.length;b++){var v=e[b],x=b+1<e.length?e[b+1]:null;switch(v.type){case"terminal":var w=r.getAutoOperator(e.slice(b));""!==w.value?(n+=w.value,b+=w.terminalCount-1,h=h||w.modified):" "===v.value?(h?(n+=g(i,o=f),i=o):n+="\\ ",h=!1):(y[b]===s?n+="\\left":y[b]===c&&(n+="\\right"),n+=v.value);break;case"comparison":n+=g(i,o=""),i=o,h=!1,n+=v.value;break;case"level_with_comparison":n+=g(i,v.level),i=v.level,h=!1,n+=v.value;break;case"command":var A=v.value.slice(1).trim();x&&"terminal"===x.type&&/[a-z]/.test(x.value)?(n+=A,h=!1):r.containsValue(A)?(n+="\\operatorname{"+A+"}",h=!0):(n+=v.value,h=!0),f=i;break;case"expression":n+=v.value;break;case"fraction":n+=p(v.numerator,v.denominator,i);break;case"modified_expression":n+=a(v.expression,i)+" ",v.under&&(n+="_{"+a(v.under,i)+"}"),v.over&&(n+="^{"+a(v.over,i)+"}");break;case"radical":n+="\\sqrt",v.index&&(n+="["+a(v.index,i)+"]"),n+="{"+a(v.value,i)+"}";break;case"simple_subscript":""===i?(n+=v.base.value+"_{"+v.subscript.value+"}","command"===v.base.type&&(h=!0,f=i)):n+=v.base.value+v.subscript.value;break;case"level":n+=g(i,v.value,m),i=v.value,"^"===v.value&&""!==m&&(m="");break;case"primes":x&&"level"===x.type&&";"===x.value?m=v.value:""!==i?(n+=Array(v.value.length+1).join("\\prime "),m=""):(n+=v.value,m="")}}return(n+=g(i,t)+m).replace(/([^\\])( )$/,"$1")}var s=1,c=-1;function l(e){return"terminal"===e.type&&/^(\\langle |\[|\(|\\{)$/.test(e.value)}function d(e){return"terminal"===e.type&&/^(\\rangle |\]|\)|\\})$/.test(e.value)}function u(e){return"terminal"===e.type&&/^(\\\||\|)$/.test(e.value)}function p(e,t,n){return"\\frac{"+a(e,n)+"}{"+a(t,n)+"}"}function g(e,t,n){var r,i,o,a="",s=Math.max(e.length,t.length);for(r=0;r<s&&e[r]===t[r];r++);for(i=e.length-1;i>=r;i--)a+="}";for(o=r;o<t.length;o++)"^"===t[o]&&(n&&(a+=n),a+="^{"),";"===t[o]&&(a+="_{");return a}function h(e){return a(e,"")}t.default=function(e,t){return t&&t.operatorNames?r.setOperatorNames(t.operatorNames):r.resetOperatorNames(),o.map(i.default(e,t),h)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=function(e){return{type:"terminal",value:e}},t.command=function(e){return{type:"command",value:"\\"+e.trim()+" "}};var r={'"K':"<",'"K:':"\\leq ",$L:"\\parallel ",$O:"\\to ",$P:"\\perp ",".1":">",".1:":"\\geq ",".K":"=","@:@:":"\\approx","/$L":"\\nparallel ","/.K":"\\neq ","=":"=","@:":"\\sim "};function i(e){return{type:"level",value:e}}t.level_with_comparison=function(e){var t=/[\^;]+/.exec(e),n=t?t.toString():"",o=e.slice(i.length);return{type:"level_with_comparison",level:n,value:r[o]}},t.comparison=function(e){return{type:"comparison",value:r[e]}},t.level=i,t.baseline=function(){return i("")},t.primes=function(e){return{type:"primes",value:e}},t.fraction=function(e,t){return{type:"fraction",numerator:e,denominator:t}},t.modified_expression=function(e,t,n){return{type:"modified_expression",expression:e,under:t,over:n}},t.radical=function(e,t){return{type:"radical",value:e,index:t}},t.expression=function(e){return{type:"expression",value:e}},t.simple_subscript=function(e,t){return{type:"simple_subscript",base:e,subscript:t}};var o={".&":"\\chi",".,&":"\\Chi",".,:":"\\Eta",".,?":"\\Theta",".,A":"\\Alpha",".,B":"\\Beta",".,D":"\\Delta",".,E":"\\Epsilon",".,F":"\\Phi",".,G":"\\Gamma",".,I":"\\Iota",".,K":"\\Kappa",".,L":"\\Lambda",".,M":"\\Mu",".,N":"\\Nu",".,O":"\\Omicron",".,P":"\\prod",".,R":"\\Rho",".,S":"\\sum",".,T":"\\Tau",".,U":"\\Upsilon",".,W":"\\Omega",".,X":"\\Xi",".,Y":"\\Psi",".,Z":"\\Zeta",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};t.greek=function(e){if(o.hasOwnProperty(e))return o[e]+" ";throw new Error("Unknown Greek letter")},t.group=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}},function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(9),a=n(17),s=n(20);t.default=function(e,t){t||(t={});var n=o.parser,c=Object.create(n);c.yy=a,c.yy.warnOrError=function(e){c.parseError(e,{recoverable:!1})};var l=Object.create(n);l.yy=r({warnings:[]},a),l.yy.warnOrError=function(e){l.yy.warnings.push(e)},l.lexer=s.default,n=t.strict?c:l;try{return{isError:!1,value:n.parse(e),warnings:n.yy.warnings||[]}}catch(e){return{error:i.default(e),isError:!0}}}},function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(21),a=n(10),s=n(24);t.default=function(e,t){t||(t={});var n=a.parser,c=Object.create(n);c.yy=s;var l=Object.create(n);l.yy=r({warnings:[]},s),l.lexer=o.default,n=t.strict?c:l;try{return{isError:!1,value:n.parse(e),warnings:n.yy.warnings||[]}}catch(e){return{error:i.default(e),isError:!0}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=r.parser.lexer,o=Object.create(i);t.default=o;var a=r.parser.terminals_,s=r.parser.symbols_;o.setInput=function(e,t){this.delimiterStack=[],this.outputQueue=[],this.canAcceptPrimes=!1,i.setInput.call(this,e,t)},o.lex=function(){var e=-1;if(!this)return e;if(this.outputQueue.length)return this.outputQueue.shift();for(var t,n,r=i.lex.call(this);"UNKNOWN"===a[r]||!this.canAcceptPrimes&&"PRIMES"===a[r];)this.warn(),r=i.lex.call(this);this.canAcceptPrimes=!0;var o=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(a[r]){case"OPEN_FRAC":case"OPEN_MODEXP":this.delimiterStack.push(r),this.canAcceptPrimes=!1;break;case"RADICAL_INDEX":o===s.RADICAL_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(o)),this.delimiterStack.push(r),this.canAcceptPrimes=!1;break;case"OPEN_RADICAL":o===s.RADICAL_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(r),this.canAcceptPrimes=!1;break;case"SLASH":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===s.OPEN_FRAC){t=!0;break}this.pushCloseTokens(n)}t||this.pushOpenTokens(r),this.delimiterStack.push(r),this.canAcceptPrimes=!1;break;case"CLOSE_FRAC":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===s.SLASH){t=!0;break}if(n===s.OPEN_FRAC){this.addMissingToken(s.SLASH),t=!0;break}this.pushCloseTokens(n)}if(!t)return this.warn(),this.canAcceptPrimes=!1,this.lex();break;case"CLOSE_RADICAL":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===s.OPEN_RADICAL){t=!0;break}if(n===s.RADICAL_INDEX){t=!0,this.addMissingToken(s.OPEN_RADICAL);break}this.pushCloseTokens(n)}t||this.pushOpenTokens(r);break;case"CLOSE_MODEXP":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===s.OPEN_MODEXP){t=!0;break}this.pushCloseTokens(n)}t||this.pushOpenTokens(r);break;case"EOF":for(;this.delimiterStack.length;)n=this.delimiterStack.pop()||-1,this.pushCloseTokens(n)}return this.outputQueue.push(r),this.outputQueue.shift()||-1},o.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},o.addMissingToken=function(e){this.outputQueue.push(e),this.warn()},o.pushCloseTokens=function(e){switch(a[e]){case"OPEN_FRAC":this.addMissingToken(s.SLASH),this.addMissingToken(s.CLOSE_FRAC);break;case"SLASH":this.addMissingToken(s.CLOSE_FRAC);break;case"RADICAL_INDEX":this.addMissingToken(s.OPEN_RADICAL),this.addMissingToken(s.CLOSE_RADICAL);break;case"OPEN_RADICAL":this.addMissingToken(s.CLOSE_RADICAL);break;case"OPEN_MODEXP":this.addMissingToken(s.CLOSE_MODEXP)}},o.pushOpenTokens=function(e){switch(a[e]){case"SLASH":this.addMissingToken(s.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(s.OPEN_FRAC),this.addMissingToken(s.SLASH);break;case"CLOSE_RADICAL":this.addMissingToken(s.OPEN_RADICAL);break;case"CLOSE_MODEXP":this.addMissingToken(s.OPEN_MODEXP)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=r.parser.lexer,o=Object.create(i);t.default=o;var a=r.parser.terminals_,s=r.parser.symbols_;o.setInput=function(e,t){this.delimiterStack=[],this.outputQueue=[],i.setInput.call(this,e,t)},o.lex=function(){if(this.outputQueue.length)return this.outputQueue.shift();for(var e,t,n=i.lex.call(this);"UNKNOWN"===a[n];)this.warn(),n=i.lex.call(this);var r=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(a[n]){case"OPEN_FRAC":case"OPEN_GROUP":this.delimiterStack.push(n);break;case"RADICAL_WITH_INDEX":r===s.RADICAL_WITH_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(r)),this.delimiterStack.push(n);break;case"RADICAL":r===s.RADICAL_WITH_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(n);break;case"OVER":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===s.OPEN_FRAC){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(n),this.delimiterStack.push(n);break;case"CLOSE_FRAC":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===s.OVER){e=!0;break}if(t===s.OPEN_FRAC){this.outputQueue.push(s.OVER),e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(n);break;case"CLOSE_GROUP":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===s.OPEN_GROUP){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(n);break;case"CLOSE_RADICAL":for(e=!1;this.delimiterStack.length;){if((t=this.delimiterStack.pop()||-1)===s.RADICAL||t===s.RADICAL_WITH_INDEX){e=!0;break}this.pushCloseTokens(t)}e||this.pushOpenTokens(n);break;case"EOF":for(;this.delimiterStack.length;)t=this.delimiterStack.pop()||-1,this.pushCloseTokens(t)}return this.outputQueue.push(n),this.outputQueue.shift()||-1},o.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},o.addMissingToken=function(e){this.outputQueue.push(e),this.warn()},o.pushCloseTokens=function(e){switch(a[e]){case"OPEN_FRAC":this.addMissingToken(s.OVER),this.addMissingToken(s.CLOSE_FRAC);break;case"OVER":this.addMissingToken(s.CLOSE_FRAC);break;case"OPEN_GROUP":this.addMissingToken(s.CLOSE_GROUP);break;case"RADICAL_WITH_INDEX":case"RADICAL":this.addMissingToken(s.CLOSE_RADICAL)}},o.pushOpenTokens=function(e){switch(a[e]){case"OVER":this.addMissingToken(s.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(s.OPEN_FRAC),this.addMissingToken(s.OVER);break;case"CLOSE_GROUP":this.addMissingToken(s.OPEN_GROUP);break;case"CLOSE_RADICAL":this.addMissingToken(s.RADICAL)}}},function(e,t,n){function r(e){return e.isError}Object.defineProperty(t,"__esModule",{value:!0}),t.isErr=r,t.isOk=function(e){return!e.isError},t.map=function(e,t){return r(e)?e:{isError:!1,value:t(e.value)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(19),o=n(0);function a(e,t){for(var n,i,o="",h=!1,f="",m=function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];if(l(i))t.push({direction:s,index:r}),n.push(0);else if(d(i)){for(;t.length&&2===t[t.length-1].direction;)t.pop();t.length?(o=t.pop())&&(n[o.index]=s,n.push(c)):n.push(0)}else if(u(i)){var o;t.length&&2===t[t.length-1].direction?(o=t.pop())&&(n[o.index]=s,n.push(c)):(t.push({direction:2,index:r}),n.push(0))}else n.push(0)}return n}(e),y=0;y<e.length;y++){var b=e[y],v=y+1<e.length?e[y+1]:null;switch(b.type){case"terminal":var x=r.getAutoOperator(e.slice(y));""!==x.value?(o+=x.value,y+=x.terminalCount-1):" "!==b.value||h?(m[y]===s?o+="\\left":m[y]===c&&(o+="\\right"),o+=b.value):o+="\\ ",h=!1;break;case"command":var w=b.value.slice(1).trim();v&&"terminal"===v.type&&/[a-z]/.test(v.value)?(o+=w,h=!1):r.containsValue(w)?(o+="\\operatorname{"+w+"}",h=!0):(o+=b.value,h=!0);break;case"expression":o+=b.value;break;case"fraction":o+=(n=b.numerator,i=b.denominator,"\\frac{"+a(n)+"}{"+a(i)+"}");break;case"radical":o+="\\sqrt",b.index&&(o+="["+a(b.index)+"]"),o+="{"+a(b.value)+"}";break;case"basic_level":o+=p(b.level,b.value,f),"9"===b.level&&(f="");break;case"bracketed_level":o+=g(b.level,b.lbrack,b.value,b.rbrack,f),"9"===b.level&&(f="");break;case"primes":!v||"basic_level"!==v.type&&"bracketed_level"!==v.type||"5"!==v.level?t&&""!==t?(o+=Array(b.value.length+1).join("\\prime "),f=""):(o+=b.value,f=""):f=b.value}}return(o+=f).replace(/([^\\])( )$/,"$1")}var s=1,c=-1;function l(e){return"terminal"===e.type&&/^(\\langle |\[|\(|\\{)$/.test(e.value)}function d(e){return"terminal"===e.type&&/^(\\rangle |\]|\)|\\})$/.test(e.value)}function u(e){return"terminal"===e.type&&/^(\\\||\|)$/.test(e.value)}function p(e,t,n){var r="",i="{"+a(t,e)+"}";return"9"===e?r+=n+"^"+i:"5"===e&&(r+="_"+i),r}function g(e,t,n,r,i){var o="",s="{"+t+a(n,e)+r+"}";return"9"===e?o+=i+"^"+s:"5"===e&&(o+="_"+s),o}var h=a;t.default=function(e,t){return t&&t.operatorNames?r.setOperatorNames(t.operatorNames):r.resetOperatorNames(),o.map(i.default(e,t),(function(e){return h(e,"")}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=function(e){return{type:"terminal",value:e}},t.command=function(e){return{type:"command",value:e}},t.basic_level=function(e,t){return{type:"basic_level",level:e,value:t}},t.bracketed_level=function(e,t,n,r){return{type:"bracketed_level",level:e,lbrack:t,value:n,rbrack:r}},t.primes=function(e){return{type:"primes",value:e.length>0?Array(e.length+1).join("'"):""}},t.fraction=function(e,t){return{type:"fraction",numerator:e,denominator:t}},t.radical=function(e,t){return{type:"radical",value:e,index:t}},t.expression=function(e){return{type:"expression",value:e}},t.group=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)};var r={",.&":"\\Chi",",.:":"\\Eta",",.?":"\\Theta",",.A":"\\Alpha",",.B":"\\Beta",",.D":"\\Delta",",.E":"\\Epsilon",",.F":"\\Phi",",.G":"\\Gamma",",.I":"\\Iota",",.K":"\\Kappa",",.L":"\\Lambda",",.M":"\\Mu",",.N":"\\Nu",",.O":"\\Omicron",",.P":"\\prod",",.R":"\\Rho",",.S":"\\sum",",.T":"\\Tau",",.U":"\\Upsilon",",.W":"\\Omega",",.X":"\\Xi",",.Y":"\\Psi",",.Z":"\\Zeta",".&":"\\chi",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};t.greek=function(e){if(r.hasOwnProperty(e))return r[e]+" ";throw new Error("Unknown Greek letter")},t.to_number=function(e){for(var t="",n="A".charCodeAt(0)-1,r=0,i=e;r<i.length;r++){var o=i[r];t+="4"===o?".":"J"===o?"0":o.charCodeAt(0)-n}return t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=" A1B'K2L@CIF/MSP\"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=";function i(e){for(var t,n="",i=0,o=e;i<o.length;i++){var a=o[i];n+=(t=r.indexOf(a),String.fromCharCode(10240+t))}return n}function o(e){for(var t,n="",i=0,o=e;i<o.length;i++)n+=(t=o[i].charCodeAt(0)-10240,r[t]);return n}t.toBrailleAscii=o,t.toExpandedBrailleAscii=function(e){return o(e).replace(/[@-^]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))},t.coerceToSixDotCells=function(e){var t="";if(e)for(var n=0,r=e;n<r.length;n++){var o=r[n],a=o.charCodeAt(0);96<=a&&a<=127&&(a-=32,o=String.fromCharCode(a)),32<=a&&a<=95&&(a=(o=i(o)).charCodeAt(0)),10305<=a&&a<=10495&&(a=10240+(a-1024)%64,o=String.fromCharCode(a)),t+=10240<=a&&a<=10304?o:String.fromCharCode(10240)}return t},t.isSixDotCells=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<10240||n>10304)return!1}return!0}},function(e,t,n){n(3),e.exports=n(3)}])})),i("graphing/canvas-braille",["require","exports","tslib","./projection","./screen","core/graphing-calc/json/graph-settings","abraham"],(function(e,t,n,r,i,o,a){function s(e,t,n,r,i){var o=1+e.dotSpacing,a=i.charCodeAt(0)-10240;1&a&&t.fillRect(n,r,1,1),2&a&&t.fillRect(n,r+o,1,1),4&a&&t.fillRect(n,r+2*o,1,1),8&a&&t.fillRect(n+o,r,1,1),16&a&&t.fillRect(n+o,r+o,1,1),32&a&&t.fillRect(n+o,r+2*o,1,1)}function c(e,t){for(var n=t.x,r=t.y,i=t.width,o=t.height,a=e.getImageData(n,r,i,o).data,s=3;s<a.length;s+=4)if(0!==a[s])return!1;return!0}function l(e,t){for(var n=t.x,r=t.y,i=t.width,o=t.height,a=e.getImageData(n,r,i,o).data,s=3;s<a.length;s+=4)if(0===a[s])return!1;return!0}function d(e,t,n,r,i){return c(t,g(e,n,r,i))}function u(e,t){var n=e.dotSpacing;return(2+n)*t.length+(1+n)*(t.length-1)}function p(e,t){return 3+2*e.dotSpacing}function g(e,t,n,r){var i=e.cellPadding;return{x:t-i,y:n-i,width:u(e,r)+2*i,height:p(e)+2*i}}function h(e,t){if(!e)return t;var n=Math.min(e.x,t.x),r=Math.min(e.y,t.y);return{x:n,y:r,width:Math.max(e.x+e.width,t.x+t.width)-n,height:Math.max(e.y+e.height,t.y+t.height)-r}}function f(e,t,n){return Math.min(Math.max(e,t),n)}function m(e,t,n,r,i){return{x:f(n,0,t.canvas.width-u(e,i)),y:f(r,0,t.canvas.height-p(e))}}function y(e,t,n,r,i){var o=t.fillStyle;t.fillStyle="white";var a=g(e,n,r,i);t.fillRect(a.x,a.y,a.width,a.height),t.fillStyle="black",function(e,t,n,r,i){for(var o=3+2*e.dotSpacing,a=0;a<i.length;a++)s(e,t,n+o*a,r,i[a])}(e,t,n,r,i),t.fillStyle=o}function b(e,t,n,r){var i=e.cellPadding;return{x:Math.round(t-(u(e,r)+i)),y:n}}function v(e,t){var n="nemeth"===t?a.latexToNemeth(e):a.latexToUeb(e);return n.isError?"":function(e){return e.replace(/\u283C(?!$)/g,"")}(n.value)}function x(e,t){return t>=0?e*Math.pow(10,t):e/Math.pow(10,-t)}function w(e,t,n,r){var i=n[0],o=n[1],a=Math.ceil(Math.log(o-i)/Math.LN10)-1,s=a,c=5;e:for(var l=a;a-l<4;l--)for(var d=0,p=[5,2,1];d<p.length;d++){var g=p[d],h=x(g,l),f=Math.floor(i/h)+1,m=Math.ceil(o/h)-1,y=Math.abs(r(h)-r(0)),b=v(String(x(f*g,l)),t),w=v(String(x(m*g,l)),t);if(y<u(e,b)+u(e," ")||y<u(e,w)+u(e," "))break e;if(m-f>=15)break e;s=l,c=g}return{int:c,exp:s}}function A(e,t,n){return w(e,t,[n.viewport.xmin,n.viewport.xmax],(function(e){return n.mapx(e)}))}function E(e,t,n){return n.viewport.isSquare(n.screen)?A(e,t,n):w(e,t,[n.viewport.ymin,n.viewport.ymax],(function(e){return n.mapy(e)}))}function k(e,t){for(var n=e.int,r=e.exp,i=t[0],o=t[1],a=Math.ceil(i/x(n,r)),s=Math.floor(o/x(n,r)),c=[],l=a;l<=s;l++)c.push(x(l*n,r));return c}function I(e){switch(e){case"vpmax8":case"vpmax11":return"rgb(145, 145, 145)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:throw new Error("Unexpected embosser model: "+e)}}function S(e){switch(e){case"vpmax8":case"vpmax11":return"rgb(219, 219, 219)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:throw new Error("Unexpected embosser model: "+e)}}function M(e,t,n,r,i,o){void 0===o&&(o=1);var a=e.fillStyle;e.fillStyle=t,e.fillRect(n-1,r,o,i-r),e.fillStyle=a}function C(e,t,n,r,i,o){void 0===o&&(o=1);var a=e.fillStyle;e.fillStyle=t,e.fillRect(r,n-1,i-r,o),e.fillStyle=a}function D(e,t,n,r){var i=e.fillStyle;e.fillStyle=t,e.fillRect(n+1,r,1,1),e.fillRect(n,r+1,1,1),e.fillRect(n+1,r+1,1,1),e.fillRect(n+2,r+1,1,1),e.fillRect(n+1,r+2,1,1),e.fillStyle=i}Object.defineProperty(t,"__esModule",{value:!0}),t.createBrailleImage=void 0,t.createBrailleImage=function(e,t,a,s,f){var x,w,T,L,_,O,B,P;if(void 0!==a.margins&&void 0!==t){var F=function(e){if("etc8"===e||"etc11"===e)return{dotSpacing:0,cellPadding:1,graphLineWidth:1.75,embossPatternInequalities:!0};if("vpmax8"===e||"vpmax11"===e)return{dotSpacing:1,cellPadding:2,graphLineWidth:1,embossPatternInequalities:!1};throw new Error("Unexpected embosser model "+e)}(s),N=a.margins,q=n.__assign({},t.settings),R=q.showGrid&&function(e){if("etc8"===e||"etc11"===e)return!1;if("vpmax8"===e||"vpmax11"===e)return!0;throw new Error("Unexpected embosser model "+e)}(s),z=!!q.showXAxis,U=!!q.showYAxis,j=!!q.xAxisNumbers,Q=q.xAxisArrowMode,G=!!q.yAxisNumbers,V=q.yAxisArrowMode,Y=F.graphLineWidth,H={showGrid:!1,xAxisNumbers:!1,xAxisArrowMode:o.AxisArrowModes.NONE,yAxisNumbers:!1,yAxisArrowMode:o.AxisArrowModes.NONE,showXAxis:!1,showYAxis:!1,graphLineWidth:Y,pointLineWidth:2.5,curveOpacity:1,globalCurveColor:"#000",disableFill:!0};for(var K in H)t.settings[K]=H[K];var W=e.width-N.right-N.left,J=e.height-N.top-N.bottom,X=new i.Screen(W,J),Z=t.getProjection().viewport;t.settings.squareAxes&&(Z=Z.squareCrop(X));var $=new r.Projection(X,Z,t.settings),ee=e.getContext("2d"),te=document.createElement("canvas");te.width=W,te.height=J;var ne=te.getContext("2d"),re=document.createElement("canvas");re.width=W,re.height=J;var ie=re.getContext("2d"),oe=document.createElement("canvas");oe.width=W,oe.height=J;var ae=oe.getContext("2d"),se=document.createElement("canvas");se.width=W,se.height=J;var ce=se.getContext("2d"),le=document.createElement("canvas");le.width=W,le.height=J;var de=le.getContext("2d");if(null!==ee&&null!==ce&&null!==ne&&null!==ae&&null!==de&&null!==ie){t.settings.disableFill=!0,t.screenshotToCanvas(se,{width:W,height:J,targetPixelRatio:1,transparentBackground:!0}),t.settings.disableFill=!1,t.screenshotToCanvas(te,{width:W,height:J,targetPixelRatio:1,transparentBackground:!0}),ee.fillStyle="white",ee.fillRect(0,0,e.width,e.height);var ue,pe=Math.round($.mapx(0)),ge=Math.round($.mapy(0)),he=""!==q.xAxisLabel?q.xAxisLabel.replace(/ /g,"\\ "):"x",fe=""!==q.yAxisLabel?q.yAxisLabel.replace(/ /g,"\\ "):"y";z&&$.coordsAreOnscreen(W-6,ge-8,0)&&y(ue=n.__assign(n.__assign({},F),{cellPadding:F.cellPadding+1}),de,Re=(w=m(ue,ne,Re=(x=b(ue,Re=W-2,ze=ge-(Se=2+2*p(ue)),Ie=v(he,f))).x,ze=x.y,Ie)).x,ze=w.y,Ie),U&&$.coordsAreOnscreen(pe+4,1,0)&&y(ue=n.__assign(n.__assign({},F),{cellPadding:F.cellPadding+1}),de,Re=(T=m(ue,ne,Re=pe+4,ze=1,Ie=v(fe,f))).x,ze=T.y,Ie);var me=function(e,t,n){return{x:k(A(e,t,n),[n.viewport.xmin,n.viewport.xmax]),y:k(E(e,t,n),[n.viewport.ymin,n.viewport.ymax])}}(F,f,$),ye=me.x,be=me.y;if(z){for(var ve=void 0,xe=0,we=ye;xe<we.length;xe++)if((0!==(De=we[xe])||!U)&&!((Pe=Math.round($.mapx(De)))<2||Pe>$.screen.width-2)&&j){var Ae=u(F,v("-1",f))-u(F,v("1",f));d(F,ce,Re=(L=m(F,de,Re=Pe-(De<0?Ae+1:1),ze=ge+4,Ie=v(""+De,f))).x,ze=L.y,Ie)&&(y(F,de,Re,ze,Ie),ve=h(ve,g(F,Re,ze,Ie)))}F.embossPatternInequalities&&ve&&(ve=h(ve,{x:0,y:ge,width:W,height:0}),ae.fillStyle="white",ae.fillRect(ve.x,ve.y,ve.width,ve.height))}if(U){ve=void 0;for(var Ee=0,ke=be;Ee<ke.length;Ee++)if(!(0===(_e=ke[Ee])&&z||(qe=Math.round($.mapy(_e)))<2||qe>$.screen.height-2)){var Ie,Se=-Math.ceil(p(F)/2);G&&d(F,ce,Re=(O=m(F,de,Re=(_=b(F,Re=pe-4,ze=qe+Se,Ie=v(""+_e,f))).x,ze=_.y,Ie)).x,ze=O.y,Ie)&&(y(F,de,Re,ze,Ie),ve=h(ve,g(F,Re,ze,Ie)))}F.embossPatternInequalities&&ve&&(ve=h(ve,{x:pe,y:0,width:0,height:J}),ae.fillStyle="white",ae.fillRect(ve.x,ve.y,ve.width,ve.height))}z&&U&&(Re=(B=b(F,Re=pe-2,ze=ge+2,Ie=v(j||G?"0":"o",f))).x,ze=B.y,$.coordsAreOnscreen(Re,ze,0)&&d(F,ce,Re=(P=m(F,de,Re,ze,Ie)).x,ze=P.y,Ie)&&y(F,de,Re,ze,Ie));for(var Me=0,Ce=ye;Me<Ce.length;Me++){var De=Ce[Me];(Pe=Math.round($.mapx(De)))<2||Pe>$.screen.width-2||U&&0===De||R&&M(ae,"white",Pe-1,0,J,3)}for(var Te=0,Le=be;Te<Le.length;Te++){var _e=Le[Te];(qe=Math.round($.mapy(_e)))<2||qe>$.screen.height-2||z&&0===_e||R&&C(ae,"white",qe-1,0,W,3)}z&&C(ae,"white",ge-3,0,W,7),U&&M(ae,"white",pe-3,0,J,7);for(var Oe=0,Be=ye;Oe<Be.length;Oe++){var Pe;De=Be[Oe],(Pe=Math.round($.mapx(De)))<2||Pe>$.screen.width-2||U&&0===De||(R?M(ae,S(s),Pe,0,J):z&&M(ae,S(s),Pe,ge-3,ge+2))}for(var Fe=0,Ne=be;Fe<Ne.length;Fe++){var qe;_e=Ne[Fe],(qe=Math.round($.mapy(_e)))<2||qe>$.screen.height-2||z&&0===_e||(R?C(ae,S(s),qe,0,W):U&&C(ae,S(s),qe,pe-3,pe+2))}if(z&&C(ae,I(s),ge,0,W),U&&M(ae,I(s),pe,0,J),V!==o.AxisArrowModes.NONE&&(function(e,t,n){var r=e.fillStyle;e.fillStyle=t;for(var i=-2;i<=2;i++)e.fillRect(n-1+i,0+Math.abs(i),1,1);e.fillStyle=r}(ae,I(s),pe),V===o.AxisArrowModes.BOTH&&function(e,t,n,r){var i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(n-1+o,r-Math.abs(o),1,1);e.fillStyle=i}(ae,I(s),pe,J-1)),Q!==o.AxisArrowModes.NONE&&(function(e,t,n,r){var i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(n-Math.abs(o),r-1+o,1,1);e.fillStyle=i}(ae,I(s),W-1,ge),Q===o.AxisArrowModes.BOTH&&function(e,t,n,r){var i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(0+Math.abs(o),r-1+o,1,1);e.fillStyle=i}(ae,I(s),0,ge)),F.embossPatternInequalities)for(var Re=0;Re<W;Re+=6)for(var ze=0;ze<J;ze+=6){var Ue={x:Re,y:ze,width:3,height:3};l(ne,Ue)&&c(ae,Ue)&&c(ce,Ue)&&c(de,Ue)&&D(ie,"black",Re,ze)}F.embossPatternInequalities||ee.drawImage(te,N.left,N.top),ee.drawImage(oe,N.left,N.top),ee.drawImage(se,N.left,N.top),ee.drawImage(le,N.left,N.top),F.embossPatternInequalities&&ee.drawImage(re,N.left,N.top)}for(var K in H)t.settings[K]=q[K]}}})),i("graphing/braille-size-options",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.brailleSizes=void 0,t.brailleSizes={},t.brailleSizes.vpmax8={width:170,height:220,margins:{left:5,top:15,right:5,bottom:50},name:function(e){return e.s("graphing-calculator-label-braille-size-vpmax8")}},t.brailleSizes.vpmax11={width:230,height:220,margins:{left:15,top:15,right:5,bottom:5},name:function(e){return e.s("graphing-calculator-label-braille-size-vpmax11")}},t.brailleSizes.etc8={width:96,height:96,margins:{left:5,top:15,right:0,bottom:0},name:function(e){return e.s("graphing-calculator-label-braille-size-etc8")}},t.brailleSizes.etc11={width:132,height:134,margins:{left:10,top:15,right:5,bottom:5},name:function(e){return e.s("graphing-calculator-label-braille-size-etc11")}}})),i("graphing/movablepointslayer",["require","exports","tslib","dcgview","browser","graphing-calc/models/expression","core/lib/label","core/graphing-calc/json/expression","core/lib/dragmode","core/types/graphmode","lib/aria","./constants","jquery","underscore"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g){Object.defineProperty(t,"__esModule",{value:!0}),t.getCoordsString=void 0;var h=r.Components.For;function f(e,t){var n=e[t];return Array.isArray(n)&&e.tableInfo?n[e.tableInfo.rowIndex]:n}var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.grapher=this.props.grapher(),this.renderedPointsIdOrder=[],this.renderedPoints={}},t.prototype.template=function(){var e=this;return r.createElement(h,{each:function(){return e.renderedPointsIdOrder}},r.createElement("div",{class:r.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:function(){return e.requestRedrawNextFrame()},onFocusout:function(){return e.requestRedrawNextFrame()},didMount:this.didMountRoot.bind(this)},(function(t){return r.createElement("div",{class:e.const({"dcg-tabbable-point":!0,"dcg-movable-point":"movable"===e.renderedPoints[t].type}),style:function(){return{transform:e.getTransform(t)}},role:r.const("button"),"aria-roledescription":function(){return"movable"===e.renderedPoints[t].type?e.grapher.controller.s("graphing-calculator-narration-movable-point-description"):"draggable-label"===e.renderedPoints[t].type?e.grapher.controller.s("graphing-calculator-narration-draggable-label-description"):e.grapher.controller.s("graphing-calculator-narration-point-description")},"dcg-mp-id":e.const(t),tabindex:function(){return e.getTabIndex(t)},"aria-label":function(){return e.getAriaLabel(t)},"aria-hidden":e.bindFn(e.getAriaHidden)})})))},t.prototype.redraw=function(e,t,n){var r=this,i=this.grapher.graphSketches,o=this.renderedPoints;this.renderedPoints={},this.renderedPointsIdOrder=[];var a=this.getFocusedPointId(),s=function(i){var s=r.processPOI(e,t,i,o[i.id],n,a);s&&(r.renderedPoints[i.id]=s,r.renderedPointsIdOrder.push(i.id))};this.grapher.getSketchOrder().forEach((function(e){var t=i[e];t&&t.visible&&(t.getMovablePoints().forEach(s),t.getStaticLabeledPoints().forEach(s))}));var c=this.renderedPoints[this.hoveredPointId],l=this.renderedPoints[this.pressedPointId],d=c&&c.poi,u=l&&l.poi;d||this.setHoveredPointId(void 0),u||this.setPressedPointId(void 0);var p,g,h=u||d;h?(p="movable-point"===h.type&&h.tableInfo&&h.tableInfo.dragX,g="movable-point"===h.type&&h.tableInfo&&h.tableInfo.dragY,p&&g||!p&&!g?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point"):p?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ew"):this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ns")):this.grapher.setLayerClass("movablePoints",void 0),this.update(),this.speakAriaAlert()},t.prototype._clampedOpacity=function(e){return e<0?0:e>1?1:g.isFinite(e)?e:1},t.prototype.drawForScreenshot=function(e,t,n,r){var i=this,o=this.grapher.graphSketches;for(var a in o){var s=o[a];if(s.visible){var c,d=s.branches[0];d.graphMode===l.XYPOINT_MOVABLE&&(c=d.pointOpacity),s.getMovablePoints().forEach((function(o){var a={screenX:t.mapx(o.x),screenY:t.mapy(o.y),color:o.color,pointOpacity:c,animationPercent:0};i.drawMovablePointOnCtx(e,a,n,r)}))}}},t.prototype.processPOI=function(e,t,n,r,i,o){var a=n.id,s=n.x,l=n.y,d=t.mapx(s),p=t.mapy(l),g=o===a,h=t.coordsAreOnscreen(d,p,u.OFFSCREEN_RENDER_MARGIN);if(h||g){if(!r){var m=n.sketch?this.grapher.controller.getItemModel(n.sketch.id):void 0;r="movable-point"===n.type?{type:"movable",id:a,pointOnScreen:h,poi:n,projection:t,screenX:screenX,screenY:screenY,color:f(n,"color"),pointOpacity:f(n,"pointOpacity"),pointIsHovered:!1,pointIsPressed:!1,lastHoverActionTime:0,animationPercent:0}:m&&"expression"===m.type&&void 0!==m.label&&m.showLabel&&m.reconciledDragMode!==c.DragMode.NONE?{type:"draggable-label",id:a,pointOnScreen:h,poi:n,projection:t,screenX:screenX,screenY:screenY}:{type:"static",id:a,pointOnScreen:h,poi:n,projection:t,screenX:screenX,screenY:screenY}}return r.pointOnScreen=h,r.poi=n,r.projection=t,r.screenX=d,r.screenY=p,"movable"===r.type&&(r.color=f(r.poi,"color"),r.pointOpacity=f(r.poi,"pointOpacity"),this.updateMovablePointAnimation(r),this.drawMovablePointOnCtx(e,r,i)),r}},t.prototype.drawMovablePointOnCtx=function(e,t,n,r){var i;i=r||(this.grapher.settings.config.projectorMode?13.5:10.5);var o=Array.isArray(t.color)?t.color[0]:t.color,a=t.screenX,s=t.screenY,c=t.animationPercent||0;n.push({left:a-i,right:a+i,top:s-i,bottom:s+i}),e.save();var l=e.globalAlpha,d=this._clampedOpacity(t.pointOpacity);e.fillStyle=o,e.globalAlpha=.35*d,e.beginPath(),e.moveTo(a+i,s),e.arc(a,s,i,0,2*Math.PI,!0),e.closePath(),e.fill(),e.globalAlpha=d,i*=.3+.7*c,e.beginPath(),e.moveTo(a+i,s),e.arc(a,s,i,0,2*Math.PI,!0),e.closePath(),e.fill(),e.globalAlpha=l,e.restore()},t.prototype.updateMovablePointAnimation=function(e){var t=Date.now(),n=e.id,r=this.hoveredPointId===n,i=this.pressedPointId===n;e.pointIsPressed=i,r!==e.pointIsHovered&&(e.pointIsHovered=r,e.lastHoverActionTime=t);var o=e.animationPercent||0,a=.004*(t-e.lastHoverActionTime);i?o=1:r?(o+=a)>=1?o=1:this.requestRedrawNextFrame():(o-=a)<=0?o=0:this.requestRedrawNextFrame(),e.animationPercent=o},t.prototype.getTransform=function(e){var t=this.renderedPoints[e];if(t)return i.translateRule(t.screenX,t.screenY)},t.prototype.getTabIndex=function(e){var t=this.renderedPoints[e];if(!t)return-1;var n=t.poi,r=this.grapher.controller.getItemEditableLabelMode(n.sketch.id),i=this.grapher.controller.getItemModel(n.sketch.id),a=i&&"expression"===i.type&&!o.isClickableObject(i)&&("movable"===t.type||void 0===r||r===s.EditableLabelMode.None),c=this.grapher.settings,l=c.config.graphpaper&&c.config.enableTabindex;return a&&l?0:-1},t.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},t.prototype.getAriaLabel=function(e){var t=this.getAriaAlert({id:e,includeUsageInstructions:!1});return t&&t.completeMessage},t.prototype.speakAriaAlert=function(){var e=this.getFocusedPointId();if(e){var t=this.renderedPoints[e];if(!t||"static"===t.type)return}var n=this.getAriaAlert({id:e,lastAriaAlert:this.lastAriaAlert,includeUsageInstructions:!0});this.lastAriaAlert=n,n&&n.completeMessage&&d.alert(n.completeMessage)},t.prototype.getAriaAlert=function(e){var t=e.id,n=e.lastAriaAlert,r=e.includeUsageInstructions;if(t){var i=this.renderedPoints[t];if(i){n&&n.id!==t&&(n=void 0);var o=i.poi,a=i.pointOnScreen,s=i.projection;if(o&&s){var c=s.viewport;if(c){var l=n&&n.label,d=o.ariaLabel,u=l!==d,p=n&&n.coordX,g=n&&n.coordY,h=o.x,f=o.y,m=h!==p||f!==g,b=y(h,f,c)+".",v=this.grapher.controller,x=d||v.s("graphing-calculator-narration-movable-point-prefix"),w="movable"!==i.type&&"draggable-label"!==i.type||!r?"":v.s("graphing-calculator-narration-movable-point-suffix-usage-instructions"),A=a?"":v.s("graphing-calculator-narration-movable-point-off-screen-prompt");return{id:t,coordX:h,coordY:f,label:d,completeMessage:n?u?x+A:m?b+A:"":x+". "+b+w+A}}}}}},t.prototype.setHoveredPointId=function(e){e!==this.hoveredPointId&&(this.hoveredPointId=e,this.requestRedrawNextFrame())},t.prototype.isMovingPoint=function(){return!!this.pressedPointId},t.prototype.setPressedPointId=function(e){e!==this.pressedPointId&&(this.pressedPointId=e,this.requestRedrawNextFrame())},t.prototype.getFocusedPointId=function(){if(document.activeElement&&p.contains(this.rootNode,document.activeElement))return p(document.activeElement).attr("dcg-mp-id")},t.prototype.getFocusedPoint=function(){var e=this.getFocusedPointId();if(e){var t=this.renderedPoints[e];if(t)return t.poi}},t.prototype.didMountRoot=function(e){this.rootNode=e},t.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},t}(r.Class);function y(e,t,n){return"X: "+a.value(e,n.xmax-n.xmin).ariaString+". Y: "+a.value(t,n.ymax-n.ymin).ariaString}t.default=m,t.getCoordsString=y})),i("graphing/integral-image",["require","exports"],(function(e,t){function n(e,t,n){return Math.max(t,Math.min(n,e))}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=e.data,n=e.width,r=e.height;this.imageData=e;for(var i=1;i<n;i++)t[i]+=t[i-1];for(var o=1;o<r;o++)t[o*n]+=t[o*n-n];for(var a=n*r-n-r+1,s=n-1,c=0;c<a;c++){i=1+c%s;var l=(o=1+Math.floor(c/s))*n,d=i-1+l,u=i+l-n,p=i-1+l-n;t[l+i]+=t[d]+t[u]-t[p]}}return e.prototype.getSumForValidRect=function(e){var t=e.left-1,n=e.right-1,r=e.top-1,i=e.bottom-1,o=this.imageData.width,a=this.imageData.data,s=a[t+r*o],c=a[n+r*o],l=a[t+i*o],d=a[n+i*o];return t>=0&&r>=0?d-c-l+s:t>=0?d-l:r>=0?d-c:d},e.prototype.getSum=function(e){var t={left:n(Math.floor(e.left),0,this.imageData.width),right:n(Math.ceil(e.right),0,this.imageData.width),top:n(Math.floor(e.top),0,this.imageData.height),bottom:n(Math.ceil(e.bottom),0,this.imageData.height)};return t.left>=t.right||t.top>=t.bottom?0:this.getSumForValidRect(t)},e}();t.default=r})),i("graphing/automatic-label-placer",["require","exports","graphing/integral-image","underscore"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.generateCandidatesForPolygon=t.generateCandidatesForAngle=t.generateCandidatesForSegment=t.generateCandidatesForPoint=t.buildStaticEnvGetter=t.computePositions=t.getIntegralImage=void 0;var i=.5,o=document.createElement("canvas"),a=[];function s(e,t){if(!(t.width*t.height>0))return new n.default({width:0,height:0,data:[]});o.width=0,o.width=Math.round(t.width*i),o.height=Math.round(t.height*i);var r=o.getContext("2d");r.save(),r.scale(o.width/e.canvas.width,o.height/e.canvas.height),r.drawImage(e.canvas,0,0),r.restore();var s=r.getImageData(0,0,o.width,o.height),c=s.data;c.length,a.length;for(var l=a=new Array(c.length/4),d=0;d<l.length;d++)l[d]=c[4*d+3];return new n.default({width:s.width,height:s.height,data:l})}function c(e,t){var n=1/0,r=-1,i=t[e];if(1===i.length)return i[0];for(var o=0;o<i.length;o++){var a=t[e][o].staticScore+l(e,o,t);(-1===r||a<n)&&(n=a,r=o)}return i[r]}function l(e,t,n){for(var r=0,i=n[e][t],o=0;o<n.length;o++)if(o!==e){for(var a=0,s=n[o],c=s.length-1;c>=0;c--){var l=s[c];a+=Math.max(0,Math.min(i.right,l.right)-Math.max(i.left,l.left))*Math.max(0,Math.min(i.bottom,l.bottom)-Math.max(i.top,l.top))}r+=a/s.length}return r}function d(e,t){var n=t.getSum({left:e.left*i,right:e.right*i,top:e.top*i,bottom:e.bottom*i});return(n/=200)/.25}function u(e,t){var n=0;return t.forEach((function(t){n+=p(e,t)})),n}function p(e,t){return Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top))}function g(e,t){if(!(t.length<=1))for(var n,r,i=e(),o=0,a=t;o<a.length;o++){var s=a[o];s.staticScore+=(r=p(n=s,i.viewport),10*(n.width*n.height-r)),s.staticScore+=u(s,i.domObstructions),s.staticScore+=d(s,i.integralImage)}}t.getIntegralImage=s,t.computePositions=function(e){for(var t=0;t<e.length;t++){var n=c(t,e);e[t]=[n]}return e.map((function(e){return e[0]}))},t.buildStaticEnvGetter=function(e,t,n){var r;return function(){return r||(r={domObstructions:n,viewport:{left:0,right:t.width,top:0,bottom:t.height},integralImage:s(e,t)}),r}},t.generateCandidatesForPoint=function(e,t){var n=t.nakedLabel?0:t.pt_radius,i=Math.round(n/Math.sqrt(2)),o=[],a=t.pt_x,s=t.pt_y,c=t.width,l=t.height,d=400;o.push({cx_s:0,cy_s:0,cx_a:0,cy_a:0,staticScore:d,orientation:"center",matches:{default:1,center:1,center_auto:1,auto_center:1}}),o.push({cx_s:.5,cx_a:n+3,cy_s:0,cy_a:0,staticScore:d,orientation:"right",matches:{default:1,right:1,center_auto:1,auto_right:1}}),o.push({cx_s:-.5,cx_a:-n-3,cy_s:0,cy_a:0,staticScore:d,orientation:"left",matches:{default:1,left:1,center_auto:1,auto_left:1}}),o.push({cx_s:0,cx_a:0,cy_s:-.5,cy_a:-n,staticScore:d,orientation:"above",matches:{default:1,above:1,auto_center:1,above_auto:1}}),o.push({cx_s:-.5,cx_a:-i,cy_s:-.5,cy_a:-i,staticScore:d,orientation:"tl",matches:{default:1,above_left:1,above_auto:1,auto_left:1}}),o.push({cx_s:.5,cx_a:i,cy_s:-.5,cy_a:-i,staticScore:d,orientation:"tr",matches:{default:1,above_right:1,above_auto:1,auto_right:1}}),o.push({cx_s:0,cx_a:0,cy_s:.5,cy_a:n,staticScore:d,orientation:"below",matches:{default:1,below:1,auto_center:1,below_auto:1}}),o.push({cx_s:-.5,cx_a:-i,cy_s:.5,cy_a:i,staticScore:d,orientation:"bl",matches:{default:1,below_left:1,below_auto:1,auto_left:1}}),o.push({cx_s:.5,cx_a:i,cy_s:.5,cy_a:i,staticScore:d,orientation:"br",matches:{default:1,below_right:1,below_auto:1,auto_right:1}});var u=Math.cos(t.rotation),p=Math.sin(t.rotation),h=o.map((function(e){var n=e.cx_s*c+e.cx_a,r=e.cy_s*l+e.cy_a,i=n*u-r*p,o=r*u+n*p,d="calc("+(100*e.cx_s-50)+"% + "+e.cx_a+"px)",g="calc("+(100*e.cy_s-50)+"% + "+e.cy_a+"px)",h=-c/2,f=c/2,m=-l/2,y=l/2;if(t.rotation){var b=function(e){for(var t=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,o=e.length-1;o>=1;o--){var a=e[o],s=a.x,c=a.y;s<t&&(t=s),s>n&&(n=s),c<r&&(r=c),c>i&&(i=c)}return{left:t,right:n,top:r,bottom:i}}([{x:h*u-m*p,y:m*u+h*p},{x:h*u-y*p,y:y*u+h*p},{x:f*u-m*p,y:m*u+f*p},{x:f*u-y*p,y:y*u+f*p}]);h=b.left,f=b.right,m=b.top,y=b.bottom}return h=Math.round(a+i+h),f=Math.round(a+i+f),m=Math.round(s+o+m),y=Math.round(s+o+y),{pt_x:Math.round(a),pt_y:Math.round(s),left:h,right:f,top:m,bottom:y,width:f-h,height:y-m,transform:"translate("+d+","+g+")",staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}));return g(e,h=t.enforceOrientation&&"default"!==t.enforceOrientation?r.filter(h,(function(e){return!!e.matches[t.enforceOrientation]})):t.nakedLabel?r.filter(h,(function(e){return"center"===e.orientation})):t.keepOrientation&&t.priorOrientation?r.filter(h,(function(e){return e.orientation===t.priorOrientation})):r.filter(h,(function(e){return"center"!==e.orientation}))),h},t.generateCandidatesForSegment=function(e,t){for(var n,i,o=[],a=t.width,s=t.height,c=a/2,l=s/2,d=t.pt_x1,u=t.pt_y1,p=t.pt_x2,h=t.pt_y2,f=(h-u)/(p-d),m=Math.atan2(h-u,p-d)+Math.PI/2,y=5*Math.cos(m),b=5*Math.sin(m),v=Math.min(u,h)-Math.abs(b)-s,x=Math.max(u,h)+Math.abs(b),w=[0,20,20,40,40],A=[],E=0,k=[.5,.4,.6,.2,.8];E<k.length;E++){var I=k[E];A.push({x:d*(1-I)+p*I,y:u*(1-I)+h*I})}for(var S=0;S<A.length;S++){var M,C,D,T,L=A[S];if(f>=2||f<=-2){D=T=L.y-l;var _=Math.abs((p-d)/(h-u)*l)+Math.abs(y);M=L.x+_,C=L.x-_-a}else if(f<=.05&&f>=-.05){M=C=L.x-c;var O=Math.abs(f*c)+Math.abs(b);D=L.y-O-s,T=L.y+O}else y>0?(M=L.x+y,C=L.x-y-a):(M=L.x+y-a,C=L.x-y),b>0?(D=L.y+b,T=L.y-b-s):(D=L.y+b-s,T=L.y-b);D<v?D=v:D>x&&(D=x),T<v?T=v:T>x&&(T=x);var B=(p-d)*(D-u)-(h-u)*(M-d)>0,P=S.toString()+(B?"-a":"-b");o.push({pt_x:L.x,pt_y:L.y,left:M,top:D,staticScore:w[S],orientation:P,matches:(n={},n[P]=1,n)});var F=S.toString()+(B?"-b":"-a");o.push({pt_x:L.x,pt_y:L.y,left:C,top:T,staticScore:w[S],orientation:F,matches:(i={},i[F]=1,i)})}var N=o.map((function(e){var n=Math.round(e.left),r=Math.round(e.left+a),i=Math.round(e.top),o=Math.round(e.top+s);return{pt_x:Math.round(e.pt_x),pt_y:Math.round(e.pt_y),left:n,right:r,top:i,bottom:o,width:r-n,height:o-i,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}));return t.keepOrientation&&t.priorOrientation&&(N=r.filter(N,(function(e){return e.orientation===t.priorOrientation}))),g(e,N),N},t.generateCandidatesForAngle=function(e,t){var n,i=[],o=t.pt_x,a=t.pt_y,s=t.width,c=t.height,l=t.startAngle,d=t.endAngle;d<l&&(d+=2*Math.PI);var u=(l+d)/2,p=t.isRightAngle?t.radius*Math.sqrt(2):t.radius+4,h=p+Math.sqrt(t.width*t.width/4+t.height*t.height/4),f=[],m=h*Math.sin(u);m>p+.5*c&&(m=p+.5*c),m<-p-.5*c&&(m=-p-.5*c),f.push({x:o+h*Math.cos(u)-s/2,y:a+m-c/2});for(var y=0;y<f.length;y++){var b=f[y],v=y.toString()+"-a";i.push({pt_x:b.x,pt_y:b.y,left:b.x,top:b.y,staticScore:0,orientation:v,matches:(n={},n[v]=1,n)})}var x=i.map((function(e){var n=Math.round(e.left),r=Math.round(e.left+s),i=Math.round(e.top),o=Math.round(e.top+c);return{pt_x:Math.round(e.pt_x),pt_y:Math.round(e.pt_y),left:n,right:r,top:i,bottom:o,width:r-n,height:o-i,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}));return t.keepOrientation&&t.priorOrientation&&(x=r.filter(x,(function(e){return e.orientation===t.priorOrientation}))),g(e,x),x},t.generateCandidatesForPolygon=function(e,t){for(var n=[],i=t.width,o=t.height,a=Math.round(10/Math.sqrt(2)),s=50,c=0,l=0,d=0,u=0;u<t.path.length-2;u+=2)d+=1,c+=t.path[u],l+=t.path[u+1];var p=c/d,h=l/d;n.push({left:p-i/2,top:h-o/2,staticScore:0,orientation:"center",matches:{center:1}}),n.push({left:p+10+3,top:h-o/2,staticScore:s,orientation:"right",matches:{right:1}}),n.push({left:p-(10+i)-3,top:h-o/2,staticScore:s,orientation:"left",matches:{left:1}}),n.push({left:p-i/2,top:h-(o+10),staticScore:s,orientation:"top",matches:{top:1}}),n.push({left:p-(i+a),top:h-(o+a),staticScore:s,orientation:"tl",matches:{tl:1}}),n.push({left:p+a,top:h-(o+a),staticScore:s,orientation:"tr",matches:{tr:1}}),n.push({left:p-i/2,top:h+10,staticScore:s,orientation:"bottom",matches:{bottom:1}}),n.push({left:p-(i+a),top:h+a,staticScore:s,orientation:"bl",matches:{bl:1}}),n.push({left:p+a,top:h+a,staticScore:s,orientation:"br",matches:{br:1}});var f=n.map((function(e){var n=Math.round(e.left),r=Math.round(e.left+i),a=Math.round(e.top),s=Math.round(e.top+o);return{pt_x:Math.round(p),pt_y:Math.round(h),left:n,right:r,top:a,bottom:s,width:r-n,height:s-a,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}));return t.keepOrientation&&t.priorOrientation&&(f=r.filter(f,(function(e){return e.orientation===t.priorOrientation}))),g(e,f),f}})),i("loadcss!dcgview-helpers/static-mathquill-view",(function(){})),i("dcgview-helpers/static-mathquill-view",["require","exports","tslib","dcgview","vendor/mathquill","jquery","lib/conditional_blur","loadcss!./static-mathquill-view"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return 1===this.children.length?this.children[0]:r.createElement("div",{didMount:function(t){return e.didMountMathquill(t)}})},t.prototype.didMount=function(){1===this.children.length&&this.didMountMathquill(this.findRootNode())},t.prototype.didMountMathquill=function(e){this.staticMath=i.MQ.StaticMath(e,n.__assign(n.__assign({},this.props.config()),{mouseEvents:!1})),o(e).addClass("dcg-static-mathquill-view").on("dcg-tapstart",(function(){a.default()})),this.updateMathquill()},t.prototype.didUpdate=function(){this.updateMathquill()},t.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex()},t.prototype.updateMathquillLatex=function(){if(this.staticMath){var e=this.props.latex();this.lastLatex!==e&&(this.staticMath.latex(e),this.lastLatex=e,this.props.onReflow&&this.props.onReflow())}},t.prototype.updateMathquillAria=function(){if(this.staticMath&&this.props.getAriaLabel){var e=this.props.getAriaLabel();e!==this.staticMath.getAriaLabel()&&this.staticMath.setAriaLabel(e)}},t}(r.Class);t.default=s})),i("core/lib/count-latex-tokens",["require","exports","core/math/parser/latex-lexer"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.countLatexTokens=void 0,t.countLatexTokens=function(e){for(var t=n.lex(e),r=0;!n.isDone(t);)r+=1,t=n.advance(t);return r}})),i("loadcss!dcgview-helpers/mathquill-view",(function(){})),i("dcgview-helpers/mathquill-view",["require","exports","tslib","keys","browser","dcgview","vendor/mathquill","jquery","./static-mathquill-view","../core/lib/count-latex-tokens","loadcss!./mathquill-view"],(function(e,t,n,r,i,o,a,s,c,l){Object.defineProperty(t,"__esModule",{value:!0}),t.EXPRESSION_TOKEN_LIMIT=void 0;var d=o.Components.If;t.EXPRESSION_TOKEN_LIMIT=500;var u=function(e){function u(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastLatexProp="",t.wasFocusedLastUpdate=!1,t}return n.__extends(u,e),u.prototype.template=function(){var e=this;return 1===this.children.length?this.children[0]:o.createElement("div",{class:o.const("dcg-mq-container")},o.createElement(d,{predicate:function(){return e.getPlaceholder().trim().length>0}},(function(){return o.createElement("span",{class:o.const("dcg-mq-placeholder")},o.createElement(c.default,{config:function(){return e.props.config()},latex:function(){return e.getPlaceholder()}}))})),o.createElement("div",{class:function(){return{"dcg-math-field":!0,"dcg-no-fadeout":e.props.noFadeout&&e.props.noFadeout(),"dcg-invalid":e.props.hasError(),"dcg-focus":e.props.isFocused()}},didMount:function(t){return e.didMountMathquill(t)},"data-dcg-label":function(){return e.props.dataLabelAttributeValue?e.props.dataLabelAttributeValue():void 0}}))},u.prototype.didMount=function(){1===this.children.length&&this.didMountMathquill(this.findRootNode())},u.prototype.willUnmount=function(){this.$mathField.off(".view"),this.mathField=void 0},u.prototype.getPlaceholder=function(){return this.props.placeholder?this.props.isFocused()||this.props.latex()?"":this.props.placeholder():""},u.prototype.didMountMathquill=function(e){var t=this,o=n.__assign(n.__assign({},this.props.config()),{handlers:{reflow:function(e){t.props.onReflow&&t.mathField&&t.props.onReflow(e)}},onCut:function(){t.mathField&&t.props.onUserChangedLatex(t.mathField.latex())},onPaste:function(){t.mathField&&t.props.onUserChangedLatex(t.mathField.latex())},overrideTypedText:function(e){t.mathField&&t.viewCanAcceptText(e)&&(t.props.onUserTypedText?t.props.onUserTypedText(e):(t.mathField.typedText(e),t.props.onUserChangedLatex(t.mathField.latex())))},overrideKeystroke:function(e,n){if("Backspace"===e&&n.preventDefault(),t.mathField){if("Spacebar"===e&&t.props.disableSpace&&t.props.disableSpace())return n.preventDefault();var i=r.lookup(n);if("Up"===i||"Down"===i||"Left"===i||"Right"===i||"Esc"===i){var o=[];n.ctrlKey&&o.push("Ctrl"),n.metaKey&&o.push("Meta"),n.altKey&&o.push("Alt"),n.shiftKey&&o.push("Shift"),o.length?(o.push(i),e=o.join("-")):e=i}t.props.onUserPressedKey?t.props.onUserPressedKey(e,n):(t.mathField.keystroke(e,n),t.props.onUserChangedLatex(t.mathField.latex()))}}});this.props.needsSystemKeypad&&this.props.needsSystemKeypad()&&(o.substituteTextarea=function(){return s('<textarea autocorrect="off" autocapitalize="none" spellcheck="false" autocomplete="off">')[0]}),this.$mathField=s(e),this.mathField=a.MQ.MathField(e,o),e._mqMathFieldInstance=this.mathField,e._mqViewInstance=this,this.$mathField.on("focusin.view focusout.view",(function(e){return t.onFocusEvent(e)})).on("paste.view",(function(e){return t.onPasteEvent(e)})),(i.IS_IOS||i.IS_ANDROID)&&this.$mathField.on("keypress.view",(function(e){return t.onKeypressEvent(e)})),this.hookupMQTapTouch(),this.updateMathquill()},u.prototype.didUpdate=function(){this.updateMathquill()},u.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex(),this.updateMathquillFocused(),this.updateMathquillPostLabel()},u.prototype.onFocusEvent=function(e){var t=this.isFocused();t!==this.shouldBeFocused()&&this.props.onFocusedChanged(t,e)},u.prototype.onPasteEvent=function(e){var t="",n=window.clipboardData,r=e.originalEvent;n&&n.getData?t=n.getData("Text"):r&&r.clipboardData&&r.clipboardData.getData&&(t=r.clipboardData.getData("text/plain"));var i=this.viewCanAcceptText(t);return!i&&this.props.onExpressionSizeExceeded&&this.props.onExpressionSizeExceeded(),i},u.prototype.viewCanAcceptText=function(e){return u.canAcceptText(this.mathField,this.props.capExpressionSize(),e)},u.canAcceptText=function(e,n,r){if(!e)return!1;if(!n)return!0;var i=e.latex();return l.countLatexTokens(i)+l.countLatexTokens(r)<=t.EXPRESSION_TOKEN_LIMIT},u.prototype.onKeypressEvent=function(e){if(e.stopPropagation(),e.preventDefault(),this.mathField){var t=e.key&&1===e.key.length?e.key:void 0;t&&this.viewCanAcceptText(t)&&(this.props.onUserTypedText?this.props.onUserTypedText(t):(this.mathField.typedText(t),this.props.onUserChangedLatex(this.mathField.latex())))}},u.prototype.hookupMQTapTouch=function(){var e=this;this.$mathField.on("dcg-tap.view",(function(t){if("touch"===t.device&&e.mathField){var n=t.changedTouches[0];e.mathField.clickAt(n.clientX,n.clientY,n.target),e.isFocused()||e.mathField.focus();var r=void 0;setTimeout((function(){r=Date.now()}),0),e.mathField.ignoreNextMousedown((function(){return void 0===r||Date.now()-r<500}))}}))},u.prototype.updateMathquillAria=function(){if(this.mathField){var e=this.props.getAriaLabel();e!==this.mathField.getAriaLabel()&&this.mathField.setAriaLabel(e)}},u.prototype.updateMathquillPostLabel=function(){this.mathField&&this.mathField.setAriaPostLabel(this.props.getAriaPostLabel(),this.props.hasError()?5e3:1e3)},u.prototype.updateMathquillLatex=function(){var e=this.props.latex();this.mathField&&this.lastLatexProp!==e&&(this.props.capExpressionSize()&&l.countLatexTokens(e)>t.EXPRESSION_TOKEN_LIMIT||(this.lastLatexProp=e,this.mathField.latex()!==e&&this.mathField.latex(e)))},u.prototype.updateMathquillFocused=function(){if(this.mathField){var e=this.isFocused(),t=this.shouldBeFocused();t&&t!==this.wasFocusedLastUpdate&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.mathField.select(),this.wasFocusedLastUpdate=t,e!==t&&(t?this.mathField.focus():this.mathField.blur())}},u.prototype.isFocused=function(){return!(!document.activeElement||!s(document.activeElement).closest(this.$mathField).length)},u.prototype.shouldBeFocused=function(){return this.props.isFocused()},u.getFocusedMathquill=function(){if(document.activeElement){var e=s(document.activeElement).closest(".dcg-mq-editable-field")[0];return e?e._mqMathFieldInstance:void 0}},u.getMQViewInstance=function(e){var t=e.el();return t?t._mqViewInstance:void 0},u.applyArrowKeyAndReturnIfWasAtBounds=function(e,t,n){var r=s(e.el()),i=r.find(".dcg-mq-selection"),o=1===i.length&&i.parent().parent()[0]===r[0]&&1===i.parent().children().length;if(("Up"===t||"Down"===t)&&o)return e.keystroke(t,n),!0;var a=r.find(".dcg-mq-cursor")[0];if(!a)return e.keystroke(t,n),!1;var c=a.previousSibling||a.parentElement;return e.keystroke(t,n),c===(a.previousSibling||a.parentElement)},u.simulateKeypress=function(e,t){var n=u.getMQViewInstance(e);n&&(n.props.onUserPressedKey?n.props.onUserPressedKey(t):(e.keystroke(t),n.props.onUserChangedLatex(e.latex())))},u.simulateUserChangedLatex=function(e){var t=u.getMQViewInstance(e);t&&t.mathField&&t.props.onUserChangedLatex(t.mathField.latex())},u.handleKeystrokeAndDecideIfSpecialEvent=function(e,t,n){return"Enter"===t||"Delete"===t&&""===e.latex()||"Backspace"===t&&""===e.latex()||("Up"===t||"Down"===t||"Left"===t||"Right"===t?u.applyArrowKeyAndReturnIfWasAtBounds(e,t,n):(e.keystroke(t,n),!1))},u}(o.Class);t.default=u})),i("graphing/poilabelslayer",["require","exports","core/vendor/d3-color","tslib","dcgview","jquery","core/lib/label","core/types/graphmode","core/types/point-size","core/math/poi-type","./constants","./poi","./automatic-label-placer","core/lib/color-helpers","core/math/interpolatedlabel","../dcgview-helpers/static-mathquill-view","../dcgview-helpers/mathquill-view","core/graphing-calc/json/expression","graphing-calc/models/expression","graphing-calc/models/abstract-item","graphing/canvas-labels","graphing/movablepointslayer","./svg-groups","main/mathquill-operators","core/types/point-opacity"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v,x,w,A,E,k){Object.defineProperty(t,"__esModule",{value:!0});var I=i.Components.Input,S=i.Components,M=S.For,C=S.Switch,D=S.IfElse;function T(e,t,n){var r=e.s("graphing-calculator-label-poi-unknown"),i=t.getProjection();if(!i)return r;var o=i.viewport;return o?(n&&(r=w.getCoordsString(n.x,n.y,o)),r):r}var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelsDirty=!1,t}return r.__extends(t,e),t.prototype.init=function(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.cachedLabelDict={},this.cachedLabelOrder=[],this.hoveredPOI=void 0,this.openedPOI2Sketch={},this.takingScreenshot=!1},t.prototype.template=function(){var e=this;return i.createElement(M,{each:function(){return e.cachedLabelOrder}},i.createElement("div",{class:i.const("dcg-graph-outer"),style:this.const({"z-index":0}),didMount:this.didMountRoot.bind(this)},(function(t){return i.createElement("div",{class:function(){return e.getLabelClasses(t)},style:function(){return e.getLabelStyles(t)}},i.createElement("div",{class:i.const("dcg-pt"),style:function(){return e.getDotStyles(t)}}),i.createElement("div",{class:i.const("dcg-label"),didMount:function(n){return e.linkLabelNode(t,n)}},e.renderLabelContent(t)))})))},t.prototype.renderLabelContent=function(e){var t=this;return i.createElement(C,{key:function(){return t.getLabelContent(e).type}},(function(n){return"text"===n?i.createElement("span",{class:i.const("dcg-label-raw-text")},(function(){return t.getLabelContent(e).text})):"latex"===n?i.createElement(f.default,{latex:function(){return t.getLabelContent(e).text},config:t.bindFn(t.getMQConfig)}):"mixed"===n?i.createElement(M,{each:function(){return h.chunkLabel(t.getLabelContent(e).text)},key:function(e,t){return""+e+t}},i.createElement("span",null,(function(e){return D((function(){return"latex"===h.classifyLabelText(e)}),{true:function(){return i.createElement(f.default,{latex:function(){return e.substr(1,e.length-2)},config:t.bindFn(t.getMQConfig)})},false:function(){return i.createElement("span",{class:i.const("dcg-label-raw-text")},(function(){return e}))}})}))):n===y.EditableLabelMode.Math?i.createElement("div",{class:function(){return{"dcg-editable-label-border":!0,"dcg-do-not-blur":!0,"dcg-focus":t.shouldEditableLabelBeFocused(e),"dcg-empty-label":0===t.getEditableLabelText(e).trim().length}},style:function(){return{"border-color":g.shadeColor(t.getEditableLabelTextColor(e),.3)}}},i.createElement(m.default,{latex:function(){return t.getEditableLabelText(e)},placeholder:function(){return""},isFocused:function(){return t.shouldEditableLabelBeFocused(e)},capExpressionSize:function(){return!!t.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:i.const(!1),config:t.bindFn(t.getMQConfig),getAriaLabel:function(){return t.controller.s("graphing-calculator-narration-editable-point-label-at-coordinates",{coordinates:T(t.controller,t.grapher,t.cachedLabelDict[e])})},getAriaPostLabel:t.const(""),onUserChangedLatex:function(n){return t.onLabelInput(n,e)},onExpressionSizeExceeded:function(){return t.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(n){return t.onEditableLabelFocusChange(n,e)},hasError:t.const(!1),noFadeout:t.const(!0),needsSystemKeypad:function(){return!t.controller.isKeypadEnabled()}})):i.createElement("div",{class:function(){return{"dcg-resizing-text-input-container":!0,"dcg-editable-label-border":!0,"dcg-focus":t.shouldEditableLabelBeFocused(e),"dcg-empty-label":0===t.getEditableLabelText(e).trim().length}},style:function(){return{"border-color":g.shadeColor(t.getEditableLabelTextColor(e),.3)}},onScroll:function(e){e.target&&(e.target.scrollLeft=0)}},i.createElement(I,{"aria-label":function(){return t.controller.s("graphing-calculator-narration-editable-point-label-at-coordinates",{coordinates:T(t.controller,t.grapher,t.cachedLabelDict[e])})},onInput:function(n){return t.onLabelInput(n,e)},value:function(){return t.getEditableLabelText(e)},onFocus:function(){return t.onEditableLabelFocusChange(!0,e)},onBlur:function(){return t.onEditableLabelFocusChange(!1,e)}}),i.createElement("span",{class:i.const("dcg-text-input-content")},(function(){return t.getEditableLabelText(e)||" "})))}))},t.prototype.getSketchIdFromLabelId=function(e){var t=this.cachedLabelDict[e];if(t)return t.sketchId},t.prototype.getEditableLabelTextColor=function(e){var t=this.getSketchIdFromLabelId(e);if(!t)return"#000";var n=this.controller.getItemModel(t);return n&&"expression"===n.type?v.getDisplayColor(n):"#000"},t.prototype.onEditableLabelFocusChange=function(e,t){var n=this.getSketchIdFromLabelId(t);n&&(e?this.controller.dispatch({type:"set-focus-location",location:{type:"editable-label",id:n}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"editable-label",id:n}}),this.update())},t.prototype.shouldEditableLabelBeFocused=function(e){var t=this.getSketchIdFromLabelId(e),n=this.controller.getFocusLocation();return!(!n||"editable-label"!==n.type||!t||n.id!==t)},t.prototype.onLabelInput=function(e,t){var n=this.getSketchIdFromLabelId(t);if(n&&this.grapher.poiController.getExpressionModel(n)){var r=e;this.controller.getItemEditableLabelMode(n)===y.EditableLabelMode.Math&&r.length>0&&(r="`"+r+"`"),this.controller.dispatch({type:"set-item-label",id:n,label:r})}},t.prototype.getEditableLabelText=function(e){var t=this.getSketchIdFromLabelId(e);if(t){var n=this.grapher.poiController.getExpressionModel(t);return n?this.controller.getItemEditableLabelMode(t)===y.EditableLabelMode.Math?n.label.substr(1,n.label.length-2):n.label:""}},t.prototype.linkLabelNode=function(e,t){var n=this.cachedLabelDict[e];n&&(n.labelDOM=t)},t.prototype.getLabelClasses=function(e){var t=this.cachedLabelDict[e];return t?t.classes:{}},t.prototype.getLabelStyles=function(e){var t=this.cachedLabelDict[e];return t?t.styles:{}},t.prototype.getDotStyles=function(e){var t=this.cachedLabelDict[e];return t?t.dotStyles:{}},t.prototype.getLabelContent=function(e){var t=this.cachedLabelDict[e];if(t){var n=this.getSketchIdFromLabelId(e);if(!n)return{is_hole:!1,type:"text",text:""};var r=this.controller.getItemEditableLabelMode(n);return t.classes["dcg-editable-label"]&&void 0!==r&&r!==y.EditableLabelMode.None?{is_hole:!1,type:r,text:""}:t.content}return{is_hole:!1,type:"text",text:""}},t.prototype.didMountRoot=function(e){this.node=e},t.prototype.computeHoveredLabel=function(e,t){var n;this.hoveredPOI?this.isOpenPOI(this.hoveredPOI)?this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-opened-poi"):(n=this.computeLabel(this.hoveredPOI,e,t,"hovered"),this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-closed-poi")):this.grapher.setLayerClass("hoveredPOI",void 0);var r=this.getHoveredInteractiveLabel();r&&!r.bareLabel?this.grapher.setLayerClass("interactiveLabel","dcg-mouse-over-opened-poi"):this.grapher.setLayerClass("interactiveLabel",void 0),n&&this.saveLabelToCache(n)},t.prototype.computeTraceLabel=function(e,t){if(this.traceInfo){var n=this.traceInfo.pt;if(n){var r=new u.POI(n.x,n.y,l.TRACE,this.traceInfo.branchInfo.sketch,this.traceInfo.branchInfo.branch,0),i=this.computeLabel(r,e,t,"trace");i&&this.saveLabelToCache(i)}}},t.prototype.computeLabel=function(e,t,r,i){var o=e.id+"";"trace"===i&&(o="*trace*");var c=t.mapx(e.x),u=t.mapy(e.y),p=c,g=u;if(t.coordsAreOnscreen(c,u,d.OFFSCREEN_RENDER_MARGIN)){if(this.isHiddenInteractiveLabel(e))return;var f=!1,m=void 0,y=e.sketch,v=y&&y.branches[0];v&&(f=!(!("nakedLabel"in v)||!v.nakedLabel),m="labelOrientation"in v?v.labelOrientation:void 0);var x=y.id,w=this.controller.getItemModel(x);if(e.hasEditableLabel()&&w&&"expression"===w.type&&!b.isSinglePoint(w))return;var A=function(e,t){var n,r=t.xmax-t.xmin,i=t.ymax-t.ymin,o=e.getGraphMode();if(e.type===l.TRACE){var c=o===s.X,d=c?e.y:e.x,u=e.getCompiledFunction();if(n=a.point(d,r,i,u),c){var p=n[0];n[0]=n[1],n[1]=p}}else n=[a.value(e.x,r),a.value(e.y,i)];var g=!isFinite(n[1].value),f=e.getLabel(),m=f&&h.classifyLabelText(f);if(f)return"latex"===m?{is_hole:g,type:"latex",text:f.substr(1,f.length-2)}:"text"===m?{is_hole:g,type:"text",text:f}:{is_hole:g,type:"mixed",text:f};if(e.hasEditableLabel())return{is_hole:g,type:"text",text:""};var y=n[0].superscript?n[0].mantissa+"^{"+n[0].superscript+"}":n[0].string,b=n[1].superscript?n[1].mantissa+"^{"+n[1].superscript+"}":n[1].string;return"undefined"===y&&(y="\\mathrm{undefined}"),"undefined"===b&&(b="\\mathrm{undefined}"),{is_hole:g,type:"latex",text:"\\left("+y+",\\space "+b+"\\right)"}}(e,t.viewport),E=e.pointIdxOnBranch,I=e.getLabelSize();Array.isArray(I)&&(I=I[E]);var S=e.getLabelRotation();Array.isArray(S)&&(S=S[E]);var M=e.getPointOpacity();M=Array.isArray(M)?M[E]:M,M=isFinite(M)?Math.max(0,Math.min(1,M)):k.DEFAULT;var C=!!e.getTextOutline(),D=e.isPersistent(),T=e.isAttachedToPlottedPoint(),L=e.hasInteractiveLabel(),_=e.hasEditableLabel()&&!this.takingScreenshot,O=!(!w||"expression"!==w.type||!b.isClickableObject(w)),B=y.color;if(O){var P=this.grapher.clickableObjectsLayer.getHoveredObject(),F=this.grapher.clickableObjectsLayer.getPressedObject();if(F&&F.id===x&&F.listIndex===e.pointIdxOnBranch)(N=n.hsl(B)).l>.2?N.l-=.2:N.l+=.1,B=N.toString();else if(P&&P.id===x&&P.listIndex===e.pointIdxOnBranch){var N;(N=n.hsl(B)).l>.2?N.l-=.1:N.l+=.2,B=N.toString()}}var q=!D,R=!!T;L&&(R=!0,q=!0),"trace"===i&&(R=!1,q=!0);var z=r[o],U=z&&z.labelDOM,j=z&&z.width,Q=z&&z.height,G=z&&z.orientation,V={"dcg-poi-label":!0,"dcg-tracept":"trace"===i,"dcg-opened":"opened"===i,"dcg-hole":A.is_hole,"dcg-show-border":q,"dcg-hide-dot":R,"dcg-editable-label":_,"dcg-has-outline":C,"dcg-underlined-label":!!(O&&w&&"expression"===w.type&&w.hidden)};isFinite(I)||(I=1);var Y={left:c+"px",top:u+"px","font-size":Math.round(1100*I)/10+"%"};S&&!this.takingScreenshot&&(Y.transform="rotate("+S+"rad)"),D&&B&&(Y.color=B),Y.opacity=""+Math.min(.99,M);var H={};return"trace"===i&&(H["background-color"]=B,H["border-color"]=B),{id:o,sketchId:x,poi:e,x:e.x,y:e.y,screenX:c,screenY:u,top:g,left:p,width:j,height:Q,labelDOM:U,forcedOrientation:m,isNakedLabel:f,isClickable:O,orientation:G,rotation:S,classes:V,styles:Y,dotStyles:H,content:A,hasBorder:e.hasEditableLabel(),opacity:M,hasOutline:C||e.hasEditableLabel()}}},t.prototype.computeAllLabels=function(e,t){var n,r,i=this,o=this.grapher.graphSketches;this.grapher.getSketchOrder().forEach((function(n){var a=o[n];if(a&&a.visible){var s=a.labels;if(s.length)for(var c=0;c<s.length;c++)(r=i.computeLabel(s[c],e,t,"opened"))&&(Array.isArray(a.color)&&(r.styles.color=a.color[c]),i.saveLabelToCache(r))}}));var a,s,c={};for(n in this.openedPOI2Sketch){var l=(a=n,(s=o[this.openedPOI2Sketch[n]])&&s.visible?s.getPOIById(a):null);l&&(c[n]=l.sketch.id,(r=this.computeLabel(l,e,t,"opened"))&&this.saveLabelToCache(r))}return this.openedPOI2Sketch=c,{}},t.prototype.saveLabelToCache=function(e){var t=e.id;this.cachedLabelDict[t]||this.cachedLabelOrder.push(t),this.cachedLabelDict[t]=e},t.prototype.markLabelsDirty=function(){this.labelsDirty=!0},t.prototype.getInteractiveLabelUnderPoint=function(e){for(var t,n=this.cachedLabelOrder.length-1;n>=0;n--){var r=this.cachedLabelOrder[n],i=this.cachedLabelDict[r];if(i&&i.width&&i.height){var o=i.screenX,a=i.screenY,s=i.left,c=i.top,l=i.width,d=i.height;if(l>0&&d>0&&e.x>o+s&&e.x<o+s+l&&e.y>a+c&&e.y<a+c+d){var u=this.getSketchIdFromLabelId(r);if(void 0===u)continue;var p=this.controller.getItemModel(u);if(!p||"expression"!==p.type)continue;if(b.hasEditableLabel(p))return{type:"editable",model:p};!t&&b.isDraggableAndHidden(p)?t={type:"draggable",label:{model:p,x:i.x,y:i.y}}:!t&&i.isClickable&&(t={type:"clickable",model:p,poi:i.poi})}}}return t},t.prototype.positionLabels=function(e,t,n,r,i){var a=this,s=!this.labelsDirty;this.labelsDirty=!1;var l=[];t.forEach((function(e){var t=n[e];if(t&&t.labelDOM){var r,i=a.getSketchIdFromLabelId(e);if(void 0!==i){var o=a.grapher.getGraphSketch(i);o&&o.branches&&(r=o.branches[0].pointSize)}(void 0===r||"number"!=typeof r||r<0)&&(r=c.DEFAULT);var d=(a.grapher.settings.config.projectorMode?14:10)*r/c.DEFAULT,u=t.screenX,p=t.screenY,g=t.labelDOM.clientWidth,h=t.labelDOM.clientHeight;if(g>0&&h>0){var f=0;a.takingScreenshot&&t.hasBorder&&(f=5),l.push({renderedLabel:t,pt_x:u,pt_y:p,pt_radius:d+f,rotation:t.rotation,nakedLabel:t.isNakedLabel,width:g,height:h,keepOrientation:s,priorOrientation:t.orientation,enforceOrientation:t.forcedOrientation})}}}));var d=p.buildStaticEnvGetter(e,r,i),u=l.map((function(e){return p.generateCandidatesForPoint(d,e)}));p.computePositions(u).forEach((function(e,t){var n=l[t].renderedLabel;n.orientation=e.orientation;var r=e.left-e.pt_x,i=e.top-e.pt_y;n.left=r,n.top=i,n.width=e.width,n.height=e.height;var a=n.labelDOM;a&&(a.style.transform=e.transform,o(a).data("orientation",e.orientation),setTimeout((function(){return a.classList.add("dcg-enable-transition")}),1))}))},t.prototype.copyToCtx=function(e){var t=this;A.save(e,"labels");var n=this.node.getBoundingClientRect();this.cachedLabelOrder.forEach((function(r){var i=t.cachedLabelDict[r];if(i){var o=i.labelDOM;if(o){var a={pointCenterX:i.screenX-n.left,pointCenterY:i.screenY-n.top,hasOutline:!!i.hasOutline,hasBorder:!!i.hasBorder},s=t.computeRotatedCenter(a.pointCenterX,a.pointCenterY,i.rotation),c=x.computeDrawingCommandsForDOMLabel(o,a);e.save(),e.globalAlpha=i.opacity,e.rotate(i.rotation),e.translate(s.x,s.y),x.drawCommandsToCtx(c,e),e.restore()}}})),A.restore(e)},t.prototype.computeRotatedCenter=function(e,t,n){var r=Math.cos(-n),i=Math.sin(-n);return{x:e*r-t*i,y:t*r+e*i}},t.prototype.drawForScreenshot=function(e,t,n,r,i){this.takingScreenshot=!0,this.redraw(e,t,r,i),this.takingScreenshot=!1,this.copyToCtx(n)},t.prototype.redraw=function(e,t,n,r){var i=this.cachedLabelDict;this.cachedLabelDict={},this.cachedLabelOrder=[],this.computeAllLabels(e,i),this.computeHoveredLabel(e,i),this.computeTraceLabel(e,i),this.update(),this.positionLabels(t,this.cachedLabelOrder,this.cachedLabelDict,n,r)},t.prototype.clearOpenedPOI=function(){this.openedPOI2Sketch={}},t.prototype.closePOI=function(e){delete this.openedPOI2Sketch[e.id]},t.prototype.openPOI=function(e){this.openedPOI2Sketch[e.id]=e.sketch.id},t.prototype.isOpenPOI=function(e){return this.openedPOI2Sketch.hasOwnProperty(e.id)},t.prototype.isOpenInteractiveLabel=function(e){return!!this.isOpenPOI(e)&&e.hasInteractiveLabel()},t.prototype.isHiddenInteractiveLabel=function(e){return!!e&&!!e.hasInteractiveLabel()&&!this.isOpenPOI(e)&&this.getHoveredPOI()!==e},t.prototype.setHoveredPOI=function(e){this.hoveredPOI=e},t.prototype.getHoveredPOI=function(){return this.hoveredPOI},t.prototype.getHoveredInteractiveLabel=function(){var e=this.getHoveredPOI();return e&&e.hasInteractiveLabel()?e:void 0},t.prototype.setTraceInfo=function(e){this.traceInfo=e},t.prototype.isTracing=function(){return!!this.traceInfo},t.prototype.getTraceInfo=function(){return this.traceInfo},t.prototype.getMQConfig=function(){return{autoOperatorNames:E.getAutoOperators()}},t}(i.Class);t.default=L})),i("graphing/imagelayer",["require","exports","tslib","jquery","dcgview","underscore","./draw-image-to-ctx","./svg-groups","graphing-calc/models/image","core/lib/label","keys","lib/aria","./movablepointslayer","lib/mathspeak"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g){Object.defineProperty(t,"__esModule",{value:!0});var h=i.Components.For,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.renderedTabTargetOrder=[],this.renderedTabTargets={}},t.prototype.template=function(){var e=this;return i.createElement(h,{each:function(){return e.renderedTabTargetOrder}},i.createElement("div",{class:i.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:this.bindFn(this.handleFocusChange),onFocusout:this.bindFn(this.handleFocusChange),onKeydown:this.bindFn(this.handleKeydown),didMount:function(t){return e.rootNode=t}},(function(t){return i.createElement("div",{class:i.const("dcg-tabbable-draggableimage"),style:function(){return e.getStyle(t)},role:i.const("button"),"aria-roledescription":function(){return e.controller.s("graphing-calculator-narration-draggable-image-description")},"dcg-draggableimage-id":e.const(t),tabindex:function(){return e.getTabIndex()},"aria-hidden":e.bindFn(e.getAriaHidden),"aria-label":function(){return e.getAriaLabel(t)}})})))},t.prototype.redrawToCtx=function(e,t,n,r){this.renderedTabTargets={},this.renderedTabTargetOrder=[],s.save(e,"background-images"),(void 0===r||r.length<o.size(n))&&(r=o.keys(n));for(var i=0,l=r;i<l.length;i++){var d=l[i],u=n[d];u&&u.shouldGraph&&!u.foreground&&a.drawImageToCtx(u,e,t);var p=this.controller.getItemModel(d);if(p&&"image"===p.type&&!p.hidden&&c.isActuallyDraggable(p)){var g=p.formula.dimensions;if(!(g&&g.x&&g.y&&g.width&&g.height&&g.radianAngle))continue;for(var h=0;h<g.x.length;h++)if(isFinite(g.x[h])&&isFinite(g.y[h])&&isFinite(g.width[h])&&isFinite(g.height[h])&&isFinite(g.radianAngle[h])){this.renderedTabTargetOrder.push(d),this.renderedTabTargets[d]={id:d,description:this.getComputedDescription(p,h),x:g.x[h],y:g.y[h],radianAngle:g.radianAngle[h],width:g.width[h],height:g.height[h],widthScale:Math.abs(t.mapx(1)-t.mapx(0)),heightScale:Math.abs(t.mapy(1)-t.mapy(0)),screenX:t.mapx(g.x[h]),screenY:t.mapy(g.y[h]),centerId:p.formula.center_reference_id};break}}}s.restore(e),this.update(),this.speakAriaAlert()},t.prototype.getStyle=function(e){var t=this.renderedTabTargets[e];if(t){var n=t.screenX,r=t.screenY,i=t.radianAngle,o=t.width,a=t.height,s=t.widthScale,c=t.heightScale,l=c/s,d=o*s,u=a*c/l;return{position:"absolute",top:0,left:0,transform:"translate("+(n-d/2)+"px, "+(r-u/2)+"px)"+(1===l?"":" scale(1,"+l+")")+(i?" rotate("+i+"rad)":""),width:d+"px",height:u+"px"}}},t.prototype.getTabIndex=function(){var e=this.grapher.settings;return e.config.graphpaper&&e.config.enableTabindex?0:-1},t.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},t.prototype.getComputedDescription=function(e,t){var n=e.formula&&e.formula.computed_description&&e.formula.computed_description[t];return n&&""!==n?g.getMathspeakFromText(n):this.grapher.getAudioTrace().getExpressionAriaLabel(e.id)},t.prototype.getAriaLabel=function(e){var t=this.getAriaAlert({id:e,includeUsageInstructions:!1});return t&&t.completeMessage},t.prototype.speakAriaAlert=function(){var e=this.focusedId;if(!e||this.renderedTabTargets[e]){var t=this.getAriaAlert({id:e,lastAriaAlert:this.lastAriaAlert,includeUsageInstructions:!0});this.lastAriaAlert=t,t&&t.completeMessage&&u.alert(t.completeMessage)}},t.prototype.getAriaAlert=function(e){var t=e.id,n=e.lastAriaAlert,r=e.includeUsageInstructions;if(t){var i=this.controller.getItemModel(t);if(i&&"image"===i.type){var o=this.renderedTabTargets[t];if(o){n&&n.id!==t&&(n=void 0);var a=n&&n.label,s=o.description,c=a!==s,l=n&&n.coordX,d=n&&n.coordY,u=o.x,g=o.y,h=u!==l||g!==d,f=this.grapher.getProjection(),m=p.getCoordsString(u,g,f.viewport)+".",y=s,b=r?this.controller.s("graphing-calculator-narration-movable-point-suffix-usage-instructions"):"",v=this.isImageFullyVisible(i,f)?"":this.controller.s("graphing-calculator-narration-draggable-image-off-screen-prompt");return{id:t,coordX:u,coordY:g,label:s,completeMessage:n?c?y+v:h?m+v:"":y+". "+m+b+v}}}}},t.prototype.handleFocusChange=function(){var e=void 0;document.activeElement&&r.contains(this.rootNode,document.activeElement)&&(e=r(document.activeElement).attr("dcg-draggableimage-id")),this.focusedId!==e&&(this.focusedId=e,this.lastAriaAlert=void 0,this.requestRedrawNextFrame())},t.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},t.prototype.handleKeydown=function(e){if(this.focusedId){var t=this.renderedTabTargets[this.focusedId];if(t){var n=d.lookup(e),r=d.lookupChar(e);"Up"===n||"Down"===n||"Left"===n||"Right"===n?(e.stopPropagation(),e.preventDefault(),this.moveImageFromKeyboard(t,e)):"X"!==r&&"Y"!==r&&"L"!==r||this.speakImageAttribute(t,r)}}},t.prototype.moveImageFromKeyboard=function(e,t){if(void 0!==e&&void 0!==e.centerId){var n,r=this.grapher.getProjection(),i=r.map_pt({x:e.x,y:e.y}),o=0,a=0,s=t.shiftKey?10:2,c=t.shiftKey?"big":"",l=d.lookup(t);if("Up"===l?(n="y",a-=s,c+="up"):"Down"===l?(n="y",a+=s,c+="down"):"Left"===l?(n="x",o-=s,c+="down"):"Right"===l&&(n="x",o+=s,c+="up"),(0!==o||0!==a)&&""!==c){var u={x:i.x+o,y:i.y+a},p={};"x"===n||this.hasNonlinearMoveStrategy(e.centerId)?p={x:c}:"y"===n&&(p={y:c}),this.controller.dispatch({type:"on-move-point",pointInfo:{sketch:{id:e.centerId}},screenPt:u,projection:r,keyboardDirection:p})}}},t.prototype.speakImageAttribute=function(e,t){if(e&&this.grapher.getAudioTrace()){var n=this.grapher.getProjection();if(n){var r=n.viewport;switch(t){case"X":u.alert("X: "+l.value(e.x,r.xmax-r.xmin).ariaString);break;case"Y":u.alert("Y: "+l.value(e.y,r.ymax-r.ymin).ariaString);break;case"L":u.alert(e.description)}}}},t.prototype.hasNonlinearMoveStrategy=function(e){if(!e)return!1;var t=this.controller.getItemModel(e);if(!t||"expression"!==t.type||!t.formula)return!1;var n=t.formula.move_strategy;return!(!n||!n[0])&&"updateSliderNonlinear"===n[0].type},t.prototype.isImageFullyVisible=function(e,t){var n=e.formula.dimensions;if(!n||!n.x||!n.y)return!1;for(var r=0;r<n.x.length;r++)if(!t.coordsAreOnscreen(t.mapx(n.x[r]),t.mapy(n.y[r])))return!1;return!0},t}(i.Class);t.default=f})),i("graphing/clickableobject-layer",["require","exports","tslib","dcgview","core/types/graphmode","jquery","graphing-calc/models/expression","graphing-calc/models/image","lib/mathspeak"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components.For;function d(e,t){return void 0===t&&(t=0),e+"i"+t}var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.renderedTabTargetOrder=[],this.renderedTabTargets={}},t.prototype.template=function(){var e=this;return r.createElement(l,{each:function(){return e.renderedTabTargetOrder}},r.createElement("div",{class:r.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:this.bindFn(this.handleFocusChange),onFocusout:this.bindFn(this.handleFocusChange),didMount:function(t){return e.rootNode=t}},(function(t){return r.createElement("div",{class:r.const("dcg-tabbable-clickableobject"),role:r.const("button"),"aria-roledescription":function(){return e.controller.s("graphing-calculator-narration-clickable-object-description")},"dcg-clickableobject-id":function(){return e.getModelId(t)},tabindex:function(){return e.getTabIndex(t)},"aria-hidden":e.bindFn(e.getAriaHidden),"aria-label":function(){return e.getCachedDescription(t)},onTap:function(){e.controller.dispatch({type:"clickable-item-clicked",id:e.getModelId(t),listIndex:e.getListIndex(t)})}})})))},t.prototype.redraw=function(){var e=this;this.renderedTabTargets={},this.renderedTabTargetOrder=[];for(var t=this.grapher.getSketchOrder(),n=function(t){var n=r.controller.getItemModel(t);if(!n)return"continue";var o=r.grapher.getGraphSketch(t),c=r.grapher.getGraphImage(t);if(o&&o.visible&&"expression"===n.type&&a.isClickableObject(n))for(var l=function(t){var a=o.branches[t];if(!a.segments||0===a.segments.length)return"continue";var s=0;a.graphMode===i.XYPOINT||a.graphMode===i.XYPOINT_MOVABLE?o.getBranchPOI(t).forEach((function(t){s=t.pointIdxOnBranch||0,isFinite(t.x)&&isFinite(t.y)&&e.addClickableObjectToDom(n,s)})):(s="listIndex"in a&&void 0!==a.listIndex?a.listIndex:0,a.segments.length>0&&r.addClickableObjectToDom(n,s))},d=0;d<o.branches.length;d++)l(d);else if(c&&c.shouldGraph&&"image"===n.type&&s.isClickableObject(n)){var u=n.formula&&n.formula.dimensions;if(!(u&&u.x&&u.y&&u.width&&u.height&&u.radianAngle))return"continue";for(d=0;d<u.x.length;d++)isFinite(u.x[d])&&isFinite(u.y[d])&&isFinite(u.width[d])&&isFinite(u.height[d])&&isFinite(u.radianAngle[d])&&r.addClickableObjectToDom(n,d)}},r=this,o=0,c=t;o<c.length;o++)n(c[o]);this.hoveredObject&&!this.renderedTabTargets[d(this.hoveredObject.id,this.hoveredObject.listIndex)]&&this.setHoveredObject(void 0),this.pressedObject&&!this.renderedTabTargets[d(this.pressedObject.id,this.pressedObject.listIndex)]&&this.setPressedObject(void 0),this.hoveredObject||this.pressedObject?this.grapher.setLayerClass("clickableObjects","dcg-mouse-over-clickable-object"):this.grapher.setLayerClass("clickableObjects",void 0),this.update()},t.prototype.addClickableObjectToDom=function(e,t){var n=d(e.id,t);-1===this.renderedTabTargetOrder.indexOf(n)&&void 0===this.renderedTabTargets[n]&&(this.renderedTabTargetOrder.push(n),this.renderedTabTargets[n]={type:e.type,id:e.id,listIndex:t,description:this.getComputedDescription(e,t)})},t.prototype.getTabIndex=function(e){if(!this.renderedTabTargets[e])return-1;var t=this.grapher.settings;return t.config.graphpaper&&t.config.enableTabindex?0:-1},t.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},t.prototype.getCachedDescription=function(e){return this.renderedTabTargets[e].description},t.prototype.getComputedDescription=function(e,t){var n=e.formula&&e.formula.computed_description&&e.formula.computed_description[t];return n&&""!==n?c.getMathspeakFromText(n):this.grapher.getAudioTrace().getExpressionAriaLabel(e.id)},t.prototype.getModelId=function(e){var t=this.renderedTabTargets[e];return t?t.id:""},t.prototype.getListIndex=function(e){var t=this.renderedTabTargets[e];return t?t.listIndex:0},t.prototype.shouldDrawHovered=function(e){return e===this.focusedId||!(this.isAnObjectPressed()&&!this.isObjectPressed(e))&&this.isObjectHovered(e)},t.prototype.isObjectHovered=function(e){return void 0!==e&&!(!this.hoveredObject||this.hoveredObject.id!==e)},t.prototype.setHoveredObject=function(e){e&&this.hoveredObject&&e.id===this.hoveredObject.id&&e.listIndex===this.hoveredObject.listIndex||(this.hoveredObject=e,this.requestRedrawNextFrame())},t.prototype.getHoveredObject=function(){return this.hoveredObject},t.prototype.shouldDrawPressed=function(e){return this.isObjectPressed(e)},t.prototype.isObjectPressed=function(e){return void 0!==e&&!(!this.pressedObject||this.pressedObject.id!==e)},t.prototype.setPressedObject=function(e){e&&this.pressedObject&&e.id===this.pressedObject.id&&e.listIndex===this.pressedObject.listIndex||(this.pressedObject=e,this.requestRedrawNextFrame())},t.prototype.getPressedObject=function(){return this.pressedObject},t.prototype.isAnObjectPressed=function(){return!!this.pressedObject},t.prototype.handleFocusChange=function(){var e=void 0;document.activeElement&&o.contains(this.rootNode,document.activeElement)&&(e=o(document.activeElement).attr("dcg-clickableobject-id")),this.focusedId!==e&&(this.focusedId=e,this.requestRedrawNextFrame())},t.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},t}(r.Class);t.default=u})),i("graphing/grapher",["require","exports","main/graph_settings","./canvaslayer","./poidotslayer","./gridlayer","./viewportcontroller","./poicontroller","vendor/canvas2svg","dcgview","jquery","underscore","./viewport","./screen","./graphsketch","./projection","underscore_model","./audiograph","./canvas-braille","./braille-size-options","core/lib/deepCopy","core/lib/default-spec","core/graphing-calc/json/graph-settings","graphing/tonegenerator","./movablepointslayer","./poilabelslayer","./imagelayer","./clickableobject-layer","./svg-classes","./svg-groups","core/types/graphmode","./graphslayer"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v,x,w,A,E,k,I,S,M,C,D,T,L){function _(){return new p.Viewport(-10,10,-10,10)}Object.defineProperty(t,"__esModule",{value:!0}),t.Grapher=void 0;var O=function(){function e(e,t,n,c){var p=this;this.type="2d",this._layerClasses={},this.$=e,this.evaluator=c,this.controller=n,this.settings=t;var h=new g.Screen(1024,768),b=_().squareYAxis(h);this.setUserRequestedViewport(b),this.__projection=new f.Projection(h,b,t),this.markLabelsDirty=u.debounce((function(){p.evaluator.notifyWhenSynced((function(){p.__isRedrawingSlowly?p.notifyAfterRedraw((function(){p.poiLabelsLayer.markLabelsDirty(),p.redrawAllLayers()})):(p.poiLabelsLayer.markLabelsDirty(),p.redrawAllLayers())}))}),300),this.poiController=new s(this,t),this.viewportController=a(this,this.controller),this.showPOIDots=!0,this.$.css("overflow","hidden"),this.graphSketches={},this.graphImages={},this.audioGraph=new y.default(n,this),this.canvasLayer=r(this),this.$.append(this.canvasLayer.$);var v=d("<div></div>");this.$.append(v);var x=this;this.imageLayer=l.mountToNode(S.default,v[0],{grapher:function(){return x}}),this.gridLayer=o(),this.poiDotsLayer=i(),this.graphsLayer=new L.GraphsLayer(this.settings,(function(e){return p.audioGraph.getExpressionAriaLabel(e)}));var w=d("<div></div>");this.$.append(w),x=this,this.clickableObjectsLayer=l.mountToNode(M.default,w[0],{grapher:function(){return x}});var A=d("<div></div>");this.$.append(A),x=this,this.movablePointsLayer=l.mountToNode(k.default,A[0],{grapher:function(){return x}});var E=d("<div></div>");this.$.append(E),this.poiLabelsLayer=l.mountToNode(I.default,E[0],{grapher:function(){return x}}),this.traceLayer=this.poiLabelsLayer,this.scaleAxis=void 0,this.__sketchOrder=[],this.selectedId=void 0,this.__redrawRequested=!1,this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.events=new m.UnderscoreModel}return e.copyGraphProperties=function(e,t){for(var n in e=w.populateDefaults(A.DefaultGraphSettings,e),A.DefaultGraphSettings)A.DefaultGraphSettings.hasOwnProperty(n)&&t.setProperty(n,e[n]);return e},e.prototype.remove=function(){this.$.remove(),this.poiController.remove(),this.viewportController.remove(),this.audioGraph.remove()},e.prototype.tick=function(e){this.__isRedrawingSlowly?this._redrawSlowly():this.__redrawRequested&&this._redrawAllLayers(),this.__movablePointListener&&this.__movablePointListener()},e.prototype.registerMovablePointListener=function(e){this.__movablePointListener=e},e.prototype.deregisterMovablePointListener=function(){this.__movablePointListener=void 0},e.prototype.setSketchOrder=function(e){u.isEqual(this.__sketchOrder,e)||(this.__sketchOrder=e,this.redrawAllLayers())},e.prototype.clear=function(){this.graphSketches={},this.graphImages={}},e.prototype.getSketchOrder=function(){return this.__sketchOrder},e.prototype.getGraphSketch=function(e){return this.graphSketches[e]},e.prototype.getGraphImage=function(e){return this.graphImages[e]},e.prototype.addGraphSketch=function(e){this.graphSketches[e.id]=e},e.prototype.removeGraphSketch=function(e){delete this.graphSketches[e]},e.prototype.addGraphImage=function(e){var t=this;e.imageObj.width&&e.imageObj.height?(this.graphImages[e.id]=e,this.redrawAllLayers()):d(e.imageObj).on("load.calc_load",(function(){return t.addGraphImage(e)}))},e.prototype.removeGraphImage=function(e){var t=this.graphImages[e];t&&d(t.imageObj).off("load.calc_load"),delete this.graphImages[e],this.redrawAllLayers()},e.prototype.getProjection=function(){return this.__projection},e.prototype._setProjection=function(e){this.__projection=e,this.redrawAllLayers()},e.prototype.getAudioTrace=function(){return this.audioGraph},e.prototype.getDefaultViewport=function(){var e=this.getProjection();return _().squareYAxis(e.screen)},e.prototype._updateScreenSize=function(e,t){if(!(e<=0||t<=0)){var n=this.getProjection().screen;if(n.width!==e||n.height!==t){this.$.width(e);var r=new g.Screen(e,t);this.viewportController.setScreen(r)}}},e.prototype._setIsVisible=function(e){e!==this.isVisible&&(this.isVisible=e,e?this.redrawAllLayers():this.canvasLayer.resize(0,0))},e.prototype.update=function(){var e=this.controller.computeMajorLayout().grapher;e.width>0&&e.height>0?(this._setIsVisible(!0),this._updateScreenSize(e.width,e.height),this.$.css({position:"absolute",left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px"})):this._setIsVisible(!1)},e.prototype.hide=function(e){var t=this.getGraphSketch(e);t&&(t.visible=!1)},e.prototype.select=function(e){if(this.selectedId){var t=this.getGraphSketch(this.selectedId);t&&(t.selected=!1,t.showPOI=!1,t.showHighlight=!1)}var n=this.getGraphSketch(e);n&&(n.selected=!0,n.showPOI=this.controller.isTraceEnabled(),n.showHighlight=!0),this.selectedId=e},e.prototype.updateSketch=function(e,t){var n=this.getGraphSketch(e);if(!t.length)return this.hide(e);var r=new h.GraphSketch(e,t);t[0].graphMode!==T.ERROR&&(r.color=t[0].color,t[0].style&&(r.style=t[0].style)),n&&r.updateFrom(n);var i=String(e)===String(this.selectedId);r.selected=i,r.showPOI=i&&this.controller.isTraceEnabled(),r.showHighlight=i,this.addGraphSketch(r)},e.prototype.updateIntersections=function(e,t){var n=this.getGraphSketch(e);n&&n.updateIntersections(t)},e.prototype.redrawAllLayers=function(){this.cancelRedrawSlowly(),this.__redrawRequested=!0},e.prototype._clear=function(){var e=this.getProjection(),t=e.screen;this.canvasLayer.resize(e.screen.width,e.screen.height),this.canvasLayer.ctx.clearRect(0,0,t.width,t.height)},e.prototype._redrawAllLayers=function(){this.isVisible&&(this.__redrawRequested=!1,this._clear(),this.audioGraph.recomputePoints(),this._recomputeClickableObjects(),this._redrawImageLayer(),this._redrawGridLayer(),this._redrawGraphsLayer(),this._redrawPointsAndLabels(),this._updateCanvasLayerAria(),this.events.triggerEvent("redraw",void 0))},e.prototype.cancelRedrawSlowly=function(){this.__isRedrawingSlowly&&(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.redrawAllLayers())},e.prototype.redrawSlowly=function(){this.__isRedrawingSlowly||(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!0,this.audioGraph.recomputePoints())},e.prototype._redrawSlowly=function(){var e,t,n=this.__redrawSlowlyIndex;if(0===n&&(this._clear(),this._redrawGridLayer()),n>=this.__sketchOrder.length)this.cancelRedrawSlowly();else{var r=this.__sketchOrder[n],i=((e={})[r]=this.graphSketches[r],e),o=((t={})[r]=this.graphImages[r],t);(o[r]||i[r])&&this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),i,o,[r],this.poiLabelsLayer,this.clickableObjectsLayer),this.__redrawSlowlyIndex+=1}},e.prototype._redrawGridLayer=function(){this.gridLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.scaleAxis)},e.prototype._recomputeClickableObjects=function(){this.clickableObjectsLayer.redraw()},e.prototype._redrawGraphsLayer=function(){this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphSketches,this.graphImages,this.__sketchOrder,this.poiLabelsLayer,this.clickableObjectsLayer)},e.prototype._updateCanvasLayerAria=function(){var e=0;for(var t in this.graphSketches)E.canPlaySketch(this.graphSketches[t])&&(e+=1);this.canvasLayer.updateAria(this.isVisible,e)},e.prototype._redrawPointsAndLabels=function(){var e=this.getProjection(),t=[];this.movablePointsLayer.redraw(this.canvasLayer.ctx,e,t),this.showPOIDots&&this.poiDotsLayer.redrawToCtx(this.canvasLayer.ctx,e,this.graphSketches,this.poiLabelsLayer,this.clickableObjectsLayer);var n=this.$[0].getBoundingClientRect();u.each([this.controller.find$(".dcg-overgraph-pillbox-elements")[0],this.controller.find$(".dcg-graphpaper-branding")[0]],(function(e){if(e){var r=e.getBoundingClientRect();t.push({left:r.left-n.left,top:r.top-n.top,right:r.right-n.left,bottom:r.bottom-n.top})}}));var r=this.canvasLayer.ctx.canvas.getBoundingClientRect();this.poiLabelsLayer.redraw(e,this.canvasLayer.ctx,{width:r.width,height:r.height},t)},e.prototype._redrawImageLayer=function(){this.imageLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphImages,this.__sketchOrder)},e.prototype._parseScreenshotOpts=function(e){var t,r,i,o,a,s,c=this.getProjection();return e?(t=e.width||e.height||c.screen.width,r=e.height||e.width||c.screen.height,(i=e.targetPixelRatio||1)<1&&(i=1),o=(t<256||r<256)&&!e.preserveAxisNumbers,a=n.fromObject(e.settings||this.settings),s=!!e.transparentBackground):(t=c.screen.width,r=c.screen.height,i=1,o=!1,a=n.fromObject(this.settings),s=!1),o&&(a.setProperty("xAxisNumbers",!1),a.setProperty("yAxisNumbers",!1),a.setProperty("polarNumbers",!1)),{width:t,height:r,targetPixelRatio:i,settings:a,transparentBackground:s}},e.prototype._syncScreenshotReturnCanvas=function(e){var t=document.createElement("canvas");if(e&&e.braille){var n=e.braille,r=n.embosserModel,i=n.brailleMode,o=v.brailleSizes[r];t.width=o.width,t.height=o.height,b.createBrailleImage(t,this,o,r,i)}else{var a=this._parseScreenshotOpts(e);t.width=a.width*a.targetPixelRatio,t.height=a.height*a.targetPixelRatio,this.screenshotToCanvas(t,e)}return t},e.prototype.screenshot=function(e){return this._syncScreenshotReturnCanvas(e).toDataURL("image/png")},e.prototype.asyncScreenshot=function(e,t){var n=this,r=!1;!e.transparentBackground&&e.showLabels&&((e=x.default(e)).transparentBackground=!0,r=!0);var i=this._syncScreenshotReturnCanvas(e),o=i.getContext("2d"),a=i,s=o;e&&"svg"===e.format&&(r=!1,e.transparentBackground&&((e=x.default(e)).transparentBackground=!1),s=new c(i.width,i.height),a={getContext:function(){return s},width:i.width,height:i.height},this.screenshotToCanvas(a,e));var u=this.makeScreenshotProjection(e),p=[];if(e.showMovablePoints&&this.movablePointsLayer.drawForScreenshot(s,u,p),e.showLabels){var g=u.screen.width,h=u.screen.height,f=u.settings.labelSize||15,m=1;(g<200||h<200)&&(m=.9);var y=d('<div class="dcg-calculator-api-container">\n          <div class="dcg-container">\n            <div class="dcg-grapher" style="font-size:'+f*m+'px"></div>\n          </div>\n        </div>').css({width:u.screen.width,height:u.screen.height,position:"fixed",left:"0px",top:"0px"}).appendTo("body"),b=y.find(".dcg-grapher"),v=l.mountToNode(I.default,b[0],{grapher:function(){return n}}),w={width:u.screen.width,height:u.screen.height};v.drawForScreenshot(u,o,s,w,p),y.remove()}r&&(s.globalCompositeOperation="destination-over",s.fillStyle="#FFF",s.fillRect(0,0,a.width,a.height)),e&&"svg"===e.format?t(s.getSerializedSvg()):t(a.toDataURL("image/png"))},e.prototype.makeScreenshotProjection=function(e){var t=this._parseScreenshotOpts(e),n=t.width,r=t.height,i=t.settings,o=new g.Screen(n,r),a=this.getProjection().viewport;return this.getSetting("squareAxes")&&(a=a.squareCrop(o)),new f.Projection(o,a,i)},e.prototype.screenshotToCanvas=function(e,t){var n=this._parseScreenshotOpts(t),r=n.targetPixelRatio,i=n.transparentBackground,o=e.getContext("2d");o.scale(r,r);var a=this.makeScreenshotProjection(t);a.settings.takingScreenshot=!0,D.save(o,"background"),C.save(o,"dcg-svg-background"),i?o.clearRect(0,0,a.screen.width,a.screen.height):(o.fillStyle="white",o.fillRect(0,0,a.screen.width,a.screen.height)),C.restore(o),D.restore(o),this.imageLayer.redrawToCtx(o,a,this.graphImages,this.__sketchOrder),this.gridLayer.redrawToCtx(o,a),this.graphsLayer.redrawToCtx(o,a,this.graphSketches,this.graphImages,this.__sketchOrder,this.poiLabelsLayer,this.clickableObjectsLayer,t)},e.prototype.getImageData=function(e,t,n,r){return this.canvasLayer.ctx.getImageData(e,t,n,r)},e.prototype.getSetting=function(e,t){var n=this.settings.getProperty(e);return void 0!==n?n:t},e.prototype.getState=function(e){var t=this,n={viewport:this.getCurrentViewport()};return this.settings.stateProperties.forEach((function(e){"randomSeed"!==e&&(n[e]=t.getSetting(e))})),e.stripDefaults&&(n=w.stripDefaults(A.DefaultGraphSettings,n)),n},e.prototype.getUndoRedoState=function(){var e=this,t={};return this.settings.stateProperties.forEach((function(n){t[n]=e.getSetting(n)})),t.viewport=this.getUserRequestedViewport(),t},e.prototype.notifyAfterRedraw=function(e){var t=this;if(this.__isRedrawingSlowly)requestAnimationFrame(this.notifyAfterRedraw.bind(this,e));else if(this.__redrawRequested){this.notifyAfterRedraw_i?this.notifyAfterRedraw_i++:this.notifyAfterRedraw_i=1;var n="redraw.notifyAfterRedraw"+this.notifyAfterRedraw_i;this.events.observeEvent(n,(function(){t.events.unobserveEvent(n),e()}))}else e()},e.prototype.getCurrentViewport=function(){return this.viewportController.getViewport().toObject()},e.prototype.getUserRequestedViewport=function(){return this._lastUserRequestedViewport},e.prototype.setUserRequestedViewport=function(e){this._lastUserRequestedViewportUpdateToken||(this._lastUserRequestedViewportUpdateToken=0),this._lastUserRequestedViewportUpdateToken+=1,this._lastUserRequestedViewport=x.default(e)},e.prototype.debounceUserRequestedViewportChange=function(){var e=this;this.__debouncedViewportCommit||(this.__debouncedViewportCommit=u.debounce((function(t,n){if(!e.isDragging&&e._lastUserRequestedViewportUpdateToken===n){if(e._lastUserRequestedViewport){var r=p.Viewport.fromObject(e._lastUserRequestedViewport);if(e.computeConcreteViewport(r).equals(t))return}e.controller.dispatch({type:"commit-user-requested-viewport",viewport:t})}}),1e3));var t=this.getCurrentViewport();this.__debouncedViewportCommit(t,this._lastUserRequestedViewportUpdateToken)},e.prototype.setGrapherState=function(t,n){if(n&&n.doNotClear||this.clear(),"viewport"in(t=e.copyGraphProperties(t,this.settings))){var r=p.Viewport.fromObject(t.viewport);this.setUserRequestedViewport(r);var i=this.computeConcreteViewport(r);this.viewportController.setViewport(i)}this.redrawAllLayers()},e.prototype.computeConcreteViewport=function(e){var t=this.getProjection().screen;return this.getSetting("squareAxes")&&!e.isSquare(t)?e.squareYAxis(t):e},e.prototype.setLayerClass=function(e,t){var n=this._layerClasses[e];this._layerClasses[e]=t,n!==t&&(n&&this.$.removeClass(n),t&&this.$.addClass(t))},e}();t.Grapher=O})),function(e,t){"object"==_typeof(o)&&"object"==_typeof(n)?n.exports=t():"function"==typeof i&&i.amd?i("flux",[],t):"object"==_typeof(o)?o.Flux=t():e.Flux=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports.Dispatcher=n(1)},function(e,t,n){t.__esModule=!0;var r=n(2),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||r(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||r(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||r(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(this._callbacks[n]||r(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&r(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=i},function(e,t,n){e.exports=function(e,t,n,r,i,o,a,s){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],d=0;(c=new Error(t.replace(/%s/g,(function(){return l[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}}])})),i("lib/state-stack",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){void 0===e&&(e=100),this.clear(),this._sizeLimit=e}return e.prototype.clear=function(){this._stack=[],this._stackPointer=-1},e.prototype.getState=function(){return this._stack[this._stackPointer]},e.prototype.serializeForBugsnag=function(){function e(e){try{return JSON.stringify(e,null,2)}catch(e){return"[[could not jsonify]]"}}return{currentState:e(this._stack[this._stackPointer]),undoState:e(this._stack[this._stackPointer-1]),redoState:e(this._stack[this._stackPointer+1])}},e.prototype.addState=function(e){this.canRedo()&&this._stack.splice(this._stackPointer+1),this._stack.push(e),this._stack.length>this._sizeLimit&&this._stack.shift(),this._stackPointer=this._stack.length-1},e.prototype.replaceState=function(e){this.canRedo()&&this._stack.splice(this._stackPointer+1),this.replaceInteriorState(e)},e.prototype.replaceInteriorState=function(e){0===this._stack.length?(this._stack.push(e),this._stackPointer=0):this._stack[this._stackPointer]=e},e.prototype.canUndo=function(){return this._stackPointer>0},e.prototype.canRedo=function(){return this._stackPointer<this._stack.length-1},e.prototype.undo=function(){this.canUndo()&&(this._stackPointer-=1)},e.prototype.redo=function(){this.canRedo()&&(this._stackPointer+=1)},e}();t.default=n})),i("core/graphing-calc/migrations/0",["require"],(function(e){var t={expression:!0,table:!0,image:!0,folder:!0,text:!0};function n(e){return e.replace(/\\(total|length|mean|median|quantile|stdev|stddev|stdDev|stdevp|stddevp|stdDevP|var|variance|cov|corr|ceil|floor|round|abs|mod|lcm|mcm|mcd|nCr|nPr|signum|sign|arcsinh|arccosh|arctanh|arccsch|arcsech|arccoth|arccsc|arcsec|arccot)/g,"\\operatorname{$1}")}function r(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]="latex"===r?n(e[r]):"values"===r?e[r].map(n):e[r]);return t}function i(e){var i,o=function(e){if(e.type){if(t.hasOwnProperty(e.type))return e.type;throw new Error("Invalid item type: '"+e.type+"'.")}return void 0!==e.text?"text":void 0!==e.columns||void 0!==e.headings?"table":"expression"}(e),a={};switch(o){case"expression":for(i in e)e.hasOwnProperty(i)&&(a[i]="latex"===i?n(e[i]):e[i]);return a.type=o,a;case"table":for(i in e)e.hasOwnProperty(i)&&(a[i]="columns"===i?e[i].map(r):e[i]);return a.type=o,a;case"image":for(i in e)e.hasOwnProperty(i)&&(a[i]="width"===i||"height"===i||"x"===i||"y"===i?n(e[i]):e[i]);return a.type=o,a;case"text":case"folder":for(i in e)e.hasOwnProperty(i)&&(a[i]=e[i]);return a.type=o,a}}var o={none:"NONE",both:"BOTH",positive:"POSITIVE"};return function(e){if(e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&"xAxisArrows"!==n&&"yAxisArrows"!==n&&(t[n]=e[n]);return t.xAxisArrowMode=o[e.xAxisArrows||"none"],t.yAxisArrowMode=o[e.yAxisArrows||"none"],t}(e.graph),t.expressions={list:e.expressions.list.map(i)},t.version=0,t}})),i("core/graphing-calc/migrations/1",["require"],(function(e){function t(e){return e.replace(/\\(sech|csch)/g,"\\operatorname{$1}")}function n(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="latex"===r?t(e[r]):"values"===r?e[r].map(t):e[r]);return n}function r(e){var r,i=e.type,o={};switch(i){case"expression":for(r in e)e.hasOwnProperty(r)&&(o[r]="latex"===r?t(e[r]):e[r]);return o;case"table":for(r in e)e.hasOwnProperty(r)&&(o[r]="columns"===r?e[r].map(n):e[r]);return o;case"image":for(r in e)e.hasOwnProperty(r)&&(o[r]="width"===r||"height"===r||"x"===r||"y"===r?t(e[r]):e[r]);return o;case"text":case"folder":for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o;default:throw new Error("Unexpected expression type: "+i)}}return function(e){if(e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(r)},t.version=1,t}})),i("core/graphing-calc/migrations/2",["require","core/lib/color-helpers"],(function(e){var t=e("core/lib/color-helpers").colors;function n(e){switch(e){case"#C0504D":return t.RED;case"#4F81BD":return t.BLUE;case"#9BBB59":return t.GREEN;case"#8064A2":return t.PURPLE;case"#F79646":return t.ORANGE;case"#000000":return t.BLACK;default:return e}}function r(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]="color"===r?n(e[r]):e[r]);return t}function i(e){var t,i=e.type,o={};switch(i){case"expression":for(t in e)e.hasOwnProperty(t)&&(o[t]="color"===t?n(e[t]):e[t]);return o;case"table":for(t in e)e.hasOwnProperty(t)&&(o[t]="columns"===t?e[t].map(r):e[t]);return o;case"image":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o;default:throw new Error("Unexpected expression type: "+i)}}return function(e){if(e.version>1)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(i)},t.version=2,t}})),i("core/graphing-calc/migrations/3",["require"],(function(e){function t(e){if("string"==typeof e)return e;if(void 0===e)return"";var t=e+"";return(t=t.replace(/1e\+?([-\d]+)/,"10^{$1}")).replace(/([-\d\.]+)e\+?([-\d]+)/,"$1\\cdot 10^{$2}")}function n(e){var n,r=e.type,i={};switch(r){case"expression":for(n in e)e.hasOwnProperty(n)&&(i[n]="sliderMax"===n||"sliderMin"===n||"sliderInterval"===n?t(e[n]):"domain"===n?{max:t(e[n].max),min:t(e[n].min)}:e[n]);return i.hasOwnProperty("sliderMin")&&void 0===i.sliderInterval&&(i.sliderInterval=""),i;case"image":case"table":case"text":case"folder":for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i;default:throw new Error("Unexpected expression type: "+r)}}return function(e){if(e.version>2)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(n)},t.version=3,t}})),i("core/graphing-calc/migrations/4",["require"],(function(e){function t(e){switch(e){case"point":return"POINT";case"cross":return"CROSS";case"open":return"OPEN";case"normal":return"SOLID";case"dashed":return"DASHED";case"dotted":return"DOTTED";default:return e}}function n(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="style"===r?t(e[r]):e[r]);return n}function r(e){var r,i=e.type,o={};switch(i){case"expression":for(r in e)e.hasOwnProperty(r)&&(o[r]="style"===r?t(e[r]):e[r]);return o;case"table":for(r in e)e.hasOwnProperty(r)&&(o[r]="columns"===r?e[r].map(n):e[r]);return o;case"image":case"text":case"folder":for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o;default:throw new Error("Unexpected expression type: "+i)}}return function(e){if(3!==e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(r)},t.version=4,t}})),i("core/graphing-calc/validate-state",["require","exports","core/lib/deepCopy"],(function(e,t,n){function r(e){e.slider&&function(e){"number"==typeof e.min&&(e.min=""+e.min),"number"==typeof e.max&&(e.max=""+e.max),"number"==typeof e.step&&(e.step=""+e.step)}(e.slider),"string"!=typeof e.id&&(e.id=""+e.id)}function i(e,t){var n=parseFloat(t);return n!==Math.floor(n)?e:Math.max(e,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.validateState=void 0,t.validateState=function(e){var t=n.default(e);return function(e){for(var t,n,o=function(e){for(var t=0,n=0,r=e;n<r.length;n++){var o=r[n];if(t=i(t,o.id),"table"===o.type)for(var a=0,s=o.columns;a<s.length;a++)i(t,s[a].id)}return t}(e)+1,a={},s=0,c=e;s<c.length;s++){var l=c[s];if(r(l),"folder"===l.type)t=l.id,a[l.id]&&(l.id=""+o,o+=1),n=l.id,a[l.id]=!0,l.hasOwnProperty("folderId")&&delete l.folderId;else{if(void 0!==t&&l.folderId===t?l.folderId=n:(l.folderId&&(l.folderId=""),t=void 0,n=void 0),"table"===l.type)for(var d=0,u=l.columns;d<u.length;d++){var p=u[d];a[p.id]&&(p.id=""+o,o+=1),a[p.id]=!0}a[l.id]&&(l.id=""+o,o+=1),a[l.id]=!0}}}(t.expressions.list),t}})),i("core/graphing-calc/migrations/5",["require","exports"],(function(e,t){function n(e){var t,n={};for(var r in e)if(e.hasOwnProperty(r))switch(t=e[r],r){case"showAxes":n.showXAxis=t,n.showYAxis=t;break;case"showLabels":n.xAxisNumbers=t,n.yAxisNumbers=t,n.polarNumbers=t;break;case"labelXMode":n.xAxisStep="pi"===t?Math.PI:0;break;case"labelYMode":n.yAxisStep="pi"===t?Math.PI:0;break;default:n[r]=t}return n}function r(e){var t={};for(var n in e)e.hasOwnProperty(n)&&"showPoints"!==n&&"showLine"!==n&&(t[n]=e[n]);return void 0===e.showPoints&&void 0===e.showLine||(e.showPoints&&e.showLine?t.columnMode="POINTS_AND_LINES":e.showPoints?t.columnMode="POINTS":e.showLine?t.columnMode="LINES":(t.hidden=!0,t.columnMode="POINTS")),t}function i(e){var t,n=e.type,i={};switch(n){case"expression":for(t in void 0===e.hidden?e.hasOwnProperty("graphed")?i.hidden=!e.graphed:e.hasOwnProperty("userRequestedGraphing")?i.hidden="never"===e.userRequestedGraphing:i.hidden=!1:i.hidden=e.hidden,e)e.hasOwnProperty(t)&&"graphed"!==t&&"userRequestedGraphing"!==t&&"hidden"!==t&&"slider"!==t&&("color"!==t?"style"!==t?"sliderInterval"!==t?i[t]=e[t]:i.sliderInterval="undefined"===e.sliderInterval?"":e.sliderInterval:i.style="normal"===e.style?"SOLID":e.style:"object"==_typeof(e.color)?i.color=e.color.value:i.color=e.color);return i;case"table":if(e.headings||e.columns){var o=e.headings?e.headings:e.columns;if(i.columns=o.map(r),e.rows)for(var a=0;a<i.columns.length;a++){var s=i.columns[a];s.values=[];for(var c=0;c<e.rows.length;c++)s.values.push(e.rows[c][a])}}for(t in e)e.hasOwnProperty(t)&&"rows"!==t&&"headings"!==t&&"columns"!==t&&(i[t]=e[t]);return i;case"image":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i;default:throw new Error("Unexpected expression type: "+n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.migrateState=void 0,t.migrateState=function(e){if(4!==e.version)throw new Error("Unexpected version: "+e.version);return{version:5,graph:n(e.graph),expressions:{list:e.expressions.list.map(i)}}}})),i("core/graphing-calc/migrations/6",["require","exports","core/lib/deepCopy","underscore","core/math/sliders","core/math/evaluate-single-expression"],(function(e,t,n,r,i,o){function a(e){var t={};for(var n in e)if(e.hasOwnProperty(n)&&"style"!==n)if("values"===n&&(t[n]=e[n].map((function(e){return e?""+e:""}))),"columnMode"!==n||e.hasOwnProperty("points")||e.hasOwnProperty("lines"))t[n]=e[n];else switch(e[n]){case"LINES":t.points=!1,t.lines=!0;break;case"POINTS_AND_LINES":t.points=!0,t.lines=!0;break;default:t.points=!0,t.lines=!1}return t.hasOwnProperty("pointStyle")||(t.pointStyle="POINT"),t.hasOwnProperty("lineStyle")||(t.lineStyle="SOLID"),t.id=""+t.id,t}Object.defineProperty(t,"__esModule",{value:!0}),t.migrateState=void 0;var s={sliderMin:"min",sliderMax:"max",sliderInterval:"step",sliderHardMin:"hardMin",sliderHardMax:"hardMax",sliderAnimationPeriod:"animationPeriod",sliderLoopMode:"loopMode",sliderPlayDirection:"playDirection",sliderIsPlaying:"isPlaying"};function c(e){var t=function(e){if(function(e){return!(e.length<2)&&"`"===e[0]&&"`"===e[e.length-1]}(e))return{raw:e,parts:[e]};for(var t,n="({"+["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\{[a-zA-Z0-9]+\\}"].join("})|({")+"})",r=new RegExp(n,"g"),i=[],o=0,a=0;t=r.exec(e);){(a=t.index)>o&&i.push(e.substr(o,a-o));var s=t[0],c=s.replace(/[{}\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");i.push({symbol:c,str:s}),o=t.index+s.length}return o<e.length&&i.push(e.substr(o)),{raw:e,parts:i}}(e),n="";return r.each(t.parts,(function(e){n+="object"==_typeof(e)&&e.str?"$"+e.str:e})),n}function l(e,t,n,l){var d,u=e.type,p={};switch(u){case"folder":for(d in e)e.hasOwnProperty(d)&&("memberIds"===d||(p[d]=e[d]));break;case"expression":for(d in e)if(e.hasOwnProperty(d))if("style"!==d||e.hasOwnProperty("pointStyle")||e.hasOwnProperty("lineStyle"))s.hasOwnProperty(d)?(p.slider=p.slider||{},p.slider[s[d]]=e[d]):p[d]=e[d],e.label&&(p.label=c(e.label));else{var g=e[d];r.contains(["POINT","OPEN","CROSS"],g)?(p.pointStyle=g,p.lineStyle="SOLID"):r.contains(["SOLID","DASHED","DOTTED"],g)?(p.pointStyle="POINT",p.lineStyle=g):(p.pointStyle="POINT",p.lineStyle="SOLID")}p.latex&&p.slider&&!p.slider.isPlaying&&function(e,t){var n=e.latex.split("=");if(2===n.length){var r=o.default(n[1],t);if(isFinite(r)){var a=e.slider.hardMin?o.default(e.slider.min||"-10",t):void 0,s=e.slider.hardMax?o.default(e.slider.max||"10",t):void 0,c=e.slider.step?o.default(e.slider.step,t):void 0,l=i.determineWhichLimitsAreCompatibleWithValue({target:r,step:c,hardMin:a,hardMax:s});l.min||(delete e.slider.hardMin,delete e.slider.min),l.max||(delete e.slider.hardMax,delete e.slider.max),l.step||delete e.slider.step}}}(p,l),p.hasOwnProperty("fillOpacity")||(p.fillOpacity=.4),!1===p.label&&(p.label=""),p.labelSize||(p.labelSize="medium"),p.labelOrientation||(p.labelOrientation="default"),p.verticalLabel||(p.verticalLabel=!1),p.interactiveLabel||(p.interactiveLabel=!1);break;case"image":for(d in e)e.hasOwnProperty(d)&&"x"!==d&&"y"!==d&&(p[d]=e[d]);p.center="\\left("+(e.x||"0")+","+(e.y||"0")+"\\right)",p.angle=e.angle||"0",p.foreground=!!p.foreground;break;case"text":for(d in e)e.hasOwnProperty(d)&&(p[d]=e[d]);break;case"table":for(d in e)e.hasOwnProperty(d)&&(p[d]="columns"===d?e[d].map(a):e[d]);break;default:throw new Error("Unexpected expression type: "+u)}if(p.id=""+p.id,"folder"===e.type)t.folderId=p.id,t.memberIds=e.memberIds,p.folderId="";else{var h=n[p.id];t.memberIds&&t.memberIds[h]?p.folderId=t.folderId:(p.folderId="",t.folderId=void 0,t.memberIds=void 0)}return p}t.migrateState=function(e){if(5!==e.version)throw new Error("Unexpected version: "+e.version);var t=!(!e.graph||!e.graph.degreeMode),r=e.expressions.list,i=-1,o={},a={},s={};return{version:6,graph:e.graph,expressions:{list:r.map((function(e){return o[e.id]?(-1===i&&(i=function(e){for(var t=0,n=/^[0-9]+$/,r=e.length-1;r>=0;r--){var i,o=e[r],a=o.id;if(n.test(a)&&(i=parseInt(a,10))>t&&(t=i),"table"===o.type&&o.columns)for(var s=o.columns.length-1;s>=0;s--)a=o.columns[s].id,n.test(a)&&(i=parseInt(a,10))>t&&(t=i)}return t+1}(r)),a[i]=e.id,(e=n.default(e)).id=i+"",i+=1):a[e.id]=e.id,o[e.id]=!0,l(e,s,a,t)}))}}}})),i("core/graphing-calc/migrations/7",["require","exports","tslib"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(6!==e.version)throw new Error("Unexpected version: "+e.version);var t=e.expressions.list.map((function(e){if("expression"===e.type&&e.domain){var t=n.__assign(n.__assign({},e),{parametricDomain:{min:e.domain.min,max:e.domain.max}});return delete t.domain,t}return e}));return{version:7,randomSeed:e.randomSeed,graph:e.graph,expressions:{list:t}}}})),i("core/lib/random-seed",["require","exports","core/lib/md5"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Uint8Array(16);if("undefined"!=typeof crypto)crypto.getRandomValues(e);else{if("undefined"==typeof msCrypto)return n(Date.now().toString()+Math.random().toString());msCrypto.getRandomValues(e)}return Array.prototype.slice.call(e).map((function(e){return function(e){return 1===e.length?"0"+e:e}(e.toString(16))})).join("")}})),i("core/graphing-calc/migrations/8",["require","exports","tslib","core/lib/random-seed","core/lib/deepCopy"],(function(e,t,n,r,i){function o(e){var t=e.split("_");return 2===t.length&&t[1]&&1===t[1].length?t[0]+"_{"+t[1]+"}":e}function a(e){return(e=i.default(e)).rules||!e.assignment&&!e.expression||(e.rules=[{id:"1",assignment:e.assignment||"",expression:e.expression||""}]),delete e.assignment,delete e.expression,e}function s(e){return e.replace(/\\operatorname(?:\{stdev\}p|\{stddev\}p|\{stdDev\}P|\{var\}iance)/g,(function(e){switch(e){case"\\operatorname{stdev}p":return"\\operatorname{stdevp}";case"\\operatorname{stddev}p":return"\\operatorname{stddevp}";case"\\operatorname{stdDev}P":return"\\operatorname{stdDevP}";case"\\operatorname{var}iance":return"\\operatorname{variance}";default:return""}}))}function c(e){var t=e.latex,r=e.values,i=n.__assign({},e);return t&&(i.latex=s(t),i.latex=o(i.latex)),r&&(i.values=r.map((function(e){return e?s(e):""}))),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(7!==e.version)throw new Error("Unexpected version: "+e.version);var t=e.expressions.list.map((function(e){if("image"===e.type){var t=n.__assign(n.__assign({},e),{opacity:""});for(var r in e.hasOwnProperty("stringOpacity")?t.opacity=e.stringOpacity:e.hasOwnProperty("opacity")?t.opacity=e.opacity+"":delete t.opacity,e.clickableInfo&&(t.clickableInfo=a(e.clickableInfo)),delete t.stringOpacity,e)if("x"===r||"y"===r||"width"===r||"height"===r){var l=e[r];l&&(t[r]=s(l))}return t}if("expression"===e.type){if(t=n.__assign(n.__assign({},e),{fillOpacity:"",lineStyle:"SOLID"}),"SINGLE_PIXEL"===e.lineStyle?t.lineWidth="1":e.hasOwnProperty("lineStyle")?t.lineStyle=e.lineStyle:delete t.lineStyle,t.hasOwnProperty("lineWidth")||(t.lineWidth=""),t.hasOwnProperty("lineOpacity")||(t.lineOpacity=""),t.hasOwnProperty("pointOpacity")||(t.pointOpacity=""),t.hasOwnProperty("pointSize")||(t.pointSize=""),t.hasOwnProperty("colorLatex")||(t.colorLatex=""),"string"==typeof e.latex&&(t.latex=s(e.latex)),e.latex&&(t.latex=s(e.latex)),e.hasOwnProperty("stringFillOpacity")?t.fillOpacity=e.stringFillOpacity:e.hasOwnProperty("fillOpacity")?t.fillOpacity=e.fillOpacity+"":delete t.fillOpacity,t.slider&&e.slider&&e.slider.newLoopMode&&(t.slider=i.default(t.slider),t.slider.loopMode=e.slider.newLoopMode,delete t.slider.newLoopMode),t.residualVariable&&(t.residualVariable=o(t.residualVariable)),t.regressionParameters)for(var d in t.regressionParameters={},e.regressionParameters){var u=o(d),p=e.regressionParameters[d];t.regressionParameters[u]=p}return e.clickableInfo&&(t.clickableInfo=a(e.clickableInfo)),t}return"table"===e.type?(g=e).columns?n.__assign(n.__assign({},g),{columns:g.columns.map(c)}):g:e;var g}));return{version:8,randomSeed:e.randomSeed||r.default(),graph:e.graph,expressions:{list:t}}}})),i("core/graphing-calc/migrations/9",["require","exports","tslib","core/lib/random-seed","../json/ticker"],(function(e,t,n,r,i){function o(e,t,n){if(e.verticalLabel)switch(delete t.verticalLabel,t.labelAngle=n?"90":"\\frac{\\pi}{2}",e.labelOrientation){case"above":t.labelOrientation="right";break;case"below":t.labelOrientation="left";break;case"left":t.labelOrientation="above";break;case"right":t.labelOrientation="below"}e.extendedLabelOrientation&&(t.labelOrientation=e.extendedLabelOrientation,delete t.extendedLabelOrientation)}function a(e,t){if(e.vizProps)switch(e.vizProps.dotplotSize){case"small":t.pointSize="9";break;case"large":t.pointSize="20"}if(e.vizProps){var r=n.__assign({},e.vizProps);delete r.dotplotSize,Object.keys(r).length?t.vizProps=r:delete t.vizProps}}function s(e){return e.filter((function(e){var t=e.assignment,n=e.expression;return!!t&&!!n}))}function c(e){return e.map((function(e){return e.assignment+"\\to "+e.expression})).join(",")||""}function l(e){for(var t,n=JSON.stringify(e),r=/_(\d)|_\{(\d+)\}/g,i={};null!==(t=r.exec(n));)i[void 0!==t[1]?t[1]:t[2]]=!0;return i}function d(e,t){for(var n=t+1;;n++)if(!e[n])return n}function u(e){for(var t,n=JSON.stringify(e),r=/"(\d+)"/g,i={};null!==(t=r.exec(n));)i[void 0!==t[1]?t[1]:t[2]]=!0;return i}function p(e,t){for(var n=t+1;;n++)if(!e[n])return n}function g(e,t){var n={handlerLatex:e,playing:!0,open:!0};return void 0!==t&&(n.minStepLatex=function(e){if(/^\d+$/.test(e)){var t=parseInt(e,10);return 0===t?"\\infty":""+Math.round(1e3/t)}return"\\frac{1000}{"+e+"}"}(t)),n}Object.defineProperty(t,"__esModule",{value:!0}),t.rulesToLatex=t.filterEmptyRules=void 0,t.filterEmptyRules=s,t.rulesToLatex=c,t.default=function(e){if(8!==e.version)throw new Error("Unexpected version: "+e.version);var t=!1;e.graph&&e.graph.degreeMode&&(t=!0);for(var h,f,m=e.expressions.ticker||i.DEFAULTS,y=0,b=0,v=[],x=0,w=e.expressions.list;x<w.length;x++){var A=w[x];switch(A.type){case"expression":o(A,D=n.__assign({},A),t),a(A,D);var E=void 0;if(A.clickableInfo&&A.clickableInfo.rules){var k=A.clickableInfo,I=k.rules,S=n.__rest(k,["rules"]),M=c(L=s(I));if(L.length>1){h||(h=l(e)),y=d(h,y),f||(f=u(e)),b=p(f,b);var C="A_{"+y+"}";S.latex=C,E={type:"expression",id:""+b,latex:C+"="+M},void 0!==A.folderId&&(E.folderId=A.folderId)}else S.latex=M;D.clickableInfo=S}D.clickableInfo&&D.clickableInfo.enabled&&D.hidden&&(D.clickableInfo.enabled=!1),v.push(D),E&&v.push(E);break;case"image":if(A.clickableInfo&&A.clickableInfo.rules){var D=n.__assign({},A),T=A.clickableInfo;I=T.rules,S=n.__rest(T,["rules"]),M=c(L=s(I)),E=void 0,L.length>1?(h||(h=l(e)),y=d(h,y),f||(f=u(e)),b=p(f,b),C="A_{"+y+"}",S.latex=C,E={type:"expression",id:""+b,latex:C+"="+M},void 0!==A.folderId&&(E.folderId=A.folderId)):S.latex=M,D.clickableInfo=S,v.push(D),E&&v.push(E)}else v.push(A);break;case"simulation":var L,_=void 0;_=A.clickableInfo&&A.clickableInfo.rules?c(L=s(A.clickableInfo.rules)):"",A.isPlaying&&""!==_&&(h||(h=l(e)),_=(C="A_{"+(y=d(h,y))+"}")+"="+_,m=g(C,A.fps)),D={type:"expression",id:A.id,latex:_},void 0!==A.folderId&&(D.folderId=A.folderId),v.push(D);break;default:v.push(A)}}return{version:9,randomSeed:e.randomSeed||r.default(),graph:e.graph,expressions:{list:v,ticker:m}}}})),i("core/graphing-calc/migrations/10",["require","exports","tslib"],(function(e,t,n){function r(e){e.clickableInfo&&(void 0===e.description&&void 0!==e.clickableInfo.description&&(e.description=e.clickableInfo.description),delete e.clickableInfo.description,0===Object.keys(e.clickableInfo).length&&delete e.clickableInfo)}Object.defineProperty(t,"__esModule",{value:!0}),t.backport10To9=void 0,t.default=function(e){if(9!==e.version)throw new Error("Unexpected version: "+e.version);for(var t=[],i={},o=0,a=e.expressions.list;o<a.length;o++){var s=a[o];switch(s.type){case"expression":r(c=n.__assign({},s)),t.push(c);break;case"image":var c;r(c=n.__assign({},s));var l=c.description;void 0!==l&&""!==l||!c.draggable||void 0===c.center||""===c.center||(void 0===i[c.center]?i[c.center]=[c]:i[c.center].push(c)),t.push(c);break;default:t.push(s)}}for(var d=0,u=t;d<u.length;d++){var p=u[d];if("expression"===p.type&&void 0!==p.latex&&""!==p.latex&&-1!==p.latex.indexOf("=")&&void 0!==p.dragMode&&"NONE"!==p.dragMode&&void 0!==p.label&&""!==p.label){var g=i[p.latex.slice(0,p.latex.indexOf("="))];if(void 0!==g)for(var h=0,f=g;h<f.length;h++)f[h].description=p.label}}return n.__assign(n.__assign({},e),{version:10,expressions:n.__assign(n.__assign({},e.expressions),{list:t})})},t.backport10To9=function(e){if(10!==e.version)throw new Error("Unexpected version: "+e.version);for(var t,r=[],i=0,o=e.expressions.list;i<o.length;i++){var a=o[i];switch(a.type){case"expression":case"image":var s=n.__assign({},a);void 0!==(t=s).description&&(t.clickableInfo=n.__assign(n.__assign({},t.clickableInfo),{description:t.description})),r.push(s);break;default:r.push(a)}}return n.__assign(n.__assign({},e),{version:9,expressions:n.__assign(n.__assign({},e.expressions),{list:r})})}})),i("core/graphing-calc/migrate-state",["require","exports","./migrations/0","./migrations/1","./migrations/2","./migrations/3","./migrations/4","core/graphing-calc/validate-state","./migrations/5","./migrations/6","./migrations/7","./migrations/8","./migrations/9","./migrations/10"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g){Object.defineProperty(t,"__esModule",{value:!0}),t.migrateToPersisted=t.migrateToLatest=t.currentVersion=t.persistedVersion=void 0;var h=[n,r,i,o,a,c.migrateState,l.migrateState,d.default,u.default,p.default,g.default];function f(e){if(e.version>t.currentVersion)return"undefined"!=typeof console&&console.warn&&console.warn("Loading saved state with version "+e.version+" but last known version is "+t.currentVersion+". States saved in a newer version of the calculator may not load correctly in an older version of the calculator."),s.validateState(e);if(e.hasOwnProperty("version")&&!h[e.version])return"undefined"!=typeof console&&console.warn&&console.warn("State has invalid version "+e.version+". If a version is present, it should be a non-negative integer less than or equal to "+t.currentVersion+"."),s.validateState(e);for(e.hasOwnProperty("version")||(e=h[0](e));e.version<t.currentVersion;)e=h[e.version+1](e);return s.validateState(e)}t.persistedVersion=9,t.currentVersion=10,t.migrateToLatest=f,t.migrateToPersisted=function(e){return function(e){return g.backport10To9(e)}(f(e))}})),i("lib/smart-slider-defaults",["require","exports","core/math/baseparser","core/types/line-width","core/types/point-size","core/types/point-opacity","core/types/line-opacity","core/types/opacity"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.checkVariableForBoundRestrictions=t.computeDefaults=void 0;var c=function(e){return{value:"0",min:"0",max:e.degreeMode?"360":"2\\pi"}},l={latex:void 0,polarDomainMin:void 0,polarDomainMax:void 0,parametricDomainMin:void 0,parametricDomainMax:void 0,pointSize:function(){return{value:i.DEFAULT+"",min:"0",max:"10"}},labelAngle:c,labelSize:function(){return{value:"1",min:"0",max:"5"}},lineWidth:function(){return{value:r.DEFAULT+"",min:"0",max:"10"}},fillOpacity:function(){return{value:s.DEFAULT+"",min:"0",max:"1"}},lineOpacity:function(){return{value:a.DEFAULT+"",min:"0",max:"1"}},pointOpacity:function(){return{value:o.DEFAULT+"",min:"0",max:"1"}},sliderMin:void 0,sliderMax:void 0,sliderStep:void 0,residualVariable:void 0,tableHeader:void 0,tableCellValue:void 0,imageOpacity:function(){return{value:"1",min:"0",max:"1"}},imageCenter:void 0,imageHeight:function(){return{value:"10",min:"-10",max:"10"}},imageWidth:function(){return{value:"10",min:"-10",max:"10"}},imageAngle:c,tickerMinStep:function(){return{value:"0",min:"0"}},tickerHandler:void 0},d={rgb:{paramBounds:function(e){return{value:"0",min:"0",max:"255",step:"1"}}},hsv:{paramBounds:function(e){return 0===e?{value:"0",min:"0",max:"360",step:"1"}:{value:"0.5",min:"0",max:"1"}}}};function u(e,t,n){var r=t.parsed,i=t.location;if("Identifier"===r.type&&r._symbol===e){var o=l[i];if(!o)return;return[o(n)]}"Assignment"===r.type&&(r=r._expression);var a=[];if("FunctionCall"===r.type){var s=r._symbol;if(d.hasOwnProperty(s)){var c=d[s];r.args.forEach((function(t,n){if("Identifier"===t.type&&t._symbol===e){var r=c.paramBounds(n);r&&a.push(r)}}))}return a}}t.computeDefaults=function(e,t,r){for(var i=e.map((function(e){return{location:e.location,parsed:n.parse(e.latex)}})),o={},a=0,s=t;a<s.length;a++)for(var c=s[a],l=0,d=i;l<d.length;l++){var p=u(c,d[l],r);p&&p.length&&(o[c]=p[0])}return o},t.checkVariableForBoundRestrictions=u})),i("graphing-calc/models/focus",["require","exports","./expression","./list"],(function(e,t,n,r){function i(e,t,n){o(e,a(e,t,n))}function o(e,t){if(e.focusLocation=t,t&&("ticker"===t.type&&(e.getListModel().ticker.playing=!1,r.setSelected(e.getListModel(),void 0)),"settings"!==t.type&&"editable-label"!==t.type&&"add-item-btn"!==t.type&&"add-expression-btn"!==t.type&&"add-note-btn"!==t.type&&"add-table-btn"!==t.type&&"add-folder-btn"!==t.type&&"add-ticker-btn"!==t.type&&"add-image-btn"!==t.type&&"edit-list-toggle"!==t.type&&"hide-expression-list-btn"!==t.type&&"show-expression-list-btn"!==t.type&&"search-expressions"!==t.type&&"ticker"!==t.type)){var i=e.getItemModel(t.id);"expression-menu"!==t.type?(r.setSelected(e.getListModel(),i),i&&"expression"===i.type&&n.setSliderIsPlaying(i,!1)):r.setSelected(e.getListModel(),void 0)}}function a(e,t,n){var r=e.getItemModel(t);if(r)switch(r.type){case"expression":return{type:e.isInEditListMode()?"readonly-expression":r.type,id:t};case"folder":case"text":return{type:r.type,id:t};case"table":var i={row:1,column:0},o=!1;return n&&("cell"===n.location?i={row:n.row,column:n.column}:"end"===n?i={row:r.columnModels[0].cells.length,column:0}:"start"===n?i={row:0,column:0}:"container"===n&&(o=!0)),o?{type:"table-container",id:t}:{type:r.type,id:t,location:i};case"image":return{type:r.type,id:t,location:"name"};default:return r}}Object.defineProperty(t,"__esModule",{value:!0}),t.focusTableCell=t.getFocusedItem=t.addFocusForKeypad=t.computeFocusLocationForItem=t.setFocusLocation=t.moveFocusToItem=void 0,t.moveFocusToItem=i,t.setFocusLocation=o,t.computeFocusLocationForItem=a,t.addFocusForKeypad=function(e){var t=e.getSelectedItem();if(t&&"expression"===t.type)i(e,t.id);else if(!t||"table"!==t.type||!e.focusLocation){for(var n=e.getFirstFullyVisibleItem(),o=e.getListModel();n&&"expression"!==n.type;)n=r.findNextSelectableItem(o,n.index);if(n)i(e,n.id);else{var a=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()});r.insertItemAtEnd(e.getListModel(),a),i(e,a.id)}}},t.getFocusedItem=function(e){var t=e.focusLocation;if(t&&"settings"!==t.type&&"editable-label"!==t.type&&"add-item-btn"!==t.type&&"add-expression-btn"!==t.type&&"add-note-btn"!==t.type&&"add-table-btn"!==t.type&&"add-ticker-btn"!==t.type&&"add-folder-btn"!==t.type&&"add-image-btn"!==t.type&&"edit-list-toggle"!==t.type&&"hide-expression-list-btn"!==t.type&&"show-expression-list-btn"!==t.type&&"search-expressions"!==t.type&&"ticker"!==t.type)return e.getItemModel(t.id)},t.focusTableCell=function(e,t,n){o(e,{type:"table",id:t,location:n})}})),i("graphing-calc/actions/keyboard",["require","exports","browser","lib/conditional_blur","../models/table","../models/focus","../models/list","../models/abstract-item"],(function(e,t,n,r,i,o,a,s){function c(e){var t=e.getSelectedItem();t&&(e.inAudioTraceMode()||(!a.selectPrevItem(e.getListModel())&&e.getTickerOpen()&&o.setFocusLocation(e,{type:"ticker",location:"handler"}),(t=e.getSelectedItem())&&o.moveFocusToItem(e,t.id,"end")))}function l(e){var t;if(!e.inAudioTraceMode()){if("ticker"===(null===(t=e.getFocusLocation())||void 0===t?void 0:t.type)){var n=a.getFirstSelectableItem(e.getListModel());if(n)return o.moveFocusToItem(e,n.id,"start")}if(!a.selectNextItem(e.getListModel())&&!e.isInEditListMode()){var r=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()});a.insertItemAtEnd(e.getListModel(),r),a.setSelected(e.getListModel(),r)}var i=e.getSelectedItem();i&&o.moveFocusToItem(e,i.id,"start")}}function d(e){if(!e.isInEditListMode()){var t=e.getSelectedItem();if(t&&(1!==e.getItemCount()||"expression"!==t.type)){var r="text"===t.type,i=a.getParentFolderModel(t);if(i){var c=e.getNumberOfItemsInFolder(i.id);if(t.index===i.index+c)return void s.setFolderId(t,"")}g(e,{moveSelection:!0}),r&&n.IS_IPAD&&n.IS_IN_IFRAME?a.setSelected(e.getListModel(),void 0):(t=e.getSelectedItem())&&o.moveFocusToItem(e,t.id,"end")}}}function u(e){if(!e.isInEditListMode()){var t=e.getSelectedItem();t&&(1===e.getItemCount()&&"expression"===t.type||(h(e,{moveSelection:!0}),(t=e.getSelectedItem())&&o.moveFocusToItem(e,t.id,"start")))}}function p(e){if(!e.isInEditListMode()){var t=e.getSelectedItem();if(t){if("text"===t.type&&n.IS_IPAD&&n.IS_IN_IFRAME)return r.default(),void a.setSelected(e.getListModel(),void 0);if(a.getMissingVariablesForItem(t).length&&e.areSlidersEnabled())return e.createSlidersForItem(t.id,a.getMissingVariablesForItem(t).concat(""));var i=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()}),c=t.index+1;"folder"===t.type&&t.collapsed&&(c+=e.getNumberOfItemsInFolder(t.id)),a.insertItemAtIndex(e.getListModel(),i,c),a.setSelected(e.getListModel(),i),"folder"!==t.type||t.collapsed?"folder"!==t.type&&t.folderId&&s.setFolderId(i,t.folderId):s.setFolderId(i,t.id),(t=e.getSelectedItem())&&o.moveFocusToItem(e,t.id)}}}function g(e,t){var n=t.moveSelection,r=f(e),i=e.getListModel();if(r){var o=a.findPrevSelectableItem(i,r.index);if(e._removeExpressionSynchronously(r),n){if(!o){var s=a.getFirstSelectableItem(i);s&&(o=s)}a.setSelected(i,o)}else a.setSelected(i,void 0)}}function h(e,t){var n=t.moveSelection,r=f(e),i=e.getListModel();if(r){var o=a.findNextSelectableItem(i,r.index);if(e._removeExpressionSynchronously(r),n){if(!o){var s=a.getLastSelectableItem(i);s&&(o=s)}a.setSelected(i,o)}else a.setSelected(i,void 0)}}function f(e){var t=e.getSelectedItem();return"folder"==(null==t?void 0:t.type)&&t.collapsed&&t.selectedHiddenChild?t.selectedHiddenChild:t}Object.defineProperty(t,"__esModule",{value:!0}),t.downwardDeleteSelectedExpression=t.upwardDeleteSelectedExpression=t.onEnterPressed=t.onDeletePressed=t.onBackspacePressed=t.onDownPressed=t.onUpPressed=t.navigateTableByKey=void 0,t.navigateTableByKey=function(e,t,n){var r=e.getItemModel(t);if(r&&"table"===r.type){var a=r,s=i.getSelectedCell(a),g=s?s.row:-1,h=s?s.column:-1,f=a.columnModels,m=f[0].cells.length,y=f.length,b=function(n,r){-1===n?c(e):n>m?l(e):(-1===r?(r=y-1,n--):r===y&&(n++,r=0),o.focusTableCell(e,t,{row:n,column:r}))},v=function(n){m>2&&i.removeRow(a,g-1),o.focusTableCell(e,t,{row:n,column:h})},x=function(n){0===h||y<=2||(i.removeColumn(a,h),o.focusTableCell(e,t,{row:g,column:n}))};switch(n){case"Left":b(g,h-1);break;case"Right":b(g,h+1);break;case"Up":b(g-1,h);break;case"Down":b(g+1,h);break;case"Enter":if(g>=m)return p(e);if(h>0)return b(g+1,h);if(g===m-1){var w=i.getRowAutoFillValues(a,g);i.insertBlankRow(a,g);for(var A=0;A<w.length;A++)i.setCellLatex(a,{row:g+1,column:A},w[A]);return void o.focusTableCell(e,t,{row:g+1,column:h})}i.insertBlankRow(a,g),o.focusTableCell(e,t,{row:g+1,column:h});break;case"Backspace":0===g?0===h?d(e):h===y-1||1===h&&3===y?b(0,h-1):x(h-1):0!==h?b(g,h-1):g===m?b(g-1,h):v(g-1);break;case"Delete":0===g?0===h?u(e):h<y-1&&x(h):g>=m||v(g)}}},t.onUpPressed=c,t.onDownPressed=l,t.onBackspacePressed=d,t.onDeletePressed=u,t.onEnterPressed=p,t.upwardDeleteSelectedExpression=g,t.downwardDeleteSelectedExpression=h})),i("main/expression-zoom-helpers",["require","exports","core/lib/deepCopy"],(function(e,t,n){function r(e){var t=1.2;return(e=n.default(e)).xmax<0&&e.xmin<0&&e.xmax/(e.xmin-e.xmax)<t&&(e.xmax=0),e.xmax>0&&e.xmin>0&&e.xmin/(e.xmax-e.xmin)<t&&(e.xmin=0),e.ymax<0&&e.ymin<0&&e.ymax/(e.ymin-e.ymax)<t&&(e.ymax=0),e.ymax>0&&e.ymin>0&&e.ymin/(e.ymax-e.ymin)<t&&(e.ymin=0),e}function i(e,t){var n,r,i,o,a=e.type,s=function(e,t){if("dotplot"===e.type||"histogram"===e.type){var n=80*Math.max(1,e.xmax-e.xmin)/(e.binWidth?e.binWidth:1),r=.5*(t.screen.width-n)/n;return Math.max(.2,r)}return.5}(e,t),c=function(e){return"boxplot"===e?3:.5}(a);e.xmin===e.xmax&&(e.xmin-=.5,e.xmax+=.5),e.ymin===e.ymax&&(e.ymin-=.5,e.ymax+=.5);var l=e.xmax-e.xmin;n=e.xmin-s*l,r=e.xmax+s*l;var d=e.ymax-e.ymin;if(i=e.ymin-c*d,o=e.ymax+c*d,function(e){return"boxplot"===e||"dotplot"===e||"histogram"==e}(a)){var u=(r-n)*(t.screen.height/t.screen.width);if(u>e.ymax-e.ymin&&u<function(e){switch(e){case"histogram":case"dotplot":return 12;case"boxplot":return 40}return 1/0}(a)*(e.ymax-e.ymin)){var p=.5*(e.ymax+e.ymin);o=p+.5*u,i=p-.5*u}}return{xmin:n,xmax:r,ymin:i,ymax:o}}function o(e,t){for(var n=1/0,o=-1/0,a=1/0,s=-1/0,c=0,l=e.length,d=0;d<l;d++){var u=r(e[d]);if(isFinite(u.xmax-u.xmin)&&isFinite(u.ymax-u.ymin)){var p=i(u,t);p.xmin<n&&(n=p.xmin),p.xmax>o&&(o=p.xmax),p.ymin<a&&(a=p.ymin),p.ymax>s&&(s=p.ymax)}else c+=1}if(c!==l)return{xmin:n,xmax:o,ymin:a,ymax:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.getRecommendedViewportForExpression=t.shouldExpressionZoomFit=t.padViewport=t.conditionalExpandViewport=void 0,t.conditionalExpandViewport=r,t.padViewport=i,t.shouldExpressionZoomFit=function(e,t){var n=o(e,t);if(!n)return!1;var r=t.mapx(n.xmin),i=t.mapx(n.xmax),a=t.mapy(n.ymin),s=t.mapy(n.ymax);return!(Math.abs(r)<=10&&Math.abs(s)<=10&&Math.abs(i-t.screen.width)<=10&&Math.abs(a-t.screen.height)<=10)},t.getRecommendedViewportForExpression=o})),i("main/layout-model",["require","exports","browser"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLayoutModel=t.getShiftedLayoutForCurrentLayout=void 0,t.getShiftedLayoutForCurrentLayout=function(e){switch(e){case"letters":return"capitalLetters";case"noQwertyLetters":return"noQwertyCapitalLetters";case"noQwertyCapitalLetters":return"noQwertyLetters";default:return"letters"}},t.defaultLayoutModel=function(e){return{keypadMinimized:!n.IS_TOUCH_DEVICE,keypadLayout:"mainNumbers",keypadFunctionsOpen:!1,graphSettingsOpen:!1,addExpressionOpen:!1,expressionsVisible:!!e.expressions,inEditListMode:!1,isFileDraggedOver:!1,expressionsHiddenTime:void 0}}})),i("main/settings-view-model",["require","exports","tslib","core/lib/label"],(function(e,t,n,r){function i(e,t){var n=r.value(e,t),i="";if(n.mantissa)i=n.mantissa.split("×").join("\\cdot")+"^{"+n.superscript+"}";else{var o=n.string.split("/");i=2===o.length?"-"===o[0][0]?"-\\frac{"+o[0].slice(1)+"}{"+o[1]+"}":"\\frac{"+o[0]+"}{"+o[1]+"}":n.string}return i.replace(/π/,"\\pi")}function o(e){return{xmin:i(e.xmin,e.xmax-e.xmin),xmax:i(e.xmax,e.xmax-e.xmin),ymin:i(e.ymin,e.ymax-e.ymin),ymax:i(e.ymax,e.ymax-e.ymin)}}function a(e,t){return 0===e?"":i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSettingsViewModel=t.limitLatex=t.formatStep=t.formatViewport=t.formatLatex=void 0,t.formatLatex=i,t.formatViewport=o,t.formatStep=a,t.limitLatex=function(e,t,r){var i=o(e);return n.__assign(n.__assign({},i),{xstep:a(t,e.xmax-e.xmin),ystep:a(r,e.ymax-e.ymin)})},t.defaultSettingsViewModel=function(){return{limitLatex:{xmin:"",xmax:"",xstep:"",ymin:"",ymax:"",ystep:""}}}})),i("expressions/list_move_controller",["require","exports","core/lib/dragmode","core/lib/number-to-latex","core/lib/label","lib/rounding","graphing-calc/models/expression","graphing-calc/models/table","graphing-calc/models/list","graphing-calc/models/image","core/math/poi","core/math/functions"],(function(e,t,n,r,i,o,a,s,c,l,d,u){function p(e,t){return{left:e.x-t,right:e.x+t,top:e.y+t,bottom:e.y-t}}function g(e,t){switch(t){case n.DragMode.X:return 0===e;case n.DragMode.Y:return 1===e;case n.DragMode.XY:return!0;default:return!1}}function h(e,t,n){if(0===n[0]&&0===n[1])return{x:t.x,y:t.y,width:e.width,height:e.height};var r=Math.cos(e.radianAngle),i=Math.sin(e.radianAngle),o=t.x-e.x,a=t.y-e.y;if(0===n[0])return{x:e.x,y:e.y,width:e.width,height:2*n[1]*(r*a+i*o)};if(0===n[1])return{x:e.x,y:e.y,width:2*n[0]*(r*o-i*a),height:e.height};var s=2*(e.width*n[0]*(r*o-i*a)+e.height*n[1]*(i*o+r*a))/(e.width*e.width+e.height*e.height);return{x:e.x,y:e.y,width:s*e.width,height:s*e.height}}function f(e){return void 0===e?NaN:e[0]}function m(e,t,n,i,s){var c=t.formula;if(!c||!c.move_strategy)return!1;var d=c.dimensions,u={x:f(d.x),y:f(d.y),width:f(d.width),height:f(d.height),radianAngle:f(d.radianAngle)},g=n.scaleFactor||[0,0],m=0!==g[0]&&0!==g[1],y=s.closestPointOnScreen(i),b=function(e,t,n){for(var r=["x","y","width","height"],i={x:1/0,y:1/0,width:1/0,height:1/0},o={x:-1/0,y:-1/0,width:-1/0,height:-1/0},a=0,s=[{x:t.left,y:t.bottom},{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.right,y:t.bottom}];a<s.length;a++)for(var c=h(e,s[a],n),l=0,d=r;l<d.length;l++){var u=d[l];i[u]=Math.min(i[u],c[u]),o[u]=Math.max(o[u],c[u])}return{min:i,max:o}}(u,s.pixelsToMath.mapRect(p(y,m?.05:.5)),g),v=s.mathToPixels.mapRect({left:u.x-.5*u.width,right:u.x+.5*u.width,top:u.y-.5*u.height,bottom:u.y+.5*u.height}),x=Math.abs(v.right-v.left),w=Math.abs(v.bottom-v.top),A=s.mathToPixels.mapRect({left:b.min.x-.5*b.min.width,right:b.min.x+.5*b.min.width,top:b.min.y-.5*b.min.height,bottom:b.min.y+.5*b.min.height}),E=Math.abs(A.right-A.left),k=Math.abs(A.bottom-A.top);if(E<x&&E<1||k<w&&k<1)return!1;for(var I=["width","height","x","y"],S=!1,M=0;M<I.length;M++){var C=I[M],D=c.move_strategy[M];switch(D.type){case"updateCoordinate":var T=o.shortestDecimalBetween(b.min[C],b.max[C]),L=r.default(T);switch(C){case"width":case"height":l.setMQAttribute(t,C,L);break;case"x":if("updateCoordinate"===c.move_strategy[3].type){var _=o.shortestDecimalBetween(b.min.y,b.max.y),O="\\left("+L+","+r.default(_)+"\\right)";l.setMQAttribute(t,"center",O)}else O="\\left("+L+","+c.move_strategy[3].inputString+"\\right)",l.setMQAttribute(t,"center",O);break;case"y":"updateCoordinate"!==c.move_strategy[2].type&&(O="\\left("+c.move_strategy[2].inputString+","+L+"\\right)",l.setMQAttribute(t,"center",O));break;default:return C}S=!0;break;case"updateSlider":var B=e.getItemModel(D.id);if(!B||"expression"!==B.type)continue;var P=D.coefficients[0],F=D.coefficients[1],N=F*b.min[C]+P,q=F*b.max[C]+P,R=o.shortestDecimalBetween(N,q),z=B.latex;a.adjustSliderByMovablePoint(B,R),B.latex!==z&&(S=!0)}}return S}function y(e,t,s,c,l){var h=t.formula;if(!h||!h.move_strategy)return!1;var f=t.reconciledDragMode||n.DragMode.NONE,m=!1,y=c.closestPointOnScreen(s),b=c.pixelsToMath.mapRect(p(y,.5)),v=[{min:b.left,max:b.right},{min:b.top,max:b.bottom}];"updateCoordinate"!==h.move_strategy[0].type&&"updateCoordinate"!==h.move_strategy[1].type||(a.setLatex(t,function(e,t,n){var a;a=e.assignment?i.identifierToLatex(e.assignment)+"=":"";var s=o.shortestDecimalBetween(t[0].min,t[0].max),c=o.shortestDecimalBetween(t[1].min,t[1].max),l="updateCoordinate"===e.move_strategy[0].type&&g(0,n),d="updateCoordinate"===e.move_strategy[1].type&&g(1,n);return a+"\\left("+(l?r.default(s):e.move_strategy[0].inputString)+","+(d?r.default(c):e.move_strategy[1].inputString)+"\\right)"}(h,v,f)),m=!0);for(var x,w,A,E,k,I,S,M=function(){if("updateSlider"!==(x=h.move_strategy[C]).type&&"updateSliderNonlinear"!==x.type)return"continue";if(!g(C,f))return"continue";if(!(w=e.getItemModel(x.id))||"expression"!==w.type)return"continue";if(A=w.latex,l&&(E=0===C?l.x:l.y),E){var t=w.slider&&""!==w.slider.step&&(("up"===E||"bigup"===E)&&!w.slider.hardMax||("down"===E||"bigdown"===E)&&!w.slider.hardMin);a.adjustSliderByKeyboard(w,E,{ignoreSoftLimits:t})}else if("updateSlider"===x.type)k=x.coefficients[0],I=x.coefficients[1],S=o.shortestDecimalBetween(I*v[C].min+k,I*v[C].max+k),a.adjustSliderByMovablePoint(w,S);else if("updateSliderNonlinear"===x.type){x.compiled.fn||u.rehydrateCompiledFunction(x.compiled);var n=x.compiled.fn,r=x.initialValue,i=x.min,s=x.max,p=[y.x,y.y],b=d.findLocalClosestPointOnParametric((function(e){var t,r=n(e),i=r[0],o=r[1];return[i=(t=c.mathToPixels.mapPoint({x:i,y:o})).x,o=t.y]}),p,r,i,s,1);if(b){var M=o.shortestDecimalBetween(b[0],b[1]);void 0!==i&&M<i&&(M=i),void 0!==s&&M>s&&(M=s),a.adjustSliderByMovablePoint(w,M)}}w.latex!==A&&(m=!0)},C=0;C<2;C++)M();return m}Object.defineProperty(t,"__esModule",{value:!0}),t.onMovePoint=t.onStopMovingPoint=t.onStartMovingPoint=void 0,t.onStartMovingPoint=function(e,t,r){if(r.tableInfo){c.setSelected(t,void 0);var i=e.getItemModel(r.tableInfo.tableId);if(!i||"table"!==i.type)return;s.setIsDraggingOnGrapher(i,!0)}else{var o=e.getItemModel(r.sketch.id);if(!o||"expression"!==o.type&&"image"!==o.type)return;if("image"!==o.type&&c.setSelected(t,void 0),!o.formula||!o.formula.move_strategy)return;for(var d=o.formula.move_strategy,u=0;u<d.length;u++)if("updateCoordinate"===d[u].type)"image"===o.type?l.setIsDraggingOnGrapher(o,!0):"expression"===o.type&&a.setIsDraggingOnGrapher(o,!0);else if("updateSlider"===d[u].type||"updateSliderNonlinear"===d[u].type){var p,g=e.getItemModel(d[u].id);if(!g||"expression"!==g.type)continue;if((p="expression"===o.type?o.reconciledDragMode:void 0)===n.DragMode.NONE||0===u&&p===n.DragMode.Y||1===u&&p===n.DragMode.X)continue;a.setSliderDragging(g,!0)}}},t.onStopMovingPoint=function(e,t){for(var n=0,r=e.getAllItemModels();n<r.length;n++){var i=r[n];"table"===i.type?i.draggingOnGraphpaper&&s.setIsDraggingOnGrapher(i,!1):"expression"===i.type?(i.sliderDragging&&a.setSliderDragging(i,!1),i.draggingOnGraphpaper&&a.setIsDraggingOnGrapher(i,!1)):"image"===i.type&&i.draggingOnGraphpaper&&l.setIsDraggingOnGrapher(i,!1)}},t.onMovePoint=function(e,t,n,i,a){if(t.tableInfo)return function(e,t,n,i){var a=t.tableInfo.tableId,c=t.tableInfo.rowIndex,l=t.tableInfo.columnId,d=t.tableInfo.dragX,u=t.tableInfo.dragY,g=e.getItemModel(a);if(g&&"table"===g.type){var h=s.getColumnModel(g,l);if(h){var f=i.closestPointOnScreen(n),m=i.pixelsToMath.mapRect(p(f,.5)),y={x:r.default(o.shortestDecimalBetween(m.left,m.right)),y:r.default(o.shortestDecimalBetween(m.top,m.bottom))};if(d&&s.setCellLatex(g,{row:c+1,column:0},y.x),u){var b=h.index;s.setCellLatex(g,{row:c+1,column:b},y.y)}}}}(e,t,n,i),!0;var c=e.getItemModel(t.sketch.id);return!!c&&("image"===c.type?m(e,c,t,n,i):"expression"===c.type&&y(e,c,n,i,a))}})),i("main/blank_state",["require","exports","core/graphing-calc/migrate-state"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BLANK_STATE=void 0,t.BLANK_STATE={version:n.currentVersion,randomSeed:"",graph:{viewport:{xmin:-10,ymin:-13.25,xmax:10,ymax:13.25}},expressions:{list:[{id:"1",type:"expression"}]}},t.default=t.BLANK_STATE})),i("expressions/measure-expressions",["require","exports","jquery"],(function(e,t,n){function r(e){for(var t=[],n=0,r=e.getAllItemModels();n<r.length;n++){var i=r[n],o=e.getItemRootNodeById(i.id);o&&t.push(o)}return t}function i(e,t){for(var n=r(e),i=0,o=n.length-1;i<=o;){var a=i+Math.floor((o-i)/2),s=n[a],c=s.getBoundingClientRect();if(c.top>t)o=a-1;else{if(!(c.bottom<t))return s;i=a+1}}}function o(e){var t=c(e);if(t){var i=function(e,t){for(var n,i=r(e),o=0,a=i.length-1;o<=a;){var s=o+Math.floor((a-o)/2),c=i[s];c.getBoundingClientRect().top>t?(a=s-1,n=c):o=s+1}return n}(e,t.top-2);if(i)return n(i).attr("expr-id")}}function a(e){return e.find$(".dcg-exppanel")[0]}function s(e){var t=a(e);if(t)return n(t)}function c(e){var t=a(e);if(t)return t.getBoundingClientRect()}Object.defineProperty(t,"__esModule",{value:!0}),t.getDragContainerHeight=t.getExpListHeight=t.getExppanelScrolledTop=t.getExppanelRect=t.getOuterExppanelRect=t.getExppanelSelector=t.getExppanelElt=t.getFirstFullyVisibleItemId=t.getLastVisibleItemId=t.getFirstVisibleItemId=void 0,t.getFirstVisibleItemId=function(e,t){var r=c(e);if(r){if(t){var a=e.getItemRootNodeById(t);if(a){var s=a.getBoundingClientRect();if(s.height>0&&s.top<=r.top&&s.bottom>=r.top)return t}}var l=i(e,r.top);return l?n(l).attr("expr-id"):o(e)}},t.getLastVisibleItemId=function(e,t){var r=c(e);if(r){var o=function(e){for(var t=e.getAllItemModels(),n=t.length-1;n>=0;n--){var r=t[n];if(r.dcgView)return r.id}}(e);if(o){if(t){var a=e.getItemRootNodeById(t);if(a){var s=a.getBoundingClientRect();if(s.height>0&&s.top<=r.bottom&&s.bottom>=r.bottom)return t;if(t===o&&s.bottom<=r.bottom)return t}}var l=i(e,r.bottom);return l&&n(l).attr("expr-id")||o}}},t.getFirstFullyVisibleItemId=o,t.getExppanelElt=a,t.getExppanelSelector=s,t.getOuterExppanelRect=function(e){var t=e.find$(".dcg-exppanel-outer")[0];if(t)return t.getBoundingClientRect()},t.getExppanelRect=c,t.getExppanelScrolledTop=function(e){var t=a(e);if(t){var n=t.getBoundingClientRect(),r=t.scrollTop;return n.top-r}},t.getExpListHeight=function(e){var t=e.find$(".dcg-expressionlist");if(1===t.length)return t.height()},t.getDragContainerHeight=function(e){var t=s(e);return t&&t.find(".dcg-drag-container").height()||0}})),i("expressions/dragdrop_expressions",["require","exports","tslib","jquery","expressions/measure-expressions","jquery.handleevent"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.active=!1,this.controller=e;var t=i.getExppanelSelector(e);t&&(this.$exppanel=t)}return e.prototype.startDragging=function(e){this.active=!0,this.mouseY=e,this.setupEventListeners()},e.prototype.applyDrag=function(){var e=this.controller.getListModel().dragState;if(e){this.scheduleUpdateScroll();var t=this.measureDOM(e);if(t){var r=t.floatingPreviewRect,i=this.controller.getItemModel(e.firstItemId);if(i){for(var o,a,s=i.index,c=0,l=t.visibleRects;c<l.length;c++){var d=l[c],u=d.id,p=d.rect;if(u!==i.id){var g=this.controller.getItemModel(u);if(!g)return;if(g.index<i.index){if(r.top<p.top+p.height/2){s=g.index;break}}else r.bottom>p.top+p.height/2&&(s=g.index,"folder"===g.type&&g.collapsed&&(s+=this.controller.getNumberOfItemsInFolder(g.id)))}}s>i.index?(o=s,a=s+1):s<i.index?(o=s-1,a=s):(o=s-1,a=s+1);var h=this.controller.getItemModelByIndex(o),f=this.controller.getItemModelByIndex(a),m="",y="";h&&(m="folder"===h.type?h.id:h.folderId),f&&(y="folder"===f.type?f.id:f.folderId);var b="";return m&&(y===m?"folder"===i.type?s=i.index:b=m:"folder"!==i.type&&this.isPreviewTopContainedInFolder(t,m)&&(b=m)),{dragState:n.__assign({},t.dragState),newIndex:s,folderId:b}}}}},e.prototype.measureDOM=function(e){var t=i.getExppanelScrolledTop(this.controller),r=i.getExpListHeight(this.controller);if(void 0!==t&&void 0!==r){var o=i.getDragContainerHeight(this.controller),a=e.mouseY-e.grabOffset+2,s=a-t;s=Math.max(s,-o/2),s=Math.min(s,r-o);var c={top:a,bottom:a+o,height:o},l=this.controller.findFirstVisibleItem(),d=this.controller.findLastVisibleItem();if(l&&d){for(var u=[],p=l.index;p<=d.index;p++){var g=this.controller.getItemModelByIndex(p);if(g){var h=this.controller.getItemRootNodeById(g.id);if(h&&g.id!==e.firstItemId){var f=h.getBoundingClientRect();u.push({id:g.id,rect:f})}}}if(0!==u.length)return{dragState:n.__assign(n.__assign({},e),{itemTop:s}),floatingPreviewRect:c,visibleRects:u}}}},e.prototype.isPreviewTopContainedInFolder=function(e,t){for(var n=e.visibleRects,r=e.floatingPreviewRect,i=0,o=n;i<o.length;i++){var a=o[i],s=a.id,c=a.rect;if(c.top<=r.top&&c.bottom>=r.top){var l=this.controller.getItemModel(s);if(!l)return!1;if("folder"===l.type&&l.id===t)return!0;if("folder"!==l.type&&l.folderId===t)return!0}}return!1},e.prototype.scheduleUpdateScroll=function(){var e=this;this.updateScrollScheduled||(this.updateScrollScheduled=!0,requestAnimationFrame((function(){e.updateScroll(),e.updateScrollScheduled=!1})))},e.prototype.stop=function(){this.active=!1,this.tearDownEventListeners(),this.controller.dispatch({type:"stop-dragdrop"})},e.prototype.setupEventListeners=function(){var e=this;r(document).on("dcg-tapmove.dragdrop",(function(t){e.mouseY=t.changedTouches[0].clientY,e.controller.dispatch({type:"update-dragdrop",mouseY:e.mouseY})})),r(document).on("dcg-tapend.dragdrop",(function(t){e.stop(),t.handle("dragdrop")}))},e.prototype.tearDownEventListeners=function(){r(document).off(".dragdrop")},e.prototype.updateScroll=function(){if(this.active){var e=this.$exppanel[0].getBoundingClientRect(),t=0;t=Math.min(t,this.mouseY-e.top),(t=(t=Math.max(t,this.mouseY-e.bottom+30))*e.height/900)&&this.$exppanel.scrollTop(this.$exppanel.scrollTop()+t)}},e}();t.default=o})),i("keypad/mq-commands",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.execute=void 0;var n={loga:function(e){e.write("\\log_{}"),e.typedText("("),e.keystroke("Left"),e.keystroke("Down")},nthroot:function(e){e.write("\\sqrt[]{}"),e.keystroke("Left"),e.keystroke("Left")},ddx:function(e){e.write("\\frac{d}{dx}")},arcsin:function(e){e.write("sin^{-1}"),e.typedText("(")},arccos:function(e){e.write("cos^{-1}"),e.typedText("(")},arctan:function(e){e.write("tan^{-1}"),e.typedText("(")},arcsec:function(e){e.write("sec^{-1}"),e.typedText("(")},arccsc:function(e){e.write("csc^{-1}"),e.typedText("(")},arccot:function(e){e.write("cot^{-1}"),e.typedText("(")},"A^T":function(e){e.typedText("^T"),e.keystroke("Right")},"A^-1":function(e){e.typedText("^-1"),e.keystroke("Right")},"A^2":function(e){e.typedText("^2"),e.keystroke("Right")},"a^2":function(e){e.typedText("^2"),e.keystroke("Right")},"a^3":function(e){e.typedText("^3"),e.keystroke("Right")},"a/b":function(e){e.write("\\frac{}{}"),e.keystroke("Left")}};t.execute=function(e,t){n[t](e)}})),i("shared-components/braille-input",["require","exports","tslib","lib/i18n","dcgview","jquery"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0});var a=i.Components.Input,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){var e;for(this.ASCIICharacters=" A1B'K2L@CIF/MSP\"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=",this.ASCIITable=[],this.HomeRowCharacters="FDSJKL",this.charCodes=[],this.sixKeyModel={keysDown:0,stickyKeysDown:0},e=0;e<this.ASCIICharacters.length;e++)this.ASCIITable.push(this.ASCIICharacters.charCodeAt(e));for(e=0;e<this.HomeRowCharacters.length;e++)this.charCodes.push(this.HomeRowCharacters.charCodeAt(e))},t.prototype.template=function(){var e=this;return i.createElement(a,{class:this.const("dcg-braille-input dcg-do-blur"),tabindex:function(){return e.props.tabindex?e.props.tabindex():0},readonly:function(){return e.props.isStatic()?"true":void 0},autocomplete:this.const("off"),autocorrect:this.const("off"),autocapitalize:this.const("off"),spellcheck:this.const("false"),onKeydown:this.bindFn(this.onKeydown),onKeyup:this.bindFn(this.onKeyup),onInput:this.bindFn(this.props.onInput),value:function(){return e.props.value()},"aria-label":function(){return e.props.ariaLabel()||r.raw("")},didMount:this.bindFn(this.didMount),didUnmount:this.bindFn(this.props.didUnmount),placeholder:function(){return e.props.placeholder?e.props.placeholder():""},size:function(){return e.props.size&&e.props.size()}})},t.prototype.didMount=function(e){var t=this;this.rootNode=e,o(this.rootNode).on("focus",(function(e){t.props.shouldFocus()||t.props.onFocusedChanged(!0,e.originalEvent||e)})).on("blur",(function(e){t.props.shouldFocus()&&t.props.onFocusedChanged(!1,e.originalEvent||e)})),this.props.didMount(e),this.updateFocus()},t.prototype.didUpdate=function(){this.updateFocus()},t.prototype.updateFocus=function(){this.rootNode&&(this.props.shouldFocus()&&document.activeElement!==this.rootNode&&this.rootNode.focus(),this.props.shouldFocus()||document.activeElement!==this.rootNode||this.rootNode.blur())},t.prototype.onKeydown=function(e){var t=this.charCodes.indexOf(e.which);this.props.isStatic()||!this.isSixKeyInput()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||-1===t?this.props.onKeydown&&this.props.onKeydown(e):(this.sixKeyModel=n.__assign(n.__assign({},this.sixKeyModel),{keysDown:this.addKey(this.sixKeyModel.keysDown,t),stickyKeysDown:this.addKey(this.sixKeyModel.stickyKeysDown,t)}),e.preventDefault())},t.prototype.onKeyup=function(e){var t=this.charCodes.indexOf(e.which),r=!1;return this.props.isStatic()||!this.isSixKeyInput()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||-1===t?r=!0:(this.sixKeyModel=n.__assign(n.__assign({},this.sixKeyModel),{keysDown:this.removeKey(this.sixKeyModel.keysDown,t)}),0===this.sixKeyModel.keysDown&&(this.addCharacter(this.bitsToASCII(this.sixKeyModel.stickyKeysDown)),this.sixKeyModel=n.__assign(n.__assign({},this.sixKeyModel),{stickyKeysDown:0}))),r||e.preventDefault(),r},t.prototype.addKey=function(e,t){return e|1<<t},t.prototype.removeKey=function(e,t){return e&~(1<<t)},t.prototype.bitsToASCII=function(e){return String.fromCharCode(this.ASCIITable[e])},t.prototype.addCharacter=function(e){this.rootNode&&!this.props.isStatic()&&(this.rootNode.setRangeText(e,this.rootNode.selectionStart,this.rootNode.selectionEnd,"end"),this.props.onInput(this.rootNode.value))},t.prototype.isSixKeyInput=function(){return"function"==typeof this.props.sixKeyInput&&this.props.sixKeyInput()},t}(i.Class);t.default=s})),i("loadcss!shared-components/tooltip",(function(){})),i("shared-components/tooltip",["require","exports","tslib","keys","dcgview","jquery","underscore","loadcss!./tooltip"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;var s=i.Components,c=s.IfElse,l=s.Switch,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.latexKey=0},t.prototype.template=function(){var e=this;return i.createElement("div",{class:function(){var t;return(t={})[e.getCustomClassName()]=!0,t["dcg-tooltip-positioning-container"]=!0,t["dcg-latex-tooltip-positioning-container"]=!!e.props.renderAsLatex,t["dcg-tooltip-gravity-ne-se"]="ne"===e.props.gravity()||"se"===e.props.gravity(),t["dcg-tooltip-gravity-nw-sw"]="nw"===e.props.gravity()||"sw"===e.props.gravity(),t["dcg-tooltip-gravity-n-s"]="n"===e.props.gravity()||"s"===e.props.gravity(),t["dcg-tooltip-gravity-e-w"]="e"===e.props.gravity()||"w"===e.props.gravity(),t},style:function(){return{top:e.props.hitAreaRect().top+(e.props.offset().top||0)+"px",left:e.props.hitAreaRect().left+(e.props.offset().left||0)+"px",width:e.props.hitAreaRect().width+"px",height:e.props.hitAreaRect().height+"px"}}},i.createElement("div",{role:i.const("tooltip"),class:i.const("dcg-tooltip-message-container"),style:this.bindFn(this.getMessageStyle)},c((function(){return!!e.props.renderAsLatex}),{true:function(){return i.createElement("div",{class:function(){return{"dcg-tooltip-message":!0,"dcg-latex":!0,"dcg-sticky-not-stuck":e.props.isStickyAndNotStuck(),"dcg-tooltip-overflow":e.messageOverflows()}},style:function(){return{"max-width":e.getMaxWidth()+"px"}},didMount:function(t){e.tooltipMessage=t}},i.createElement(l,{key:function(){return e.latexKey}},(function(){return e.props.renderAsLatex().view(e.props.tooltip())})))},false:function(){return i.createElement("div",{class:i.const("dcg-tooltip-message"),style:function(){return{background:e.getBackgroundColor(),cursor:e.props.isStickyAndNotStuck()?"pointer":"default"}}},e.props.tooltip)}})),i.createElement("div",{class:function(){var t;return(t={"dcg-tooltip-arrow":!0})["dcg-tooltip-gravity-"+e.props.gravity()[0]]=!0,t},style:function(){return e.props.renderAsLatex?e.getArrowWithBorderStyle():e.getSolidArrowStyle()}}))},t.prototype.willUpdate=function(){this.latexKey++},t.prototype.getCustomClassName=function(){return this.props.class?this.props.class():""},t.prototype.messageOverflows=function(){return this.tooltipMessage&&this.tooltipMessage.getBoundingClientRect().width>=this.getMaxWidth()},t.prototype.getArrowWithBorderStyle=function(){var e=this.props.gravity(),t="10px",r={width:"8px",height:"8px",border:"1px solid #bbb",background:this.getBackgroundColor(),opacity:this.props.isStickyAndNotStuck()?".95":"1"};switch(e){case"s":return n.__assign(n.__assign({},r),{top:"100%",left:"50%","margin-top":"1px","border-right":"0","border-bottom":"0"});case"sw":return n.__assign(n.__assign({},r),{top:"100%",right:t,"margin-top":"1px","border-right":"0","border-bottom":"0"});case"se":return n.__assign(n.__assign({},r),{top:"100%",left:t,"margin-top":"1px","border-right":"0","border-bottom":"0"});case"n":return n.__assign(n.__assign({},r),{bottom:"100%",left:"50%","margin-bottom":"1px","border-left":"0","border-top":"0"});case"nw":return n.__assign(n.__assign({},r),{bottom:"100%",right:t,"margin-bottom":"1px","border-left":"0","border-top":"0"});case"ne":return n.__assign(n.__assign({},r),{bottom:"100%",left:t,"margin-bottom":"1px","border-left":"0","border-top":"0"});case"e":return n.__assign(n.__assign({},r),{top:"50%",left:"100%","margin-left":"1px","border-right":"0","border-top":"0"});case"w":return n.__assign(n.__assign({},r),{top:"50%",right:"100%","margin-right":"1px","border-left":"0","border-bottom":"0"});default:return e}},t.prototype.getSolidArrowStyle=function(){var e=this.props.gravity(),t=this.props.hitAreaRect().width/2+"px",n=this.getBackgroundColor(),r="transparent transparent "+n+" transparent",i=n+" transparent transparent transparent",o="transparent "+n+" transparent transparent",a="transparent transparent transparent "+n,s="-5px";switch(e){case"s":return{top:"100%",left:"50%",border:"5px solid transparent","border-color":r,"margin-top":s,"margin-left":s};case"sw":return{top:"100%",right:t,border:"5px solid transparent","border-color":r,"margin-top":s,"margin-right":s};case"se":return{top:"100%",left:t,border:"5px solid transparent","border-color":r,"margin-top":s,"margin-left":s};case"n":return{bottom:"100%",left:"50%",border:"5px solid transparent","border-color":i,"margin-bottom":s,"margin-left":s};case"nw":return{bottom:"100%",right:t,border:"5px solid transparent","border-color":i,"margin-bottom":s,"margin-right":s};case"ne":return{bottom:"100%",left:t,border:"5px solid transparent","border-color":i,"margin-bottom":s,"margin-left":s};case"e":return{top:"50%",left:"100%",border:"5px solid transparent","border-color":o,"margin-left":"-5px","margin-top":s};case"w":return{top:"50%",right:"100%",border:"5px solid transparent","border-color":a,"margin-right":s,"margin-top":s};default:return e}},t.prototype.getBackgroundColor=function(){return this.props.renderAsLatex?"#fff":this.props.isStickyAndNotStuck()?"#666":"#000"},t.prototype.getMaxWidth=function(){var e=this.props.gravity(),t=this.props.hitAreaRect().left+(this.props.offset().left||0),n=t+this.props.hitAreaRect().width,r=.5*this.props.hitAreaRect().width+t,i=window.innerWidth-5;switch(e){case"se":case"ne":case"e":return i-t;case"sw":case"nw":case"w":return n-5;case"s":case"n":return 2*Math.min(i-r,r-5);default:return e}},t.prototype.getMessageStyle=function(){var e=this.props.hitAreaRect(),t=this.props.gravity(),n=this.props.maxWidth();switch(t){case"s":return{top:"100%",width:n+"px",transform:"translate(-50%, 0)",left:.5*e.width+"px","margin-top":"5px","text-align":"center"};case"sw":return{top:"100%",width:n+"px",right:"0","margin-top":"5px","text-align":"right"};case"se":return{top:"100%",width:n+"px","margin-top":"5px","text-align":"left"};case"n":return{bottom:"100%",width:n+"px",transform:"translate(-50%, 0)",left:.5*e.width+"px","margin-bottom":"5px","text-align":"center"};case"nw":return{bottom:"100%",right:"0",width:n+"px","margin-bottom":"5px","text-align":"right"};case"ne":return{bottom:"100%",width:n+"px","margin-bottom":"5px","text-align":"left"};case"e":return{transform:"translate(0, -50%)",left:"100%",width:n+"px",top:.5*e.height+"px","margin-left":"5px","text-align":"left"};case"w":return{transform:"translate(0, -50%)",right:"100%",width:n+"px",top:.5*e.height+"px","margin-right":"5px","text-align":"right"};default:return t}},t}(i.Class),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.uuid=a.uniqueId()},t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-tooltip-hit-area-container"),handleevent:i.const("true"),didMount:function(t){e.isMounted=!0,e.hitAreaNode=t,e.setupEventListeners(e.hitAreaNode)},onTap:function(){if(e.shouldStickOnTargetClick())if(e.isStuck)e.clearTimeouts(),e.hideTooltip();else{if(e.props.disabled&&e.props.disabled())return;e.showTooltip(),e.stickTooltip()}else if(e.shouldShowOnTapstart()){if(e.props.disabled&&e.props.disabled())return;e.showTooltip(),e.setUpHideOnExternalMousedown()}}},this.children)},t.prototype.shouldShowOnTapstart=function(){return this.props.showOnTapstart&&this.props.showOnTapstart()},t.prototype.didUpdate=function(){this.updateTooltip()},t.prototype.updateTooltip=function(){if(this.wrapperRef)if(this.props.tooltip()){var e=this.hitAreaNode.getBoundingClientRect(),t=this.wrapperRef.elt.getBoundingClientRect(),n=this.wrapperRef,r=n.originalTop,i=n.originalLeft,o=e.top-t.top,a=e.left-t.left;Math.abs(o-r)>3||Math.abs(a-i)>3?this.hideTooltip():this.wrapperRef.view.update()}else this.hideTooltip()},t.prototype.handleShowEvent=function(e){if(!this.props.disabled||!this.props.disabled()){var t=this.props.delay?this.props.delay():500;this.clearTimeouts(),this.showTooltipTimeout=setTimeout(e,t)}},t.prototype.handleHideEvent=function(){this.clearTimeouts(),this.hideTooltipTimeout=setTimeout(this.bindFn(this.hideTooltip),150)},t.prototype.setupEventListeners=function(e){var t=this;o(e).on("tipsyshow",(function(n){n.target===e&&t.handleShowEvent((function(){t.showTooltip()}))})).on("tipsyhide",(function(n){n.target!==e||t.isStuck||t.handleHideEvent()}))},t.prototype.willUnmount=function(){this.clearTimeouts(),this.isMounted=!1,this.hideTooltip()},t.prototype.setUpHideOnExternalMousedown=function(){var e=this;o(document).on("mousedown.dcg-tooltip-"+this.uuid+" touchstart.dcg-tooltip-"+this.uuid+" pointerdown.dcg-tooltip-"+this.uuid,(function(t){e.wrapperRef&&(o(t.target).closest(e.hitAreaNode).length||o(t.target).closest(e.wrapperRef.elt).length||e.hideTooltip())}))},t.prototype.stickTooltip=function(){this.isMounted&&this.wrapperRef&&(this.isStuck||(this.setUpHideOnExternalMousedown(),this.isStuck=!0,this.updateTooltip()))},t.prototype.clearTimeouts=function(){clearTimeout(this.showTooltipTimeout),clearTimeout(this.hideTooltipTimeout)},t.prototype.showTooltip=function(){var e=this;if(this.isMounted&&!this.wrapperRef&&this.props.tooltip()){var t=this.hitAreaNode.getBoundingClientRect(),n=document.createElement("div");n.className="dcg-tooltip-mount-pt";var a=o(this.hitAreaNode).closest(".dcg-tap-container")[0],s=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement;(s&&o(this.hitAreaNode).closest(s).length>0&&o(s).closest(".dcg-tap-container").length>0?s:a).appendChild(n);var c=n.getBoundingClientRect(),l=t.left-c.left,u=t.top-c.top,p=Math.min(200,this.props.maxParentWidthOverflow?t.width+2*this.props.maxParentWidthOverflow():1/0),g={tooltip:this.props.tooltip,class:this.props.class,isStickyAndNotStuck:function(){return e.shouldStickOnTargetClick()&&!e.isStuck},offset:function(){return e.props.offset?e.props.offset():{}},gravity:function(){return e.props.gravity?e.props.gravity():"s"},renderAsLatex:this.props.renderAsLatex,maxWidth:function(){return p},hitAreaRect:function(){return{top:u||0,left:l||0,width:t.width||0,height:t.height||0}}};this.setupEventListeners(n),o(n).on("dcg-tap",(function(){e.shouldStickOnTargetClick()&&e.stickTooltip()}));var h=i.mountToNode(d,n,g);o(document).on("keydown.dcg-tooltip-"+this.uuid,(function(t){r.lookup(t)===r.ESCAPE&&e.hideTooltip()}));var f=function(){return e.updateTooltip()};window.addEventListener("scroll",f,!0),this.wrapperRef={elt:n,view:h,originalLeft:l,originalTop:u,onScroll:f}}},t.prototype.hideTooltip=function(){this.clearTimeouts(),this.wrapperRef&&(this.isStuck=!1,o(document).off(".dcg-tooltip-"+this.uuid),window.removeEventListener("scroll",this.wrapperRef.onScroll,!0),i.unmountFromNode(this.wrapperRef.elt),this.wrapperRef.elt.parentNode&&this.wrapperRef.elt.parentNode.removeChild(this.wrapperRef.elt),this.wrapperRef=void 0)},t.prototype.shouldStickOnTargetClick=function(){return!!this.props.sticky&&this.props.sticky()},t}(i.Class);t.Tooltip=u})),i("loadcss!shared-components/Abraham",(function(){})),i("loadcss!shared-components/mathquill-braille-wrapper",(function(){})),i("shared-components/mathquill-braille-wrapper",["require","exports","tslib","lib/i18n","jquery","abraham","dcgview","./braille-input","./tooltip","loadcss!./Abraham","loadcss!./mathquill-braille-wrapper"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0}),t.brailleInputIsEmpty=t.getFocusedBrailleElement=void 0;var l=a.Components.If,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.currentBrailleValue=this.getBrailleFromLatex(this.props.latex()),this.currentBrailleMode=this.props.mode(),this.hasTranslationError=!1,this.currentLatex=this.props.latex()},t.prototype.isFocused=function(){return void 0!==this.brailleInput&&document.activeElement==this.brailleInput},t.prototype.getBrailleShouldFocus=function(){return"none"!==this.props.mode()&&this.props.brailleShouldFocus&&this.props.brailleShouldFocus()},t.prototype.isStatic=function(){return!!this.props.isStatic&&this.props.isStatic()},t.prototype.isInline=function(){return!!this.props.isInline&&this.props.isInline()},t.prototype.hasError=function(){return!!this.props.hasError&&this.props.hasError()},t.prototype.willUpdate=function(){var e=this.currentLatex!==this.props.latex(),t=this.props.mode(),n=t!==this.currentBrailleMode&&"none"!==t;(!this.isFocused()||e||n)&&(this.currentLatex=this.props.latex(),(n||!this.hasTranslationError||e||this.isStatic())&&(this.currentBrailleValue=this.getBrailleFromLatex(this.props.latex()),this.hasTranslationError=!1),this.currentBrailleMode=t)},t.prototype.onBrailleInput=function(e){if(this.props.onBrailleInput){var t=this.getLatexFromBraille(e);this.hasTranslationError=t.isError;var n=this.props.capExpressionSize&&this.props.capExpressionSize();!t.isError&&n&&n.exceedsLimit(t.value)?n.onExpressionSizeExceeded():(this.currentBrailleValue=e,t.isError||(this.currentLatex=t.value,this.props.onBrailleInput(t.value)))}},t.prototype.getBrailleFromLatex=function(e,t){void 0===t&&(t=!1);var n=function(e,t){return"nemeth"===t?o.latexToNemeth(e):"ueb"===t?o.latexToUeb(e):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}(e,this.props.mode());return n.isError?"":t?n.value:o.UnicodeBraille.toExpandedBrailleAscii(n.value)},t.prototype.getLatexFromBraille=function(e){return function(e,t){return"nemeth"===t?o.nemethToLatex(e):"ueb"===t?o.uebToLatex(e):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}(o.UnicodeBraille.coerceToSixDotCells(e),this.props.mode())},t.prototype.getBrailleLabel=function(e){return this.getBrailleFromLatex(e.replace(/\s/,"\\ "))},t.prototype.shouldShowBraille=function(){var e=this.props.mode();return"nemeth"===e||"ueb"===e},t.prototype.isOverflowingLeft=function(){return!!this.brailleInput&&this.brailleInput.scrollLeft>0},t.prototype.isOverflowingRight=function(){if(!this.brailleInput)return!1;var e=this.brailleInput.getBoundingClientRect().width;return this.brailleInput.scrollWidth>e+this.brailleInput.scrollLeft+2},t.prototype.didMountBrailleInput=function(e){this.brailleInput=e},t.prototype.didUnmountBrailleInput=function(){this.brailleInput=void 0},t.prototype.getTooltipGravity=function(){var e=this.props.tooltipOptions&&this.props.tooltipOptions();return e&&e.gravity?e.gravity:"se"},t.prototype.getTooltipDelay=function(){var e=this.props.tooltipOptions&&this.props.tooltipOptions();return e&&e.delay?e.delay:0},t.prototype.handleBrailleFocusChanged=function(e,t){this.props.onBrailleFocusedChanged&&this.props.onBrailleFocusedChanged(e,t),this.brailleInput&&(e&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.brailleInput.select(),this.isStatic()&&this.brailleInput.scrollTo(0,0))},t.prototype.getTooltipText=function(){var e=this.props.placeholder&&!this.isFocused()?this.props.placeholder():"";return r.raw(this.props.latex()||e)},t.prototype.template=function(){var e=this;return a.createElement("div",{class:a.const("dcg-mathquill-wrapper")},a.createElement(l,{predicate:function(){return e.shouldShowBraille()}},(function(){return a.createElement("div",{class:function(){return{"dcg-mathquill-braille":!0,"dcg-focus":e.getBrailleShouldFocus(),"dcg-invalid":e.hasError(),"dcg-mathquill-static-braille":e.isStatic(),"dcg-mathquill-braille-overflow-left":e.isOverflowingLeft(),"dcg-mathquill-braille-overflow-right":e.isOverflowingRight()}},"data-dcg-limit":function(){return e.props.dataDCGLimit?e.props.dataDCGLimit():void 0},"data-dcg-label":function(){return e.props.dataLabelAttributeValue?e.props.dataLabelAttributeValue():void 0}},a.createElement(c.Tooltip,{class:e.const("dcg-mathquill-braille-tooltip"),renderAsLatex:function(){return{view:e.props.tooltipOptions().latexView}},tooltip:function(){return e.getTooltipText()},gravity:e.bindFn(e.getTooltipGravity),delay:e.bindFn(e.getTooltipDelay),showOnTapstart:e.const(!0)},a.createElement(l,{predicate:function(){return e.isInline()}},(function(){return a.createElement("span",{class:a.const("dcg-inline-braille")},(function(){return r.raw(e.getBrailleFromLatex(e.props.latex(),!0))}))})),a.createElement(l,{predicate:function(){return!e.isInline()}},(function(){return a.createElement(s.default,{ariaLabel:function(){return r.raw(e.props.ariaLabel?e.getBrailleLabel(e.props.ariaLabel()):"")},didMount:e.bindFn(e.didMountBrailleInput),didUnmount:e.bindFn(e.didUnmountBrailleInput),onFocusedChanged:e.bindFn(e.handleBrailleFocusChanged),shouldFocus:e.bindFn(e.getBrailleShouldFocus),onKeydown:e.props.onBrailleKeydown,onInput:e.bindFn(e.onBrailleInput),sixKeyInput:e.props.sixKeyInput,value:function(){return e.currentBrailleValue},placeholder:function(){return r.raw(e.props.placeholder?e.getBrailleFromLatex(e.props.placeholder()):"")},tabindex:function(){return e.props.tabindex?e.props.tabindex():0},isStatic:e.bindFn(e.isStatic),size:function(){return e.currentBrailleValue&&e.currentBrailleValue.length||1}})}))))})),a.createElement("div",{class:a.const("dcg-typeset-math"),style:function(){return{display:e.shouldShowBraille()&&!e.isInline()?"none":void 0}},"aria-hidden":function(){return e.shouldShowBraille()}},this.children))},t}(a.Class);t.default=d,t.getFocusedBrailleElement=function(){if(document.activeElement&&i(document.activeElement).hasClass("dcg-braille-input"))return document.activeElement},t.brailleInputIsEmpty=function(e){return!e||""===i(e).val()}})),i("main/controller",["require","exports","main/propagate_selection","tslib","scroll_helpers","graphing/grapher","browser","core/lib/label","underscore","lib/i18n","flux","core/types/opacity","core/lib/dragmode","core/types/styles","lib/conditional_blur","core/lib/deepCopy","core/lib/number-to-latex","lib/state-stack","graphing/viewport","core/graphing-calc/migrate-state","core/math/expression-types","lib/smart-slider-defaults","core/lib/color-helpers","graphing-calc/models/expression","core/graphing-calc/json/expression","graphing-calc/models/expression","graphing-calc/models/table","graphing-calc/models/image","graphing-calc/models/folder","graphing-calc/models/text","graphing-calc/models/ticker","graphing-calc/models/list","graphing-calc/models/abstract-item","graphing-calc/models/focus","graphing-calc/actions/keyboard","main/expression-zoom-helpers","core/math/evaluate-single-expression","./layout-model","./settings-view-model","jquery","bugsnag","expressions/list_move_controller","./blank_state","dcgview-helpers/mathquill-view","expressions/measure-expressions","expressions/dragdrop_expressions","keypad/mq-commands","core/lib/random-seed","../shared-components/mathquill-braille-wrapper"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v,x,w,A,E,k,I,S,M,C,D,T,L,_,O,B,P,F,N,q,R,z,U,j,Q,G,V,Y,H,K){Object.defineProperty(t,"__esModule",{value:!0});var W=function(){function e(e){var t=this;this.__nextItemId=0,this.__pendingImageUploads={},this.nextSubscription=0,this.subscriptions={},this._queuedCallbacks=[],this._hasUnsavedChanges=!1,this.shouldScrollSelectedItemIntoViewAfterDispatch=!1,this.lastParsableObjects={},this.expressionSearchCount=0,this.expressionSearchOpen=!1,this.canShowKeyboardShortcuts=!1,this.toastData={},this.s=l.createDictionaryLookupFunction((function(){return t.graphSettings.config.language})),this.raw=function(e,t){return l.raw(e,t)},this.hasTranslation=function(e){var n=t.graphSettings.config.language;return l.hasTranslation(e,n)},this.unpack=function(e){var n=t.graphSettings.config.language;return l.unpack(e,n)},this.dispatch=function(e){var n;if("blur-focus-location"===e.type&&t.dispatcher.isDispatching())t.runAfterDispatch((function(){t.dispatch(e)}));else if("set-focus-location"===e.type&&t.dispatcher.isDispatching())t.runAfterDispatch((function(){t.dispatch(e)}));else if("tick"===e.type&&t.dispatcher.isDispatching())t.runAfterDispatch((function(){t.dispatch(e)}));else for("tick"===e.type||z.leaveBreadcrumb("dispatch::"+t.bugsnagContext,{type:e.type}),t.dispatcher.isDispatching()&&z.leaveBreadcrumb("dispatch-in-dispatch::"+t.bugsnagContext,{type:e.type}),t.dispatcher.dispatch(e),t.onEventsEmitted&&t.onEventsEmitted(t.enqueuedEvents);n=t._queuedCallbacks.shift();)n()},this._requiresTickNextFrame=!1,this.updateViews=function(){for(var e in t.subscriptions)t.subscriptions[e]()},this.bugsnagContext="",this.inPrintMode=!1,this.lastInfiniteScrollFirstDOM=void 0,this.lastInfiniteScrollLastDOM=void 0,this.hasDispatchSinceLastInfiniteScrollUpdate=!1,this.stateStack=new y.default,this.isCurrentlyDoingSetState=!1,this.isCurrentlyDoingRestoreState=!1,this.graphSettings=e,this.listModel=L.init(this),this.layoutModel=N.defaultLayoutModel(this.graphSettings.config),this.layoutMeasurements={width:0,height:0},this.settingsViewModel=q.defaultSettingsViewModel(),this.imageRetryState={lastAttemptTime:0,attempts:0},this.setupDispatcher()}return e.prototype.hasUnsavedChanges=function(){return this._hasUnsavedChanges},e.prototype.getExpressionSearchOpen=function(){return this.expressionSearchOpen},e.prototype.getTickerOpen=function(){return!!this.areActionsEnabled()&&this.listModel.ticker.open},e.prototype.getTickerPlaying=function(){return!!this.areActionsEnabled()&&this.listModel.ticker.playing},e.prototype.hasVisibleAndUndoableToast=function(){return"function"==typeof this.toastData.undoCallback},e.prototype.getToastData=function(){return this.toastData},e.prototype.toastUndo=function(){"function"==typeof this.toastData.undoCallback&&(this.toastData.undoCallback(),this.dispatch({type:"toast/close"}))},e.prototype.runAfterDispatch=function(e){this.dispatcher.isDispatching()?this._queuedCallbacks.push(e):e()},e.prototype.enqueueEvent=function(e){this.enqueuedEvents[e]=!0},e.prototype.setRandomSeed=function(e){this.graphSettings.setProperty("randomSeed",e)},e.prototype.getRandomSeed=function(){return this.graphSettings.randomSeed},e.prototype.shouldDispatchTickNextFrame=function(){return!!this._requiresTickNextFrame},e.prototype.markTickRequiredNextFrame=function(){this._requiresTickNextFrame=!0},e.prototype.handleTick=function(e){this.areActionsEnabled()&&T.shouldTick(this.listModel.ticker,{currentFrameTime:e,previousFrameTime:this.lastFrameTime})?this.dispatch({type:"tick-ticker",time:e}):this.shouldDispatchTickNextFrame()&&this.dispatch({type:"tick",time:e}),this.lastFrameTime=e},e.prototype.setupDispatcher=function(){var e=this;this.dispatcher=new d.Dispatcher,this.dispatcher.register((function(t){var n,r=e.getSelectedItem(),i=e.getFocusLocation();e.shouldScrollSelectedItemIntoViewAfterDispatch=!1,e.enqueuedEvents={change:!1,graphReset:!1,clearUnsavedChanges:!1,openDrawer:!1,showHotkeysModal:!1,userMovedPoint:!1,userClickedObject:!1,userEditedLabel:!1},"tick"===t.type&&(e._requiresTickNextFrame=!1),e.isCurrentlyDoingSetState=!1,e.isCurrentlyDoingRestoreState=!1,e.handleDispatchedAction(t),e.updateTheComputedWorld();var o=e.getImageToRetry();(e.getPlayingSliders().length>0||e.hasAnyTableThatRequiresTicks()||e.isDragDropActive()||o)&&e.markTickRequiredNextFrame(),o&&e.retryLoadingFailedImage(o),"undo"===t.type||"redo"===t.type||e.isDragDropActive()||e.commitUndoRedoSynchronously(t),e.requestParseForAllItems(),e.isCurrentlyDoingSetState=!1,e.isCurrentlyDoingRestoreState=!1,e.enqueuedEvents.change&&e.grapher&&e.grapher.markLabelsDirty(),e.enqueuedEvents.clearUnsavedChanges?e._hasUnsavedChanges=!1:e.enqueuedEvents.change&&(e._hasUnsavedChanges=!0);var a=e.getSelectedItem();a?r&&r.guid===a.guid||(e.shouldScrollSelectedItemIntoViewAfterDispatch=!0):e.shouldScrollSelectedItemIntoViewAfterDispatch=!1;var s=e.getFocusLocation();s&&!c.isEqual(s,i)&&e.getFocusedItem()==a&&(e.shouldScrollSelectedItemIntoViewAfterDispatch=!0),i&&r&&"table"===r.type&&"table"===i.type&&(!s||"table"!==s.type||i.id!==s.id)&&r.isExpanded&&(S.setExpanded(r,!1),s||(n=r)),s&&a&&"table"===a.type&&S.updateIsCollapsedByFocusLocation(a),e.updateRenderShellsBeforePaint(),e.updateViews(),n?e.scrollItemIntoView(n):e.shouldScrollSelectedItemIntoViewAfterDispatch&&e.scrollSelectedItemIntoView(),e.updateDragDrop(),e.updateRenderShellsAfterDispatch()}))},e.prototype.handleDispatchedAction=function(e){var t=this;switch(e.type){case"render":break;case"undo":this.undo();break;case"redo":this.redo();break;case"clear-undoredo-history":this.clearUndoRedoHistory();break;case"on-special-key-pressed":"Enter"===e.key?B.onEnterPressed(this):"Up"===e.key?B.onUpPressed(this):"Down"===e.key?B.onDownPressed(this):"Backspace"===e.key?B.onBackspacePressed(this):"Delete"===e.key&&B.onDeletePressed(this);break;case"select-previous-expression":L.selectPrevItem(this.listModel);break;case"select-next-expression":L.selectNextItem(this.listModel);break;case"upward-delete-selected-expression":B.upwardDeleteSelectedExpression(this,{moveSelection:!1});break;case"downward-delete-selected-expression":B.downwardDeleteSelectedExpression(this,{moveSelection:!1});break;case"table-show-more-rows":if(!(J=this.getItemModel(e.id))||"table"!==J.type)return;var n=S.getCollapsedRange(J);if(!n)return;L.setSelected(this.listModel,J),S.setExpanded(J,!0),O.setFocusLocation(this,{type:"table",id:J.id,location:{row:n.min,column:0}});break;case"navigate-table-by-key":B.navigateTableByKey(this,e.id,e.key);break;case"delete-item-and-animate-out":this._deleteItemAndAnimateOut(e.id,e.setFocusAfterDelete);break;case"finish-deleting-item-after-animation":this._finishDeletingItemAfterAnimation(e.id,e.setFocusAfterDelete);break;case"expression-zoom-fit":this._expressionZoomFit(e.id);break;case"set-expression-properties-from-api":this._setExpressionPropertiesFromAPI(e.id,e.properties);break;case"add-item-to-end-from-api":this._addItemToEndFromAPI(this.createItemModel(e.state));break;case"duplicate-expression":if(!(f=this.getItemModel(e.id))||"folder"===f.type)return;this.copyExpressionToIndex(f,f.index+1);break;case"duplicate-folder":var i=e.id,o=this.getItemModel(i);if(!o||"folder"!==o.type)return;var a=this.createItemModel(r.__assign(r.__assign({},C.getState(o,{stripDefaults:!1})),{id:this.generateId()})),c=this.getNumberOfItemsInFolder(i),l=c+1;this._toplevelInsertItemAt(o.index+l,a,!1,void 0);for(var d=o.index+1,u=d+c,g=d;g<=u;g++){var h=L.getItemByIndex(this.listModel,g);if(!h||"folder"===h.type)return;this.copyExpressionToIndex(h,g+l,a.id)}break;case"insert-item-at-index":var f=this.createItemModel(e.state);this._toplevelInsertItemAt(e.index,f,e.focus,e.folderId);break;case"new-expression-at-end":f=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()}),this.setEditListMode(!1),L.insertItemAtEnd(this.listModel,f),O.moveFocusToItem(this,f.id);break;case"new-expression":f=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()}),this.setEditListMode(!1),this._toplevelNewItemAtSelection(f,{shouldFocus:!0}),this._closeAddExpression();break;case"new-text":f=this.createItemModel({id:this.generateId(),type:"text"}),this._toplevelNewItemAtSelection(f,{shouldFocus:!0}),this._closeAddExpression();break;case"new-folder":f=this.createItemModel({type:"folder",id:this.generateId()}),this._toplevelNewItemAtSelection(f,{shouldFocus:!0}),this._closeAddExpression();break;case"new-images":this._uploadImagesAndWaitForThemToLoad({files:e.files}),this._closeAddExpression();break;case"change-image":this._uploadImagesAndWaitForThemToLoad({files:e.files,id:e.id});break;case"new-table":f=this._createTableItem(),this._toplevelNewItemAtSelection(f,{shouldFocus:!0}),this._closeAddExpression();break;case"paste-table":this._pasteTable(e.data);break;case"insert-several-expressions":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this._insertSeveralExpressions(e.expressions);break;case"append-number-list":this._appendNumberList(e.latex);break;case"remove-item-by-id":L.removeItemById(this.listModel,e.id);break;case"replace-item-at-index":f=this.createItemModel(e.state),this._toplevelReplaceItemAt(e.index,f,e.focus);break;case"create-sliders-for-item":this.createSlidersForItem(e.id,e.variables);break;case"create-sliders-for-ticker":this.createSlidersForTicker(e.variables);break;case"convert-image-to-draggable":this.convertImageToDraggable(e.id);break;case"start-dragdrop":if(!(J=this.getItemModel(e.id)))return;var m=this.getItemRootNodeById(J.id);if(!m)return;var y=m.getBoundingClientRect();L.setSelected(this.listModel,void 0);var b=e.grabY-y.top,v=!1,x=1;"folder"===J.type&&(x+=this.getNumberOfItemsInFolder(J.id),J.collapsed||(v=!0,C.setCollapsed(J,!0))),L.setDragState(this.listModel,{firstItemId:J.id,numberOfItems:x,expandFolder:v,grabOffset:b,mouseY:e.mouseY,itemTop:0}),this.dragdrop_expressions.startDragging(e.mouseY);break;case"update-dragdrop":if(!(w=this.listModel.dragState))return;L.setDragState(this.listModel,r.__assign(r.__assign({},w),{mouseY:e.mouseY}));break;case"stop-dragdrop":var w;if(!(w=this.listModel.dragState))return;var A=this.getItemModel(w.firstItemId);if(!A)return;L.setSelected(this.listModel,A),"folder"===A.type&&w.expandFolder&&C.setCollapsed(A,!1),L.setDragState(this.listModel,void 0);break;case"set-selected-id":f=this.getItemModel(e.id),L.setSelected(this.listModel,f);break;case"set-selected-index":f=this.getItemModelByIndex(e.index),L.setSelected(this.listModel,f);break;case"set-none-selected":L.setSelected(this.listModel,void 0);break;case"set-focus-location":"table"===(e.location?e.location.type:"")&&(this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{inEditListMode:!1})),O.setFocusLocation(this,e.location);break;case"move-focus-to-item":O.moveFocusToItem(this,e.id,e.where);break;case"blur-focus-location":this.isFocusLocationFocused(e.location)&&O.setFocusLocation(this,void 0);break;case"set-folder-collapsed":if(!(J=this.getItemModel(e.id))||"folder"!==J.type)return;C.setCollapsed(J,e.isCollapsed);break;case"set-all-folders-collapsed":L.collapseAllFolders(this.listModel,e.isCollapsed);break;case"set-item-secret":if(!(f=this.getItemModel(e.id)))return;_.setSecret(f,e.isSecret);break;case"set-tablecolumn-color":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnColor(J,e.columnId,e.color);break;case"set-tablecolumn-colorlatex":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnColorLatex(J,e.columnId,e.colorLatex);break;case"set-show-cdf":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setShowCDF(J,e.showCDF);break;case"set-cdf-min":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setCDFMin(J,e.latex);break;case"set-cdf-max":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setCDFMax(J,e.latex);break;case"toggle-item-hidden":this._toggleItemHidden(e.id);break;case"toggle-tablecolumn-hidden":this._toggleTableColumnHidden(e.tableId,e.columnId);break;case"toggle-item-settings-menu":this.listModel.openItemMenu&&e.menu.model===this.listModel.openItemMenu.model?this.closeItemSettingsMenu():(this.listModel.openItemMenu=e.menu,e.menu.focusFirstOption&&O.setFocusLocation(this,{type:"expression-menu",id:e.menu.model.id,location:"start"}));break;case"close-item-settings-menu":this.closeItemSettingsMenu();break;case"toggle-fraction-evaluation":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;var E=I.shouldEvaluationDisplayAsFraction(J);I.setEvaluationAsFraction(J,!E);break;case"set-item-label":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setLabel(J,e.label),this.enqueueEvent("userEditedLabel");break;case"set-item-showlabel":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setShowLabel(J,e.showLabel),e.showLabel||(I.setInteractiveLabel(J,!1),I.setEditableLabelMode(J,k.EditableLabelMode.None));break;case"set-item-color":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setColor(J,e.color);break;case"set-item-description":if(!(J=this.getItemModel(e.id))||"expression"!==J.type&&"image"!==J.type)return;"expression"===J.type?I.setDescription(J,e.description):"image"===J.type&&M.setDescription(J,e.description);break;case"set-item-fill":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setFill(J,e.fill),this._setItemHidden(J.id,I.areAllVisibilityPropsOff(J));break;case"set-image-opacity":if(!(J=this.getItemModel(e.id))||"image"!==J.type)return;M.setOpacity(J,e.opacity),this._setItemHidden(J.id,!1);break;case"set-image-in-foreground":if(!(J=this.getItemModel(e.id))||"image"!==J.type)return;M.setForeground(J,e.foreground);break;case"image-upload-error":this.__pendingImageUploads[e.token]&&(delete this.__pendingImageUploads[e.token],this._showToast({message:this.s("graphing-calculator-text-toast-image-upload-failed")}));break;case"image-upload-success":if(this.__pendingImageUploads[e.token])if(delete this.__pendingImageUploads[e.token],e.id)(J=this.getItemModel(e.id))&&"image"===J.type&&M.setImageURL(J,e.url);else{var T=this.createItemModel({type:"image",id:this.generateId(),width:e.width,height:e.height,image_url:e.url,name:e.name});this._toplevelNewItemAtSelection(T,{shouldFocus:!1})}this.isUploadingImages()||(this.toastData={});break;case"image-load-success":if(!(T=this.getItemModel(e.id))||"image"!==T.type)return;M.setLoadStatus(T,"loaded"),this.imageRetryState={lastAttemptTime:0,attempts:0};break;case"image-load-error":if(!(T=this.getItemModel(e.id))||"image"!==T.type)return;M.setLoadStatus(T,"failed");break;case"image-retry-loading":if(!(T=this.getItemModel(e.id))||"image"!==T.type)return;M.retryLoading(T);break;case"set-item-dragmode":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setDragMode(J,e.dragMode);break;case"set-tablecolumn-dragmode":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnDragMode(J,e.columnId,e.dragMode),e.dragMode!==p.DragMode.NONE&&this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-points":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnPoints(J,e.columnId,e.bool),this._setTableColumnHidden(e.tableId,e.columnId,S.shouldHideColumn(J,e.columnId));break;case"set-tablecolumn-lines":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnLines(J,e.columnId,e.bool),this._setTableColumnHidden(e.tableId,e.columnId,S.shouldHideColumn(J,e.columnId));break;case"set-tablecolumn-linestyle":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnLineStyle(J,e.columnId,e.lineStyle),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-linewidth":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnLineWidth(J,e.columnId,e.lineWidth),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-lineopacity":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnLineOpacity(J,e.columnId,e.lineOpacity),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-pointsize":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnPointSize(J,e.columnId,e.pointSize),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-pointopacity":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnPointOpacity(J,e.columnId,e.pointOpacity),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-tablecolumn-pointstyle":if(!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setColumnPointStyle(J,e.columnId,e.pointStyle),this._setTableColumnHidden(e.tableId,e.columnId,!1);break;case"set-item-points":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setPoints(J,e.points),this._setItemHidden(e.id,I.areAllVisibilityPropsOff(J)),e.points||J.dragMode===p.DragMode.NONE||I.setDragMode(J,p.DragMode.NONE);break;case"set-item-pointstyle":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setPointStyle(J,e.pointStyle),this._setItemHidden(e.id,!1);break;case"set-item-lines":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setLines(J,e.lines),this._setItemHidden(e.id,I.areAllVisibilityPropsOff(J));break;case"set-item-linestyle":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setLineStyle(J,e.lineStyle),this._setItemHidden(e.id,!1);break;case"set-item-label-dropdown-open":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setLabelDropdownOpen(J,e.open);break;case"set-item-fillopacity":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setFillOpacity(J,e.fillOpacity),this._setItemHidden(e.id,!1);break;case"set-item-lineopacity":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setLineOpacity(J,e.lineOpacity),this._setItemHidden(e.id,!1);break;case"set-item-pointopacity":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setPointOpacity(J,e.pointOpacity),this._setItemHidden(e.id,!1);break;case"set-item-pointsize":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setPointSize(J,e.pointSize),this._setItemHidden(e.id,!1);break;case"set-item-linewidth":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setLineWidth(J,e.lineWidth),this._setItemHidden(e.id,!1);break;case"set-item-colorlatex":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setColorLatex(J,e.colorLatex);break;case"set-item-labelSize":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setLabelSize(J,e.labelSize);break;case"set-item-labelangle":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setLabelAngle(J,e.labelAngle);break;case"set-item-label-orientation":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setLabelOrientation(J,e.labelOrientation);break;case"set-suppress-text-outline":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setSuppressTextOutline(J,e.suppressTextOutline);break;case"set-item-interactive-label":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setInteractiveLabel(J,e.interactiveLabel),e.interactiveLabel&&I.setEditableLabelMode(J,k.EditableLabelMode.None);break;case"set-item-editable-label-mode":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;J.editableLabelMode!==k.EditableLabelMode.None&&e.editableLabelMode!==k.EditableLabelMode.None&&J.editableLabelMode!==e.editableLabelMode&&I.setLabel(J,""),I.setEditableLabelMode(J,e.editableLabelMode),e.editableLabelMode!==k.EditableLabelMode.None&&I.setInteractiveLabel(J,!1);break;case"plot-residuals":if(!(f=this.getItemModel(e.id))||"expression"!==f.type)return;var P=f.formula.regression;if(!P)return;var F=P.residualSuggestionId;if(!F)return;var q=this.getItemModel(F);if(!q)return;S.insertBlankColumn(q,q.columnModels.length-1,{id:this.generateId(),latex:s.identifierToLatex(P.residualVariable),color:this.getNextColor()});break;case"toggle-logmode":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;var R=J.isLogModeRegression;I.setLogMode(J,!R);break;case"set-item-latex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(f=this.getItemModel(e.id))||"expression"!==f.type)return;var z=e.latex;if('"'===z&&this.areNotesEnabled()){var j=this.createItemModel({id:this.generateId(),type:"text"});this._toplevelReplaceItemAt(f.index,j,!0)}else if(""===z)I.blankOutExpressionAfterClearingLatex(f);else if("ticker"===z&&this.canAddTicker())this.listModel.ticker.open=!0,this.focusLocation={type:"ticker",location:"handler"},this._removeExpressionSynchronously(f);else if("folder"===z&&this.areFoldersEnabled()){var G=this.createItemModel({id:this.generateId(),type:"folder"});L.getParentFolderModel(f)?(this._toplevelNewItemAtSelection(G,{shouldFocus:!0}),I.setLatex(f,"")):this._toplevelReplaceItemAt(f.index,G,!0)}else if("table"===z){var V=this._createTableItem();this._toplevelReplaceItemAt(f.index,V,!0)}else"betchacant"===z||"pride"===z?this.runAfterDispatch((function(){t.triggerEasterEgg&&t.triggerEasterEgg(z)})):I.setLatex(f,z);break;case"set-visualization-prop":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setVizProp(J,e.prop,e.value);break;case"set-clickableinfo-prop":if(!(J=this.getItemModel(e.id)))return;"expression"===J.type?I.setClickableInfoProp(J,e.prop,e.value):"image"===J.type&&M.setClickableInfoProp(J,e.prop,e.value);break;case"set-clickableinfo-rule-latex":if(!(J=this.getItemModel(e.id)))return;"expression"===J.type?I.setClickableInfoRuleLatex(J,e.latex):"image"===J.type&&M.setClickableInfoRuleLatex(J,e.latex);break;case"set-folder-title":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"folder"!==J.type)return;C.setTitle(J,e.title);break;case"set-image-mq-attribute":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"image"!==J.type)return;M.setMQAttribute(J,e.attribute,e.latex);break;case"set-image-name":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"image"!==J.type)return;M.setName(J,e.name);break;case"set-image-draggable":if(!(J=this.getItemModel(e.id))||"image"!==J.type)return;var K=M.getCenterExternalReferencedModel(J);if(!K)return;M.setDraggable(J,e.draggable),!e.draggable||K.reconciledDragMode!==p.DragMode.NONE&&K.dragMode!==p.DragMode.AUTO||I.setDragMode(K,p.DragMode.XY);break;case"set-graph-settings":for(var W in e)"type"!==W&&this.graphSettings.setProperty(W,e[W]);break;case"set-polar-domain-minlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setPolarDomainMin(J,e.latex);break;case"set-polar-domain-maxlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setPolarDomainMax(J,e.latex);break;case"set-parametric-domain-minlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setParametricDomainMin(J,e.latex);break;case"set-parametric-domain-maxlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setParametricDomainMax(J,e.latex);break;case"set-note-text":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"text"!==J.type)return;D.setText(J,e.text);break;case"set-edit-list-mode":var J=L.getSelected(this.listModel);if(this.setEditListMode(e.isEditListMode),e.focusExpressionList){if(void 0===J&&(J=this.getItemModelByIndex(0)),!J)return;O.moveFocusToItem(this,J.id,"table"===J.type&&e.isEditListMode?"container":"start")}else L.setSelected(this.listModel,void 0),O.setFocusLocation(this,void 0);break;case"set-projector-mode":this.getGraphSettings().config.setProperty("projectorMode",e.value);break;case"set-inverted-colors":this.getGraphSettings().config.setProperty("invertedColors",e.value);break;case"set-tablecell-latex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.tableId))||"table"!==J.type)return;S.setCellLatex(J,e.cell,e.latex);break;case"set-state":this.externalSetState(e.state,e.opts);break;case"set-blank":this.externalSetState(this.getBlankState(),e.opts);break;case"clear-unsaved-changes":this.enqueueEvent("clearUnsavedChanges");break;case"reset-graph":var X=this.getState();this.externalSetState(this.graphSettings.defaultState,{allowUndo:!0});var Z=this.getItemModelByIndex(0);Z&&O.moveFocusToItem(this,Z.id,"end"),this._showToast({message:this.s("graphing-calculator-text-toast-graph-reset"),undoCallback:function(){return t.dispatch({type:"set-state",state:X,opts:{allowUndo:!0}})}}),this.enqueueEvent("graphReset");break;case"clear-graph":if(this.triggerClearGraph)return void this.runAfterDispatch((function(){return t.triggerClearGraph()}));var $=this.getState();this.externalSetState(this.getBlankState(),{allowUndo:!0});var ee=this.getItemModelByIndex(0);ee&&O.moveFocusToItem(this,ee.id,"end"),this._showToast({message:this.s("graphing-calculator-text-toast-graph-cleared"),undoCallback:function(){return t.dispatch({type:"set-state",state:$,opts:{allowUndo:!0}})}}),this.enqueueEvent("graphReset");break;case"on-evaluator-changes":if(this.onEvaluatorChangesSpy&&this.onEvaluatorChangesSpy(e.changes,e.timingData,e.graphData,e.eventUpdates),L.onEvaluatorFormulaUpdates(this.listModel,e.changes),!e.graphData)break;var te;for(te in e.graphData.addedGraphs){var ne=e.graphData.addedGraphs[te];this.grapher&&this.grapher.updateSketch(te,ne),L.onGraphComputed(this.listModel,te,ne)}for(te in e.graphData.removedGraphs)this.grapher&&this.grapher.hide(te);for(te in e.graphData.intersections)this.grapher&&"2d"===this.grapher.type&&this.grapher.updateIntersections(te,e.graphData.intersections[te]);if(this.grapher&&this.grapher.poiController&&this.grapher.poiController.handleTraceUpdate(),e.eventUpdates){var re=!1;for(var ie in e.eventUpdates.updates)if(this.doesIdentifierBlockActionUpdate(ie)){re=!0;break}if(!re){for(var ie in e.eventUpdates.updates)this.updateLatexForIdentifier(ie,e.eventUpdates.updates[ie]);e.eventUpdates.objectClicked&&this.enqueueEvent("userClickedObject"),this.onActionUpdatesAppliedSpy&&this.onActionUpdatesAppliedSpy(e.eventUpdates)}}break;case"add-helper-expression":L.addHelperExpression(this.listModel,e.state);break;case"tick":this._tickSliders(e.time);break;case"tick-ticker":this.tickTicker(e.time);break;case"adjust-slider-by-keyboard":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.adjustSliderByKeyboard(J,e.adjustment);break;case"adjust-slider-by-dragging-thumb":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.adjustSliderByDraggingThumb(J,e.target);break;case"set-slider-minlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setSliderMin(J,e.latex);break;case"set-slider-maxlatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setSliderMax(J,e.latex);break;case"set-slider-steplatex":if(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setSliderStep(J,e.latex);break;case"set-slider-dragging":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setSliderDragging(J,e.dragging);break;case"play-slider-from-min":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;var oe=I.getSliderMin(J);if(isNaN(oe))return;var ae=I.computeNewSliderLatex(J.latex,oe);I.setSliderIsPlaying(J,!1),I.setLatex(J,ae),I.setSliderIsPlaying(J,!0);break;case"set-slider-isplaying":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setSliderIsPlaying(J,e.isPlaying);break;case"set-slider-loopmode":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setSliderLoopMode(J,e.loopMode);break;case"set-slider-animationperiod":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;I.setSliderAnimationPeriod(J,e.animationPeriod);break;case"show-expressions-list":this._showExpressions(e.focusHideIcon);break;case"hide-expressions-list":this._hideExpressions(e.focusShowIcon);break;case"open-drawer":this.enqueueEvent("openDrawer");break;case"re-randomize":this.setRandomSeed(H.default());break;case"resize-exp-list":this._setExpListWidth(e.expListWidth);break;case"toast/show":this._showToast(e.toast);break;case"toast/close":this.closeToast();break;case"toast/undo":var se=this.toastData.undoCallback;se&&this.runAfterDispatch(se),this.toastData={};break;case"toast/learn-more":var ce=this.toastData.learnMoreCallback;ce&&this.runAfterDispatch(ce),this.toastData={};break;case"start-moving-point":U.onStartMovingPoint(this,this.listModel,e.pointInfo);break;case"stop-moving-point":U.onStopMovingPoint(this,e.pointInfo);break;case"on-move-point":U.onMovePoint(this,e.pointInfo,e.screenPt,e.projection,e.keyboardDirection)&&this.enqueueEvent("userMovedPoint");break;case"commit-user-requested-viewport":this._commitUserRequestedViewport(e.viewport);break;case"set-viewport":this._setAxisLimitLatex("xmin",e.viewport.xmin+""),this._setAxisLimitLatex("xmax",e.viewport.xmax+""),this._setAxisLimitLatex("ymin",e.viewport.ymin+""),this._setAxisLimitLatex("ymax",e.viewport.ymax+"");break;case"set-axis-limit-latex":this._setAxisLimitLatex(e.limit,e.latex);break;case"toggle-graph-settings":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{graphSettingsOpen:!this.layoutModel.graphSettingsOpen}),L.setSelected(this.listModel,void 0),e.focusOnOpen&&this.layoutModel.graphSettingsOpen&&O.setFocusLocation(this,{type:"settings",location:"projector-mode"});break;case"close-graph-settings":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{graphSettingsOpen:!1}),e.focusIconAfterClose&&O.setFocusLocation(this,{type:"settings",location:"icon"});break;case"toggle-add-expression":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{addExpressionOpen:!this.layoutModel.addExpressionOpen}),e.focusOnOpen&&this.layoutModel.addExpressionOpen&&O.setFocusLocation(this,{type:"add-expression-btn"});break;case"close-add-expression":this._closeAddExpression(),e.focusIconAfterClose&&O.setFocusLocation(this,{type:"add-item-btn"});break;case"ui/container-resized":this.layoutMeasurements={width:e.size.width,height:e.size.height},this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;break;case"enter-printmode":this.inPrintMode=!0;break;case"exit-printmode":this.inPrintMode=!1;break;case"expression-size-exceeded":this._showToast({message:this.s("graphing-calculator-text-toast-expression-size-limit")});break;case"keypad/set-layout":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadLayout:e.layout,keypadFunctionsOpen:!1});break;case"keypad/set-minimized":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadMinimized:e.minimized,keypadLayout:"mainNumbers"}),this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this.needsFakeKeypad()||O.addFocusForKeypad(this);break;case"keypad/type-text":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch((function(){var n=Q.default.getFocusedMathquill();n&&Q.default.canAcceptText(n,t.getCapExpressionSize(),e.text)&&(n.typedText(e.text),Q.default.simulateUserChangedLatex(n))}));break;case"keypad/press-key":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch((function(){var t=Q.default.getFocusedMathquill();t&&Q.default.simulateKeypress(t,e.key)}));break;case"keypad/audio-trace":this.handleAudioTraceCommand(e.command);break;case"set-audio-trace-speed":this.setAudioTraceSpeed(e.speed);break;case"keypad/custom-command":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch((function(){var t=Q.default.getFocusedMathquill();t&&(Y.execute(t,e.command),Q.default.simulateUserChangedLatex(t))}));break;case"keypad/shift":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadLayout:N.getShiftedLayoutForCurrentLayout(this.getKeypadLayout()),keypadFunctionsOpen:!1});break;case"keypad/123":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadLayout:"mainNumbers",keypadFunctionsOpen:!1});break;case"keypad/abc":this.isQwertyKeyboardEnabled()?this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadLayout:"letters",keypadFunctionsOpen:!1}):this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadLayout:"noQwertyLetters",keypadFunctionsOpen:!1});break;case"keypad/audio":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadMinimized:!1,keypadLayout:"audio",keypadFunctionsOpen:!1});break;case"keypad/functions":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsOpen:!this.isKeypadFunctionsPopoverOpen()});break;case"open-on-web":this._openOnWeb();break;case"file-is-dragged-over":this.listModel.openItemMenu=void 0,this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{isFileDraggedOver:!0});break;case"file-is-not-dragged-over":this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{isFileDraggedOver:!1});break;case"zoom":this.grapher&&this.grapher.viewportController.zoom(e.direction);break;case"set-hovered-image":if(!(J=this.getItemModel(e.id))||"image"!==J.type)return;M.setClickableInfoProp(J,"hoveredImage",e.url);break;case"set-depressed-image":if(!(J=this.getItemModel(e.id))||"image"!==J.type)return;M.setClickableInfoProp(J,"depressedImage",e.url);break;case"clickable-item-clicked":this.handleClickableItemClicked(e.id,e.listIndex);break;case"action-single-step":if(!(J=this.getItemModel(e.id))||"expression"!==J.type)return;if(!J.formula.action_value)return;this.evaluator.addActionStepEvent(J.id);break;case"update-expression-search-str":this.updateExpressionSearchStr(e.str);break;case"update-ticker-handlerlatex":this.updateTickerHandlerLatex(e.latex);break;case"update-ticker-minsteplatex":this.updateTickerMinStepLatex(e.latex);break;case"set-braille-mode":this.setBrailleMode(e.mode);break;case"set-six-key-input":this.setSixKeyInput(e.useSixKeyInput);break;case"close-expression-search":this.expressionSearchOpen=!1,this.updateExpressionSearchStr("");var le=this.getItemModelByIndex(0);le&&O.moveFocusToItem(this,le.id,"end");break;case"open-expression-search":this.expressionSearchOpen=!0,this.focusLocation={type:"search-expressions"};break;case"open-ticker":this.listModel.ticker.open=!0,this.focusLocation={type:"ticker",location:"handler"},this._closeAddExpression();break;case"close-ticker":this.listModel.ticker.open=!1,this.listModel.ticker.playing=!1,this.listModel.ticker.minStepLatex="",this.listModel.ticker.handlerLatex="";break;case"toggle-ticker":this.listModel.ticker.playing=!this.listModel.ticker.playing,this.listModel.ticker.lastTickTime=void 0,this.pauseAllSliders();break;default:return e}},e.prototype.pauseAllSliders=function(){this.getPlayingSliders().forEach((function(e){I.setSliderIsPlaying(e,!1)}))},e.prototype.handleClickableItemClicked=function(e,t){var n,r=this.getItemModel(e);r&&("expression"!==r.type&&"image"!==r.type||"maybe-valid"===(null===(n=r.formula.click_handler)||void 0===n?void 0:n.status)&&this.evaluator.addClickEvent(r.id,t))},e.prototype.canAddTicker=function(){return!this.getTickerOpen()},e.prototype.doesIdentifierBlockActionUpdate=function(e){for(var t=this.getFocusLocation(),n=0,r=L.getItemsByIdentifier(this.listModel,e);n<r.length;n++){var i=r[n];if("expression"===(null==t?void 0:t.type)&&t.id===i.id)return!0;if(I.shouldBlockActionUpdate(i))return!0}return!1},e.prototype.updateLatexForIdentifier=function(e,t){var n=L.getItemsByIdentifier(this.listModel,e);if(1===n.length){var r=n[0];r.slider.isPlaying?(I.setSliderIsPlaying(r,!1),I.setLatex(r,t),I.setSliderIsPlaying(r,!0)):I.setLatex(r,t)}},e.prototype.updateExpressionSearchStr=function(e){this.expressionSearchStr=e;var t=L.filterItemsBySearch(this.listModel,e);this.expressionSearchCount=this.expressionSearchOpen?t:0},e.prototype.updateTickerHandlerLatex=function(e){this.listModel.ticker.handlerLatex=e},e.prototype.updateTickerMinStepLatex=function(e){this.listModel.ticker.minStepLatex=e},e.prototype.getExpressionSearchStr=function(){return this.expressionSearchStr||""},e.prototype.getExpressionSearchCount=function(){return this.expressionSearchCount||0},e.prototype.getTicker=function(){return this.listModel.ticker},e.prototype.getTickerHandlerLatex=function(){return this.listModel.ticker.handlerLatex||""},e.prototype.getTickerMinStepLatex=function(){return this.listModel.ticker.minStepLatex||""},e.prototype.getTickerAvgDelta=function(){return this.listModel.ticker.avgDelta},e.prototype.getBrailleMode=function(){return this.graphSettings.config.brailleMode},e.prototype.setBrailleMode=function(e){this.graphSettings.config.setProperty("brailleMode",e)},e.prototype.getSixKeyInput=function(){return this.graphSettings.config.sixKeyInput},e.prototype.setSixKeyInput=function(e){this.graphSettings.config.setProperty("sixKeyInput",e)},e.prototype.getBrailleControls=function(){return this.graphSettings.config.brailleControls},e.prototype.setBrailleControls=function(e){this.graphSettings.config.setProperty("brailleControls",e)},e.prototype.getAudio=function(){return this.graphSettings.config.audio},e.prototype.setAudio=function(e){this.graphSettings.config.setProperty("audio",e)},e.prototype.setEditListMode=function(e){this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{inEditListMode:e})},e.prototype.generateTableXSubscript=function(){return L.findAvailableColumnSubscript(this.listModel)},e.prototype._createTableItem=function(){var e=this.generateTableXSubscript(),t=S.makeTableState(e,[[""],[""]],this);return this.createItemModel(t)},e.prototype._populateSettingsViewLimitLatex=function(){this.grapher&&(this.settingsViewModel=r.__assign(r.__assign({},this.settingsViewModel),{limitLatex:q.limitLatex(this.grapher.getCurrentViewport(),this.getGraphSettings().xAxisStep,this.getGraphSettings().yAxisStep)}))},e.prototype.getSettingsViewModel=function(){return this.settingsViewModel},e.prototype.getListModel=function(){return this.listModel},e.prototype.hasBackgroundColor=function(){return"#ffffff"!==this.getBackgroundColor()},e.prototype.getBackgroundColor=function(){return this.getGraphSettings().getBackgroundColor()},e.prototype.getTextColor=function(){return this.getGraphSettings().getTextColor()},e.prototype.getPillboxBackgroundColor=function(){return A.shadeColor(this.getBackgroundColor(),-.07)},e.prototype.subToChanges=function(e){var t=this,n=this.nextSubscription;return this.nextSubscription+=1,this.subscriptions[n]=e,function(){delete t.subscriptions[n]}},e.prototype.updateTheComputedWorld=function(){var e=this;L.reindex(this.listModel),L.updateDrawOrder(this.listModel),this.grapher&&this.grapher.setSketchOrder(this.listModel.drawOrder);for(var t=0,n=this.getAllItemModels();t<n.length;t++){var i=n[t];switch(i.type){case"expression":I.onControllerUpdate(i);break;case"image":M.onControllerUpdate(i);break;case"table":S.onControllerUpdate(i);break;case"folder":C.onControllerUpdate(i);break;case"text":D.onControllerUpdate(i);break;default:return i}}if(T.onControllerUpdate(this.listModel.ticker),this.isCurrentFocusLocationValid()||O.setFocusLocation(this,void 0),this.listModel.openItemMenu){var o=this.getActiveIcon();document.body&&o&&document.body.contains(o[0])||(this.listModel.openItemMenu=void 0)}var a=this.getSelectedItem();a&&!this.getItemModel(a.id)&&L.setSelected(this.listModel,void 0),this.layoutModel.graphSettingsOpen||this._populateSettingsViewLimitLatex(),this.propagateSelection(),this.isKeypadOpen()||(this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{keypadFunctionsOpen:!1})),this.runAfterDispatch((function(){e.grapher&&"2d"===e.grapher.type&&e.grapher.audioGraph.checkIfSelectedItemChanged(a?a.id:void 0),e.grapher&&"2d"===e.grapher.type&&e.focusLocation&&e.grapher.audioGraph.exitAudioTrace()}))},e.prototype.getActiveIcon=function(){var e=this.getOpenItemMenu();if(e){var t=this.find$('[model-id="'+e.model.id+'"]');if(0!==t.length)return t}},e.prototype.propagateSelection=function(){this.grapher&&this.evaluator?this.__lastSelectedId=n.propagateSelection(this,this.grapher,this.evaluator,this.__lastSelectedId):this.__lastSelectedId=void 0},e.prototype.getIntersectId=function(){return this.__lastSelectedId},e.prototype.areParsableObjectsEqual=function(e,t){return e===t||c.isEqual(r.__assign(r.__assign({},e),{regressionParameters:void 0}),r.__assign(r.__assign({},t),{regressionParameters:void 0}))},e.prototype.requestParseForAllItems=function(){(this.isCurrentlyDoingSetState||this.isCurrentlyDoingRestoreState)&&(this.lastParsableObjects={},this.evaluator.clearStatementsAndStartCompleteState(),this.isCurrentlyDoingRestoreState&&this.evaluator.markUndoRedoState());for(var e={},t=this.lastParsableObjects,n=0,r=this.getAllItemModels();n<r.length;n++)switch((p=r[n]).type){case"expression":case"image":case"table":e[p.guid]=p.cachedParsableState;break;case"folder":case"text":break;default:return p}for(var i=0,o=L.getAllHelperItemModels(this.listModel);i<o.length;i++)e[(p=o[i]).guid]=p.cachedParsableState;for(var a in this.listModel.ticker.cachedParsableState&&(e[this.listModel.ticker.guid]=this.listModel.ticker.cachedParsableState),t){var s=t[a],c=e[a];if("image"!==s.type||c&&c.type===s.type&&c.guid===s.guid||this.grapher&&this.grapher.removeGraphImage(s.id),!c&&(this.evaluator.removeStatement(s.id),"table"===s.type))for(var l=0,d=s.columns;l<d.length;l++){var u=d[l];this.evaluator.removeStatement(u.id)}}for(var a in e){var p;c=e[a],s=t[a],"image"!==c.type||s&&c.type===s.type&&c.guid===s.guid||this.grapher&&(p=this.getItemModel(c.id))&&"image"===p.type&&this.grapher.addGraphImage(p),this.areParsableObjectsEqual(c,s)||(this.grapher&&"statement"===c.type&&""===c.latex&&this.grapher.removeGraphSketch(c.id),this.evaluator.addStatement(c))}this.lastParsableObjects=e},e.prototype.getViewState=function(){if(this.grapher){var e=this.grapher.getProjection();return{viewport:e.viewport.toObject(),screen:e.screen}}},e.prototype.setEvaluator=function(e){this.evaluator=e},e.prototype.setGrapher=function(e){this.grapher=e},e.prototype.getGrapher=function(){return this.grapher},e.prototype.shouldExpressionZoomFit=function(e){return!!this.grapher&&!!this.isZoomFitEnabled()&&("expression"===e.type||"table"===e.type)&&!!("expression"!==e.type||!e.error&&e.shouldGraph&&e.formula.is_graphable)&&!(!e.boundingBoxes||!e.boundingBoxes.length)&&P.shouldExpressionZoomFit(e.boundingBoxes,this.grapher.viewportController.getProjection())},e.prototype.setBugsnagContext=function(e){this.bugsnagContext=e},e.prototype.getItemRootNodeById=function(e){var t=this.getItemModel(e);return t&&t.dcgView?t.dcgView.findRootNode():void 0},e.prototype.getItemSelectorById=function(e){var t=this.getItemRootNodeById(e);return t?R(t):void 0},e.prototype.generateId=function(){var e=this.__nextItemId;return this.__nextItemId+=1,e+""},e.prototype.getNextColor=function(){return L.getNextColor(this.listModel)},e.prototype.getNextDisplayIndex=function(){return this.listModel.nextDisplayIndex},e.prototype._clearPendingImageUploads=function(){this.__pendingImageUploads={}},e.prototype.isUploadingImages=function(){return Object.keys(this.__pendingImageUploads).length>0},e.prototype.getExpressionAnalysis=function(){return this.listModel.expressionAnalysis},e.prototype.createItemModel=function(e){return L.modelFromSpec(this.listModel,e)},e.prototype.getItemModel=function(e){return L.getItemById(this.listModel,e)},e.prototype.getColorById=function(e){var t=this.getItemModel(e);return t&&"expression"===t.type?I.getEvaluationValue(t):""},e.prototype.getAllColorAssignments=function(){for(var e=[],t=0,n=this.getAllItemModels();t<n.length;t++){var r=n[t];if("expression"===r.type){var i=I.getAssignment(r);if(i){var o=this.getEvaluationValueForItem(r.id);("string"==typeof o||Array.isArray(o)&&"string"==typeof o[0])&&e.push({id:r.id,assignmentLatex:s.identifierToLatex(i)})}}}return e},e.prototype.getItemModelByIndex=function(e){return L.getItemByIndex(this.listModel,e)},e.prototype.getItemCount=function(){return L.getItemCount(this.listModel)},e.prototype.getItemEditableLabelMode=function(e){var t=this.getItemModel(e);if(t&&"expression"===t.type)return I.getEditableLabelMode(t)},e.prototype.isItemSecret=function(e){var t=this.getItemModel(e);return!!t&&L.isItemSecret(t)},e.prototype.isItemSelected=function(e){var t=this.getItemModel(e);return!!t&&L.isItemSelected(t)},e.prototype.isItemSelectable=function(e){var t=this.getItemModel(e);return!!t&&L.isItemSelectable(t)},e.prototype.anyItemDependsOnRandomSeed=function(){return L.anyItemDependsOnRandomSeed(this.listModel)},e.prototype.areActionsEnabled=function(){return"auto"===this.graphSettings.config.actions?L.anyItemIsAction(this.listModel):!!this.graphSettings.config.actions},e.prototype.getAllItemModels=function(){return L.getAllItemModels(this.listModel)},e.prototype.getAllModelsWithSliders=function(){return L.getAllModelsWithSliders(this.listModel)},e.prototype.getGraphSettings=function(){return this.graphSettings},e.prototype.getAudioGraph=function(){return void 0!==this.grapher&&"2d"===this.grapher.type?this.grapher.audioGraph:void 0},e.prototype.inAudioTraceMode=function(){var e=this.getAudioGraph();return!(!e||!e.audioTraceActive)},e.prototype.canAudioTrace=function(){var e=this.getAudioGraph();return!!e&&e.canAudioTraceCurrentExp()},e.prototype.isAudioTracing=function(){var e=this.getAudioGraph();return!!e&&e.getIsTracing()},e.prototype.expressionsAreFullWidth=function(){return this.isNarrow()||!1===this.graphSettings.config.graphpaper},e.prototype.getExpListWidthString=function(){return this.expressionsAreFullWidth()?"100%":this.rootElt?this._getExpListWidth()+"px":"0"},e.prototype.getExpListWidth=function(){return this.rootElt?this._getExpListWidth():0},e.prototype.findFirstVisibleItem=function(){var e=G.getFirstVisibleItemId(this,this._previousFirstVisibleId);return this._previousFirstVisibleId=e,e?this.getItemModel(e):void 0},e.prototype.findLastVisibleItem=function(){var e=G.getLastVisibleItemId(this,this._previousLastVisibleId);return this._previousLastVisibleId=e,e?this.getItemModel(e):void 0},e.prototype.updateRenderShellsAfterDispatch=function(){if(this.rootElt&&this.isListVisible()){var e=this.findFirstVisibleItem(),t=this.findLastVisibleItem(),n=e&&this.getItemRootNodeById(e.id),r=t&&this.getItemRootNodeById(t.id);if(n!==this.lastInfiniteScrollFirstDOM||r!==this.lastInfiniteScrollLastDOM||this.hasDispatchSinceLastInfiniteScrollUpdate){this.lastInfiniteScrollFirstDOM=n,this.lastInfiniteScrollLastDOM=r,this.hasDispatchSinceLastInfiniteScrollUpdate=!1;var i,o=!1,a=e?e.index:1/0,s=t?t.index:1/0,c=this.listModel.dragState&&this.listModel.dragState.firstItemId,l=this.getOpenItemMenu();l&&(i=l.model.id);for(var d=0,u=this.getAllItemModels();d<u.length;d++){var p=u[d],g=!(p.index>=a&&p.index<=s&&!p.isHiddenFromUI);if(c==p.id&&(g=!1),i===p.id&&(g=!1),p.renderShell!==g&&(p.renderShell=g,o=!0,g)){var h=this.getItemRootNodeById(p.id);if(h){var f=h.getBoundingClientRect().height;f>0&&(p.cachedRenderHeight=f)}}}o&&this.markTickRequiredNextFrame()}}},e.prototype.updateRenderShellsBeforePaint=function(){if(this.hasDispatchSinceLastInfiniteScrollUpdate=!0,this.inPrintMode)for(var e=0,t=this.getAllItemModels();e<t.length;e++)(i=t[e]).renderShell=!1;else{for(var n=0,r=this.getAllItemModels();n<r.length;n++){var i;(i=r[n]).isHiddenFromUI&&(i.renderShell=!0)}var o=this.getSelectedItem();o&&(o.renderShell=!1)}},e.prototype.updateDragDrop=function(){var e=this.listModel.dragState;if(e){var t=this.getItemModel(e.firstItemId);if(t){var n=this.dragdrop_expressions.applyDrag();n&&(L.setDragState(this.listModel,n.dragState),_.setFolderId(t,n.folderId),t.index!==n.newIndex&&L.moveItemsTo(this.listModel,t.index,n.newIndex,e.numberOfItems))}}},e.prototype._tickSliders=function(e){this.getPlayingSliders().forEach((function(t){I.tickSliderStep(t,e)}))},e.prototype.tickTicker=function(e){var t=void 0===this.listModel.ticker.lastTickTime;this.evaluator.addClockTickEvent(this.listModel.ticker.id,t),T.updateLastTickTime(this.listModel.ticker,e)},e.prototype.stopAllSliders=function(){for(var e=0,t=this.getAllItemModels();e<t.length;e++){var n=t[e];"expression"===n.type&&n.slider.isPlaying&&I.setSliderIsPlaying(n,!1)}},e.prototype.getPlayingSliders=function(){for(var e=[],t=0,n=this.getAllItemModels();t<n.length;t++){var r=n[t];"expression"===r.type&&r.sliderExists&&r.slider.isPlaying&&e.push(r)}return e},e.prototype.hasAnyTableThatRequiresTicks=function(){for(var e=0,t=this.getAllItemModels();e<t.length;e++){var n=t[e];if(!n.renderShell&&"table"===n.type&&n.rowModels.length>=25)return!0}return!1},e.prototype.areAnyImagesLoading=function(){return L.areAnyImagesLoading(this.listModel)},e.prototype._commitUserRequestedViewport=function(e){this.grapher&&this.grapher.setUserRequestedViewport(e)},e.prototype._setAxisLimitLatex=function(e,t){var n,i;this.settingsViewModel=r.__assign(r.__assign({},this.settingsViewModel),{limitLatex:r.__assign(r.__assign({},this.settingsViewModel.limitLatex),(n={},n[e]=t,n))});var o=""!==t||"xstep"!==e&&"ystep"!==e?F.default(t,this.graphSettings.degreeMode):0;switch(e){case"xstep":if(o<0||!isFinite(o))return;this.graphSettings.setProperty("xAxisStep",o);break;case"ystep":if(o<0||!isFinite(o))return;this.graphSettings.setProperty("yAxisStep",o);break;case"xmin":case"xmax":case"ymin":case"ymax":if(!this.grapher)return;var a=this.grapher.viewportController.getViewport(),s="xmin";"xmin"===e&&(s="xmax"),"ymax"===e&&(s="ymin"),"ymin"===e&&(s="ymax");var c=F.default(this.settingsViewModel.limitLatex[s],this.graphSettings.degreeMode),l=b.Viewport.fromObject(r.__assign(r.__assign({},a.toObject()),((i={})[e]=o,i[s]=c,i)));if(!l.isValid())return;this.grapher.viewportController.setViewport(l);var d="xmin"===e||"xmax"===e?"x":"y";this.graphSettings.setProperty("lastChangedAxis",d);var u=l.isSquare(this.grapher.getProjection().screen);this.graphSettings.setProperty("squareAxes",u)}if(this.grapher){var p=this.grapher.viewportController.getViewport().toObject();this._commitUserRequestedViewport(p)}},e.prototype.canUserAddExpressions=function(){return!!this.graphSettings.config.expressions},e.prototype.areNotesEnabled=function(){return!!this.graphSettings.config.notes},e.prototype.areSlidersEnabled=function(){return!!this.graphSettings.config.sliders},e.prototype.areLinksEnabled=function(){return!!this.graphSettings.config.links},e.prototype.areImagesEnabled=function(){var e=window.FileReader,t=a.IS_IPAD&&a.IOS_VERSION&&8===a.IOS_VERSION[0]&&0===a.IOS_VERSION[1]&&0===a.IOS_VERSION[2];return!(!this.graphSettings.config.images||!e||t)},e.prototype.areFoldersEnabled=function(){return!!this.graphSettings.config.folders},e.prototype.isDecimalToFractionEnabled=function(){return!!this.graphSettings.config.decimalToFraction},e.prototype.isTraceEnabled=function(){return!!this.graphSettings.config.trace},e.prototype.areFunctionsRestricted=function(){return!!this.graphSettings.config.restrictedFunctions},e.prototype.areGeometryFunctionsForceEnabled=function(){return!!this.graphSettings.config.forceEnableGeometryFunctions},e.prototype.isQwertyKeyboardEnabled=function(){return!!this.graphSettings.config.qwertyKeyboard},e.prototype.isZoomFitEnabled=function(){return!!this.graphSettings.config.zoomFit},e.prototype.canEditOnWeb=function(){return!!this.graphSettings.config.editOnWeb},e.prototype.hasTransparentBackground=function(){return!!this.graphSettings.config.transparentBackground},e.prototype.shouldAudioTraceReverseExpressions=function(){return!!this.graphSettings.config.audioTraceReverseExpressions},e.prototype.hasDefaultState=function(){return!!this.graphSettings.defaultState},e.prototype.getDefaultStateViewport=function(){var e=this.graphSettings.defaultState;if(e&&e.graph)return e.graph.viewport},e.prototype.getColors=function(){return this.graphSettings.config.colors},e.prototype.getImageOpacities=function(){return["0.2","0.4","0.6","0.8","1"]},e.prototype.getUIDragModes=function(){return[p.DragMode.X,p.DragMode.Y,p.DragMode.XY]},e.prototype.getNumberOfItemsInFolder=function(e){return L.getNumberOfItemsInFolder(this.listModel,e)},e.prototype.getEnabledDragModesForItem=function(e){var t=this.getItemModel(e);if(!t||"expression"!==t.type)return[];var n=t.formula,r=[];if(!n.move_strategy)return r;var i="none"!==n.move_strategy[0].type,o="none"!==n.move_strategy[1].type,a=i&&o;return i&&r.push(p.DragMode.X),o&&r.push(p.DragMode.Y),a&&r.push(p.DragMode.XY),r},e.prototype.shouldShowEvaluationForItem=function(e){var t=this.getItemModel(e);return!!t&&"expression"===t.type&&I.shouldShowEvaluation(t)},e.prototype.getEvaluationValueForItem=function(e){var t=this.getItemModel(e);return t?"expression"!==t.type?NaN:I.getEvaluationValue(t):NaN},e.prototype.canDisplayEvaluationForItemAsFraction=function(e){if(!this.isDecimalToFractionEnabled())return!1;var t=this.getItemModel(e);if(!t)return!1;if("expression"!==t.type)return!1;if(I.isGraphable(t))return!1;var n=this.getEvaluationValueForItem(e);return"number"==typeof n&&s.canDisplayAsFraction(n)},e.prototype.shouldEvaluationForItemDisplayAsFraction=function(e){if(!this.isDecimalToFractionEnabled())return!1;var t=this.getItemModel(e);return!!t&&"expression"===t.type&&I.shouldEvaluationDisplayAsFraction(t)},e.prototype.getEvaluationLabelOptionsForItem=function(e){return r.__assign(r.__assign({},E.EvaluationLabelOptions),{displayAsFraction:this.shouldEvaluationForItemDisplayAsFraction(e)})},e.prototype.getPointStyles=function(){return[g.PointStyle.POINT,g.PointStyle.OPEN,g.PointStyle.CROSS]},e.prototype.getLineStyles=function(){return[g.LineStyle.SOLID,g.LineStyle.DASHED,g.LineStyle.DOTTED]},e.prototype.getOpacities=function(){return[u.LOW,u.DEFAULT,u.HIGH]},e.prototype.isInEditListMode=function(){return this.layoutModel.inEditListMode},e.prototype.canAdministerSecretFolders=function(){return this.graphSettings.config.administerSecretFolders},e.prototype.getInvertedColors=function(){return!!this.graphSettings.config.invertedColors},e.prototype.canUseAdvancedStyling=function(){return this.graphSettings.config.advancedStyling},e.prototype.isDegreeMode=function(){return this.graphSettings.degreeMode},e.prototype.areLogModeRegressionsForced=function(){return this.graphSettings.config.forceLogModeRegressions},e.prototype.setAllRegressionsToLogMode=function(){for(var e=0,t=this.getAllItemModels();e<t.length;e++){var n=t[e];"expression"===n.type&&n.formula&&n.formula.is_regression&&I.setLogMode(n,!0)}},e.prototype.isGraphSettingsOpen=function(){return this.layoutModel.graphSettingsOpen},e.prototype.isAddExpressionOpen=function(){return this.layoutModel.addExpressionOpen},e.prototype.shouldRenderList=function(){if(this.layoutModel.expressionsVisible)return!0;var e=this.layoutModel.expressionsHiddenTime;return void 0!==e&&Date.now()-e<=500},e.prototype.isListVisible=function(){return this.layoutModel.expressionsVisible},e.prototype.isGrapherEnabled=function(){return!1!==this.graphSettings.config.graphpaper},e.prototype.isListEnabled=function(){return!1!==this.graphSettings.config.expressions},e.prototype.areDistributionsEnabled=function(){return!0===this.graphSettings.config.distributions},e.prototype.isExpressionListFocused=function(){var e=this.getFocusLocation();if(!e)return!1;switch(e.type){case"settings":case"expression-menu":case"editable-label":return!1;case"distribution-param":case"cdf-limit":case"slider-limit":case"domain-limit":case"expression":case"visualization-prop":case"search-expressions":case"ticker":case"table":case"image":case"readonly-expression":case"braille-output":case"table-container":case"text":case"folder":case"add-item-btn":case"add-expression-btn":case"add-note-btn":case"add-table-btn":case"add-folder-btn":case"add-ticker-btn":case"add-image-btn":case"change-image-btn":case"edit-list-toggle":case"expression-icon":case"image-icon":case"slider-icon":case"slider-animation-properties-icon":case"slider-thumb":case"table-icon":case"action-icon":case"hide-expression-list-btn":case"show-expression-list-btn":return!0;default:return e}},e.prototype.needsFakeKeypad=function(){if(this.inAudioTraceMode()&&this.isKeypadEnabled())return!0;var e=this.getFocusLocation();if(!e)return!1;if("none"!==this.getBrailleMode()&&K.getFocusedBrailleElement())return!1;switch(e.type){case"settings":return"icon"!==e.location&&"degree-mode"!==e.location;case"distribution-param":case"cdf-limit":case"slider-limit":case"domain-limit":case"expression":case"visualization-prop":case"search-expressions":case"ticker":return!0;case"expression-menu":return"opacity"===e.location||"linewidth"===e.location||"lineopacity"===e.location||"pointopacity"===e.location||"pointsize"===e.location||"labelsize"===e.location||"labelangle"===e.location||"updaterule"===e.location;case"table":if(this.isInEditListMode())return!1;var t=e.location;if(0===t.row)return!0;var n=this.getItemModel(e.id);if(!n||"table"!==n.type)return!1;var r=n.columnModels[t.column];return!!r&&!r.disabled;case"image":return"name"!==e.location;case"readonly-expression":case"braille-output":case"table-container":case"text":case"folder":case"add-item-btn":case"add-expression-btn":case"add-note-btn":case"add-table-btn":case"add-folder-btn":case"add-ticker-btn":case"add-image-btn":case"change-image-btn":case"edit-list-toggle":case"hide-expression-list-btn":case"show-expression-list-btn":case"expression-icon":case"image-icon":case"slider-icon":case"action-icon":case"slider-animation-properties-icon":case"slider-thumb":case"table-icon":return!1;case"editable-label":return this.getItemEditableLabelMode(e.id)===k.EditableLabelMode.Math;default:return e}},e.prototype.getBrandingMode=function(){return this.getEditLink()?"static-edit-link":this.getGraphSettings().config.editOnWeb?"edit-link":"powered-by"},e.prototype.getEditLink=function(){return window.iframeEmbedBrandingLink},e.prototype._expressionZoomFit=function(e){var t=this.getItemModel(e);if(this.grapher&&this.isZoomFitEnabled()&&t&&("expression"===t.type||"table"===t.type)&&t.boundingBoxes&&t.boundingBoxes.length){var n=P.getRecommendedViewportForExpression(t.boundingBoxes,this.grapher.viewportController.getProjection());n&&this.grapher.viewportController.zoomCustom(n)}},e.prototype._deleteItemAndAnimateOut=function(e,t){var n=this,r=this.getItemSelectorById(e);r&&(r.css({transition:"0.2s",opacity:"0",transform:"scale(.1, .1)"}),setTimeout((function(){n.dispatch({type:"finish-deleting-item-after-animation",id:e,setFocusAfterDelete:t})}),200))},e.prototype._finishDeletingItemAfterAnimation=function(e,t){var n=this.getItemModel(e);if(n){var r=this.getItemSelectorById(e),i=r&&document.activeElement&&R(document.activeElement).closest(r).length>0,o=L.findPrevSelectableItem(this.listModel,n.index);if(this._removeExpressionSynchronously(n),t&&i){if(!o){var a=L.getFirstSelectableItem(this.listModel);a&&(o=a)}o&&O.moveFocusToItem(this,o.id,"end")}}},e.prototype._removeExpressionSynchronously=function(e){if(L.removeItemAtIndex(this.listModel,e.index),L.hasNoVisibleExpressions(this.listModel)){var t=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});L.insertItemAtEnd(this.listModel,t)}},e.prototype.setRootElt=function(e){this.rootElt=e,this.dragdrop_expressions=new V.default(this)},e.prototype.getRootElt=function(){return this.rootElt},e.prototype._hideExpressions=function(e){this.graphSettings.config.expressions&&(L.setSelected(this.listModel,void 0),this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{expressionsVisible:!1,expressionsHiddenTime:Date.now()}),e?O.setFocusLocation(this,{type:"show-expression-list-btn"}):h.default())},e.prototype._showExpressions=function(e){this.graphSettings.config.expressions&&(this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{expressionsVisible:!0}),e?O.setFocusLocation(this,{type:"hide-expression-list-btn"}):h.default())},e.prototype._showToast=function(e){var t=this;if(this.toastData=e,this.toastData.hasOwnProperty("undoCallback")&&!a.IS_MOBILE){var n=a.IS_APPLE?this.s("graphing-calculator-text-toast-undo-cmd-z"):this.s("graphing-calculator-text-toast-undo-ctrl-z");this.toastData.message+=" "+n}clearTimeout(this._hideToastTimeout);var r="number"==typeof e.hideAfter?e.hideAfter:6e3;r>0&&(this._hideToastTimeout=setTimeout((function(){t.dispatch({type:"toast/close",onHide:t.toastData.onHide})}),r))},e.prototype._setExpressionPropertiesFromAPI=function(e,t){var n=this.getItemModel(e);if(n)if("table"===n.type&&t.columns){t=f.default(t);var r=S.cloneTableAndExtendWithProperties(n,t),i=L.modelFromSpec(this.listModel,r);this._toplevelReplaceItemAt(n.index,i,!1)}else{var o=this.getItemModel(e);if(!o)return;for(var a in t)if(t.hasOwnProperty(a))switch(a){case"slider":if("expression"!==o.type)continue;var s=t[a];s.hasOwnProperty("min")&&I.setSliderMin(o,s.min),s.hasOwnProperty("max")&&I.setSliderMax(o,s.max),s.hasOwnProperty("step")&&I.setSliderStep(o,s.step);break;case"polarDomain":if("expression"!==o.type)continue;I.setPolarDomainMin(o,m.default(t.polarDomain.min)),I.setPolarDomainMax(o,m.default(t.polarDomain.max));break;case"parametricDomain":if("expression"!==o.type)continue;I.setParametricDomainMin(o,m.default(t.parametricDomain.min)),I.setParametricDomainMax(o,m.default(t.parametricDomain.max));break;case"hidden":this._setItemHidden(e,t.hidden);break;case"secret":_.setSecret(o,t.secret);break;case"color":if("expression"!==o.type)continue;I.setColor(o,t.color);break;case"dragMode":if("expression"!==o.type)continue;I.setDragMode(o,t.dragMode);break;case"label":if("expression"!==o.type)continue;I.setLabel(o,t.label);break;case"showLabel":if("expression"!==o.type)continue;I.setShowLabel(o,t.showLabel);break;case"labelSize":if("expression"!==o.type)continue;I.setLabelSize(o,t.labelSize);break;case"labelOrientation":if("expression"!==o.type)continue;I.setLabelOrientation(o,t.labelOrientation);break;case"latex":if("expression"!==o.type)continue;I.setLatex(o,t.latex);break;case"points":if("expression"!==o.type)continue;I.setPoints(o,!!t.points);break;case"lines":if("expression"!==o.type)continue;I.setLines(o,!!t.lines);break;case"pointStyle":if("expression"!==o.type)continue;I.setPointStyle(o,t.pointStyle);break;case"pointSize":if("expression"!==o.type)continue;I.setPointSize(o,t.pointSize);break;case"pointOpacity":if("expression"!==o.type)continue;I.setPointOpacity(o,t.pointOpacity);break;case"lineStyle":if("expression"!==o.type)continue;I.setLineStyle(o,t.lineStyle);break;case"lineWidth":if("expression"!==o.type)continue;I.setLineWidth(o,t.lineWidth);break;case"lineOpacity":if("expression"!==o.type)continue;I.setLineOpacity(o,t.lineOpacity);break;case"fill":if("expression"!==o.type)continue;I.setFill(o,t.fill);break;case"fillOpacity":if("expression"!==o.type)continue;I.setFillOpacity(o,t.fillOpacity);break;case"id":case"type":case"domain":break;default:throw new Error("trying to call setProperty for: "+a)}}},e.prototype._isParentFolderHidden=function(e){var t=this.getItemModel(e);if(!t)return!1;var n=L.getParentFolderModel(t);return!!n&&n.hidden},e.prototype._toggleItemHidden=function(e){if(this._isParentFolderHidden(e))this._setItemHidden(e,!1);else{var t=this.getItemModel(e);if(!t)return;switch(t.type){case"expression":case"image":case"folder":this._setItemHidden(e,!t.hidden);break;case"table":case"text":break;default:return t}}},e.prototype._toggleTableColumnHidden=function(e,t){if(this._isParentFolderHidden(e))this._setTableColumnHidden(e,t,!1);else{var n=this.getItemModel(e);if(!n||"table"!==n.type)return;var r=S.getColumnModel(n,t);if(!r)return;this._setTableColumnHidden(e,t,!r.hidden)}},e.prototype._setTableColumnHidden=function(e,t,n){var r=this.getItemModel(e);if(r&&"table"===r.type){var i=S.shouldHideColumn(r,t);!n&&this._isParentFolderHidden(e)&&this._setItemHidden(r.folderId,!1),S.setColumnHidden(r,t,n),!n&&i&&S.setColumnPoints(r,t,!0)}},e.prototype._setItemHidden=function(e,t){var n=this.getItemModel(e);if(n)switch(!t&&"folder"!==n.type&&this._isParentFolderHidden(n.id)&&this._setItemHidden(n.folderId,!1),n.type){case"expression":I.setHidden(n,t);break;case"folder":C.setHidden(n,t);break;case"image":M.setHidden(n,t);break;case"table":case"text":break;default:return n}},e.prototype._addItemToEndFromAPI=function(e){var t=L.getLastSelectableItem(this.listModel);!e.secret&&t&&"expression"===t.type&&""===t.latex&&L.removeItemAtIndex(this.listModel,t.index),L.insertItemAtEnd(this.listModel,e)},e.prototype.copyExpressionToIndex=function(e,t,n){var i,o=this,a={stripDefaults:!1};switch(e.type){case"expression":i=I.getState(e,a);break;case"table":(i=S.getState(e,a)).columns&&i.columns.forEach((function(e){e.id=o.generateId()}));break;case"image":i=M.getState(e,a);break;case"text":i=D.getState(e,a);break;default:return}var s=this.createItemModel(r.__assign(r.__assign({},i),{id:this.generateId()}));this._toplevelInsertItemAt(t,s,!1,n||e.folderId)},e.prototype._toplevelInsertItemAt=function(e,t,n,r){var i=t;L.insertItemAtIndex(this.listModel,i,e),r&&_.setFolderId(i,r),n&&O.moveFocusToItem(this,i.id)},e.prototype._toplevelNewItemAtSelection=function(e,t){var n=this.getSelectedItem();if(n){var r="expression"===n.type&&!n.latex;if(r&&!n.folderId&&("expression"!==e.type||e.latex))return this._toplevelReplaceItemAt(n.index,e,t.shouldFocus);if(r&&n.folderId&&"expression"!==e.type&&"folder"!==e.type)return this._toplevelReplaceItemAt(n.index,e,t.shouldFocus);if("folder"!==n.type&&!n.folderId)return this._toplevelInsertItemAt(n.index+1,e,t.shouldFocus,void 0);if("folder"!==n.type&&n.folderId&&"folder"!==e.type)return this._toplevelInsertItemAt(n.index+1,e,t.shouldFocus,n.folderId);if("folder"===n.type&&!n.collapsed&&"folder"!==e.type)return this._toplevelInsertItemAt(n.index+1,e,t.shouldFocus,n.id)}var i=this.getFirstFullyVisibleItem();for(i&&"folder"===i.type&&(i=this.getItemModelByIndex(i.index+1));i&&"folder"!==i.type&&i.folderId;)i=this.getItemModelByIndex(i.index+1);var o=i?i.index:this.getItemCount();return this._toplevelInsertItemAt(o,e,t.shouldFocus,void 0)},e.prototype.getFirstFullyVisibleItem=function(){var e=G.getFirstFullyVisibleItemId(this);if(e)return L.getItemById(this.listModel,e)},e.prototype.find$=function(e){return R(this.rootElt).find(e)},e.prototype.getExppanelSelectorOrThrow=function(){var e=G.getExppanelElt(this);if(e)return R(e);throw new Error("expected to find $exppanel but could not")},e.prototype.scrollItemIntoView=function(e){if(this.rootElt&&this.isListVisible()){var t=this.getItemSelectorById(e.id),n=G.getExppanelSelector(this);if(t&&n){if("table"===e.type){var r=t.find(".dcg-row .dcg-selected");if(1===r.length)return void i.scrollVisible(r,n,60)}i.scrollVisible(t,n,90)}}},e.prototype.scrollSelectedItemIntoView=function(){var e=this.getSelectedItem();e&&this.scrollItemIntoView(e)},e.prototype._pasteTable=function(e){var t=this;if(this.grapher){var n=L.findAvailableColumnSubscript(this.listModel),r=S.makeTableState(n,e,this),i=this.createItemModel(r);this._toplevelNewItemAtSelection(i,{shouldFocus:!0}),this._closeAddExpression();var o=this.grapher.viewportController.getViewport(),a=c.map(e[0],(function(e){return parseFloat(e)})),s=c.map(e[1],(function(e){return parseFloat(e)})),l={xmin:c.min(a),xmax:c.max(a),ymin:c.min(s),ymax:c.max(s),type:"table"};if(isFinite(l.xmin)&&isFinite(l.xmax)&&isFinite(l.ymin)&&isFinite(l.ymax)&&(l.xmax>o.xmax||l.xmin<o.xmin||l.ymax>o.ymax||l.ymin<o.ymin)){var d=P.getRecommendedViewportForExpression([l],o);if(d){var u=new b.Viewport(d.xmin,d.xmax,d.ymin,d.ymax);this.grapher.viewportController.setViewport(u),this._showToast({message:this.s("graphing-calculator-text-toast-zoom-to-fit"),undoCallback:function(){t.dispatch({type:"undo"})}})}}}},e.prototype._insertSeveralExpressions=function(e){for(var t=0;t<e.length;t++){var n;n=this.createItemModel(e[t]),this._toplevelNewItemAtSelection(n,{shouldFocus:!0})}},e.prototype._appendNumberList=function(e){var t=this.getSelectedItem();if(t&&"expression"===t.type){var n=t.latex,r=this.createItemModel({type:"expression",id:this.generateId(),latex:n+e});return this._toplevelReplaceItemAt(t.index,r,!0)}},e.prototype._openOnWeb=function(){var e=this;this.runAfterDispatch((function(){if(e.grapher){var t=JSON.stringify(e.getState()),n=e.grapher.screenshot({width:100,height:100}),r=(e.getGraphSettings().config.crossOriginSaveTest?"/":"https://www.desmos.com/")+"api/v1/calculator/cross_origin_save",i=R('<input type="text" name="calc_state" />').val(t),o=R('<input type="text" name="thumb_data" />').val(n),a=R('<form target="_blank" method="POST" style="display:none;"></form>').attr("action",r).append(R('<input type="text" name="is_open_on_web" value="true" />')).append(R('<input type="text" name="my_graphs" value="false" />')).append(R('<input type="text" name="is_update" value="false" />')).append(i).append(o);R(e.rootElt).append(a),a.trigger("submit").remove()}}))},e.prototype.notifyBugsnagAboutMissingSelectedItem=function(e,t){var n=L.getSelected(this.listModel),r="";try{r=n?JSON.stringify(n.cachedUndoRedoFullState,null,2):"undefined"}catch(e){r="[[could not stringify]]"}var i="";try{if(n){var o={id:n.id,index:n.index,displayIndex:n.index,secretIndex:n.secretIndex,guid:n.guid,renderShell:n.renderShell,isHiddenFromUI:n.isHiddenFromUI,hasDCGView:!!n.dcgView,cachedRenderHeight:n.cachedRenderHeight};i=JSON.stringify(o,null,2)}else i="undefined"}catch(e){i="[[could not stringify]]"}var a="";try{a=JSON.stringify(L.getUndoRedoFullState(this.listModel),null,2)}catch(e){a="[[could not stringify]]"}z.notify("ReplaceItemAtError: no item at index",{metaData:{index:e,shouldFocus:t,selectedModelJSON:i,selectedItemJSON:r,listStateJSON:a}})},e.prototype._toplevelReplaceItemAt=function(e,t,n){var r=t,i=this.getItemModelByIndex(e);i||this.notifyBugsnagAboutMissingSelectedItem(e,n);var o="folder"!==i.type&&i.folderId;L.removeItemAtIndex(this.listModel,e),L.insertItemAtIndex(this.listModel,r,e),o&&_.setFolderId(r,o),n&&O.moveFocusToItem(this,r.id)},e.prototype.convertImageToDraggable=function(e){var t=this.getItemModel(e);if(t&&"image"===t.type){var n=t.folderId,r=t.index+1,i=t.center,o=L.findAvailableColumnSubscript(this.listModel),a=s.identifierToLatex("C_"+o),c=this.createItemModel({id:this.generateId(),type:"expression",latex:a+"="+i,dragMode:p.DragMode.XY,hidden:!0});L.insertItemAtIndex(this.listModel,c,r),n&&_.setFolderId(c,n),M.setMQAttribute(t,"center",a),M.setDraggable(t,!0),M.setForeground(t,!0),this.listModel.openItemMenu=void 0}},e.prototype.createSlidersForItem=function(e,t){var n=this.getItemModel(e);if(n){var r="folder"!==n.type&&n.folderId;return this.createSliders({model:n,folderId:r,index:n.index+1},t)}},e.prototype.createSlidersForTicker=function(e){return this.createSliders({model:this.listModel.ticker,folderId:!1,index:0,doNotChangeFocus:!0},e)},e.prototype.createSliders=function(e,t){var n=this,r=e.model,i=e.folderId,o=e.index,a=e.doNotChangeFocus,c=[];"ticker"===r.type?T.eachLatex(r,(function(e,t){c.push({latex:e,location:t})})):L.eachLatexForItem(r,(function(e,t){c.push({latex:e,location:t})}));for(var l=w.computeDefaults(c,t,{degreeMode:this.graphSettings.degreeMode}),d=r.formula?r.formula.action_value:void 0,u=t.map((function(e){var t,r=l[e],i="1";r&&void 0!==r.value&&(i=r.value),t=""===e?"":d&&d.hasOwnProperty(e)?d[e]:s.identifierToLatex(e)+"="+i;var o={type:"expression",id:n.generateId(),latex:t,color:n.getNextColor(),hidden:!!t};return r&&(void 0!==r.min&&(o.slider||(o.slider={}),o.slider.hardMin=!0,o.slider.min=r.min),void 0!==r.max&&(o.slider||(o.slider={}),o.slider.hardMax=!0,o.slider.max=r.max),void 0!==r.step&&(o.slider||(o.slider={}),o.slider.step=r.step)),o})),p=u.length-1;p>=0;p--){var g=this.createItemModel(u[p]);L.insertItemAtIndex(this.listModel,g,o),i&&_.setFolderId(g,i)}if(!a){var h=u[u.length-1];""===h.latex?O.moveFocusToItem(this,h.id):O.setFocusLocation(this,void 0)}},e.prototype._uploadImagesAndWaitForThemToLoad=function(e){var t=this,n=e.files,r=e.id;if(n&&0!==n.length)if(r&&n.length>1)this._showToast({message:this.s("graphing-calculator-text-toast-choose-one-file")});else{var i=M.uploadImages({controller:this,files:n,id:r}),o=i.errors[0];o&&this._showToast({message:o});for(var a=0,s=i.tokens;a<s.length;a++){var c=s[a];this.__pendingImageUploads[c]=!0}this.isUploadingImages()&&this._showToast({message:this.s("graphing-calculator-text-toast-uploading-images"),onHide:function(){t._clearPendingImageUploads()}})}else this._showToast({message:this.s("graphing-calculator-text-toast-no-file-selected")})},e.prototype.getImageToRetry=function(){for(var e,t=0,n=this.getAllItemModels();t<n.length;t++){var r=n[t];"image"===r.type&&"failed"===r.loadStatus&&(!e||e.failures>r.failures)&&(e=r)}return e},e.prototype.retryLoadingFailedImage=function(e){var t=Date.now(),n=t-this.imageRetryState.lastAttemptTime,r=1e3*Math.pow(2,this.imageRetryState.attempts);this.imageRetryState.attempts>0&&n<r||(M.retryLoading(e),this.imageRetryState={lastAttemptTime:t,attempts:this.imageRetryState.attempts+1})},e.prototype.getSelectedItem=function(){return L.getSelected(this.listModel)},e.prototype.getOpenItemMenu=function(){return this.listModel.openItemMenu},e.prototype.closeItemSettingsMenu=function(){var e=this.getOpenItemMenu();void 0!==e&&(e.focusFirstOption&&(void 0!==e.previousFocusLocation?O.setFocusLocation(this,e.previousFocusLocation):this.focusOpenMenuIcon()),this.listModel.openItemMenu=void 0)},e.prototype.focusOpenMenuIcon=function(){var e=this.getOpenItemMenu();e&&("slider"===e.type?this.dispatch({type:"set-focus-location",location:{type:"slider-animation-properties-icon",id:e.model.id}}):"image"===e.type?this.dispatch({type:"set-focus-location",location:{type:"image-icon",id:e.model.id}}):"table-column"===e.type?this.dispatch({type:"set-focus-location",location:{type:"table-icon",id:e.model.table.id,columnId:e.model.id}}):this.dispatch({type:"set-focus-location",location:{type:"expression-icon",id:e.model.id}}))},e.prototype.getFocusedItem=function(){return O.getFocusedItem(this)},e.prototype.getFocusLocation=function(){return this.focusLocation},e.prototype.isFocusLocationFocused=function(e){var t=this.focusLocation,n=e;return!(!t||!n)&&c.isEqual(t,n)},e.prototype.isCurrentFocusLocationValid=function(){var e=this.focusLocation;if(!e)return!0;if("settings"===e.type)return"icon"===e.location||this.isGraphSettingsOpen();if("add-item-btn"===e.type||"edit-list-toggle"===e.type||"hide-expression-list-btn"===e.type||"show-expression-list-btn"===e.type)return this.isListEnabled();if("add-expression-btn"===e.type||"add-table-btn"===e.type)return this.layoutModel.addExpressionOpen;if("add-note-btn"===e.type)return this.layoutModel.addExpressionOpen&&this.areNotesEnabled();if("add-folder-btn"===e.type)return this.layoutModel.addExpressionOpen&&this.areFoldersEnabled();if("add-ticker-btn"===e.type)return this.layoutModel.addExpressionOpen&&this.areActionsEnabled();if("add-image-btn"===e.type)return this.layoutModel.addExpressionOpen&&this.areImagesEnabled();if("search-expressions"===e.type)return this.expressionSearchOpen;if("ticker"===e.type)return this.listModel.ticker.open;var t,n=this.getOpenItemMenu();if(!(t=n&&"table-column"===n.type?n.model.table:this.getItemModel(e.id)))return!1;if("change-image-btn"===e.type)return this.listModel&&"image"===t.type&&this.areImagesEnabled();if("expression-menu"===e.type){if("start"===e.location||"end"===e.location||"updaterule"===e.location||"anywhere"===e.location)return!0;if("table"===t.type)return!0;if("expression"!==t.type)return!1;var r=t.points,i=t.lines,o=t.fill;I.isInequality(t)&&(o=!0);var a=x.getReconciledExpressionProps(t.formula.expression_type,{points:r,lines:i,fill:o});return!!(a.fill||a.points||a.lines||t.showLabel)}if(!this.isItemSelected(e.id)&&"editable-label"!==e.type)return!1;switch(e.type){case"domain-limit":return"expression"===t.type&&!!I.hasDomain(t);case"expression-icon":return!0;case"image-icon":return"image"===t.type&&"loading"!==t.loadStatus&&"failed"!==t.loadStatus&&!t.error;case"action-icon":return"expression"===t.type&&!!I.isNonemptyAction(t);case"slider-icon":case"slider-animation-properties-icon":case"slider-thumb":case"slider-limit":return"expression"===t.type&&!!I.hasSlider(t);case"table-icon":return"table"===t.type&&this.getGraphSettings().config.graphpaper;case"visualization-prop":return"expression"===t.type&&!!I.isVisualization(t);case"distribution-param":if("expression"!==t.type)return!1;var s=I.parseToplevelFunction(t);return!!s&&e.location in s.values;case"cdf-limit":return"expression"===t.type&&I.shouldShowCDFFooter(t);case"image":return"image"===t.type;case"folder":return"folder"===t.type;case"text":return"text"===t.type;case"expression":return"expression"===t.type&&!this.isInEditListMode();case"readonly-expression":return"expression"===t.type&&this.isInEditListMode();case"braille-output":return"expression"===t.type&&"none"!==this.getBrailleMode();case"table":return"table"===t.type&&!!S.doesCellExist(t,e.location);case"table-container":return"table"===t.type&&this.isInEditListMode();case"editable-label":return"expression"===t.type&&I.hasEditableLabel(t);default:return e}},e.prototype.isDragDropActive=function(){return!!this.listModel.dragState},e.prototype.isItemBeingDragged=function(e){var t=this.listModel.dragState;return!(!t||t.firstItemId!==e)},e.prototype.getDraggedItemId=function(){var e=this.listModel.dragState;return e&&e.firstItemId},e.prototype.getRawDragState=function(){return this.listModel.dragState},e.prototype.initStateStack=function(){this.stateStack=new y.default,this.stateStack.addState({diffState:this.getUndoRedoDiffState(),fullState:this.getUndoRedoFullState()})},e.prototype.getUndoRedoDiffState=function(){return{randomSeed:this.getRandomSeed(),layoutModel:this.layoutModel,settingsViewModel:this.settingsViewModel,graph:this.grapher?this.grapher.getUndoRedoState():void 0,expressions:L.getUndoRedoDiffState(this.listModel),wasCompleteSetState:this.isCurrentlyDoingSetState}},e.prototype.getUndoRedoFullState=function(){return{randomSeed:this.getRandomSeed(),layoutModel:this.layoutModel,settingsViewModel:this.settingsViewModel,graph:this.grapher?this.grapher.getUndoRedoState():void 0,expressions:L.getUndoRedoFullState(this.listModel),wasCompleteSetState:this.isCurrentlyDoingSetState}},e.prototype.getState=function(e){var t={stripDefaults:!0};e&&e.hasOwnProperty("stripDefaults")&&(t.stripDefaults=!!e.stripDefaults);var n=this.grapher?this.grapher.getState(t):r.__assign(r.__assign({},this.getBlankState().graph),{degreeMode:this.graphSettings.degreeMode}),i={version:v.currentVersion,randomSeed:this.getRandomSeed(),graph:n,expressions:L.getState(this.listModel,t)};return e&&e.avoidBackMigration?f.default(i):v.migrateToPersisted(f.default(i))},e.prototype.getBlankState=function(){return this.graphSettings.config.clearIntoDegreeMode?r.__assign(r.__assign({},j.default),{graph:r.__assign(r.__assign({},j.default.graph),{degreeMode:!0})}):j.default},e.prototype.externalSetState=function(e,t){this._clearPendingImageUploads(),this.rootElt&&R(document.activeElement).closest(this.rootElt).length&&R(document.activeElement).trigger("blur"),t||(t={}),e||(e=this.getBlankState()),"string"==typeof e&&(e=JSON.parse(e)),e&&(e=v.migrateToLatest(e));var n=this.layoutModel;this.setState(e,t),L.clearAnyItemIsAction(this.listModel),L.recomputeAnyItemIsAction(this.listModel),this.layoutModel=r.__assign(r.__assign({},N.defaultLayoutModel(this.graphSettings.config)),{keypadMinimized:n.keypadMinimized,keypadLayout:n.keypadLayout,keypadFunctionsOpen:n.keypadFunctionsOpen,expressionsVisible:!!this.graphSettings.config.expressions&&(this.isListVisible()||!!t.forceExpressionsOpen)}),this.settingsViewModel=q.defaultSettingsViewModel(),O.setFocusLocation(this,void 0),t.forceUnsavedChanges?this.enqueueEvent("change"):this.enqueueEvent("clearUnsavedChanges")},e.prototype.setState=function(e,t){if(this.isCurrentlyDoingSetState=!0,"graph"in e&&(this.grapher?this.grapher.setGrapherState(e.graph):o.Grapher.copyGraphProperties(e.graph,this.graphSettings)),"expressions"in e){L.setSelected(this.listModel,void 0);var n=L.getLargestIntegerId(e.expressions);n>=this.__nextItemId&&(this.__nextItemId=n+1),L.setListState(this.listModel,e.expressions,t||{})}e.layoutModel&&(this.layoutModel=e.layoutModel),e.settingsViewModel&&(this.settingsViewModel=e.settingsViewModel),t&&t.allowUndo||this.clearUndoRedoHistory(),this.setRandomSeed(e.randomSeed||H.default())},e.prototype.updateToState=function(e){this.isCurrentlyDoingRestoreState=!0,"graph"in e&&this.grapher&&this.grapher.setGrapherState(e.graph,{doNotClear:!0}),"expressions"in e&&L.restoreListState(this.listModel,e.expressions),e.layoutModel&&(this.layoutModel=e.layoutModel),e.settingsViewModel&&(this.settingsViewModel=e.settingsViewModel)},e.prototype.commitUndoRedoSynchronously=function(e){var t=this.stateStack.getState(),n=t&&t.diffState,r=this.getUndoRedoDiffState();if(i=n,o=r,!c.isEqual(J(i),J(o))){var i,o,a={diffState:r,fullState:this.getUndoRedoFullState()};!function(e){var t;switch(e.type){case"tick":case"tick-ticker":return!1;case"on-evaluator-changes":return!!(null===(t=e.eventUpdates)||void 0===t?void 0:t.userAction);default:return!0}}(e)?this.stateStack.replaceInteriorState(a):(this.stateStack.addState(a),this.enqueueEvent("change"))}},e.prototype.undo=function(){if(this.canUndo()){this.closeToast(),this.stateStack.undo();var e=this.stateStack.getState().fullState;e.wasCompleteSetState?this.setState(e,{allowUndo:!0}):this.updateToState(e),this.enqueueEvent("change")}},e.prototype.redo=function(){if(this.canRedo()){this.stateStack.redo();var e=this.stateStack.getState().fullState;e.wasCompleteSetState?this.setState(e,{allowUndo:!0}):this.updateToState(e),this.enqueueEvent("change")}},e.prototype.clearUndoRedoHistory=function(){this.stateStack.clear()},e.prototype.canUndo=function(){return this.stateStack.canUndo()},e.prototype.canRedo=function(){return this.stateStack.canRedo()},e.prototype.closeToast=function(){var e=this.toastData.onHide;e&&this.runAfterDispatch(e),this.toastData={}},e.prototype._closeAddExpression=function(){this.layoutModel=r.__assign(r.__assign({},this.layoutModel),{addExpressionOpen:!1})},e.prototype.doesDOMHaveSize=function(){return this.layoutMeasurements.width>0&&this.layoutMeasurements.height>0},e.prototype._getExpListWidth=function(){var e;if(void 0!==this.userSpecifiedExpListWidth)e=Math.max(280,Math.min(this.layoutMeasurements.width-200,this.userSpecifiedExpListWidth));else{if(!(e=this.layoutMeasurements.width))return 356;var t=.2*e+160;e=Math.min(500,Math.max(280,t))}var n=this.layoutMeasurements.width-this.layoutMeasurements.height;return Math.abs(n-e)<=10?n:e},e.prototype._setExpListWidth=function(e){this.userSpecifiedExpListWidth!==e&&(this.userSpecifiedExpListWidth=e)},e.prototype.getKeypadHeight=function(){return this.computeMajorLayout().keypad.height},e.prototype.isKeypadEnabled=function(){return!!this.graphSettings.config.keypad},e.prototype.isKeypadOpen=function(){if(!this.isKeypadEnabled())return!1;var e=this.layoutModel.keypadMinimized&&!this.isNarrow();return this.needsFakeKeypad()&&!e},e.prototype.isKeypadFunctionsPopoverOpen=function(){return!!this.layoutModel.keypadFunctionsOpen},e.prototype.getKeypadLayout=function(){return this.layoutModel.keypadLayout},e.prototype.isLetterKeypadOpen=function(){var e=this.getKeypadLayout();return this.isKeypadOpen()&&("letters"===e||"noQwertyLetters"===e||"capitalLetters"===e||"noQwertyCapitalLetters"===e)},e.prototype.isFileDraggedOver=function(){return this.layoutModel.isFileDraggedOver},e.prototype.computeMajorLayout=function(){var e=this.layoutMeasurements.width,t=this.layoutMeasurements.height,n=this.isNarrow(),r=this.isListVisible(),i=this.isKeypadOpen(),o=!this.isGrapherEnabled(),a=!this.isListEnabled(),s={left:0,top:0,width:0,height:0},c={left:0,top:0,width:0,height:0},l={left:0,top:t,width:e,height:this.getGraphSettings().config.projectorMode?n?185:193:169};return a?(c.width=e,c.height=t):o?(s.width=e,s.height=t):r?n?(s.width=e,s.height=Math.round(.58*t),s.top=t-s.height,c.width=e,c.height=t-s.height):(s.width=this.getExpListWidth(),s.height=t,c.left=s.width,c.width=e-c.left,c.height=t):r||(n?(s.width=e,s.height=Math.round(.58*t),s.top=t,c.width=e,c.height=t):(s.width=this.getExpListWidth(),s.height=t,s.left=-s.width,c.width=e,c.height=t)),i&&(l.top-=l.height,a||(s.height-=l.height)),{list:s,grapher:c,keypad:l}},e.prototype.isNarrow=function(){return this.layoutMeasurements.width<450},e.prototype.getLayoutMeasurements=function(){return this.layoutMeasurements},e.prototype.getCapExpressionSize=function(){return!!this.getGraphSettings().config.capExpressionSize},e.prototype.handleAudioTraceCommand=function(e){var t=this.getAudioGraph();if(void 0!==t){var n=t.agNavigator;switch(e){case"on":this.runAfterDispatch((function(){t.enterAudioTrace({fromKeypad:!0})}));break;case"off":this.runAfterDispatch((function(){t.exitAudioTrace()}));break;case"hear-graph":t.hearGraph();break;case"stop-graph":this.runAfterDispatch((function(){t.stopGraph()}));break;case"volume-down":t.adjustVolume("down");break;case"volume-up":t.adjustVolume("up");break;case"speed-down":t.speedDown();break;case"speed-up":t.speedUp();break;case"previous-point":this.runAfterDispatch((function(){t.reportAndMoveToPrevPoint()}));break;case"next-point":this.runAfterDispatch((function(){t.reportAndMoveToNextPoint()}));break;case"previous-poi":this.runAfterDispatch((function(){t.reportAndMoveToPrevPOI()}));break;case"next-poi":this.runAfterDispatch((function(){t.reportAndMoveToNextPOI()}));break;case"previous-curve":this.runAfterDispatch((function(){n.prevCurve()}));break;case"next-curve":this.runAfterDispatch((function(){n.nextCurve()}));break;case"describe-point":t.describePoint();break;case"describe-curve":t.describeCurve();break;case"keyboard-shortcuts":this.enqueueEvent("showHotkeysModal");break;default:return e}}},e.prototype.setAudioTraceSpeed=function(e){var t=this.getAudioGraph();t&&t.adjustPlaybackSpeed(e)},e.prototype.focusGraphPaper=function(){this.find$(".dcg-graph-outer").trigger("focus")},e.prototype.setCanShowKeyboardShortcuts=function(e){this.canShowKeyboardShortcuts=e},e.prototype.getCanShowKeyboardShortcuts=function(){return this.canShowKeyboardShortcuts},e}();function J(e){return e?r.__assign(r.__assign({},e),{wasCompleteSetState:void 0,layoutModel:void 0,settingsViewModel:void 0}):e}t.default=W})),i("main/instancehotkeys",["require","exports","keys","lib/aria","jquery","graphing-calc/models/expression","browser","touchtracking"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e){this.controller=e}return e.prototype.handleKeydown=function(e){var t=this,c=n.lookupChar(e);if(n.isUndo(e))e.stopPropagation(),e.preventDefault(),this.controller.hasVisibleAndUndoableToast()?this.controller.toastUndo():this.controller.dispatch({type:"undo"});else if(n.isRedo(e))e.stopPropagation(),e.preventDefault(),this.controller.dispatch({type:"redo"});else if(!e.ctrlKey&&!e.metaKey||e.ctrlKey&&e.metaKey||e.altKey||"F"!==c){if(!e.altKey&&!e.metaKey||e.ctrlKey||e.shiftKey||void 0!==c)if(e.shiftKey&&(e.altKey||e.metaKey)&&!e.ctrlKey){if(n.lookup(e)===n.UP)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-all-folders-collapsed",isCollapsed:!0}),r.alert(this.controller.s("graphing-calculator-narration-all-folders-collapsed"));else if(n.lookup(e)===n.DOWN)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-all-folders-collapsed",isCollapsed:!1}),r.alert(this.controller.s("graphing-calculator-narration-all-folders-expanded"));else if("E"===c){if(!this.controller.isListEnabled())return;this.controller.isListVisible()?(this.controller.dispatch({type:"hide-expressions-list",focusShowIcon:!1}),r.alert(this.controller.s("graphing-calculator-narration-hide-expression-list"))):(this.controller.dispatch({type:"show-expressions-list",focusHideIcon:!1}),this.focusExpressionList(this.controller.s("graphing-calculator-narration-show-expression-list"))),e.preventDefault(),e.stopPropagation()}}else if(e.ctrlKey&&(e.altKey||e.metaKey)&&!e.shiftKey){if("E"===c){if(!this.controller.isListEnabled())return;e.preventDefault(),e.stopPropagation(),this.focusExpressionList(this.controller.s("graphing-calculator-narration-expression-list"))}else if("X"===c){if(!this.controller.isListEnabled())return;e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()?(r.alert(this.controller.s("graphing-calculator-narration-add-expression")),this.controller.dispatch({type:"new-expression"})):r.alert(this.controller.s("graphing-calculator-narration-unable-to-add-expression"))}else if("O"===c){if(!this.controller.isListEnabled())return;e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()&&this.controller.areNotesEnabled()?(r.alert(this.controller.s("graphing-calculator-narration-add-note")),this.controller.dispatch({type:"new-text"})):r.alert(this.controller.s("graphing-calculator-narration-unable-to-add-note"))}else if("F"===c&&this.controller.canUserAddExpressions()&&this.controller.areFoldersEnabled())e.preventDefault(),e.stopPropagation(),r.alert(this.controller.s("graphing-calculator-narration-add-folder")),this.controller.dispatch({type:"new-folder"});else if("I"===c&&this.controller.canUserAddExpressions()&&this.controller.areImagesEnabled())e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:!1}),this.controller.runAfterDispatch((function(){t.controller.find$(".dcg-add-expression-container input[type=file]").trigger("click"),r.alert(t.controller.s("graphing-calculator-narration-add-image"))}));else if("T"===c)e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()?(r.alert(this.controller.s("graphing-calculator-narration-add-table")),this.controller.dispatch({type:"new-table"})):r.alert(this.controller.s("graphing-calculator-narration-unable-to-add-table"));else if("G"===c)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:!0});else if("P"===c){e.preventDefault(),e.stopPropagation();var l=this.controller.find$(".dcg-tabbable-point, .dcg-tabbable-draggableimage").filter("[tabindex=0]");0===l.length&&(l=this.controller.find$(".dcg-editable-label-border").find('input, textarea, [role="textbox"]')),this.focusElement(l.first(),this.controller.s("graphing-calculator-narration-no-interactive-points"))}else if("Z"===c)(g=this.controller.getSelectedItem())&&g.id&&this.controller.dispatch({type:"expression-zoom-fit",id:g.id});else if("D"===c&&this.controller.canUserAddExpressions()){e.preventDefault(),e.stopPropagation();var d=!this.controller.isInEditListMode();this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:d,focusExpressionList:!0})}}else if((e.altKey||e.metaKey)&&!e.ctrlKey&&e.shiftKey&&"F"===c&&this.controller.isDecimalToFractionEnabled()){var u=this.controller.getSelectedItem();u&&"expression"===u.type&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-fraction-evaluation",id:u.id}),this.controller.runAfterDispatch((function(){o.shouldEvaluationDisplayAsFraction(u)?r.alert(t.controller.s("graphing-calculator-narration-show-as-fraction")):r.alert(t.controller.s("graphing-calculator-narration-show-as-decimal"))})))}else if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey){if(!e.metaKey&&!e.shiftKey&&e.ctrlKey===a.IS_APPLE&&e.altKey===!a.IS_APPLE)if("N"===c){if(!this.controller.getBrailleControls())return;e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"nemeth"}),r.alert(this.controller.s("shared-calculator-narration-braille-mode-nemeth"))}else if("U"===c){if(!this.controller.getBrailleControls())return;e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"ueb"}),r.alert(this.controller.s("shared-calculator-narration-braille-mode-ueb"))}else if("Q"===c||"X"===c){if(!this.controller.getBrailleControls())return;e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"none"}),r.alert(this.controller.s("shared-calculator-narration-braille-mode-off"))}else if("6"===c){if(!this.controller.getBrailleControls())return;e.preventDefault(),e.stopPropagation();var p=!this.controller.getSixKeyInput();this.controller.dispatch({type:"set-six-key-input",useSixKeyInput:p}),r.alert(p?this.controller.s("shared-calculator-narration-six-key-mode-on"):this.controller.s("shared-calculator-narration-six-key-mode-off"))}}else n.lookup(e)===n.BACKSPACE?document.activeElement&&s.elIsFocusable(i(document.activeElement))||e.preventDefault():n.lookup(e)===n.ESCAPE&&this.controller.isInEditListMode()&&0===this.controller.find$(".dcg-options-menu").length&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!0}));else if(n.lookup(e)===n.UP)(g=this.controller.getSelectedItem())&&"folder"===g.type&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-folder-collapsed",id:g.id,isCollapsed:!0}),r.alert(this.controller.s("graphing-calculator-narration-folder-collapsed")));else if(n.lookup(e)===n.DOWN){var g;(g=this.controller.getSelectedItem())&&"folder"===g.type&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-folder-collapsed",id:g.id,isCollapsed:!1}),r.alert(this.controller.s("graphing-calculator-narration-folder-expanded")))}}else this.controller.isExpressionListFocused()&&(this.controller.dispatch({type:"open-expression-search"}),e.preventDefault(),e.stopPropagation())},e.prototype.focusExpressionList=function(e){var t=this.controller.getSelectedItem();t||(t=this.controller.getItemModelByIndex(0)),t?(r.alert(e),this.controller.dispatch({type:"move-focus-to-item",id:t.id})):r.alert(this.controller.s("graphing-calculator-narration-unable-to-focus-expression-list"))},e.prototype.focusElement=function(e,t){e.length?e.trigger("focus"):t&&r.alert(t)},e}();t.default=c})),i("lib/defocus-mobile",["require","exports","jquery","touchtracking"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(document.activeElement){var e=n(document.activeElement);r.elIsFocusable(e)&&n("<input />").prependTo("body").trigger("focus").attr({readonly:"readonly",disabled:"true"}).trigger("blur").remove()}}})),i("ipad.scrollfix",["require","jquery"],(function(e){var t=e("jquery"),n=!1,r=function(e){n||t(e).bind("touchstart",(function(e){var n=t(e.target),r=0,i=null;if(!n.closest("[disablescroll]").length)for(;0===r&&n.length&&void 0!==n[0].tagName;){var o=n.css("overflow"),a=n.css("overflow-y");if("hidden"!==o&&"visible"!==o&&"hidden"!==a&&"hidden"!==a){var s=n.scrollTop();0!==s&&(r=2),n.scrollTop(s+1),n.scrollTop()!==s&&(r|=1,n.scrollTop(s))}n=n.parent()}if(0!==r){i=[];for(var c=e.originalEvent.touches,l=0;l<c.length;l++){var d={};for(var u in c[l])c[l].hasOwnProperty(u)&&(d[u]=c[l][u]);i.push(d)}}t(document).on("touchmove.scrollfix",(function(e){if(i){var t=i[0],n=e.originalEvent.touches[0].screenY-t.screenY;(n>0&&!(2&r)||n<0&&!(1&r))&&(r=0),n&&(i=null)}0===r&&e.preventDefault()})),t(document).on("touchend.scrollfix",(function(){t(document).off(".scrollfix")}))}))};return{limitScrollOnElement:r,limitScrollOnDocument:function(){r(document),n=!0}}})),i("expressions/abstract-item-view",["require","exports","tslib","jquery","dcgview","jquery.handleevent"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,this._isFirstRender=!0,this._isDragCopy=this.props.isDragCopy()},t.prototype.onItemViewMounted=function(){this._isDragCopy||(this.model.dcgView=this),this._isFirstRender=!1},t.prototype.onItemViewUnmounted=function(){this._isDragCopy||(this.model.dcgView=void 0)},t.prototype.isFirstRender=function(){return this._isFirstRender},t.prototype.onMouseSelect=function(e){!this.controller.isInEditListMode()||function(e){var t=r(e.target);return t.hasClass("dcg-exp-action-button")||t.hasClass("dcg-icon-duplicate")||t.hasClass("dcg-icon-remove")}(e)?"dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id})):this.exitEditListMode()},t.prototype.onDelete=function(){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.id,setFocusAfterDelete:!this.controller.isInEditListMode()})},t.prototype.onDragPending=function(e){this.props.onDragPending(e)},t.prototype.exitEditListMode=function(){this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!0})},t}(i.Class);t.default=o})),i("loadcss!dcgview-helpers/tooltipped-error",(function(){})),i("dcgview-helpers/tooltipped-error",["require","exports","tslib","dcgview","../shared-components/tooltip","loadcss!./tooltipped-error"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TooltippedError=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(i.Tooltip,{tooltip:this.props.error,sticky:this.const(!0),gravity:this.props.gravity},r.createElement("div",{class:function(){return{"dcg-tooltipped-error":!0,"dcg-white":e.props.isWhite&&e.props.isWhite(),"dcg-small":e.props.size&&"small"===e.props.size()}}},r.createElement("i",{class:r.const("dcg-icon-error")})))},t}(r.Class);t.TooltippedError=o})),i("loadcss!expressions/expression-menus/color-swatch",(function(){})),i("expressions/expression-menus/color-swatch",["require","exports","lib/color-distance","tslib","dcgview","loadcss!./color-swatch"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorSwatch=void 0;var o=i.Components,a=o.Switch,s=o.For,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.template=function(){var e=this;return i.createElement(a,{key:this.bindFn(this.colorType)},(function(t){switch(t){case"string":return i.createElement("span",{class:function(){return{"dcg-color-swatch":!0,"dcg-color-evaluation":e.props.isEvaluation&&e.props.isEvaluation(),"dcg-light-color":n.isLightColor(e.props.color())}},style:function(){return{background:e.props.color()}}});case"list":return i.createElement(s,{each:function(){return e.getColorArray()},key:function(e){return e.idx+"-"+e.color}},i.createElement("span",{class:i.const("dcg-color-swatch dcg-color-array")},(function(e){return i.createElement("span",{class:i.const("dcg-color-array-item"),style:function(){return{background:e.color}}})})));case"unknown":return i.createElement("span",{class:i.const("dcg-color-swatch"),style:function(){return{background:"#000"}}})}}))},t.prototype.colorType=function(){var e=this.props.color();return"string"==typeof e?"string":"object"==_typeof(e)?"list":"unknown"},t.prototype.getColorArray=function(){var e=[],t=this.props.color();if(!t||"object"!=_typeof(t))return e;for(var n=Math.min(t.length,10),r=0;r<Math.min(t.length,10);r++)e.push({idx:r,color:""+t[Math.round(r*t.length/n)]});return e},t}(i.Class);t.ColorSwatch=c})),i("loadcss!expressions/circular-icon-view",(function(){})),i("expressions/circular-icon-view",["require","exports","lib/color-distance","tslib","dcgview","./expression-menus/color-swatch","loadcss!./circular-icon-view"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.CircularIconView=void 0;var a=i.Components.If,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.template=function(){var e=this;return i.createElement("span",{class:function(){var t;return(t={"dcg-do-not-blur":!0,"dcg-circular-icon":!0,"dcg-thick-outline":e.isThickOutline(),"dcg-white-icon":!!e.props.whiteIcon&&e.props.whiteIcon(),"dcg-hidden":e.isHidden(),"dcg-semi-transparent":e.props.semiTransparent&&e.props.semiTransparent(),"dcg-colored-icon":e.isColoredIcon(),"dcg-has-background-image":e.hasBackgroundImage()})[e.iconModifier()]=e.iconModifier().length>0,t},style:function(){return{background:Array.isArray(e.getBackgroundColor())?void 0:e.getBackgroundColor()}}},i.createElement(a,{predicate:function(){return Array.isArray(e.getBackgroundColor())}},(function(){return i.createElement(o.ColorSwatch,{color:function(){return e.getBackgroundColor()}})})),i.createElement(a,{predicate:this.bindFn(this.hasBackgroundImage)},(function(){return i.createElement("span",{class:i.const("dcg-background-image"),style:function(){return{"background-image":e.props.backgroundImage&&e.props.backgroundImage(),opacity:e.props.backgroundOpacity&&e.props.backgroundOpacity()}}})})),i.createElement(a,{predicate:function(){return!!e.backgroundIcon()}},(function(){return i.createElement("i",{class:function(){var t;return(t={})[e.backgroundIcon()]=!0,t["dcg-layered-icon"]=!0,t},style:function(){return{opacity:e.backgroundOpacity()}}})})),i.createElement(a,{predicate:function(){return!!e.primaryIcon()}},(function(){return i.createElement("i",{class:function(){var t;return(t={})[e.primaryIcon()]=!0,t["dcg-layered-icon"]=!0,t},style:function(){return{color:e.props.foregroundColor&&e.props.foregroundColor()}}})})),i.createElement(a,{predicate:function(){return"loading"===e.props.iconType()}},(function(){return i.createElement("span",{class:i.const("dcg-spinner")})})))},t.prototype.isColoredIcon=function(){return!this.isThickOutline()&&!this.isHidden()&&!this.hasBackgroundImage()&&"loading"!==this.props.iconType()},t.prototype.iconModifier=function(){if(!this.props.iconModifier)return"";switch(this.props.iconModifier()){case"medium":return"dcg-modifier-size-medium";case"large":return"dcg-modifier-size-large";case"small":return"dcg-modifier-size-small";case"rotated":return"dcg-modifier-rotated";case"none":return""}},t.prototype.getBackgroundColor=function(){if(!this.isHidden()&&this.props.backgroundColor)return this.props.backgroundColor()},t.prototype.isHidden=function(){return"hidden"===this.props.iconType()},t.prototype.isThickOutline=function(){var e=this.props.iconType();return"folder"===e||"pause"===e||"play"===e||"fraction"===e||"action"===e||"metronome"===e},t.prototype.hasBackgroundImage=function(){return!!this.props.backgroundImage&&!this.isHidden()&&!!this.props.backgroundImage()},t.prototype.primaryIcon=function(){var e=this.props.iconType();switch(e){case"folder":return"dcg-icon-folder";case"pause":return"dcg-icon-pause";case"play":return"dcg-icon-play";case"polygon-dashed":case"polygon-dashed-filled":return"dcg-icon-polygon-dashed";case"polygon-dotted":case"polygon-dotted-filled":return"dcg-icon-polygon-dotted";case"polygon-default":case"polygon-default-filled":return"dcg-icon-polygon-solid";case"graph-dashed":case"parametric-dashed-filled":return"dcg-icon-parametric-dashed";case"graph-dotted":case"parametric-dotted-filled":return"dcg-icon-parametric-dotted";case"graph-default":case"parametric-default-filled":return"dcg-icon-parametric-solid";case"movable-vertical":return"dcg-icon-move-vertical";case"movable-both":return"dcg-icon-move";case"movable-horizontal":return"dcg-icon-move-horizontal";case"point-open":return"dcg-icon-open";case"point-cross":return"dcg-icon-cross";case"point-default":return"dcg-icon-point";case"table-points":case"table-points-and-lines":return"dcg-icon-points";case"table-lines":return"dcg-icon-lines-solid";case"shaded-inequality":case"inequality":return"dcg-icon-shaded-inequality-dash";case"check":return"dcg-icon-check";case"none":case"background":case"hidden":case"polygon-none-filled":case"parametric-none-filled":case"loading":return"";case"fraction":return"dcg-icon-fraction";case"boxplot":return"dcg-icon-boxplot";case"dotplot-cross":return"dcg-icon-dotplot-cross";case"dotplot-default":return"dcg-icon-dotplot-default";case"dotplot-open":return"dcg-icon-dotplot-open";case"histogram":return"dcg-icon-histogram";case"unfilled-distribution":case"filled-distribution":return"dcg-icon-distribution";case"action":return"dcg-icon-chevron-right";case"metronome":return"dcg-icon-metronome-2";default:return e}},t.prototype.backgroundOpacity=function(){var e=this.backgroundIcon();return"dcg-icon-polygon-filled"===e||"dcg-icon-parametric-filled"===e||"dcg-icon-shaded-inequality-shade2"===e||"dcg-icon-distribution-fill"===e||"dcg-icon-histogram-fill"===e?.5:1},t.prototype.backgroundIcon=function(){var e=this.props.iconType();return"filled-distribution"===e?"dcg-icon-distribution-fill":"histogram"===e?"dcg-icon-histogram-fill":"polygon-dashed-filled"===e||"polygon-dotted-filled"===e||"polygon-default-filled"===e||"polygon-none-filled"===e?"dcg-icon-polygon-filled":"parametric-dashed-filled"===e||"parametric-dotted-filled"===e||"parametric-default-filled"===e||"parametric-none-filled"===e?"dcg-icon-parametric-filled":"table-points-and-lines"===e?"dcg-icon-lines-solid":"shaded-inequality"===e?"dcg-icon-shaded-inequality-shade2":"action"===e?"dcg-icon-minus":""},t}(i.Class);t.CircularIconView=s})),i("main/manage-focus-helper",["require","exports","underscore"],(function(e,t,n){function r(e){var t=e.controller.getFocusLocation();return t&&n.isEqual(t,e.location)}function i(e,t){t?e.controller.dispatch({type:"set-focus-location",location:e.location}):e.controller.dispatch({type:"blur-focus-location",location:e.location})}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOnFocusChanged=t.defaultShouldBeFocused=t.manageFocusHelper=void 0,t.manageFocusHelper=function(e){return{shouldBeFocused:function(){return r(e)},onFocusedChanged:function(t){i(e,t)}}},t.defaultShouldBeFocused=r,t.defaultOnFocusChanged=i})),i("loadcss!expressions/play-pause-icon-view",(function(){})),i("expressions/play-pause-icon-view",["require","exports","tslib","dcgview","lib/aria","./circular-icon-view","main/manage-focus-helper","graphing-calc/models/expression","core/types/slider-loop-modes","../shared-components/tooltip","jquery.handleevent","loadcss!./play-pause-icon-view"],(function(e,t,n,r,i,o,a,s,c,l){Object.defineProperty(t,"__esModule",{value:!0}),t.PlayPauseIconView=void 0;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-play-pause-icon-view")},r.createElement(l.Tooltip,{gravity:this.const("se"),tooltip:function(){return e.controller.s("graphing-calculator-label-slider-disabled-while-ticker-playing")},disabled:function(){return!e.controller.getTickerPlaying()},sticky:this.const(!0)},r.createElement("div",{class:function(){return{"dcg-circular-icon-container":!0,"dcg-disabled":e.controller.getTickerPlaying()}},"aria-label":this.bindFn(this.getAriaLabel),role:r.const("button"),tabindex:r.const("0"),onTap:function(t){t.wasHandled("dragdrop")||e.toggleSliderIsPlaying()},manageFocus:this.const(a.manageFocusHelper({controller:this.controller,location:{type:"slider-icon",id:this.model.id}}))},r.createElement(o.CircularIconView,{iconType:function(){return e.getIconType()},whiteIcon:function(){return!e.controller.isInEditListMode()&&e.controller.isItemSelected(e.model.id)||e.controller.isItemBeingDragged(e.model.id)}}))),r.createElement("div",{class:r.const("dcg-slider-menu-container")},r.createElement(l.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-animation-properties-tooltip")},gravity:this.const("e")},r.createElement("div",{class:function(){return{"dcg-slider-menu-opener":!0,"dcg-menu-open":e.myOptionsOpen()}},tabindex:r.const(0),"model-id":function(){return e.model.id},role:r.const("button"),"aria-label":function(){return e.myOptionsOpen()?e.controller.s("graphing-calculator-narration-hide-animation-properties"):e.controller.s("graphing-calculator-narration-show-animation-properties")},onTap:function(t){t.wasHandled("dragdrop")||t.wasLongheld()||e.toggleOptions(t)},manageFocus:this.const(a.manageFocusHelper({controller:this.controller,location:{type:"slider-animation-properties-icon",id:this.model.id}}))},r.createElement("i",{class:this.bindFn(this.getIcon)})))))},t.prototype.getIcon=function(){return c.getSliderIcon(this.model.slider.loopMode)},t.prototype.getIconType=function(){return this.model.slider.isPlaying?s.isSliderAtEndOfPlayOnce(this.model)?"play":"pause":"play"},t.prototype.myOptionsOpen=function(){var e=this.controller.getOpenItemMenu();return!!e&&e.model===this.model},t.prototype.toggleOptions=function(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"slider",model:this.model,focusFirstOption:"keyboard"===e.device}})},t.prototype.getAriaLabel=function(){if(!this.model.sliderExists)return"";var e=s.getAssignment(this.model);return e?this.model.slider.isPlaying?this.controller.s("graphing-calculator-narration-pause-variable-animation",{variable:e}):this.controller.s("graphing-calculator-narration-play-variable-animation",{variable:e}):""},t.prototype.toggleSliderIsPlaying=function(){if(this.model.sliderExists){var e="",t=s.getAssignment(this.model);s.isSliderAtEndOfPlayOnce(this.model)?("string"==typeof t&&(e=this.controller.s("graphing-calculator-narration-slider-variable-restarted",{variable:t})),this.controller.dispatch({type:"play-slider-from-min",id:this.model.id})):this.model.slider.isPlaying?("string"==typeof t&&(e=this.controller.s("graphing-calculator-narration-slider-variable-playing",{variable:t})),this.controller.dispatch({type:"set-slider-isplaying",id:this.model.id,isPlaying:!1})):("string"==typeof t&&(e=this.controller.s("graphing-calculator-narration-slider-variable-paused",{variable:t})),this.controller.dispatch({type:"set-slider-isplaying",id:this.model.id,isPlaying:!0})),""!==e&&i.alert(e)}},t}(r.Class);t.PlayPauseIconView=d})),i("loadcss!expressions/action-icon-view",(function(){})),i("expressions/action-icon-view",["require","exports","tslib","dcgview","./circular-icon-view","main/manage-focus-helper","jquery.handleevent","loadcss!./action-icon-view"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ActionIconView=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAnimating=!1,t.unmounted=!1,t}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-action-icon-view":!0,"dcg-action-icon-view-animating":e.isAnimating}}},r.createElement("div",{class:r.const("dcg-circular-icon-container"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-run-action-icon")},role:r.const("button"),tabindex:r.const("0"),onTap:function(t){t.wasHandled("dragdrop")||e.runActionOnce()},manageFocus:this.const(o.manageFocusHelper({controller:this.props.controller(),location:{type:"action-icon",id:this.model.id}}))},r.createElement(i.CircularIconView,{iconType:this.const("action"),whiteIcon:function(){return!e.controller.isInEditListMode()&&e.controller.isItemSelected(e.model.id)||e.controller.isItemBeingDragged(e.model.id)}})))},t.prototype.willUnmount=function(){this.unmounted=!0},t.prototype.runActionOnce=function(){var e=this;this.isAnimating=!0,this.controller.dispatch({type:"action-single-step",id:this.model.id}),setTimeout((function(){e.isAnimating=!1,e.unmounted||e.update()}),150)},t}(r.Class);t.ActionIconView=a})),i("expressions/expression-icon-view",["require","exports","tslib","dcgview","core/lib/dragmode","core/types/styles","core/math/comparators","graphing-calc/models/abstract-item","core/math/expression-types","graphing-calc/models/expression","../dcgview-helpers/tooltipped-error","./play-pause-icon-view","./circular-icon-view","main/manage-focus-helper","./action-icon-view","jquery.handleevent"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h){Object.defineProperty(t,"__esModule",{value:!0});var f=r.Components.SwitchUnion,m="#000",y="#fff",b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-expression-icon-container")},f(this.bindFn(this.getIconMode),{error:function(){return r.createElement(d.TooltippedError,{error:e.bindFn(e.getErrorMsg),isWhite:function(){return e.controller.isItemSelected(e.model.id)||e.controller.isItemBeingDragged(e.model.id)},gravity:e.const("se")})},none:function(){return r.createElement("span",null)},slider:function(){return r.createElement(u.PlayPauseIconView,{controller:e.props.controller,model:e.props.model})},action:function(){return r.createElement(h.ActionIconView,{controller:e.props.controller,model:e.props.model})},icon:function(){return r.createElement("div",{class:r.const("dcg-circular-icon-container"),role:r.const("button"),tabindex:r.const("0"),"model-id":function(){return e.model.id},"aria-label":e.bindFn(e.getIconAriaLabel),onTap:function(t){if(!t.wasHandled("dragdrop")&&!t.wasLongheld())return e.myOptionsOpen()?e.toggleOptions(t):!e.controller.isInEditListMode()&&!t.shiftKey||e.isFraction()?e.isFraction()?e.onToggleFractionDisplay():void e.toggleGraphShown():e.toggleOptions(t)},onLongHold:function(t){t.handle("dcg-longhold"),t.handle("dcg-tap"),e.isFraction()||e.toggleOptions(t)},manageFocus:e.const(g.manageFocusHelper({controller:e.controller,location:{type:"expression-icon",id:e.model.id}}))},r.createElement(p.CircularIconView,{iconType:e.bindFn(e.getIconType),backgroundColor:e.bindFn(e.getBackgroundColor),whiteIcon:e.bindFn(e.isSelected),foregroundColor:e.bindFn(e.getForegroundColor),iconModifier:e.bindFn(e.getIconModifier)}))}}))},t.prototype.getErrorMsg=function(){return this.colorError()?this.controller.s("shared-calculator-error-color-not-assigned"):this.controller.unpack(this.model.error)},t.prototype.myOptionsOpen=function(){var e=this.controller.getOpenItemMenu();return!!e&&e.model===this.model},t.prototype.toggleOptions=function(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"expression",model:this.model,focusFirstOption:"keyboard"===e.device}})},t.prototype.isSelected=function(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)},t.prototype.isFraction=function(){return this.controller.canDisplayEvaluationForItemAsFraction(this.model.id)},t.prototype.getIconMode=function(){return this.hasError()?"error":this.controller.getGraphSettings().config.graphpaper?l.isGraphable(this.model)?"icon":this.hasSlider()?"slider":this.isFraction()?"icon":this.isNonemptyAction()?"action":"none":"none"},t.prototype.toggleGraphShown=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id})},t.prototype.colorError=function(){return!!this.model.formula.rgb_value&&!this.model.formula.assignment},t.prototype.hasError=function(){return!!this.colorError()||!!this.model.error&&!l.isEmpty(this.model)&&"none"===this.controller.getBrailleMode()},t.prototype.hasSlider=function(){return!!this.model.sliderExists},t.prototype.isNonemptyAction=function(){return l.isNonemptyAction(this.model)},t.prototype.getDisplayProps=function(){var e=this.model,t=e.points,n=e.lines,r=e.fill;return c.getReconciledExpressionProps(this.model.formula.expression_type,{points:t,lines:n,fill:r})},t.prototype.getBackgroundColor=function(){if(!this.isFraction())return s.getMaybeGradientDisplayColor(this.model);var e=this.isSelected();return this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?e?y:m:""},t.prototype.getForegroundColor=function(){if(!this.isFraction())return"";var e=this.isSelected();return e!==this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?y:e?"#6399cb":m},t.prototype.onToggleFractionDisplay=function(){this.controller.dispatch({type:"toggle-fraction-evaluation",id:this.model.id})},t.prototype.getIconModifier=function(){return l.isBoxPlot(this.model)&&"y"===l.getVizProp(this.model,"alignedAxis")?"rotated":"none"},t.prototype.getIconType=function(){if(this.isFraction())return"fraction";if(!this.model.shouldGraph)return"hidden";if(this.controller.isInEditListMode())return"none";var e=this.model.pointStyle,t=this.model.lineStyle,n=this.getDisplayProps(),r=this.model.formula;if(l.isBoxPlot(this.model))return"boxplot";if(l.isDotPlot(this.model)){if("POINT"===this.model.pointStyle)return"dotplot-default";if("CROSS"===this.model.pointStyle)return"dotplot-cross";if("OPEN"===this.model.pointStyle)return"dotplot-open"}if(l.isHistogram(this.model))return"histogram";if(l.isToplevelDistribution(this.model))return l.shouldShowCDFFooter(this.model)?"filled-distribution":"unfilled-distribution";if(this.model.reconciledDragMode===i.DragMode.X)return"movable-horizontal";if(this.model.reconciledDragMode===i.DragMode.Y)return"movable-vertical";if(this.model.reconciledDragMode===i.DragMode.XY)return"movable-both";if(l.isPointOrPointList(this.model))return l.isSinglePoint(this.model)?e===o.PointStyle.OPEN?"point-open":e===o.PointStyle.CROSS?"point-cross":"point-default":n.lines&&n.points?"table-points-and-lines":n.lines?"table-lines":"table-points";var s=this.getDisplayProps().fill;if(l.isPolygon(this.model))return s?n.lines?t===o.LineStyle.DASHED?"polygon-dashed-filled":t===o.LineStyle.DOTTED?"polygon-dotted-filled":"polygon-default-filled":"polygon-none-filled":n.lines?t===o.LineStyle.DASHED?"polygon-dashed":t===o.LineStyle.DOTTED?"polygon-dotted":"polygon-default":"none";if(l.isParametric(this.model))return s?n.lines?t===o.LineStyle.DASHED?"parametric-dashed-filled":t===o.LineStyle.DOTTED?"parametric-dotted-filled":"parametric-default-filled":"parametric-none-filled":n.lines?t===o.LineStyle.DASHED?"graph-dashed":t===o.LineStyle.DOTTED?"graph-dotted":"graph-default":"none";var c=r.operator,d=0!==a.table[c].direction,u=!1===a.table[c].inclusive;return r.is_shade_between||!u&&d?"shaded-inequality":u&&!d?"inequality":u&&d?"shaded-inequality":t===o.LineStyle.DASHED?"graph-dashed":t===o.LineStyle.DOTTED?"graph-dotted":"graph-default"},t.prototype.getIconAriaLabel=function(){return this.isFraction()?l.shouldEvaluationDisplayAsFraction(this.model)?this.controller.s("shared-calculator-narration-display-as-decimal"):this.controller.s("shared-calculator-narration-display-as-fraction"):this.myOptionsOpen()?this.controller.s("graphing-calculator-narration-hide-options"):this.controller.isInEditListMode()?this.controller.s("graphing-calculator-narration-show-options"):this.model.hidden?this.controller.s("graphing-calculator-narration-show-expression"):this.controller.s("graphing-calculator-narration-hide-expression")},t}(r.Class);t.default=b})),i("loadcss!expressions/evaluation-view",(function(){})),i("expressions/evaluation-view",["require","exports","tslib","dcgview","core/lib/label","dcgview-helpers/static-mathquill-view","./expression-menus/color-swatch","../shared-components/mathquill-braille-wrapper","./expression_view","loadcss!./evaluation-view"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components,d=l.If,u=l.SwitchUnion,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-evaluation-container")},r.createElement("div",{class:function(){return{"dcg-evaluation":!0,"dcg-do-blur":!0,"dcg-hidden":e.props.controller().isInEditListMode()}},handleEvent:r.const("true"),tabindex:function(){return e.props.focusable()&&"none"===e.controller.getBrailleMode()?"0":"-1"}},r.createElement(s.default,n.__assign({latex:this.bindFn(this.getBrailleEvaluation),ariaLabel:this.const(""),brailleShouldFocus:function(){var t=e.controller.getFocusLocation();return!!t&&"braille-output"===t.type&&t.id===e.props.id()},onBrailleInput:function(){},isStatic:this.const(!0),onBrailleFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"braille-output",id:e.props.id()}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"braille-output",id:e.props.id()}})}},c.getBrailleWrapperProps(this.controller,{gravity:"sw"})),r.createElement("div",{class:r.const("dcg-evaluation-label-container"),onTap:this.bindFn(this.onSelectEvaluation)},r.createElement(d,{predicate:function(){return!!e.props.dependent()}},(function(){return r.createElement(o.default,{latex:function(){return i.identifierToLatex(e.props.dependent())},config:e.const({})},r.createElement("span",null))})),r.createElement("span",{class:r.const("dcg-equals")},r.createElement(o.default,{latex:this.const("="),config:this.const({})}))),r.createElement("span",{class:function(){return{"dcg-text-selectable":"rgbcolor"!==e.getEvaluationType(),"dcg-evaluation-html":!0,"dcg-color-evaluation":"rgbcolor"===e.getEvaluationType()}},didMount:this.bindFn(this.didMountEvaluation)},u((function(){return e.getEvaluationType()}),{list:function(){return r.createElement("span",{class:r.const("dcg-evaluation-list")},(function(){return e.controller.s("graphing-calculator-label-evaluation-list",{count:e.props.val().length})}))},fraction:function(){return r.createElement(o.default,{latex:function(){return i.truncatedLatexLabel(e.props.val(),e.getLabelOptions())},config:e.const({})})},undefined:function(){return r.createElement("span",null,r.const("undefined"))},scientific:function(){return r.createElement(o.default,{latex:function(){return e.getNumberLabel().mantissa+"\\times10^{"+e.getNumberLabel().exponent+"}"},config:e.const({})})},decimal:function(){return r.createElement(o.default,{latex:function(){return e.getNumberLabel().value},config:e.const({})})},rgbcolor:function(){return r.createElement(a.ColorSwatch,{color:function(){return e.controller.getColorById(e.props.id())},isEvaluation:e.const(!0)})}})))),r.createElement("div",{class:r.const("dcg-clear")}))},t.prototype.getNumberLabel=function(){return e=this.props.val(),t=this.getLabelOptions(),i.numericLabel(e,t);var e,t},t.prototype.getEvaluationType=function(){var e=this.props.val();return"string"==typeof e?"rgbcolor":Array.isArray(e)?"string"==typeof e[0]?"rgbcolor":"list":this.getNumberLabel().type},t.prototype.getLabelOptions=function(){return this.props.controller().getEvaluationLabelOptionsForItem(this.props.id())},t.prototype.didMountEvaluation=function(e){this.evaluationNode=e},t.prototype.onSelectEvaluation=function(){var e=document.createRange();e.selectNodeContents(this.evaluationNode);var t=window.getSelection();t&&(t.removeAllRanges(),(t=window.getSelection())&&t.addRange(e))},t.prototype.getBrailleEvaluation=function(){var e="";this.props.dependent()&&(e=i.identifierToLatex(this.props.dependent())),e+="=";var t=this.getEvaluationType();switch(t){case"list":e+=this.controller.s("graphing-calculator-label-evaluation-list",{count:this.props.val().length});break;case"fraction":e+=i.truncatedLatexLabel(this.props.val(),this.getLabelOptions());break;case"undefined":e="undefined";break;case"scientific":e+=this.getNumberLabel().mantissa+"\\times10^{"+this.getNumberLabel().exponent+"}";break;case"decimal":e+=this.getNumberLabel().value;break;case"rgbcolor":e+=this.props.val();break;default:return t}return e},t}(r.Class);t.default=p})),i("expressions/unresolved_view",["require","exports","tslib","dcgview"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),r.createElement("div",{class:r.const("dcg-unresolved")},r.createElement("i",{class:r.const("dcg-icon-error")}),r.const(" "),(function(){return e.controller.s("graphing-calculator-error-equation-contains-unresolved-details")}),r.createElement("a",{href:r.const("https://help.desmos.com/hc/en-us/articles/202529079-Unresolved-Detail-In-Plotted-Functions"),target:r.const("_blank")},(function(){return e.controller.s("graphing-calculator-link-learn-more")})))},t}(r.Class);t.default=i})),i("loadcss!domain",(function(){})),i("expressions/domain_view",["require","exports","tslib","dcgview","jquery","keys","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","core/lib/label","bugsnag","main/mathquill-operators","../shared-components/mathquill-braille-wrapper","./expression_view","loadcss!domain"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g){Object.defineProperty(t,"__esModule",{value:!0});var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-domain dcg-do-blur"),handleEvent:r.const("true")},r.createElement("div",{class:r.const("dcg-display-domain dcg-mq-underline-container dcg-do-blur"),handleEvent:r.const("true")},r.createElement("div",{class:r.const("dcg-editable-mathquill-container")},r.createElement(p.default,n.__assign({latex:function(){return e.getMinLatex()},ariaLabel:function(){return e.controller.raw("dmin")},placeholder:function(){return l.value(c.getDomainMin(e.model)).string},brailleShouldFocus:function(){return"min"===e.getFocusedInput()},selectOnFocus:this.const(!0),onBrailleInput:function(t){return e.dispatchMinLatexIfChanged(t)},hasError:function(){return!c.isDomainMinValid(e.model)},onBrailleFocusedChanged:function(t){return e.handleFocusedChanged("min",t)},onBrailleKeydown:function(t){return e.handleBrailleKeydown("min",t)},dataLabelAttributeValue:this.const("domain-min")},g.getBrailleWrapperProps(this.props.controller())),r.createElement(s.default,{latex:function(){return e.getMinLatex()},placeholder:function(){return l.value(c.getDomainMin(e.model)).string},isFocused:function(){return"min"===e.getFocusedInput()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.bindFn(this.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-domain-minimum")},getAriaPostLabel:this.const(""),hasError:function(){return!c.isDomainMinValid(e.model)},onUserPressedKey:function(t,n){e.handlePressedKey("min",t,n)},onUserChangedLatex:function(t){return e.dispatchMinLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged("min",t)},dataLabelAttributeValue:this.const("domain-min"),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}})),r.createElement("span",{class:r.const("dcg-interval-interior")},r.createElement(a.default,{latex:function(){return e.getDomainVariableLatex()},config:this.const({})},r.createElement("span",null))),r.createElement(p.default,n.__assign({latex:function(){return e.getMaxLatex()},ariaLabel:function(){return e.controller.raw("dmax")},placeholder:function(){return l.value(c.getDomainMax(e.model)).string},brailleShouldFocus:function(){return"max"===e.getFocusedInput()},selectOnFocus:this.const(!0),onBrailleInput:function(t){return e.dispatchMaxLatexIfChanged(t)},hasError:function(){return!c.isDomainMaxValid(e.model)},onBrailleFocusedChanged:function(t){return e.handleFocusedChanged("max",t)},onBrailleKeydown:function(t){return e.handleBrailleKeydown("max",t)},dataLabelAttributeValue:this.const("domain-max")},g.getBrailleWrapperProps(this.props.controller())),r.createElement(s.default,{latex:function(){return e.getMaxLatex()},placeholder:function(){return l.value(c.getDomainMax(e.model)).string},isFocused:function(){return"max"===e.getFocusedInput()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.bindFn(this.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-domain-maximum")},getAriaPostLabel:this.const(""),hasError:function(){return!c.isDomainMaxValid(e.model)},onUserPressedKey:function(t,n){e.handlePressedKey("max",t,n)},onUserChangedLatex:function(t){return e.dispatchMaxLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged("max",t)},dataLabelAttributeValue:this.const("domain-max"),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}})))))},t.prototype.handleBrailleKeydown=function(e,t){var n=o.lookup(t);n&&this.handlePressedKey(e,n,t)},t.prototype.handlePressedKey=function(e,t,n){if(!this.controller.isInEditListMode()){if("Esc"===t)return void this.controller.dispatch({type:"set-focus-location",location:void 0});if("Enter"===t)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"})}var r=s.default.getFocusedMathquill(),o=p.getFocusedBrailleElement();"Left"!==t&&"Right"!==t&&"Down"!==t&&"Up"!==t?r&&(r.keystroke(t,n),"min"===e?this.dispatchMinLatexIfChanged(r.latex()):"max"===e&&this.dispatchMaxLatexIfChanged(r.latex())):(r?s.default.applyArrowKeyAndReturnIfWasAtBounds(r,t,n):o&&(0===o.selectionStart&&"Left"===t||o.selectionStart===i(o).val().length&&"Right"===t||"Up"===t||"Down"===t))&&(n&&n.preventDefault(),"Left"===t?"max"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"min"}}):"Right"===t?"min"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"max"}}):"Down"===t?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):"Up"===t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}}))},t.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"domain-limit",id:this.id,location:e}})},t.prototype.dispatchMinLatexIfChanged=function(e){if(this.getMinLatex()!==e){var t=this.getDomainType();if("unknown"===t)return void d.notify("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:c.getState(this.model,{stripDefaults:!0})}});this.controller.dispatch("polar"===t?{type:"set-polar-domain-minlatex",id:this.id,latex:e}:{type:"set-parametric-domain-minlatex",id:this.id,latex:e})}},t.prototype.dispatchMaxLatexIfChanged=function(e){if(this.getMaxLatex()!==e){var t=this.getDomainType();if("unknown"===t)return void d.notify("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:c.getState(this.model,{stripDefaults:!0})}});this.controller.dispatch("polar"===t?{type:"set-polar-domain-maxlatex",id:this.id,latex:e}:{type:"set-parametric-domain-maxlatex",id:this.id,latex:e})}},t.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"domain-limit"===e.type&&e.id===this.id)return e.location},t.prototype.getMinLatex=function(){switch(this.getDomainType()){case"parametric":return c.getParametricDomainMin(this.model);case"polar":return c.getPolarDomainMin(this.model);default:return""}},t.prototype.getMaxLatex=function(){switch(this.getDomainType()){case"parametric":return c.getParametricDomainMax(this.model);case"polar":return c.getPolarDomainMax(this.model);default:return""}},t.prototype.getDomainVariableLatex=function(){switch(this.getDomainType()){case"parametric":return"\\le t \\le";case"polar":return"\\le \\theta \\le";default:return""}},t.prototype.getDomainType=function(){return c.isPolar(this.model)?"polar":c.isParametric(this.model)?"parametric":"unknown"},t.prototype.getMQConfig=function(){return{autoOperatorNames:u.getAutoOperators({})}},t}(r.Class);t.default=h})),i("loadcss!regression",(function(){})),i("expressions/regression_view",["require","exports","tslib","dcgview","core/lib/label","dcgview-helpers/static-mathquill-view","../shared-components/tooltip","loadcss!regression"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.getRoundedStat=t.getRoundedParam=void 0;var s=r.Components,c=s.If,l=s.For,d=s.IfElse,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement(c,{predicate:this.bindFn(this.hasRegression)},(function(){return r.createElement("div",{class:r.const("dcg-regression-container")},r.createElement("div",{class:r.const("dcg-handle-event"),handleEvent:r.const("true")},r.createElement(c,{predicate:e.bindFn(e.getShouldSuggestLogMode)},(function(){return r.createElement("div",{class:r.const("dcg-log-mode-toggle")},d((function(){return e.areLogModeRegressionsForced()}),{true:function(){return r.createElement("div",{class:r.const("dcg-action-log-mode-toggle dcg-no-hover-styling")},(function(){return e.controller.s("graphing-calculator-button-regression-log-mode")}))},false:function(){return r.createElement("div",null,r.createElement("div",{class:function(){return{"dcg-action-log-mode-toggle":!0,"dcg-toggled-on":e.getIsLogModeRegression()}},onTap:e.bindFn(e.onTapLogMode)},r.createElement("span",{class:r.const("dcg-log-mode-checkbox"),role:r.const("checkbox"),"aria-checked":function(){return e.getIsLogModeRegression()},tabindex:r.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-button-regression-log-mode")}},r.createElement("i",{class:r.const("dcg-icon-check")})),(function(){return e.controller.s("graphing-calculator-button-regression-log-mode")})),r.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-regression-log-mode-help-tooltip")},gravity:e.const("e")},r.createElement("a",{"aria-label":function(){return e.controller.s("graphing-calculator-label-regression-log-mode-help-tooltip")},class:r.const("dcg-log-mode-toggle-help"),target:r.const("_blank"),href:r.const("https://help.desmos.com/hc/en-us/articles/204349605")},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))))}}))})),r.createElement("div",{class:r.const("dcg-statistics"),role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-regression-statistics")}},r.createElement("div",{class:r.const("dcg-expression-footer-title")},(function(){return e.controller.s("graphing-calculator-heading-regression-statistics")}),r.createElement(c,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("RMSE")}},(function(){return r.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-regression-what-is-rmse-tooltip")},gravity:e.const("s")},r.createElement("a",{class:r.const("dcg-expression-footer-title-help"),target:r.const("_blank"),href:r.const("https://help.desmos.com/hc/en-us/articles/202529129-What-is-RMSE-"),"aria-label":function(){return e.controller.s("graphing-calculator-label-regression-what-is-rmse-tooltip")}},r.createElement("i",{class:r.const("dcg-icon-question-sign")})))})),r.createElement(c,{predicate:function(){return e.getRegression().statistics.Rsquared<0}},(function(){return r.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-regression-why-is-negative-tooltip")},gravity:e.const("s")},r.createElement("a",{"aria-label":function(){return e.controller.s("graphing-calculator-label-regression-why-is-negative-tooltip")},class:r.const("dcg-expression-footer-title-help"),target:r.const("_blank"),href:r.const("https://help.desmos.com/hc/en-us/articles/202529139-Why-am-I-seeing-a-negative-R-2-value-")},r.createElement("i",{class:r.const("dcg-icon-question-sign")})))}))),r.createElement("div",{class:r.const("dcg-statistics-values")},r.createElement(c,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("Rsquared")}},(function(){return r.createElement("div",null,r.createElement(o.default,{latex:function(){return"R^2="+g(e.getRegression(),"Rsquared")},config:e.const({})},r.createElement("span",{tabindex:r.const("0")})))})),r.createElement(c,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("rsquared")}},(function(){return r.createElement("div",null,r.createElement(o.default,{latex:function(){return"r^2="+g(e.getRegression(),"rsquared")},config:e.const({})},r.createElement("span",{tabindex:r.const("0")})))})),r.createElement(c,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("r")}},(function(){return r.createElement("div",null,r.createElement(o.default,{latex:function(){return"r="+g(e.getRegression(),"r")},config:e.const({})},r.createElement("span",{class:r.const("dcg-r-value"),tabindex:r.const("0")})))})),r.createElement(c,{predicate:function(){return e.getRegression().statistics.hasOwnProperty("RMSE")}},(function(){return r.createElement("div",null,r.createElement(o.default,{latex:function(){return"\\operatorname{RMSE}="+g(e.getRegression(),"RMSE")},config:e.const({})},r.createElement("span",{tabindex:r.const("0")})))})))),r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-regression-residuals")},class:r.const("dcg-residuals")},r.createElement("div",{class:r.const("dcg-expression-footer-title")},(function(){return e.controller.s("graphing-calculator-heading-regression-residuals")})),r.createElement(o.default,{latex:e.bindFn(e.getResidualVariable),config:e.const({})},r.createElement("span",{class:r.const("dcg-residuals-variable"),tabindex:r.const("0")})),r.createElement("div",{class:function(){return{"dcg-residual-suggestion":!0,"dcg-action-plot-residual":!0,"dcg-btn":!0,"dcg-btn-light-gray":!0,"dcg-visible":e.getResidualSuggestionVisible()}},"aria-hidden":function(){return!e.getResidualSuggestionVisible()},role:r.const("button"),tabindex:function(){return e.getResidualSuggestionVisible()?"0":void 0},onTap:e.bindFn(e.onTapResidualsSuggestion)},(function(){return e.controller.s("graphing-calculator-button-regression-plot-residuals")}))),r.createElement(c,{predicate:function(){return Object.keys(e.getRegression().parameters).length>0}},(function(){return r.createElement("div",{class:r.const("dcg-parameters-container")},r.createElement("div",{class:r.const("dcg-expression-footer-title")},(function(){return e.controller.s("graphing-calculator-heading-regression-parameters")}),r.createElement(c,{predicate:function(){return e.isNonLinearRegression()}},(function(){return r.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-regression-parameters-not-exact")},gravity:e.const("s")},r.createElement("a",{class:r.const("dcg-expression-footer-title-help"),target:r.const("_blank"),href:r.const("https://help.desmos.com/hc/en-us/articles/360042428612"),"aria-label":function(){return e.controller.s("graphing-calculator-label-regression-parameters-not-exact")}},r.createElement("i",{class:r.const("dcg-icon-question-sign")})))}))),r.createElement(l,{each:function(){return Object.keys(e.getRegression().parameters)}},r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-regression-parameters")},class:r.const("dcg-parameters")},(function(t){return r.createElement(o.default,{latex:function(){return t+"="+p(e.getRegression(),t)},config:e.const({})},r.createElement("span",{class:r.const("dcg-parameter"),tabindex:r.const("0")}))}))))})),r.createElement("div",{class:r.const("dcg-clear")}),r.createElement(c,{predicate:function(){return e.hasParameterWarning()}},(function(){return r.createElement("div",{class:r.const("dcg-parameter-warning")},r.createElement("i",{class:r.const("dcg-icon-error")}),r.const(" "),(function(){return e.controller.s("graphing-calculator-text-regression-potentially-inaccurate-parameters")}),r.const(" "),r.createElement("a",{href:r.const("https://help.desmos.com/hc/en-us/articles/360042942771"),target:r.const("_blank")},(function(){return e.controller.s("graphing-calculator-link-learn-more")})))}))))}))},t.prototype.onTapResidualsSuggestion=function(){this.controller.dispatch({type:"plot-residuals",id:this.id})},t.prototype.onTapLogMode=function(){this.controller.dispatch({type:"toggle-logmode",id:this.id})},t.prototype.getRegression=function(){return this.model.formula.regression},t.prototype.hasRegression=function(){return!!this.model.formula.regression},t.prototype.isNonLinearRegression=function(){return!this.getRegression().isLinear},t.prototype.getResidualVariable=function(){return this.getRegression().residualVariable||""},t.prototype.getResidualSuggestionVisible=function(){return void 0!==this.getRegression().residualSuggestionId},t.prototype.areLogModeRegressionsForced=function(){return this.controller.areLogModeRegressionsForced()},t.prototype.getShouldSuggestLogMode=function(){return!!this.getRegression().shouldSuggestLogMode},t.prototype.hasParameterWarning=function(){return!!this.getRegression().parameterWarning},t.prototype.getIsLogModeRegression=function(){return!!this.model.isLogModeRegression},t}(r.Class);function p(e,t){return i.truncatedLatexLabel(e.parameters[t],{digits:6,smallCutoff:1e-6,bigCutoff:1e9})}function g(e,t){return i.truncatedLatexLabel(e.statistics[t],{zeroCutoff:1e-15,digits:4,smallCutoff:1e-6,bigCutoff:1e9})}t.default=u,t.getRoundedParam=p,t.getRoundedStat=g})),i("lib/underscore-shim",["require","exports","underscore_model"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UnderscoreModelShim=void 0;var r=function(){function e(){this.model=new n.UnderscoreModel}return e.prototype.triggerEvent=function(e,t){this.model.triggerEvent(e,t)},e.prototype.observeEvent=function(e,t){this.model.observeEvent(e,t)},e.prototype.unobserveEvent=function(e){this.model.unobserveEvent(e)},e.prototype.setProperty=function(e,t){this[e]=t,this.model.setProperty(e,t)},e.prototype.observe=function(e,t){this.model.observe(e,t)},e.prototype.observeAndSync=function(e,t){this.model.observeAndSync(e,t)},e.prototype.unobserve=function(e){this.model.unobserve(e)},e}();t.UnderscoreModelShim=r})),i("dcgview-helpers/dragdrop",["require","exports","tslib","underscore","jquery","lib/underscore-shim"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.DragDrop=void 0;var a=function(e){function t(){var t=e.call(this)||this;return t.dragging=!1,t.guid=r.uniqueId("dragdrop-class"),t}return n.__extends(t,e),t.prototype._evt2pt=function(e){return{x:e.changedTouches[0].pageX-this._offsetPt.x,y:e.changedTouches[0].pageY-this._offsetPt.y}},t.prototype._dispatch=function(e,t){if(!this._destroyed){var n=this._evt2pt(t);this.triggerEvent(e,{x:n.x,y:n.y,dx:n.x-this._startPt.x,dy:n.y-this._startPt.y,evt:t})}},t.prototype.destroy=function(){i(document).off("."+this.guid),this._destroyed=!0},t.prototype.startDrag=function(e,t){var n=this;if(void 0===t&&(t={}),!this.dragging)return i(document).on("dcg-tapmove."+this.guid,(function(e){(e.originalEvent||e).preventDefault(),cancelAnimationFrame(n.frameThrottle),n.frameThrottle=requestAnimationFrame((function(){return n.doDrag(e)}))})),i(document).on("dcg-tapend."+this.guid+" dcg-tapcancel."+this.guid,(function(e){return n.endDrag(e)})),this._offsetPt={x:0,y:0},t.origin&&(this._offsetPt={x:this._evt2pt(e).x-t.origin.x,y:this._evt2pt(e).y-t.origin.y}),this._startPt=this._evt2pt(e),this.setProperty("dragging",!0),this._dispatch("onGrab",e)},t.prototype.doDrag=function(e){this.dragging&&this._dispatch("onDrag",e)},t.prototype.endDrag=function(e){this.dragging&&(i(document).off("."+this.guid),this.doDrag(e),this.setProperty("dragging",!1),this._dispatch("onDrop",e))},t}(o.UnderscoreModelShim);t.DragDrop=a})),i("loadcss!dcgview-helpers/slider",(function(){})),i("dcgview-helpers/slider",["require","exports","lib/rounding","tslib","keys","dcgview","jquery","lib/conditional_blur","./dragdrop","loadcss!./slider"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0});var l=o.Components.If;function d(e,t,n){return Math.min(Math.max(e,t),n)}var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-slider-interior":!0,"dcg-disable-slider":e.shouldDisableSlider()}},didMount:this.bindFn(this.didMountRoot),onTapStart:this.bindFn(this.onStartDrag),style:o.const({"touch-action":"none"})},o.createElement("div",{class:o.const("dcg-track")},o.createElement("div",{class:o.const("dcg-ticks"),onMount:this.bindFn(this.didMountTickMarks)}),o.createElement("div",{class:o.const("dcg-graphic")})),o.createElement(l,{predicate:this.bindFn(this.shouldShowZeroMarker)},(function(){return o.createElement("div",{class:o.const("dcg-zeroMarker"),style:function(){return{left:e.getZeroMarkerPercent()+"%"}}})})),o.createElement("div",{class:function(){return{"dcg-thumb":!0,"dcg-down":e.isDragging}},role:o.const("slider"),tabindex:o.const("0"),disablescroll:o.const("true"),style:function(){return{left:e.getThumbPercent()+"%"}},onKeyDown:this.bindFn(this.onKeyDown),"aria-label":this.props.ariaLabel,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":this.props.value,manageFocus:this.buildFocusManager()},o.createElement("div",{class:o.const("dcg-graphic")}),o.createElement("div",{class:o.const("dcg-center")})))},t.prototype.willUnmount=function(){this.dragDrop.destroy()},t.prototype.didMountRoot=function(e){var t=this;this.rootNode=e,this.dragDrop=new c.DragDrop,this.isMounted=!0,this.dragDrop.observeEvent("onDrop",(function(){t.isDragging=!1,t.update(),t.props.onDrop&&t.props.onDrop()})),this.dragDrop.observeEvent("onGrab",(function(){t.isDragging=!0,t.update(),t.props.onGrab&&t.props.onGrab()})),this.dragDrop.observeEvent("onDrag",(function(e,n){t.props.onDragUpdate(t.valueFromPixels(n.x))}))},t.prototype.didMountTickMarks=function(e){this.tickMarksNode=e,this.renderTickMarks()},t.prototype.didUpdate=function(){this.renderTickMarks()},t.prototype.shouldDisableSlider=function(){return this.props.min()===this.props.max()},t.prototype.renderTickMarks=function(){if(this.tickMarksNode){var e,t=this.props.step(),n=this.props.min(),r=this.props.max();if((e=void 0===t?0:100*t/(r-n))<3&&(e=0),e>100&&(e=0),isNaN(e)&&(e=0),this.lastTickMarksPercent!==e){this.lastTickMarksPercent=e;var i="";if(e>0&&e<100)for(var o=e;o<100;o+=e)i+='<div class="dcg-tick" style="left:'+o+'%"></div>';this.tickMarksNode.innerHTML=i}}},t.prototype.shouldShowZeroMarker=function(){return this.props.min()<=0&&this.props.max()>=0},t.prototype.getZeroMarkerPercent=function(){var e=this.props.min();return 100*(0-e)/(this.props.max()-e)},t.prototype.getThumbPercent=function(){return 100*this.percentFromValue(this.props.value())},t.prototype.valueFromPixels=function(e){if(!this.isMounted)return 0;var t=this.props.min(),r=this.props.max(),i=this.rootNode.getBoundingClientRect().width,o=t+(r-t)*d(e/i,0,1),a=(r-t)/i;return n.shortestDecimalBetween(o-a,o+a)},t.prototype.percentFromValue=function(e){var t=this.props.min();return d((e-t)/(this.props.max()-t),0,1)},t.prototype.pixelsFromValue=function(e){if(!this.isMounted)return 0;var t=this.percentFromValue(e);return this.rootNode.getBoundingClientRect().width*t},t.prototype.onKeyDown=function(e){switch(i.lookup(e)){case i.UP:this.props.onUpPress&&(this.props.onUpPress(),e.preventDefault());break;case i.DOWN:this.props.onDownPress&&(this.props.onDownPress(),e.preventDefault());break;case i.ENTER:this.props.onEnterPress&&(this.props.onEnterPress(),e.preventDefault());break;case i.ESCAPE:document.activeElement&&a(document.activeElement).trigger("blur");break;case i.LEFT:this.props.onKeyboardUpdate("down"),e.preventDefault();break;case i.RIGHT:this.props.onKeyboardUpdate("up"),e.preventDefault();break;case i.PAGEDOWN:this.props.onKeyboardUpdate("bigdown"),e.preventDefault();break;case i.PAGEUP:this.props.onKeyboardUpdate("bigup"),e.preventDefault();break;case i.HOME:this.props.onKeyboardUpdate("min"),e.preventDefault();break;case i.END:this.props.onKeyboardUpdate("max"),e.preventDefault()}},t.prototype.onStartDrag=function(e){if("keyboard"!==e.device&&e.target){e.preventDefault(),s.default();var t={x:0,y:0};1===a(e.target).closest(".dcg-thumb").length?t.x=this.pixelsFromValue(this.props.value()):t.x=e.changedTouches[0].clientX-this.rootNode.getBoundingClientRect().left,this.dragDrop.startDrag(e,{origin:t})}},t.prototype.buildFocusManager=function(){return this.props.onFocusedChanged&&this.props.isFocused?this.const({shouldBeFocused:this.props.isFocused,onFocusedChanged:this.props.onFocusedChanged}):this.const(void 0)},t}(o.Class);t.default=u})),i("expressions/slider_limits_view",["require","exports","tslib","jquery","dcgview","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","keys","graphing-calc/models/expression","core/lib/label","core/types/slider-loop-modes","main/mathquill-operators","../shared-components/mathquill-braille-wrapper","./expression_view"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g){Object.defineProperty(t,"__esModule",{value:!0});var h=i.Components.If,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-slider_menu dcg-mq-underline-container dcg-do-blur"),handleEvent:i.const("true"),didMount:function(t){return e.node=t}},i.createElement("div",{class:i.const("dcg-editable-mathquill-container")},i.createElement(h,{predicate:function(){return!e.shouldOnlyShowStep()}},(function(){return i.createElement("span",null,i.createElement(p.default,n.__assign({latex:function(){return e.model.slider.hardMin?e.model.slider.min:""},ariaLabel:function(){return e.controller.raw("sldrmin")},brailleShouldFocus:function(){return"min"===e.getFocusedInput()},onBrailleInput:function(t){return e.handleLatexChanged("min",t)},hasError:function(){return!c.isSliderMinValid(e.model)},onBrailleFocusedChanged:function(t,n){return e.handleFocusedChanged("min",t,n)},onBrailleKeydown:function(t){return e.handleBrailleKeydown("min",t)},selectOnFocus:e.const(!0),dataDCGLimit:e.const("slidermin")},g.getBrailleWrapperProps(e.props.controller())),i.createElement(a.default,{latex:function(){return e.model.slider.hardMin?e.model.slider.min:""},isFocused:function(){return"min"===e.getFocusedInput()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-slider-minimum")},getAriaPostLabel:e.const(""),hasError:e.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey("min",t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged("min",t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t,n){return e.handleFocusedChanged("min",t,n)},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},i.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":"min"===e.getFocusedInput(),"dcg-invalid":!c.isSliderMinValid(e.model)}},"data-dcg-limit":i.const("slidermin")}))),i.createElement("span",{class:i.const("dcg-interval-interior")},i.createElement(o.default,{latex:e.bindFn(e.getDependentLatex),config:e.const({})},i.createElement("span",null))),i.createElement(p.default,n.__assign({latex:function(){return e.model.slider.hardMax?e.model.slider.max:""},ariaLabel:function(){return e.controller.raw("sldrmax")},brailleShouldFocus:function(){return"max"===e.getFocusedInput()},onBrailleInput:function(t){return e.handleLatexChanged("max",t)},hasError:function(){return!c.isSliderMaxValid(e.model)},onBrailleFocusedChanged:function(t,n){return e.handleFocusedChanged("max",t,n)},onBrailleKeydown:function(t){return e.handleBrailleKeydown("max",t)},selectOnFocus:e.const(!0),dataDCGLimit:e.const("slidermax")},g.getBrailleWrapperProps(e.props.controller())),i.createElement(a.default,{latex:function(){return e.model.slider.hardMax?e.model.slider.max:""},isFocused:function(){return"max"===e.getFocusedInput()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-slider-maximum")},getAriaPostLabel:e.const(""),hasError:e.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey("max",t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged("max",t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t,n){return e.handleFocusedChanged("max",t,n)},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},i.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":"max"===e.getFocusedInput(),"dcg-invalid":!c.isSliderMaxValid(e.model)}},"data-dcg-limit":i.const("slidermax")}))))})),i.createElement("span",{class:function(){return{"dcg-slider-step-container":!e.shouldOnlyShowStep()}}},i.createElement("span",{class:i.const("dcg-slider-step-label"),"aria-hidden":i.const("true")},(function(){return e.controller.s("graphing-calculator-label-slider-step")})),i.createElement(p.default,n.__assign({latex:function(){return e.model.slider.step},ariaLabel:function(){return e.controller.raw("sldrstp")},brailleShouldFocus:function(){return"step"===e.getFocusedInput()},onBrailleInput:function(t){return e.handleLatexChanged("step",t)},hasError:function(){return!c.isSliderStepValid(e.model)},onBrailleFocusedChanged:function(t,n){return e.handleFocusedChanged("step",t,n)},onBrailleKeydown:function(t){return e.handleBrailleKeydown("step",t)},selectOnFocus:this.const(!0),dataDCGLimit:this.const("sliderstep")},g.getBrailleWrapperProps(this.props.controller())),i.createElement(a.default,{latex:function(){return e.model.slider.step},isFocused:function(){return"step"===e.getFocusedInput()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.bindFn(this.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-slider-step")},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey("step",t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged("step",t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t,n){return e.handleFocusedChanged("step",t,n)},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},i.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":"step"===e.getFocusedInput(),"dcg-invalid":!c.isSliderStepValid(e.model)}},"data-dcg-limit":i.const("sliderstep")}))))))},t.prototype.handleBrailleKeydown=function(e,t){var n=s.lookup(t);n&&this.handlePressedKey(e,n,t)},t.prototype.handlePressedKey=function(e,t,n){if(this.controller.isInEditListMode()||this.shouldOnlyShowStep()||"Esc"!==t&&"Enter"!==t){var i=a.default.getFocusedMathquill(),o=p.getFocusedBrailleElement();"Left"!==t&&"Right"!==t&&"Down"!==t&&"Up"!==t?i&&(i.keystroke(t,n),this.handleLatexChanged(e,i.latex())):(i?a.default.applyArrowKeyAndReturnIfWasAtBounds(i,t,n):o&&(0===o.selectionStart&&"Left"===t||o.selectionStart===r(o).val().length&&"Right"===t||"Up"===t||"Down"===t))&&(n&&n.preventDefault(),"Left"!==t||this.shouldOnlyShowStep()?"Right"!==t||this.shouldOnlyShowStep()?"Down"===t?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):"Up"===t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}}):"min"===e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"max"}}):"max"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"step"}}):"max"===e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"min"}}):"step"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"max"}}))}else this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.id}})},t.prototype.shouldOnlyShowStep=function(){return this.model.slider.loopMode===d.SliderLoopMode.PLAY_INDEFINITELY},t.prototype.handleLatexChanged=function(e,t){"min"===e?this.dispatchMinLatexIfChanged(t):"max"===e?this.dispatchMaxLatexIfChanged(t):"step"===e&&this.dispatchStepLatexIfChanged(t)},t.prototype.handleFocusedChanged=function(e,t,n){t&&this.getFocusedInput()!==e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:e}}):this.getFocusedInput()!==e||"none"!==this.controller.getBrailleMode()||n.relatedTarget&&this.node.contains(n.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"slider-limit",id:this.id,location:e}})},t.prototype.dispatchMinLatexIfChanged=function(e){this.model.slider.min!==e&&this.controller.dispatch({type:"set-slider-minlatex",id:this.id,latex:e})},t.prototype.dispatchMaxLatexIfChanged=function(e){this.model.slider.max!==e&&this.controller.dispatch({type:"set-slider-maxlatex",id:this.id,latex:e})},t.prototype.dispatchStepLatexIfChanged=function(e){this.model.slider.step!==e&&this.controller.dispatch({type:"set-slider-steplatex",id:this.id,latex:e})},t.prototype.getDependentLatex=function(){var e=c.getAssignment(this.model)||"";return" \\le "+l.identifierToLatex(e)+" \\le "},t.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"slider-limit"===e.type&&e.id===this.id)return e.location},t.prototype.getMQConfig=function(){return{autoOperatorNames:u.getAutoOperators()}},t}(i.Class);t.default=f})),i("loadcss!expressions/slider-view",(function(){})),i("expressions/slider_view",["require","exports","tslib","jquery","keys","dcgview","dcgview-helpers/slider","./slider_limits_view","dcgview-helpers/static-mathquill-view","graphing-calc/models/expression","core/types/slider-loop-modes","loadcss!./slider-view"],(function(e,t,n,r,i,o,a,s,c,l,d){Object.defineProperty(t,"__esModule",{value:!0});var u=o.Components.If,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return o.createElement("span",{class:o.const("dcg-slider-container"),tapboundary:o.const("true"),onKeydown:function(t){"Tab"!==i.lookup(t)||t.altKey||t.metaKey||t.ctrlKey||(t.shiftKey?e.isSliderMinFocused()&&e.controller.isInEditListMode()?(null!==t.target&&r(t.target).closest(".dcg-expressionitem").find('[tabindex="0"]:visible:first').trigger("focus"),t.preventDefault(),t.stopPropagation()):e.isSliderThumbFocused()&&(e.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:e.id,location:"step"}}),t.preventDefault(),t.stopPropagation()):!t.shiftKey&&e.isSliderStepFocused()&&(e.controller.isInEditListMode()?e.controller.dispatch({type:"set-focus-location",location:{type:"slider-icon",id:e.id}}):e.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:e.id}}),t.preventDefault(),t.stopPropagation()))}},o.createElement(u,{predicate:function(){return e.shouldShowSlider()}},(function(){return o.createElement("div",{class:o.const("dcg-do-blur dcg-slider"),handleEvent:o.const("true")},o.createElement("div",{class:o.const("dcg-minLabel dcg-template-minlabelhtml"),role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-slider-variable-limits",{variable:"none"===e.controller.getBrailleMode()?'"'+l.getAssignment(e.model)+'"':""+l.getAssignment(e.model)})},onTap:function(){return e.onEditLimit("min")}},o.createElement(c.default,{latex:function(){return l.getDisplaySliderMin(e.model)},config:e.const({})})),o.createElement(a.default,{min:function(){return l.getSliderMin(e.model)},max:function(){return l.getSliderMax(e.model)},step:function(){return l.getSliderStep(e.model)},value:function(){return l.getSliderValue(e.model)},ariaLabel:function(){return"none"===e.controller.getBrailleMode()?'"'+l.getAssignment(e.model)+'"':""+l.getAssignment(e.model)},onGrab:e.bindFn(e.onGrab),onDrop:e.bindFn(e.onDrop),onDragUpdate:e.bindFn(e.onDragUpdate),onKeyboardUpdate:e.bindFn(e.onKeyboardUpdate),onUpPress:function(){return e.controller.dispatch({type:"on-special-key-pressed",key:"Up"})},onDownPress:function(){return e.controller.dispatch({type:"on-special-key-pressed",key:"Down"})},onEnterPress:function(){return e.controller.dispatch({type:"on-special-key-pressed",key:"Enter"})},isFocused:e.bindFn(e.isSliderThumbFocused),onFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:e.id}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"slider-thumb",id:e.id}})}}),o.createElement("div",{class:o.const("dcg-maxLabel dcg-template-maxlabelhtml"),onTap:function(){return e.onEditLimit("max")}},o.createElement(c.default,{latex:function(){return l.getDisplaySliderMax(e.model)},config:e.const({})})))})),o.createElement(u,{predicate:function(){return e.shouldShowLimitInputs()}},(function(){return o.createElement(s.default,{model:e.props.model,controller:e.props.controller})})))},t.prototype.onGrab=function(){this.dispatchIsDraggingIfChanged(!0)},t.prototype.onDrop=function(){this.controller.dispatch({type:"set-none-selected"}),this.dispatchIsPlayingIfChanged(!1),this.dispatchIsDraggingIfChanged(!1)},t.prototype.onKeyboardUpdate=function(e){this.controller.dispatch({type:"adjust-slider-by-keyboard",id:this.id,adjustment:e})},t.prototype.onDragUpdate=function(e){this.controller.dispatch({type:"adjust-slider-by-dragging-thumb",id:this.model.id,target:e})},t.prototype.onEditLimit=function(e){this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:e}})},t.prototype.dispatchIsPlayingIfChanged=function(e){this.model.slider.isPlaying!==e&&this.controller.dispatch({type:"set-slider-isplaying",id:this.id,isPlaying:e})},t.prototype.dispatchIsDraggingIfChanged=function(e){this.model.sliderDragging!==e&&this.controller.dispatch({type:"set-slider-dragging",id:this.id,dragging:e})},t.prototype.shouldShowLimitInputs=function(){if(this.controller.isInEditListMode())return!0;if(!l.isSliderMinValid(this.model))return!0;if(!l.isSliderMaxValid(this.model))return!0;if(!l.isSliderStepValid(this.model))return!0;if(this.model.slider.loopMode===d.SliderLoopMode.PLAY_INDEFINITELY)return!0;var e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type&&"expression"!==e.type||e.id!==this.id)},t.prototype.shouldShowSlider=function(){return!this.shouldShowLimitInputs()},t.prototype.isSliderThumbFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"slider-thumb"!==e.type||e.id!==this.id)},t.prototype.isSliderMinFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type||e.id!==this.id||"min"!==e.location)},t.prototype.isSliderStepFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type||e.id!==this.id||"step"!==e.location)},t}(o.Class);t.default=p})),i("loadcss!prompt-sliders",(function(){})),i("expressions/promptslider_view",["require","exports","tslib","core/lib/label","jquery","lib/aria","dcgview","graphing-calc/models/list","graphing-calc/models/ticker","loadcss!prompt-sliders"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0});var l=a.Components,d=l.For,u=l.If,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},t.prototype.template=function(){var e=this;return a.createElement("div",{class:a.const("dcg-create-sliders dcg-action-createslider"),handleEvent:a.const("true"),onTap:this.bindFn(this.onCreateSlider)},a.createElement("span",{class:a.const("dcg-msg")},(function(){return e.controller.s("graphing-calculator-label-add-slider")})),a.createElement("span",{class:a.const("btns")},a.createElement(d,{each:function(){return e.getMissingVariables().slice(0,4)}},a.createElement("span",null,(function(t){return a.createElement("div",{class:a.const("dcg-slider-btn-container"),var_name:e.const(t)},a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),class:function(){return{"dcg-btn-slider":!0,"dcg-btn-blue":1===e.getMissingVariables().length,"dcg-btn-light-gray":1!==e.getMissingVariables().length}},didMount:function(e){e.innerHTML=r.identifierToHTML(t)}}))}))),a.createElement(u,{predicate:function(){return e.getMissingVariables().length>1}},(function(){return a.createElement("div",{class:a.const("dcg-slider-btn-container dcg-all")},a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),class:a.const("dcg-btn-slider dcg-btn-blue")},(function(){return e.controller.s("graphing-calculator-button-slider-add-all-variables")})))}))))},t.prototype.onCreateSlider=function(e){if(this.controller.dispatch({type:"set-none-selected"}),e.target){var t=i(e.target).closest(".dcg-slider-btn-container");if(t.length){var n=t.hasClass("dcg-all"),r=n?this.getMissingVariables():[t.attr("var_name")];if("ticker"===this.model.type?this.controller.dispatch({type:"create-sliders-for-ticker",variables:this.getMissingVariables()}):this.controller.dispatch({type:"create-sliders-for-item",id:this.model.id,variables:r}),"keyboard"===e.device){var o=this.model.id,a=this.props.controller().getItemSelectorById(o);if(!a)return;n?this.controller.dispatch({type:"move-focus-to-item",id:o}):a.find(".dcg-btn-blue").trigger("focus")}}}},t.prototype.getMissingVariables=function(){return"ticker"===this.model.type?c.getMissingVariables(this.model):s.getMissingVariablesForItem(this.model)},t.prototype.didMount=function(){var e=this;this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout),this.promptAlertTimeout=setTimeout((function(){for(var t=[],n=e.getMissingVariables(),r=0;r<n.length;r++)t.push('"'+n[r]+'"');o.alert(e.controller.s("graphing-calculator-narration-add-slider-prompt",{vars:t.join(",")})),e.promptAlertTimeout=0}),2e3)},t.prototype.didUnmount=function(){this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout)},t}(a.Class);t.default=p})),i("loadcss!expressions/label_view",(function(){})),i("loadcss!toggle",(function(){})),i("expressions/label_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","core/graphing-calc/json/expression","loadcss!./label_view","loadcss!toggle"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0});var a=r.Components,s=a.Input,c=a.IfElse,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:function(){return{"dcg-label-visible":e.getShowLabel(),"dcg-label-container":!0,"dcg-do-blur":!0}},tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement("span",{role:r.const("checkbox"),"aria-checked":this.bindFn(this.getShowLabel),tabindex:r.const("0"),class:function(){return{"dcg-checkbox":!0,"dcg-checkbox-label-colon":e.getShowLabel()&&!e.hasEditableLabel()}},"aria-label":function(){return e.controller.s("graphing-calculator-button-label")},onTap:this.bindFn(this.onCheckboxInput)},r.createElement("span",{class:function(){return{"dcg-checkbox-box":!0,"dcg-checked":e.getShowLabel()}}},r.createElement("i",{class:r.const("dcg-icon-check")})),r.const(" "),r.createElement("span",{class:r.const("dcg-checkbox-label"),"aria-hidden":r.const("true")},(function(){return e.controller.s("graphing-calculator-button-label")}))),c(this.bindFn(this.hasEditableLabel),{true:function(){return r.createElement("div",{class:r.const("dcg-editable-mode-toggle")},r.createElement("div",{class:r.const("dcg-option-toggle-view")},r.createElement("div",{class:r.const("dcg-toggle-container")},r.createElement("div",{class:r.const("dcg-toggle")},r.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.model.editableLabelMode===o.EditableLabelMode.Math}},role:r.const("button"),tabindex:r.const(0),"aria-pressed":function(){return e.model.editableLabelMode===o.EditableLabelMode.Math},"aria-label":function(){return e.controller.s("graphing-calculator-narration-editable-label-mode-editable-math")},didMount:function(t){void 0!==e.lastToggleOption&&"math"===e.lastToggleOption&&(e.lastToggleOption=void 0,t.focus())},onTap:function(){e.lastToggleOption="Editable Math",e.controller.dispatch({type:"set-item-editable-label-mode",id:e.id,editableLabelMode:o.EditableLabelMode.Math})}},(function(){return e.controller.s("graphing-calculator-button-editable-math")})),r.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.model.editableLabelMode===o.EditableLabelMode.Text}},role:r.const("button"),tabindex:r.const(0),"aria-pressed":function(){return e.model.editableLabelMode===o.EditableLabelMode.Text},"aria-label":function(){return e.controller.s("graphing-calculator-narration-editable-label-mode-editable-text")},didMount:function(t){void 0!==e.lastToggleOption&&"text"===e.lastToggleOption&&(e.lastToggleOption=void 0,t.focus())},onTap:function(){e.lastToggleOption="Editable Text",e.controller.dispatch({type:"set-item-editable-label-mode",id:e.id,editableLabelMode:o.EditableLabelMode.Text})}},(function(){return e.controller.s("graphing-calculator-button-editable-text")}))))))},false:function(){return r.createElement(s,{class:function(){return{"dcg-label-input":!0,"dcg-disabled-input":e.getIsDisabled(),"dcg-disabled-editable-input":e.hasEditableLabel()}},"aria-label":function(){return e.controller.s("graphing-calculator-narration-label-text")},"aria-disabled":function(){return e.getIsDisabled()||e.hasEditableLabel()},value:e.bindFn(e.getLabel),onInput:e.bindFn(e.onLabelInput)})}}))},t.prototype.getLabel=function(){return this.model.label||""},t.prototype.hasEditableLabel=function(){return i.hasEditableLabel(this.model)},t.prototype.getShowLabel=function(){return!!this.model.showLabel},t.prototype.getIsDisabled=function(){return 0===this.getLabel().length&&!this.getShowLabel()},t.prototype.onLabelInput=function(e){var t=e;this.controller.dispatch({type:"set-item-label",id:this.id,label:t}),this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!!t})},t.prototype.onCheckboxInput=function(){this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!this.getShowLabel()})},t}(r.Class);t.default=l})),i("loadcss!dcgview-helpers/checkbox",(function(){})),i("dcgview-helpers/checkbox",["require","exports","tslib","dcgview","jquery","loadcss!./checkbox"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-component-checkbox":!0,"dcg-checked":e.props.checked(),"dcg-disabled":e.props.disabled&&e.props.disabled(),"dcg-small":e.props.small&&e.props.small(),"dcg-green":e.props.green&&e.props.green()}},onTap:this.bindFn(this.onChange)},r.createElement("span",{tabindex:r.const(0),class:r.const("dcg-checkbox"),role:r.const("checkbox"),"aria-label":this.props.ariaLabel,"aria-disabled":function(){return e.props.disabled&&e.props.disabled()},"aria-checked":this.props.checked},r.createElement("i",{class:r.const("dcg-icon-check"),"aria-hidden":r.const("true")})),r.createElement("span",{class:r.const("dcg-checkbox-children")},this.children))},t.prototype.onChange=function(e){e.target&&i(e.target).attr("href")||this.props.disabled&&this.props.disabled()||this.props.onChange(!this.props.checked())},t}(r.Class);t.Checkbox=o})),i("loadcss!expressions/cdf-footer-view",(function(){})),i("expressions/cdf-footer-view",["require","exports","tslib","dcgview","keys","graphing-calc/models/expression","dcgview-helpers/mathquill-view","./evaluation-view","main/mathquill-operators","dcgview-helpers/checkbox","../shared-components/mathquill-braille-wrapper","./expression_view","loadcss!./cdf-footer-view"],(function(e,t,n,r,i,o,a,s,c,l,d,u){Object.defineProperty(t,"__esModule",{value:!0});var p=r.Components.If,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.focusedValues={},t}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-cdf-footer-container dcg-mq-underline-container dcg-do-blur"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement(l.Checkbox,{checked:function(){return o.shouldShowCDFFooter(e.model)},disabled:function(){return o.isListValuedDistribution(e.model)},onChange:function(t){e.controller.dispatch({type:"set-show-cdf",id:e.model.id,showCDF:t})},ariaLabel:function(){return e.controller.s("graphing-calculator-button-find-cdf")}},(function(){return e.controller.s("graphing-calculator-button-find-cdf")})),r.createElement(p,{predicate:function(){return o.shouldShowCDFFooter(e.model)}},(function(){return r.createElement("div",null,r.createElement("span",{class:r.const("dcg-cdf-limit-name")},(function(){return e.controller.s("graphing-calculator-label-cdf-minimum")})),r.createElement(d.default,n.__assign({latex:function(){return o.getCDFMin(e.model)},hasError:function(){return!o.isCDFMinValid(e.model)},brailleShouldFocus:function(){return e.isInputFocused("min")},onBrailleFocusedChanged:function(t){return e.handleFocusedChanged("min",t)},ariaLabel:function(){return e.controller.s("graphing-calculator-narration-cdf-minimum")},placeholder:function(){return o.getCDFMinPlaceholder(e.model)},onBrailleInput:e.bindFn(e.updateCDFMin),onBrailleKeydown:function(t){return e.handleBraillePressedKey(t,"min")}},u.getBrailleWrapperProps(e.props.controller())),r.createElement(a.default,{latex:function(){return o.getCDFMin(e.model)},hasError:function(){return!o.isCDFMinValid(e.model)},isFocused:function(){return e.isInputFocused("min")},onFocusedChanged:function(t){return e.handleFocusedChanged("min",t)},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-cdf-minimum")},getAriaPostLabel:function(){return""},placeholder:function(){return o.getCDFMinPlaceholder(e.model)},onUserPressedKey:function(t,n){return e.handlePressedKey(t,n,"min")},onUserChangedLatex:e.bindFn(e.updateCDFMin),onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return e.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}})),r.createElement("span",{class:r.const("dcg-cdf-limit-name")},(function(){return e.controller.s("graphing-calculator-label-cdf-maximum")})),r.createElement(d.default,n.__assign({latex:function(){return o.getCDFMax(e.model)},hasError:function(){return!o.isCDFMaxValid(e.model)},brailleShouldFocus:function(){return e.isInputFocused("max")},onBrailleFocusedChanged:function(t){return e.handleFocusedChanged("max",t)},ariaLabel:function(){return e.controller.s("graphing-calculator-narration-cdf-maximum")},placeholder:function(){return o.getCDFMaxPlaceholder(e.model)},onBrailleInput:e.bindFn(e.updateCDFMax),onBrailleKeydown:function(t){return e.handleBraillePressedKey(t,"max")}},u.getBrailleWrapperProps(e.props.controller())),r.createElement(a.default,{latex:function(){return o.getCDFMax(e.model)},hasError:function(){return!o.isCDFMaxValid(e.model)},isFocused:function(){return e.isInputFocused("max")},onFocusedChanged:function(t){return e.handleFocusedChanged("max",t)},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-cdf-maximum")},getAriaPostLabel:function(){return""},placeholder:function(){return o.getCDFMaxPlaceholder(e.model)},onUserPressedKey:function(t,n){return e.handlePressedKey(t,n,"max")},onUserChangedLatex:e.bindFn(e.updateCDFMax),onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return e.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}})),r.createElement(p,{predicate:e.bindFn(e.showEvaluation)},(function(){return r.createElement("div",{class:r.const("dcg-cdf-evaluation-container")},r.createElement(s.default,{val:function(){return o.getCDFEvaluation(e.model)},controller:e.props.controller,dependent:e.const(""),id:function(){return e.model.id},focusable:e.const(!0)}))})))})))},t.prototype.handleBraillePressedKey=function(e,t){var n=i.lookup(e);n&&this.handlePressedKey(n,e,t)},t.prototype.handlePressedKey=function(e,t,n){if("Esc"!==e){if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var r=a.default.getFocusedMathquill();r&&(r.keystroke(e,t),"min"===n&&o.getCDFMin(this.model)!==r.latex()&&this.updateCDFMin(r.latex()),"max"===n&&o.getCDFMax(this.model)!==r.latex()&&this.updateCDFMax(r.latex()))}else this.controller.dispatch({type:"set-focus-location",location:void 0})},t.prototype.updateCDFMax=function(e){this.controller.dispatch({type:"set-cdf-max",id:this.model.id,latex:e})},t.prototype.updateCDFMin=function(e){this.controller.dispatch({type:"set-cdf-min",id:this.model.id,latex:e})},t.prototype.showEvaluation=function(){return!!o.isCDFMaxValid(this.model)&&!!o.isCDFMinValid(this.model)},t.prototype.isInputFocused=function(e){var t=this.controller.getFocusLocation();return!(!t||"cdf-limit"!==t.type||t.id!==this.id)&&t.location===e},t.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"cdf-limit",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"cdf-limit",id:this.id,location:e}})},t.prototype.getMQConfig=function(){return{autoOperatorNames:c.getAutoOperators({})}},t}(r.Class);t.default=g})),i("loadcss!expressions/parameter_suggestions_view",(function(){})),i("expressions/parameters_suggestions_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","loadcss!./parameter_suggestions_view"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ParametersSuggestionsView=void 0;var o=r.Components,a=o.If,s=o.For,c=o.SwitchUnion,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return c(this.bindFn(this.getSuggestionType),{list:function(){return r.createElement(s,{each:e.bindFn(e.getListOfParameters)},r.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":"none"!==e.controller.getBrailleMode()}}},(function(t){return r.createElement("span",{class:r.const("dcg-parameter-name")},(function(){return e.getParamName(t)}))})))},listWithDefault:function(){return r.createElement(s,{each:e.bindFn(e.getListOfParameters)},r.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":"none"!==e.controller.getBrailleMode()}},onTap:e.bindFn(e.fillInDefaults)},(function(t){return r.createElement("span",{class:r.const("dcg-parameter-name")},(function(){return e.getParamName(t)}),r.createElement(a,{predicate:function(){return e.shouldShowDefaultValue(t)}},(function(){return r.createElement("span",{class:r.const("dcg-default-marker")},r.const("= "),(function(){return e.getDefaultValue(t)}))})))})))},individual:function(){return r.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":"none"!==e.controller.getBrailleMode()}}},e.bindFn(e.getMissingRequiredParamText))},none:function(){}})},t.prototype.getExtractedAndDefaultArgString=function(e){var t=e.params,n=e.values,r=e.defaults;return t.map((function(e,t){var i=n[e],o=r[t];return i||o||""})).join(",")},t.prototype.fillInDefaults=function(){var e=i.parseToplevelFunction(this.model);if(e){var t=e.symbol,n=e.span,r=n.input,o=n.start,a=n.end,s="\\operatorname{"+t+"}\\left("+this.getExtractedAndDefaultArgString(e)+"\\right)",c=""+r.slice(0,o)+s+r.slice(a);this.controller.dispatch({type:"set-item-latex",id:this.id,latex:c}),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}),this.controller.dispatch({type:"keypad/press-key",key:"Left"})}},t.prototype.isMissingDefault=function(){if(!i.isPrimaryLatexValid(this.model))return!1;var e=i.parseToplevelFunction(this.model);if(!e)return!1;for(var t=0;t<e.params.length;t++)if(this.shouldShowDefaultValue(e.params[t]))return!0;return!1},t.prototype.getSuggestionType=function(){return this.getListOfParameters().length>1?this.isMissingDefault()?"listWithDefault":"list":this.missingRequiredParam()?"individual":"none"},t.prototype.missingRequiredParam=function(){var e=i.parseToplevelFunction(this.model);if(e&&1===e.params.length){var t=e.params[0];if(!this.getDefaultValue(t)&&!this.getParameterExtractedValue(t))return t}},t.prototype.getMissingRequiredParamText=function(){var e=this.missingRequiredParam();return e?this.controller.s("graphing-calculator-text-enter-pareneter",{param:this.getParamName(e)}):""},t.prototype.getDefaultValue=function(e){var t=i.parseToplevelFunction(this.model);if(!t||!t.params)return"";for(var n=0;n<t.params.length;n++)if(t.params[n]===e)return t.defaults[n]||"";return""},t.prototype.getParameterExtractedValue=function(e){var t=i.parseToplevelFunction(this.model);return t&&t.values[e]||""},t.prototype.shouldShowDefaultValue=function(e){return!this.getParameterExtractedValue(e)&&!!this.getDefaultValue(e)},t.prototype.getListOfParameters=function(){var e=i.parseToplevelFunction(this.model);return e?e.params:[]},t.prototype.getParamName=function(e){switch(e){case"mean":return this.controller.s("graphing-calculator-text-parameter-name-mean");case"stdev":return this.controller.s("graphing-calculator-text-parameter-name-stddev");case"dof":return this.controller.s("graphing-calculator-text-parameter-name-dof");case"probsuccess":return this.controller.s("graphing-calculator-text-parameter-name-probsuccess");case"trials":return this.controller.s("graphing-calculator-text-parameter-name-trials");case"data":return this.controller.s("graphing-calculator-text-parameter-name-data");case"binwidth":return this.controller.s("graphing-calculator-text-parameter-name-binwidth");case"min":return this.controller.s("graphing-calculator-text-parameter-name-min");case"max":return this.controller.s("graphing-calculator-text-parameter-name-max");case"height":return this.controller.s("graphing-calculator-text-parameter-name-height");case"offset":return this.controller.s("graphing-calculator-text-parameter-name-offset");default:return e}},t}(r.Class);t.ParametersSuggestionsView=l})),i("loadcss!expressions/distribution_parameters_view",(function(){})),i("expressions/distribution_parameters_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","expressions/cdf-footer-view","./parameters_suggestions_view","loadcss!./distribution_parameters_view"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=r.Components.If,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-distribution-parameters-container dcg-mq-underline-container dcg-do-blur"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement(a.ParametersSuggestionsView,{model:this.props.model,controller:this.props.controller}),r.createElement(s,{predicate:function(){return i.shouldShowCDFCheckbox(e.model)}},(function(){return r.createElement(o.default,{model:e.props.model,controller:e.props.controller})})))},t}(r.Class);t.default=c})),i("loadcss!expressions/visualization_parameters_view",(function(){})),i("expressions/visualization_parameters_view",["require","exports","tslib","dcgview","keys","graphing-calc/models/expression","dcgview-helpers/checkbox","dcgview-helpers/mathquill-view","./parameters_suggestions_view","main/mathquill-operators","../shared-components/mathquill-braille-wrapper","./expression_view","loadcss!./visualization_parameters_view","loadcss!toggle"],(function(e,t,n,r,i,o,a,s,c,l,d,u){Object.defineProperty(t,"__esModule",{value:!0});var p=r.Components.For,g=r.Components,h=g.SwitchUnion,f=g.If,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-toggle-container")},r.createElement("div",{class:r.const("dcg-expression-footer-title")},this.props.title,r.createElement(f,{predicate:function(){return!!e.props.helpLink}},(function(){return r.createElement("a",{"aria-label":function(){return e.props.controller().s("account-shell-link-help")},class:r.const("dcg-expression-footer-title-help"),target:r.const("_blank"),href:e.props.helpLink},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))}))),r.createElement(p,{each:this.props.options,key:function(e){return e.name}},r.createElement("div",{class:r.const("dcg-toggle")},(function(t){return r.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.isSelected(t.name)}},role:r.const("button"),tabindex:r.const(0),"aria-label":function(){return e.props.title()+": "+t.displayName},"aria-pressed":function(){return e.isSelected(t.name)},onTap:function(){return e.props.controller().dispatch({type:"set-visualization-prop",id:e.props.model().id,prop:e.props.vizProp(),value:t.name})}},(function(){return t.displayName}))}))))},t.prototype.isSelected=function(e){return o.getVizProp(this.props.model(),this.props.vizProp())===e},t}(r.Class),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-visualization-parameters-container dcg-mq-underline-container dcg-do-blur"),tapboundary:r.const("true"),handleEvent:r.const("true")},r.createElement(c.ParametersSuggestionsView,n.__assign({},this.props)),r.createElement("div",{class:r.const("dcg-smaller-font")},h((function(){return e.getVisualizationType()}),{boxplot:function(){return r.createElement("div",null,r.createElement("div",{class:r.const("dcg-expression-footer-title")},(function(){return e.controller.s("graphing-calculator-heading-visual-parameters-display-properties")})),e.makeMQInput({prop:"axisOffset",siblingProps:["breadth"],default:"1",name:function(){return e.controller.s("graphing-calculator-narration-visual-parameters-offset")}}),e.makeMQInput({prop:"breadth",siblingProps:["axisOffset"],default:"1",name:function(){return"y"===o.getVizProp(e.model,"alignedAxis")?e.controller.s("graphing-calculator-narration-visual-parameters-width"):e.controller.s("graphing-calculator-narration-visual-parameters-height")}}),r.createElement(a.Checkbox,{checked:function(){return!!o.getVizProp(e.model,"showBoxplotOutliers")},onChange:e.bindFn(e.onToggleOutliers),ariaLabel:function(){return e.controller.s("graphing-calculator-button-visual-parameters-exclude-outliers")}},r.createElement("span",{class:r.const("dcg-parameter-name")},(function(){return e.controller.s("graphing-calculator-button-visual-parameters-exclude-outliers")}))))},dotplot:function(){return r.createElement(f,{predicate:function(){return o.needsDotplotXMode(e.model)}},(function(){return r.createElement("div",{class:r.const("dcg-toggles-container")},r.createElement(m,n.__assign({},e.props,{vizProp:function(){return"dotplotXMode"},options:function(){return[{name:"exact",displayName:e.controller.s("graphing-calculator-button-visual-parameters-exact")},{name:"bin",displayName:e.controller.s("graphing-calculator-button-visual-parameters-binned")}]},title:function(){return e.controller.s("graphing-calculator-heading-visual-parameters-x-values")}})),r.createElement(m,n.__assign({},e.props,{vizProp:function(){return"binAlignment"},options:function(){return[{name:"center",displayName:e.controller.s("graphing-calculator-button-visual-parameters-center")},{name:"left",displayName:e.controller.s("graphing-calculator-button-visual-parameters-left")}]},title:function(){return e.controller.s("graphing-calculator-heading-visual-parameters-bin-alignment")}})))}))},histogram:function(){return r.createElement("div",{class:r.const("dcg-toggles-container")},r.createElement(m,n.__assign({},e.props,{vizProp:function(){return"histogramMode"},options:function(){return[{name:"",displayName:e.controller.s("graphing-calculator-button-visual-parameters-count")},{name:"relative",displayName:e.controller.s("graphing-calculator-button-visual-parameters-relative")},{name:"density",displayName:e.controller.s("graphing-calculator-button-visual-parameters-density")}]},title:function(){return e.controller.s("graphing-calculator-heading-visual-parameters-bar-heights")},helpLink:e.const("https://help.desmos.com/hc/en-us/articles/360022405991")})),r.createElement(m,n.__assign({},e.props,{vizProp:function(){return"binAlignment"},options:function(){return[{name:"center",displayName:e.controller.s("graphing-calculator-button-visual-parameters-center")},{name:"left",displayName:e.controller.s("graphing-calculator-button-visual-parameters-left")}]},title:function(){return e.controller.s("graphing-calculator-heading-visual-parameters-bin-alignment")}})))},none:function(){return r.createElement("span",null)}})))},t.prototype.makeMQInput=function(e){var t=this;return r.createElement("span",null,r.createElement("span",{class:r.const("dcg-parameter-name")},e.name,r.const(":")),r.createElement(d.default,n.__assign({latex:function(){return t.getPropLatex(e)},ariaLabel:e.name,placeholder:function(){return e.default},brailleShouldFocus:function(){return t.isInputFocused(e.prop)},onBrailleInput:function(n){return t.handleLatexChanged(e.prop,n)},hasError:function(){return!o.isVizPropValid(t.model,e.prop)},onBrailleFocusedChanged:function(n){return t.handleFocusedChanged(e.prop,n)},onBrailleKeydown:function(n){return t.handleBraillePressedKey(n,e.prop)}},u.getBrailleWrapperProps(this.props.controller())),r.createElement(s.default,{latex:function(){return t.getPropLatex(e)},hasError:function(){return!o.isVizPropValid(t.model,e.prop)},isFocused:function(){return t.isInputFocused(e.prop)},onFocusedChanged:function(n){return t.handleFocusedChanged(e.prop,n)},placeholder:function(){return e.default},config:this.bindFn(this.getMQConfig),getAriaLabel:e.name,onUserPressedKey:function(n,r){return t.handlePressedKey(n,r,e.prop)},getAriaPostLabel:function(){return""},onUserChangedLatex:function(n){return t.handleLatexChanged(e.prop,n)},onExpressionSizeExceeded:function(){return t.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return t.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!t.controller.isKeypadEnabled()}})))},t.prototype.handleBraillePressedKey=function(e,t){var n=i.lookup(e);n&&this.handlePressedKey(n,e,t)},t.prototype.handlePressedKey=function(e,t,n){if("Esc"!==e){if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var r=s.default.getFocusedMathquill();r&&(r.keystroke(e,t),this.handleLatexChanged(n,r.latex()))}else this.controller.dispatch({type:"set-focus-location",location:void 0})},t.prototype.isInputFocused=function(e){var t=this.controller.getFocusLocation();return!(!t||"visualization-prop"!==t.type||t.id!==this.id)&&t.location===e},t.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"visualization-prop",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"visualization-prop",id:this.id,location:e}})},t.prototype.getPropLatex=function(e){var t=e.prop,n=o.getVizProp(this.model,t);return"string"==typeof n?n:""},t.prototype.handleLatexChanged=function(e,t){o.getVizProp(this.model,e)!==t&&this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:e,value:t})},t.prototype.onToggleOutliers=function(){var e=o.getVizProp(this.model,"showBoxplotOutliers");this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:"showBoxplotOutliers",value:!e})},t.prototype.getVisualizationType=function(){return o.isPrimaryLatexValid(this.model)?o.isBoxPlot(this.model)?"boxplot":o.isDotPlot(this.model)?"dotplot":o.isHistogram(this.model)?"histogram":"none":"none"},t.prototype.getMQConfig=function(){return{autoOperatorNames:l.getAutoOperators()}},t}(r.Class);t.default=y})),i("loadcss!expressions/ttest_footer_view",(function(){})),i("expressions/ttest_footer_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","core/lib/number-to-latex","dcgview-helpers/static-mathquill-view","loadcss!./ttest_footer_view"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-ttest-footer-container dcg-do-blur"),handleEvent:r.const("true")},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Less than: "+e.getLessThan()}},r.createElement("span",{class:r.const("dcg-operator")},r.createElement(a.default,{config:this.const({}),latex:this.const("<")})),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(a.default,{config:this.const({}),latex:function(){return e.getLessThan()}}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Greater than: "+e.getGreaterThan()}},r.createElement("span",{class:r.const("dcg-operator")},r.createElement(a.default,{config:this.const({}),latex:this.const(">")})),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(a.default,{config:this.const({}),latex:function(){return e.getGreaterThan()}}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Not equal: "+e.getNotEqual()}},r.createElement("span",{class:r.const("dcg-operator")},r.createElement(a.default,{config:this.const({}),latex:this.const("≠")})),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(a.default,{config:this.const({}),latex:function(){return e.getNotEqual()}})))))))},t.prototype.getLessThan=function(){var e=i.getTTestResults(this.model);return e?o.numberToStatsConfidenceLatex(e.lessThan,5):""},t.prototype.getGreaterThan=function(){var e=i.getTTestResults(this.model);return e?o.numberToStatsConfidenceLatex(e.greaterThan,5):""},t.prototype.getNotEqual=function(){var e=i.getTTestResults(this.model);return e?o.numberToStatsConfidenceLatex(e.notEqual,5):""},t}(r.Class);t.default=s})),i("loadcss!expressions/stats_footer_view",(function(){})),i("expressions/stats_footer_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","dcgview-helpers/static-mathquill-view","core/lib/number-to-latex","loadcss!./stats_footer_view"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-stats-footer-container dcg-do-blur"),handleEvent:r.const("true")},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Min: "+e.getMin()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Min")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(o.default,{config:this.const({}),latex:this.bindFn(this.getMin)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Q1: "+e.getQ1()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Q1")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(o.default,{config:this.const({}),latex:this.bindFn(this.getQ1)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Median: "+e.getMedian()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Median")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(o.default,{config:this.const({}),latex:this.bindFn(this.getMedian)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Q3: "+e.getQ3()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Q3")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(o.default,{config:this.const({}),latex:this.bindFn(this.getQ3)}))))),r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{class:r.const("dcg-value"),role:r.const("textbox"),"aria-readonly":r.const("true"),tabindex:r.const("0"),"aria-label":function(){return"Max: "+e.getMax()}},r.createElement("span",{class:r.const("dcg-row-header")},r.const("Max")),r.createElement("span",{class:r.const("dcg-evaluation")},r.createElement(o.default,{config:this.const({}),latex:this.bindFn(this.getMax)})))))))},t.prototype.getMin=function(){var e=i.getStatsResults(this.model);return e?a.numberToDecimalString(e.min):""},t.prototype.getQ1=function(){var e=i.getStatsResults(this.model);return e?a.numberToDecimalString(e.q1):""},t.prototype.getMedian=function(){var e=i.getStatsResults(this.model);return e?a.numberToDecimalString(e.median):""},t.prototype.getQ3=function(){var e=i.getStatsResults(this.model);return e?a.numberToDecimalString(e.q3):""},t.prototype.getMax=function(){var e=i.getStatsResults(this.model);return e?a.numberToDecimalString(e.max):""},t}(r.Class);t.default=s})),i("loadcss!expressions/action-info-view",(function(){})),i("expressions/action-info-view",["require","exports","tslib","dcgview","main/mathquill-operators","dcgview-helpers/static-mathquill-view","graphing-calc/models/focus","loadcss!./action-info-view"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-action-info"),handleEvent:r.const("true")},r.createElement("span",{class:r.const("dcg-action-label")},r.const("Run ")),r.createElement(o.default,{latex:function(){return e.model.clickableInfo.latex},config:this.bindFn(this.getMQConfig)}),r.createElement("span",{class:r.const("dcg-action-label")},r.const(" on click")),r.createElement("span",{class:r.const("dcg-click-edit"),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-action")},onTap:this.bindFn(this.editAction)},r.createElement("i",{class:r.const("dcg-icon-pencil")})))},t.prototype.editAction=function(){a.setFocusLocation(this.controller,{type:"expression-menu",id:this.model.id,location:"updaterule"}),"expression"===this.model.type?this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"expression",model:this.model,focusFirstOption:!1}}):this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"image",model:this.model,focusFirstOption:!1}})},t.prototype.getMQConfig=function(){return{autoOperatorNames:i.getAutoOperators({additionalOperators:["index"]}),autoCommands:i.getAutoCommands()}},t}(r.Class);t.default=s})),i("loadcss!expressions/expression-edit-actions",(function(){})),i("expressions/expression-edit-actions",["require","exports","parser","tslib","dcgview","core/lib/dragmode","core/types/styles","graphing-calc/models/expression","graphing-calc/models/abstract-item","lib/aria","../shared-components/tooltip","loadcss!./expression-edit-actions"],(function(e,t,n,r,i,o,a,s,c,l,d){Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionEditActions=void 0;var u=i.Components.If,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return i.createElement(u,{predicate:function(){return e.controller.isInEditListMode()}},(function(){return i.createElement("span",{class:function(){return{"dcg-expression-edit-actions":!0,"dcg-limited-height":e.limitedHeight()}},style:function(){return{background:e.controller.getBackgroundColor()}},didMount:function(){e.controller.isInEditListMode()&&l.alert(e.controller.s("graphing-calculator-narration-edit-list-mode-on"))},didUnmount:function(){e.controller.isInEditListMode()||l.alert(e.controller.s("graphing-calculator-narration-edit-list-mode-off"))}},i.createElement(u,{predicate:function(){return!e.controller.hasBackgroundColor()}},(function(){return i.createElement("span",{class:i.const("dcg-graphic"),handleEvent:i.const("true ")})})),i.createElement(u,{predicate:e.bindFn(e.canConvertToTable)},(function(){return i.createElement(d.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-convert-to-table-tooltip")},gravity:e.const("s")},i.createElement("span",{class:i.const("dcg-action-createtable dcg-exp-action-button"),handleEvent:i.const("true"),role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-convert-to-table-tooltip")},onTap:e.bindFn(e.onCreateTable)},i.createElement("i",{class:i.const("dcg-icon-table")})))})),i.createElement(d.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-duplicate-expression-tooltip")},gravity:e.const("s")},i.createElement("span",{class:i.const("dcg-duplicate-btn dcg-exp-action-button"),handleEvent:i.const("true"),role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-duplicate-expression-tooltip")},onTap:e.bindFn(e.onDuplicateWithoutFocus)},i.createElement("i",{class:i.const("dcg-icon-duplicate")}))),i.createElement(d.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-expression-delete-tooltip")},gravity:e.const("sw")},i.createElement("span",{class:i.const("dcg-delete-btn dcg-exp-action-button"),handleEvent:i.const("true"),role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-expression-delete-tooltip")},onTap:e.bindFn(e.onDelete)},i.createElement("i",{class:i.const("dcg-icon-remove")}))))}))},t.prototype.model=function(){return this.controller.getItemModel(this.props.id())},t.prototype.canConvertToTable=function(){var e=this.model();return!(!e||"expression"!==e.type||!e.formula.is_tableable)},t.prototype.limitedHeight=function(){var e=this.model();return e&&("image"===e.type||this.isSlider())},t.prototype.isSlider=function(){var e=this.model();return e&&"expression"===e.type&&e.sliderExists},t.prototype.generateSubscriptedTableColumns=function(e,t,r){var i={independent:t,dependent:r};if("x"===t)return i;if("Identifier"!==n.parse(t).type)return i;var o=n.parse(r);if("FunctionCall"!==o.type)return i;if(1!==o.args.length)return i;var a=o.args[0];if("Identifier"!==a.type)return i;if(a._symbol!==t)return i;var s=o.getInputString(),c=a.getInputSpan(),l=s.substr(0,c.start),d=s.substr(c.end);return i.independent="x_{"+e+"}",i.dependent=l+i.independent+d,i},t.prototype.onCreateTable=function(){var e=this.model();if(e&&"expression"===e.type){var t=e.formula;if(t.is_tableable&&t.table_info){var n,r=t.table_info,i=e.index,l=r.independent_variable,d=r.dependent_column;if(r.by_reference){var u=this.generateSubscriptedTableColumns(this.controller.generateTableXSubscript(),l,d);l=u.independent,d=u.dependent}var p=[],g=[];if(r.values)for(n=0;n<r.values.length;n++){var h=r.values[n][0];p.push(isNaN(h)?"":h+"");var f=r.values[n][1];g.push(isNaN(f)?"":f+"")}else for(n=-2;n<=2;n++)p.push(n+""),g.push("");var m={id:this.controller.generateId(),type:"table",columns:[{id:this.controller.generateId(),latex:l,color:this.controller.getNextColor(),hidden:!1,values:p,points:!0,lines:!1,dragMode:o.DragMode.NONE,pointStyle:a.PointStyle.POINT,lineStyle:a.LineStyle.SOLID,colorLatex:"",lineOpacity:"",lineWidth:"",pointOpacity:"",pointSize:""},{id:this.controller.generateId(),latex:d,color:c.getDisplayColor(e),hidden:!1,values:g,points:!0,lines:!(s.isPointOrPointList(e)||e.hidden),dragMode:o.DragMode.NONE,pointStyle:a.PointStyle.POINT,lineStyle:a.LineStyle.SOLID,colorLatex:"",lineOpacity:"",lineWidth:"",pointOpacity:"",pointSize:""}]},y=this.controller;this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!1}),r.by_reference?this.controller.dispatch({type:"insert-item-at-index",index:i+1,state:m,folderId:e.folderId,focus:!0}):this.controller.dispatch({type:"replace-item-at-index",index:i,state:m,focus:!0}),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-table-created"),undoCallback:function(){y.dispatch({type:"undo"}),y.dispatch({type:"set-edit-list-mode",isEditListMode:!0,focusExpressionList:!1})}}})}}},t.prototype.onDelete=function(e){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.props.id(),setFocusAfterDelete:"keyboard"===e.device})},t.prototype.onDuplicateWithoutFocus=function(){var e=this.model();e&&("folder"===e.type?this.controller.dispatch({type:"duplicate-folder",id:this.props.id()}):this.controller.dispatch({type:"duplicate-expression",id:this.props.id()}))},t}(i.Class);t.ExpressionEditActions=p})),i("loadcss!expressions/suggested-zoom-view",(function(){})),i("expressions/suggested-zoom-view",["require","exports","tslib","dcgview","../shared-components/tooltip","loadcss!./suggested-zoom-view"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestedZoomView=void 0;var o=r.Components.If,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},t.prototype.template=function(){var e=this;return r.createElement(o,{predicate:function(){return e.controller.shouldExpressionZoomFit(e.model)}},(function(){return r.createElement("div",{class:r.const("dcg-suggested-zoom-view dcg-do-blur"),handleEvent:r.const(!0)},r.createElement(i.Tooltip,{tooltip:e.bindFn(e.getZoomText),gravity:function(){return"e"}},r.createElement("i",{onTap:e.bindFn(e.onZoom),role:r.const("button"),"aria-label":e.bindFn(e.getZoomText),class:r.const("dcg-icon-zoom-fit")})))}))},t.prototype.getZoomText=function(){return this.controller.s("graphing-calculator-text-zoom-fit")},t.prototype.onZoom=function(){this.controller.dispatch({type:"expression-zoom-fit",id:this.model.id})},t}(r.Class);t.SuggestedZoomView=a})),i("loadcss!expressions/expression-footer",(function(){})),i("expressions/expression_view",["require","exports","config","tslib","browser","keys","jquery","./abstract-item-view","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","lib/conditional_blur","./expression-icon-view","./evaluation-view","expressions/unresolved_view","expressions/domain_view","expressions/regression_view","expressions/slider_view","expressions/promptslider_view","expressions/label_view","expressions/distribution_parameters_view","expressions/visualization_parameters_view","expressions/ttest_footer_view","expressions/stats_footer_view","expressions/action-info-view","graphing-calc/models/expression","core/lib/label","./expression-edit-actions","./suggested-zoom-view","dcgview","main/manage-focus-helper","main/mathquill-operators","../shared-components/mathquill-braille-wrapper","jquery.handleevent","loadcss!./expression-footer"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v,x,w,A,E,k,I,S,M,C,D,T,L){Object.defineProperty(t,"__esModule",{value:!0}),t.getBrailleWrapperProps=void 0;var _=C.Components,O=_.If,B=_.SwitchUnion,P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted(),this.lastBrailleMode=this.controller.getBrailleMode()},t.prototype.didMountRootNode=function(e){this.rootNode=e},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e=this;return C.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-mathitem":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":e.controller.isItemSelected(e.id)&&!e.controller.isInEditListMode(),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-hasSlider":e.hasSlider(),"dcg-hasEvaluation":e.controller.shouldShowEvaluationForItem(e.id),"dcg-hasRegression":e.hasRegression(),"dcg-hasDomain":e.hasDomain()}},"expr-id":function(){return e.model.id},didMount:this.bindFn(this.didMountRootNode)},C.createElement("div",{class:C.const("dcg-fade-container"),onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},C.createElement("div",{class:C.const("dcg-main")},C.createElement(O,{predicate:function(){return!e.controller.isInEditListMode()}},(function(){return C.createElement(L.default,r.__assign({latex:function(){return k.getDisplayLatex(e.model)},ariaLabel:function(){return e.getAriaLabel("braille")},brailleShouldFocus:function(){return e.isFocused()},onBrailleInput:function(t){return e.handleLatexChanged(t)},onBrailleFocusedChanged:function(t,n){return e.handleMQFocusedChanged(t,n)},onBrailleKeydown:e.bindFn(e.handleBraillePressedKey)},F(e.controller)),C.createElement(c.default,{latex:function(){return k.getDisplayLatex(e.model)},getAriaLabel:function(){return e.getAriaLabel("speech")},getAriaPostLabel:e.bindFn(e.getFormulaAria),isFocused:function(){return e.isFocused()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},config:e.bindFn(e.getMQConfig),hasError:e.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey(t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t,n){return e.handleMQFocusedChanged(t,n)},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},C.createElement("div",{class:C.const("dcg-expression-mathquill")})))})),C.createElement(O,{predicate:function(){return e.controller.isInEditListMode()}},(function(){return C.createElement("div",{class:C.const("dcg-edit-list-mathquill"),tabindex:function(){return"none"===e.controller.getBrailleMode()?"0":"-1"},onTap:e.bindFn(e.exitEditListMode),manageFocus:e.const({shouldBeFocused:function(){return"none"===e.controller.getBrailleMode()&&D.defaultShouldBeFocused({controller:e.controller,location:{type:"readonly-expression",id:e.model.id}})},onFocusedChanged:function(t){"none"===e.controller.getBrailleMode()&&(t?e.controller.dispatch({type:"set-focus-location",location:{type:"readonly-expression",id:e.model.id}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"readonly-expression",id:e.model.id}}))}})},C.createElement(L.default,r.__assign({latex:function(){return k.getDisplayLatex(e.model)},ariaLabel:function(){return e.getAriaLabel("braille")},isStatic:e.const(!0),brailleShouldFocus:function(){var t=e.controller.getFocusLocation();return!!t&&"readonly-expression"===t.type&&t.id===e.id},onBrailleFocusedChanged:function(t){t?e.controller.dispatch({type:"set-focus-location",location:{type:"readonly-expression",id:e.model.id}}):e.controller.dispatch({type:"blur-focus-location",location:{type:"readonly-expression",id:e.model.id}})}},F(e.controller)),C.createElement(l.default,{latex:function(){return k.getDisplayLatex(e.model)},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.getAriaLabel("speech")}})))}))),C.createElement("i",{class:C.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:C.const("true"),onTap:this.bindFn(this.onDelete)}),C.createElement(O,{predicate:this.bindFn(this.shouldShowFooter)},(function(){return C.createElement("div",{class:e.getFooterClass()},B((function(){return e.getFooterType()}),{none:function(){},regression:function(){return C.createElement(f.default,{model:e.props.model,controller:e.props.controller})},label:function(){return C.createElement(b.default,{model:e.props.model,controller:e.props.controller})},slider:function(){return C.createElement(m.default,{model:e.props.model,controller:e.props.controller})},domain:function(){return C.createElement(h.default,{model:e.props.model,controller:e.props.controller})},evaluation:function(){return C.createElement(p.default,{id:function(){return e.props.model().id},dependent:function(){return k.getAssignment(e.model)||""},val:function(){return e.controller.getEvaluationValueForItem(e.id)},controller:e.props.controller,focusable:e.const(!1)})},distribution:function(){return C.createElement(v.default,{model:e.props.model,controller:e.props.controller})},visualization:function(){return C.createElement(x.default,{model:e.props.model,controller:e.props.controller})},ttest:function(){return C.createElement(w.default,{model:e.props.model,controller:e.props.controller})},stats:function(){return C.createElement(A.default,{model:e.props.model,controller:e.props.controller})},unresolved:function(){return C.createElement(g.default,{controller:e.props.controller})}}),C.createElement(O,{predicate:e.bindFn(e.shouldShowBrailleError)},(function(){return C.createElement("div",{tabindex:C.const(0),class:C.const("dcg-expression-braille-error"),role:C.const("button"),"aria-roledescription":C.const("error"),"aria-label":function(){return e.controller.unpack(e.model.error)}},C.createElement("i",{class:C.const("dcg-icon-error")}),(function(){return e.controller.unpack(e.model.error)}))})),C.createElement(O,{predicate:e.bindFn(e.shouldShowSliderPrompt)},(function(){return C.createElement(y.default,{model:e.props.model,controller:e.props.controller})})))})),C.createElement(O,{predicate:this.bindFn(this.shouldShowActionInfo)},(function(){return C.createElement("div",{class:e.getFooterClass()},C.createElement(E.default,{model:e.props.model,controller:e.props.controller}))}))),C.createElement("span",{class:C.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:C.const("true"),tapboundary:C.const("true"),disablescroll:C.const("true"),style:C.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},C.createElement("span",{class:C.const("dcg-num")},(function(){return e.model.displayIndex})),C.createElement("div",{class:C.const("dcg-tab-interior dcg-action-icon-mouse")},C.createElement(u.default,{model:this.props.model,controller:this.props.controller})),C.createElement(M.SuggestedZoomView,{model:this.props.model,controller:this.props.controller})),C.createElement(S.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},t.prototype.didUpdate=function(){this.lastBrailleMode=this.controller.getBrailleMode()},t.prototype.shouldShowFooter=function(){return!!this.shouldShowBrailleError()||!!this.shouldShowSliderPrompt()||"none"!==this.getFooterType()},t.prototype.getFooterType=function(){return this.hasRegression()?"regression":this.shouldShowLabelView()?"label":this.hasSlider()?"slider":this.hasDomain()?"domain":this.isTTest()?"ttest":this.isStats()?"stats":this.controller.shouldShowEvaluationForItem(this.id)?"evaluation":this.isToplevelDistribution()?"distribution":this.isVisualization()?"visualization":this.model.unresolved?"unresolved":"none"},t.prototype.getFooterClass=function(){return this.isFirstRender()?this.const("dcg-expression-bottom dcg-indent-in-folder"):this.const("dcg-expression-bottom dcg-indent-in-folder dcg-fadein-bottom")},t.prototype.onCreateSliders=function(e){this.controller.dispatch({type:"create-sliders-for-item",id:this.id,variables:e})},t.prototype.shouldShowLabelView=function(){return n.get("labels")&&k.isPointOrPointList(this.model)},t.prototype.shouldShowSliderPrompt=function(){return!!this.controller.areSlidersEnabled()&&k.getMissingVariables(this.model).length>0},t.prototype.shouldShowActionInfo=function(){return!!(this.controller.areActionsEnabled()&&this.model.clickableInfo&&this.model.clickableInfo.enabled&&this.model.clickableInfo.latex)},t.prototype.shouldShowBrailleError=function(){return"none"!==this.controller.getBrailleMode()&&this.hasError()},t.prototype.hasRegression=function(){return!(!this.model.formula||!this.model.formula.is_regression)},t.prototype.hasDomain=function(){return k.hasDomain(this.model)},t.prototype.isToplevelDistribution=function(){return k.isToplevelDistribution(this.model)},t.prototype.isVisualization=function(){return k.isVisualization(this.model)},t.prototype.isTTest=function(){return k.isTTest(this.model)},t.prototype.isStats=function(){return k.isStats(this.model)},t.prototype.hasSlider=function(){return!!this.model.sliderExists},t.prototype.getLabelOptions=function(){return this.controller.getEvaluationLabelOptionsForItem(this.model.id)},t.prototype.getAriaLabel=function(e){var t;return this.shouldShowLabelView()?(t=this.model.label&&""!==this.model.label?this.model.label:"speech"===e?this.controller.s("graphing-calculator-narration-expression-label"):this.controller.raw("lbl"),this.model.showLabel?t:"speech"===e?this.controller.s("graphing-calculator-narration-expression-hidden-label",{label:t}):this.controller.raw("h __label__",{label:t})):"speech"===e?this.controller.s("shared-calculator-narration-expression-index",{index:this.model.displayIndex}):this.controller.raw("eq__index__",{index:this.model.displayIndex})},t.prototype.getFormulaAria=function(){var e=this.model.formula,t="";if(!e)return t;if(k.isEmpty(this.model))return t;if(this.controller.shouldShowEvaluationForItem(this.id)){t="equals ";var n=e.zero_values&&e.zero_values.length?e.zero_values[0].val:e.constant_value;Array.isArray(n)?t+=n.length+" element list.":void 0!==n&&(t+=I.truncatedAriaLabel(+n,this.getLabelOptions()))}else e.error&&!this.shouldShowSliderPrompt()?t=this.controller.unpack(e.error):k.isToplevelDistribution(this.model)?t=this.controller.s("graphing-calculator-narration-expression-evaluation-is-distribution"):this.isTTest()&&(t=this.controller.s("graphing-calculator-narration-expression-evaluation-is-t-test"));if(this.model.shouldGraph&&(e.is_graphable||e.is_regression)){e.is_graphable&&e.is_regression?t+=" "+this.controller.s("graphing-calculator-narration-expression-evaluation-has-graph-and-regression"):e.is_regression?t+=" "+this.controller.s("graphing-calculator-narration-expression-evaluation-has-regression"):t+=" "+this.controller.s("graphing-calculator-narration-expression-evaluation-has-graph");var r=this.controller.getAudioGraph();r&&r.agNavigator.canTrace(this.model)&&(i.IS_APPLE?t+=" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-mac"):t+=" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-windows"))}return t},t.prototype.handleBraillePressedKey=function(e){var t=o.lookup(e);if(t)if("Esc"===t)d.default(),this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}});else if("Up"===t||"Down"===t||"Enter"===t)this.controller.dispatch({type:"on-special-key-pressed",key:t});else if("Del"===t||"Backspace"===t){var n=L.getFocusedBrailleElement();k.isEmpty(this.model)&&L.brailleInputIsEmpty(n)&&(this.controller.dispatch({type:"on-special-key-pressed",key:"Del"===t?"Delete":t}),e.preventDefault(),e.stopPropagation())}},t.prototype.handlePressedKey=function(e,t){var n=c.default.getFocusedMathquill();if(n){if("Esc"===e)return d.default(),void(this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}}));if("Up"===e||"Down"===e)return c.default.applyArrowKeyAndReturnIfWasAtBounds(n,e,t)?this.controller.dispatch({type:"on-special-key-pressed",key:e}):void 0;if("Delete"===e||"Backspace"===e){if(k.isEmpty(this.model))return this.controller.dispatch({type:"on-special-key-pressed",key:e})}else if("Enter"===e)return t&&(t.preventDefault(),t.stopPropagation()),this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});n.keystroke(e,t),this.handleLatexChanged(n.latex())}},t.prototype.handleLatexChanged=function(e){e!==this.model.latex&&this.controller.dispatch({type:"set-item-latex",id:this.id,latex:e})},t.prototype.doesNodeBelongToSliderLimit=function(e){return!!e&&!!this.rootNode.contains(e)&&!!a(e).closest("[data-dcg-limit]").length},t.prototype.handleMQFocusedChanged=function(e,t){e?this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}):this.doesNodeBelongToSliderLimit(t.relatedTarget)||this.lastBrailleMode!==this.controller.getBrailleMode()||this.controller.dispatch({type:"blur-focus-location",location:{type:"expression",id:this.id}})},t.prototype.onMouseSelect=function(e){"keyboard"!==e.device&&("dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}})))},t.prototype.isFocused=function(){var e=this.controller.getFocusLocation();return!!e&&"expression"===e.type&&e.id===this.id},t.prototype.isSliderThumbFocused=function(){var e=this.controller.getFocusLocation();return!!e&&"slider-thumb"===e.type&&e.id===this.id},t.prototype.hasError=function(){return!!this.model.error&&!k.isEmpty(this.model)},t.prototype.getMQConfig=function(){return{autoOperatorNames:T.getAutoOperators({})}},t}(s.default);function F(e,t){var n=function(e){return C.createElement(l.default,{config:function(){return{}},latex:function(){return e}})};return{tooltipOptions:function(){return r.__assign({latexView:n},t||{})},sixKeyInput:function(){return e.getSixKeyInput()},mode:function(){return e.getBrailleMode()},capExpressionSize:function(){return e.getCapExpressionSize()?{exceedsLimit:function(e){return e.length>c.EXPRESSION_TOKEN_LIMIT},onExpressionSizeExceeded:function(){return e.dispatch({type:"expression-size-exceeded"})}}:void 0}}}t.default=P,t.getBrailleWrapperProps=F})),i("loadcss!expressions/smart_textarea",(function(){})),i("expressions/smart_textarea",["require","exports","tslib","keys","browser","dcgview","jquery","lib/conditional_blur","jquery.handleevent","loadcss!./smart_textarea"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=o.Components.Textarea,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-smart-textarea-container")},o.createElement("div",{class:o.const("dcg-displayTextarea dcg-fixed-width-element"),didMount:this.bindFn(this.didMountDisplay)}),o.createElement(c,{class:function(){return{"dcg-do-blur":!0,"dcg-fixed-width-element":!0,"dcg-smart-textarea":!0,"dcg-empty":!e.props.text()}},"aria-label":function(){return e.props.ariaLabel?e.props.ariaLabel():void 0},placeholder:this.props.placeholder,readonly:function(){return!!e.props.readonly()||void 0},value:this.props.text,onInput:this.props.onInput,didMount:this.bindFn(this.didMountTextarea),onKeydown:this.bindFn(this.onKeydownEvent)}))},t.prototype.getDisplayTextHTML=function(){var e=this.props.text()||"";return e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.props.showLinks()?e.replace(/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a rel='nofollow ugc' href='$1' target ='_blank'>$1</a>"):e},t.prototype.willUnmount=function(){this.textareaNode=void 0},t.prototype.didMountDisplay=function(e){this.displayNode=e,a(e).on("touchend",(function(e){e.preventDefault()})),a(e).on("dcg-tap dcg-tapstart","a",(function(e){e.handle()})),this.renderDisplayText()},t.prototype.didMountTextarea=function(e){var t=this;this.textareaNode=e,a(e).on("dcg-tapstart",(function(e){e.handle()})),a(e).on("focusin focusout",(function(){return t.onFocusEvent()})),this.updateFocused()},t.prototype.didUpdate=function(){this.updateFocused(),this.renderDisplayText()},t.prototype.onFocusEvent=function(){if(this.textareaNode){var e=document.activeElement===this.textareaNode;this.shouldBeFocused()!==e&&this.props.onFocusChange(e)}},t.prototype.renderDisplayText=function(){if(this.displayNode){var e=this.getDisplayTextHTML();this.lastDisplayTextHTML!==e&&(this.lastDisplayTextHTML=e,this.displayNode.innerHTML=e)}},t.prototype.isFocused=function(){return document.activeElement===this.textareaNode},t.prototype.shouldBeFocused=function(){return this.props.shouldFocus()},t.prototype.updateFocused=function(){if(this.textareaNode){var e=this.isFocused(),t=this.shouldBeFocused();if(e!==t)if(t){if(i.IS_IPAD&&i.IS_IN_IFRAME)return;this.textareaNode.focus(),this.textareaNode.selectionStart=this.textareaNode.selectionEnd=this.textareaNode.value.length}else this.textareaNode.blur()}},t.prototype.onKeydownEvent=function(e){var t=this.textareaNode;if(t){var n=r.lookup(e);this.props.readonly()&&void 0!==this.props.readonlyAction?e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||n!==r.ENTER&&n!==r.SPACEBAR||(e.preventDefault(),this.props.readonlyAction()):(n!==r.ENTER||e.metaKey?n===r.ESCAPE?s.default():n===r.UP?0!==t.selectionStart||0!==t.selectionEnd||e.altKey||e.metaKey||(e.preventDefault(),this.props.onSpecialKey("Up")):n===r.DOWN?t.selectionStart!==t.value.length||t.selectionEnd!==t.value.length||e.altKey||e.metaKey||(e.preventDefault(),this.props.onSpecialKey("Down")):n===r.BACKSPACE?0===t.value.length&&(e.preventDefault(),this.props.onSpecialKey("Backspace")):n===r.DELETE&&0===t.value.length&&(e.preventDefault(),this.props.onSpecialKey("Delete")):(e.preventDefault(),this.props.onSpecialKey("Enter")),this.props.onKeydown&&this.props.onKeydown(e))}},t}(o.Class);t.default=l})),i("expressions/text_view",["require","exports","tslib","./abstract-item-view","./smart_textarea","dcgview","./expression-edit-actions","jquery.handleevent"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressiontext":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":!!e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id)}},"expr-id":function(){return e.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},o.createElement("div",{class:o.const("dcg-fade-container")},o.createElement("div",{class:o.const("dcg-main")},o.createElement(i.default,{shouldFocus:this.bindFn(this.isFocused),text:function(){return e.model.text},placeholder:function(){return e.controller.s("graphing-calculator-text-enter-note-placeholder")},showLinks:function(){return e.controller.areLinksEnabled()},onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),readonly:function(){return e.controller.isInEditListMode()},readonlyAction:this.bindFn(this.exitEditListMode)})),o.createElement("i",{class:o.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:o.const("true"),onTap:this.bindFn(this.onDelete)})),o.createElement("span",{class:o.const("dcg-tab dcg-action-drag"),handleevent:o.const("true"),tapboundary:o.const("true"),disablescroll:o.const("true"),style:o.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},o.createElement("span",{class:o.const("dcg-num")},(function(){return e.model.displayIndex})),o.createElement("div",{class:o.const("dcg-tab-interior")}),o.createElement("i",{class:o.const("dcg-icon-text")})),o.createElement(a.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},t.prototype.onInput=function(e){this.controller.dispatch({type:"set-note-text",id:this.id,text:e})},t.prototype.onFocusChange=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"text",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"text",id:this.id}})},t.prototype.onSpecialKey=function(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})},t.prototype.isFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"text"!==e.type||e.id!==this.id)},t}(r.default);t.default=s})),i("expressions/tables/table_icon_view",["require","exports","tslib","dcgview","graphing-calc/models/abstract-item","dcgview-helpers/tooltipped-error","../circular-icon-view","main/manage-focus-helper","jquery.handleevent"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=r.Components.SwitchUnion,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-table-icon-container")},c(this.bindFn(this.typeOfIcon),{error:function(){return r.createElement(o.TooltippedError,{error:function(){return e.controller.unpack(e.model.error)},gravity:e.const("se")})},none:function(){return r.createElement("span",null)},icon:function(){return r.createElement("div",{class:r.const("dcg-circular-icon-container"),role:r.const("button"),tabindex:r.const("0"),"aria-label":e.bindFn(e.getIconAriaLabel),handleevent:r.const("true"),"model-id":function(){return e.model.id},onTap:function(t){if(!t.wasHandled("dragdrop")&&!t.wasLongheld())return e.myOptionsOpen()||e.controller.isInEditListMode()||t.shiftKey?e.toggleOptions():void e.toggleGraphShown()},onLongHold:function(t){t.handle("dcg-longhold"),t.handle("dcg-tap"),e.toggleOptions()},manageFocus:e.const(s.manageFocusHelper({controller:e.controller,location:{type:"table-icon",id:e.model.table.id,columnId:e.model.id}}))},r.createElement(a.CircularIconView,{iconType:e.bindFn(e.getIcon),backgroundColor:e.bindFn(e.getModelColor)}))}}))},t.prototype.getModelColor=function(){return i.getMaybeGradientDisplayColor(this.model)},t.prototype.myOptionsOpen=function(){var e=this.controller.getOpenItemMenu();return!!e&&e.model===this.model},t.prototype.toggleOptions=function(){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"table-column",model:this.model,focusFirstOption:!1}})},t.prototype.toggleGraphShown=function(){this.controller.dispatch({type:"toggle-tablecolumn-hidden",tableId:this.model.table.id,columnId:this.model.id})},t.prototype.hasError=function(){return!!this.model.error},t.prototype.getIcon=function(){return this.model.shouldGraph?this.controller.isInEditListMode()?"none":this.model.points&&this.model.lines?"table-points-and-lines":this.model.points&&!this.model.lines?"table-points":!this.model.points&&this.model.lines?"table-lines":"none":"hidden"},t.prototype.typeOfIcon=function(){return""===this.model.latex?"none":this.controller.getGraphSettings().config.graphpaper?this.model.error?"error":0===this.model.index?"none":"icon":"none"},t.prototype.getIconAriaLabel=function(){return this.myOptionsOpen()?this.controller.s("graphing-calculator-narration-hide-options"):this.controller.isInEditListMode()?this.controller.s("graphing-calculator-narration-show-options"):this.model.shouldGraph?this.controller.s("graphing-calculator-narration-hide-table-column"):this.controller.s("graphing-calculator-narration-show-table-column")},t}(r.Class);t.default=l})),i("expressions/tables/header-view",["require","exports","tslib","keys","jquery","browser","dcgview","./table_icon_view","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","underscore","graphing-calc/models/table","core/lib/dragmode","main/mathquill-operators","../../shared-components/mathquill-braille-wrapper","../expression_view"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f){Object.defineProperty(t,"__esModule",{value:!0});var m=a.Components.If,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.table},t.prototype.isRightSide=function(){return this.lookupCellPosition().column>=this.table.columnModels.length-1},t.prototype.template=function(){var e=this;return a.createElement("div",{class:function(){return{"dcg-cell":!0,"dcg-table-header":!0,"dcg-do-not-blur":!0,"dcg-left":0===e.model.index,"dcg-right":e.isRightSide(),"dcg-selected":e.shouldFocus(),"dcg-error":!!e.model.error}},index:function(){return e.model.index},onTapStart:this.bindFn(this.focusThisCell)},a.createElement("div",{class:a.const("dcg-inner-border")}),a.createElement(m,{predicate:function(){return!e.isRightSide()}},(function(){return a.createElement(s.default,{model:e.props.model,controller:e.props.controller})})),a.createElement("div",{role:a.const("columnheader")},a.createElement(m,{predicate:function(){return!e.controller.isInEditListMode()}},(function(){return a.createElement(h.default,n.__assign({latex:function(){return e.model.latex||""},brailleShouldFocus:e.bindFn(e.shouldFocus),ariaLabel:function(){return e.getAriaLabel("braille")},onBrailleInput:function(t){return e.handleLatexChanged(t)},onBrailleFocusedChanged:e.bindFn(e.handleMQFocusedChanged),selectOnFocus:e.const(!0),onBrailleKeydown:e.bindFn(e.handleKeydownOnBrailleInput)},f.getBrailleWrapperProps(e.props.controller(),{gravity:"s"})),a.createElement(c.default,{latex:function(){return e.model.latex||""},isFocused:e.bindFn(e.shouldFocus),capExpressionSize:function(){return e.controller.getCapExpressionSize()},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.getAriaLabel("speech")},getAriaPostLabel:e.bindFn(e.getAriaPostLabel),hasError:e.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey(t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:e.bindFn(e.handleMQFocusedChanged),selectOnFocus:e.const(!0),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},a.createElement("span",{class:a.const("dcg-math-field dcg-cell-math-content")})))})),a.createElement(m,{predicate:function(){return e.controller.isInEditListMode()}},(function(){return a.createElement(h.default,n.__assign({latex:function(){return e.model.latex||""},ariaLabel:function(){return e.getAriaLabel("braille")},onBrailleInput:function(t){return e.handleLatexChanged(t)},tabindex:e.const(-1),isStatic:e.const(!0),brailleShouldFocus:e.bindFn(e.shouldFocusNonEditCell),onBrailleFocusedChanged:e.bindFn(e.handleMQFocusedChanged)},f.getBrailleWrapperProps(e.props.controller(),{gravity:"s"})),a.createElement(l.default,{latex:function(){return e.model.latex||""},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.getAriaLabel("speech")}},a.createElement("span",{class:a.const("dcg-math-field dcg-cell-math-content"),role:a.const("textbox"),"aria-roledescription":a.const("cell"),"aria-readonly":a.const("true"),tabindex:a.const("-1")})))})),a.createElement(m,{predicate:function(){return e.model.dragMode!==p.DragMode.NONE&&!e.model.error}},(function(){return a.createElement("span",{class:a.const("dcg-drag-icon"),"dcg-drag-mode":function(){return e.model.dragMode},style:function(){return{color:e.model.color}}},a.createElement("i",{class:function(){return{"dcg-icon-move":e.model.dragMode===p.DragMode.XY,"dcg-icon-move-horizontal":e.model.dragMode===p.DragMode.X,"dcg-icon-move-vertical":e.model.dragMode===p.DragMode.Y}}}))}))),a.createElement("div",{class:a.const("dcg-empty-line")}),a.createElement(m,{predicate:function(){return e.isRightSide()}},(function(){return a.createElement("span",{class:a.const("dcg-fade-right")})})))},t.prototype.focusThisCell=function(e){e.wasHandled()||(e.handle(),this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))},t.prototype.lookupCellPosition=function(){return{row:0,column:this.model.index}},t.prototype.getAriaLabel=function(e){var t=this.lookupCellPosition();return"speech"===e?this.controller.s("graphing-calculator-narration-table-column-header",{column:t.column+1}):this.controller.raw("h__column__",{column:t.column+1})},t.prototype.getAriaPostLabel=function(){var e="",t=this.model;return t.shouldGraph&&(t.points||t.lines)&&!u.isColumnEmpty(t)&&(e=this.controller.s("graphing-calculator-narration-expression-evaluation-has-graph"),o.IS_APPLE?e+=" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-mac"):e+=" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-windows")),e},t.prototype.handlePressedKey=function(e,t){var n=c.default.getFocusedMathquill();n&&(c.default.handleKeystrokeAndDecideIfSpecialEvent(n,e,t)?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:e}):this.handleLatexChanged(n.latex()))},t.prototype.handleKeydownOnBrailleInput=function(e){var t=r.lookup(e);if(t){var n="Enter"===t||"Up"===t||"Down"===t,o=h.getFocusedBrailleElement(),a=o&&"Left"===t&&0===o.selectionStart||"Right"===t&&o.selectionStart===i(o).val().length,s=0===this.model.latex.length&&h.brailleInputIsEmpty(o);(n||a||("Del"===t||"Backspace"===t)&&s)&&(this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:"Del"===t?"Delete":t}),e.preventDefault())}},t.prototype.handleLatexChanged=function(e){this.model.latex!==e&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:e})},t.prototype.shouldFocus=function(){return!this.controller.isInEditListMode()&&d.isEqual(this.lookupCellPosition(),u.getSelectedCell(this.table))},t.prototype.shouldFocusNonEditCell=function(){return d.isEqual(this.lookupCellPosition(),u.getSelectedCell(this.table))},t.prototype.isNodeWithinTableCell=function(e){if(!e)return!1;if(0===i(e).closest(".dcg-cell").length)return!1;var t=this.controller.getItemRootNodeById(this.table.id);return!!t&&i.contains(t,e)},t.prototype.handleMQFocusedChanged=function(e,t){e?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(t.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})},t.prototype.getMQConfig=function(){return{autoOperatorNames:g.getAutoOperators()}},t}(a.Class);t.default=y})),i("expressions/tables/cell-view",["require","exports","tslib","keys","dcgview","jquery","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","underscore","graphing-calc/models/table","../../dcgview-helpers/tooltipped-error","lib/conditional_blur","main/mathquill-operators","../../shared-components/mathquill-braille-wrapper","../expression_view"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h){Object.defineProperty(t,"__esModule",{value:!0});var f=i.Components.If,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.column.table},t.prototype.template=function(){var e=this;return i.createElement("div",{class:function(){return{"dcg-cell":!0,"dcg-do-not-blur":!0,"dcg-empty":e.isEmpty(),"dcg-non-editable":!!e.model.column.disabled,"dcg-error":!!e.hasError(),"dcg-selected":e.shouldFocus()}},onTapStart:this.bindFn(this.focusThisCell)},i.createElement("div",{class:i.const("dcg-inner-border")}),i.createElement("div",{role:i.const("gridcell")},i.createElement(f,{predicate:this.bindFn(this.hasError)},(function(){return i.createElement("span",{class:i.const("dcg-table-icon-error-container")},i.createElement(d.TooltippedError,{error:e.bindFn(e.getErrorMessage),gravity:e.const("se"),size:e.const("small")}))})),i.createElement(f,{predicate:function(){return!!e.model.column.disabled||e.controller.isInEditListMode()}},(function(){return i.createElement(g.default,n.__assign({latex:function(){return e.getValue()},brailleShouldFocus:e.bindFn(e.shouldFocusReadonlyCell),ariaLabel:function(){return e.getAriaLabel("braille")},tabindex:function(){return e.controller.isInEditListMode()?-1:0},isStatic:e.const(!0),onBrailleFocusedChanged:e.bindFn(e.handleFocusedChanged),onBrailleKeydown:function(t){return e.handleKeydownOnReadonlyCell(t),!0}},h.getBrailleWrapperProps(e.props.controller(),{gravity:"s"})),i.createElement(s.default,{getAriaLabel:function(){return e.getAriaLabel("speech")},latex:function(){return e.getValue()},config:e.bindFn(e.getMQConfig)},i.createElement("span",{class:i.const("dcg-math-field dcg-cell-math-content dcg-mathquill-input-span"),role:i.const("textbox"),"aria-roledescription":i.const("computed cell"),"aria-readonly":i.const("true"),tabindex:function(){return e.controller.isInEditListMode()||e.isEmpty()?-1:0},onKeyDown:e.bindFn(e.handleKeydownOnReadonlyCell),manageFocus:e.const({shouldBeFocused:e.bindFn(e.shouldFocusReadonlyCell),onFocusedChanged:e.bindFn(e.handleFocusedChanged)})})))})),i.createElement(f,{predicate:function(){return!e.model.column.disabled&&!e.controller.isInEditListMode()}},(function(){return i.createElement(g.default,n.__assign({latex:function(){return e.getValue()},brailleShouldFocus:e.bindFn(e.shouldFocusEditableCell),ariaLabel:function(){return e.getAriaLabel("braille")},onBrailleInput:function(t){return e.handleLatexChanged(t)},onBrailleFocusedChanged:e.bindFn(e.handleFocusedChanged),onBrailleKeydown:e.bindFn(e.handleKeydownOnBrailleInput),selectOnFocus:e.const(!0)},h.getBrailleWrapperProps(e.props.controller(),{gravity:"s"})),i.createElement(a.default,{latex:function(){return e.getValue()},isFocused:e.bindFn(e.shouldFocusEditableCell),capExpressionSize:function(){return e.controller.getCapExpressionSize()},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.getAriaLabel("speech")},getAriaPostLabel:e.bindFn(e.getErrorMessage),hasError:e.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey(t,n)},onUserChangedLatex:function(t){return e.handleLatexChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:e.bindFn(e.handleFocusedChanged),selectOnFocus:e.const(!0),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},i.createElement("span",{class:i.const("dcg-math-field dcg-cell-math-content")})))}))),i.createElement("div",{class:i.const("dcg-empty-line")}))},t.prototype.focusThisCell=function(e){e.wasHandled()||(e.handle(),this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))},t.prototype.handlePressedKey=function(e,t){var n=a.default.getFocusedMathquill();if(n){var i=a.default.handleKeystrokeAndDecideIfSpecialEvent(n,e,t);e===r.ESCAPE&&u.default(),i?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:e}):this.handleLatexChanged(n.latex())}},t.prototype.handleKeydownOnBrailleInput=function(e){var t=r.lookup(e);if(t){t===r.ESCAPE&&u.default();var n="Enter"===t||"Up"===t||"Down"===t,i=g.getFocusedBrailleElement(),a=i&&"Left"===t&&0===i.selectionStart||"Right"===t&&i.selectionStart===o(i).val().length;(n||a||("Del"===t||"Backspace"===t)&&0===this.getValue().length)&&(this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:"Del"===t?"Delete":t}),e.preventDefault())}},t.prototype.handleKeydownOnReadonlyCell=function(e){var t=r.lookup(e);"Tab"!==t&&(e.preventDefault(),"Esc"===t&&u.default(),t&&this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:t}))},t.prototype.handleLatexChanged=function(e){this.getValue()!==e&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:e})},t.prototype.shouldFocus=function(){return c.isEqual(this.lookupCellPosition(),l.getSelectedCell(this.table))},t.prototype.shouldFocusReadonlyCell=function(){return!this.controller.isInEditListMode()&&!!this.model.column.disabled&&this.shouldFocus()},t.prototype.shouldFocusEditableCell=function(){return!this.model.column.disabled&&this.shouldFocus()},t.prototype.isNodeWithinTableCell=function(e){if(!e)return!1;if(0===o(e).closest(".dcg-cell").length)return!1;var t=this.controller.getItemRootNodeById(this.table.id);return!!t&&o.contains(t,e)},t.prototype.handleFocusedChanged=function(e,t){e?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(t.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})},t.prototype.lookupCellPosition=function(){return{row:this.model.row.index,column:this.model.column.index}},t.prototype.getPackedError=function(){return this.model.column.packedErrors[this.model.row.index-1]},t.prototype.hasError=function(){return!!this.getPackedError()},t.prototype.getErrorMessage=function(){var e=this.getPackedError();return e?this.controller.unpack(e):""},t.prototype.getValue=function(){var e=this.model.column.index,t=this.model.row.index-1;return this.model.column.disabled?this.model.column.computedValues[t]||"":this.table.columns[e].values[t]||""},t.prototype.isEmpty=function(){var e=g.getFocusedBrailleElement();return""===this.getValue()&&g.brailleInputIsEmpty(e)},t.prototype.getAriaLabel=function(e){var t=this.lookupCellPosition(),n=t.row,r=t.column+1;return"speech"===e?this.controller.s("graphing-calculator-narration-table-row-column",{row:n.toString(),column:r.toString()}):this.controller.raw("r__row__c__column__",{row:n.toString(),column:r.toString()})},t.prototype.getMQConfig=function(){return{autoOperatorNames:p.getAutoOperators()}},t}(i.Class);t.default=m})),i("loadcss!expressions/table-view",(function(){})),i("expressions/table-view",["require","exports","tslib","keys","lib/aria","./abstract-item-view","dcgview","./tables/header-view","./tables/cell-view","graphing-calc/models/table","vendor/mathquill","jquery","./expression-edit-actions","expressions/measure-expressions","./suggested-zoom-view","main/manage-focus-helper","loadcss!./table-view","jquery.handleevent"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f){Object.defineProperty(t,"__esModule",{value:!0});var m=a.Components.For,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e=this;return a.createElement("div",{class:function(){return{"dcg-expressionitem":!0,"dcg-expressiontable":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":!!e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-no-faded-h":e.isRightFocused(),"dcg-no-faded-v":e.isBottomFocused()}},"expr-id":function(){return e.model.id},didMount:this.bindFn(this.didMountContainer),onKeydown:this.bindFn(this.onKeydown)},a.createElement("div",{class:a.const("dcg-fade-container dcg-disable-horizontal-scroll-to-cursor")},a.createElement("div",{class:a.const("dcg-main")},a.createElement("div",{class:a.const("dcg-table-container"),tabindex:function(){return e.controller.isInEditListMode()?0:-1},"aria-label":function(){return e.controller.getBrailleMode(),e.controller.s("graphing-calculator-narration-expression-index-table",{index:e.model.displayIndex})},didMount:this.bindFn(this.didMountContainer),manageFocus:this.const({shouldBeFocused:this.shouldBeFocused.bind(this),onFocusedChanged:this.onFocusedChanged.bind(this)})},a.createElement("div",{class:a.const("dcg-table-sliding-container"),style:function(){return{transform:"translateX("+e.computeScrolledX()+"px)"}}},a.createElement(m,{each:function(){return e.getVisibleRowModels()},key:function(t){return"blank-row"===t.type?"blank-row-"+t.guid+"-"+t.rows+"-"+e.getCols():t.guid}},a.createElement("div",{role:a.const("grid"),class:function(){return{"dcg-tabledata":!0,"dcg-focus-in-bottom-row":e.isBottomFocused(),"dcg-focus-in-right-column":e.isRightFocused()}}},(function(t){return"show-more"===t.type?a.createElement("tr",{role:a.const("row"),class:a.const("dcg-show-more-row")},a.createElement("td",{colspan:e.bindFn(e.getCols)},e.bindFn(e.missingRowMessage),a.createElement("div",{tabindex:a.const(0),role:a.const("button"),class:a.const("dcg-show-more"),onTap:function(){return e.controller.dispatch({type:"table-show-more-rows",id:e.id})}},(function(){return e.controller.s("graphing-calculator-button-show-all-table-rows")})))):"blank-row"===t.type?a.createElement("tr",{role:a.const("row"),class:a.const("dcg-blank-row")},a.createElement("td",{colspan:e.bindFn(e.getCols),style:function(){return{height:t.rows*e.getRowHeight()+"px"}}})):a.createElement(m,{each:function(){return t.cells},key:function(e){return e.guid}},a.createElement("tr",{role:a.const("row"),"aria-rowindex":function(){return t.index},class:function(){return{"dcg-row":t,"dcg-braille-row":"none"!==e.controller.getBrailleMode()}}},(function(t){return"header"===t.type?a.createElement(s.default,{controller:e.props.controller,model:e.const(t)}):a.createElement(c.default,{controller:e.props.controller,model:e.const(t)})})))})))))),a.createElement("i",{class:a.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:a.const("true"),onTap:this.bindFn(this.onDelete)})),a.createElement("span",{class:a.const("dcg-tab dcg-action-drag"),handleevent:a.const("true"),tapboundary:a.const("true"),disablescroll:a.const("true"),style:a.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},a.createElement("span",{class:a.const("dcg-num")},(function(){return e.model.displayIndex})),a.createElement("div",{class:a.const("dcg-tab-interior")}),a.createElement(h.SuggestedZoomView,{model:this.props.model,controller:this.props.controller})),a.createElement(p.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},t.prototype.getCols=function(){return this.model.rowModels[0].cells.length-1},t.prototype.getRowHeight=function(){return this.controller.getGraphSettings().config.projectorMode?38:33},t.prototype.getVisibleRowModels=function(){var e=this.model.rowModels;if(e.length<=25)return e;var t=l.getCollapsedRange(this.model);if(void 0!==t){var n=e.slice(0,t.min);return(n=n.concat({type:"show-more",guid:"show-more"})).concat(e.slice(t.max))}var r=g.getExppanelRect(this.controller),i=r?r.height:0,o=u(this.node).offset(),a=(o?o.top:0)-(r?r.top:0),s=u(this.node).find(".dcg-row:eq(0)").height(),c=this.getRowHeight();if(i/c>e.length)return e;for(var d=[],p=(-a-s)/c,h=(i-a)/c,f=0;f<e.length;f++){var m=l.getSelectedCell(this.model);if(0===f||f===e.length-2||m&&m.row===f)d.push(e[f]);else if(f>h||f<p){var y=d[d.length-1];y&&"blank-row"===y.type?y.rows++:d.push({type:"blank-row",guid:e[f].guid,rows:1})}else d.push(e[f])}return d},t.prototype.missingRowMessage=function(){var e=l.getCollapsedRange(this.model);return void 0===e?"":this.controller.s("graphing-calculator-text-table-more-rows",{rowCount:e.max-e.min})},t.prototype.didMountContainer=function(e){this.node=e,u(e).on("scroll",(function(){return e.scrollLeft=0}))},t.prototype.getSelectedCell=function(){return l.getSelectedCell(this.model)},t.prototype.computeScrolledX=function(){if(!this.getSelectedCell()||!this.node)return 0;var e=this.node.children[0],t=this.node.querySelector(".dcg-selected");if(null===e||null===t)return 0;var n=this.node.getBoundingClientRect(),r=t.getBoundingClientRect(),i=r.left-e.getBoundingClientRect().left,o=n.width-i-r.width-80,a=Math.min(0,n.width-e.scrollWidth-30);return o=Math.max(o,a),Math.min(0,o)},t.prototype.isBottomFocused=function(){var e=this.getSelectedCell();return!!e&&e.row===this.model.columnModels[0].cells.length},t.prototype.isRightFocused=function(){var e=this.getSelectedCell();return!!e&&e.column===this.model.columnModels.length-1},t.prototype.isFocused=function(){return!!this.getSelectedCell()},t.prototype.onKeydown=function(e){this.controller.isInEditListMode()||!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||("Up"===r.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToFirstCellInColumn()):"Down"===r.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToLastCellInColumn()):"Left"===r.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToFirstCellInRow()):"Right"===r.lookup(e)?(e.preventDefault(),e.stopPropagation(),this.moveToLastCellInRow()):"H"===r.lookupChar(e)&&(e.preventDefault(),e.stopPropagation(),this.speakColumnHeader()))},t.prototype.moveToFirstCellInColumn=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:0,column:e.column}}})},t.prototype.moveToLastCellInColumn=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:this.model.rowModels.length-1,column:e.column}}})},t.prototype.moveToFirstCellInRow=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:e.row,column:0}}})},t.prototype.moveToLastCellInRow=function(){var e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:e.row,column:this.model.columnModels[0].cells.length-1}}})},t.prototype.speakColumnHeader=function(){var e=this.controller.s("graphing-calculator-narration-table-no-column-header"),t=this.getSelectedCell();if(t){var n=this.model.rowModels[0].cells[t.column];n&&"header"===n.type&&n.latex&&""!==n.latex&&(e=d.MQ.StaticMath(document.createElement("span")).latex(n.latex).mathspeak())}i.alert(e)},t.prototype.focusHelperOptions=function(){return{controller:this.controller,location:{type:"table-container",id:this.model.id}}},t.prototype.shouldBeFocused=function(){return f.defaultShouldBeFocused(this.focusHelperOptions())},t.prototype.onFocusedChanged=function(e){if(this.controller.isInEditListMode())return f.defaultOnFocusChanged(this.focusHelperOptions(),e)},t}(o.default);t.default=y})),i("loadcss!expressions/folder-view",(function(){})),i("expressions/folder-view",["require","exports","tslib","./expression-edit-actions","./abstract-item-view","./smart_textarea","dcgview","./circular-icon-view","jquery.handleevent","loadcss!./folder-view"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e=this;return a.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressionfolder":!0,"dcg-inFolder":!1,"dcg-selected":e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-collapsed":!!e.model.collapsed,"dcg-hidden":!!e.model.hidden,"dcg-has-items":e.controller.getNumberOfItemsInFolder(e.id)>0,"dcg-secretFolder":e.model.secret&&!e.controller.canAdministerSecretFolders()}},"expr-id":function(){return e.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},a.createElement("div",{class:a.const("dcg-fade-container")},a.createElement("div",{class:a.const("dcg-main")},a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),"aria-pressed":function(){return e.model.collapsed},"aria-label":function(){return e.controller.s("graphing-calculator-narration-collapse-folder")},class:a.const("dcg-caret-container dcg-action-toggle-folder-collapsed dcg-do-not-blur"),handleEvent:a.const("true"),onTap:this.bindFn(this.toggleCollapsed)},a.createElement("i",{class:a.const("dcg-icon-caret-down")})),a.createElement(o.default,{shouldFocus:this.bindFn(this.isFocused),text:function(){return e.model.title},placeholder:function(){return e.controller.s("graphing-calculator-text-note-placeholder")},showLinks:function(){return e.controller.areLinksEnabled()},onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),ariaLabel:this.bindFn(this.getAriaLabel),readonly:function(){return e.controller.isInEditListMode()},readonlyAction:this.bindFn(this.exitEditListMode)}),a.createElement("div",{role:a.const("checkbox"),"aria-checked":function(){return e.model.secret},"aria-label":function(){return e.controller.s("graphing-calculator-button-hide-folder-from-students")},class:function(){return{"dcg-action-toggle-secret-folder":!0,"dcg-do-not-blur":!0,"dcg-checked":e.model.secret}},style:function(){return{display:e.controller.canAdministerSecretFolders()?void 0:"none"}},handleEvent:a.const("true"),onTap:this.bindFn(this.toggleSecret)},a.createElement("span",{class:a.const("dcg-checkbox-box")},a.createElement("i",{class:a.const("dcg-icon-check")})),a.createElement("span",{class:a.const("dcg-checkbox-label")},(function(){return e.controller.s("graphing-calculator-button-hide-folder-from-students-2")})))),a.createElement("i",{class:a.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:a.const("true"),onTap:this.bindFn(this.onDelete)})),a.createElement("span",{class:a.const("dcg-tab dcg-action-drag"),handleevent:a.const("true"),tapboundary:a.const("true"),disablescroll:a.const("true"),style:a.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},a.createElement("span",{class:a.const("dcg-num")},(function(){return e.model.displayIndex})),a.createElement("div",{class:a.const("dcg-tab-interior")},a.createElement("span",{role:a.const("button"),tabindex:a.const("0"),"aria-pressed":function(){return!!e.model.hidden},"aria-label":function(){return e.controller.s("graphing-calculator-narration-hide-folder")},class:a.const("dcg-circular-icon-container dcg-expression-icon-container"),onTap:this.bindFn(this.toggleHidden)},a.createElement(s.CircularIconView,{iconType:function(){return e.model.hidden?"hidden":"folder"},whiteIcon:function(){return e.controller.isItemSelected(e.model.id)||e.controller.isItemBeingDragged(e.model.id)}})))),a.createElement(r.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},t.prototype.toggleHidden=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.id})},t.prototype.toggleSecret=function(){this.controller.dispatch({type:"set-item-secret",id:this.id,isSecret:!this.model.secret})},t.prototype.toggleCollapsed=function(){this.controller.dispatch({type:"set-folder-collapsed",id:this.id,isCollapsed:!this.model.collapsed})},t.prototype.onInput=function(e){this.controller.dispatch({type:"set-folder-title",id:this.id,title:e})},t.prototype.onFocusChange=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"folder",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"folder",id:this.id}})},t.prototype.onSpecialKey=function(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})},t.prototype.isFocused=function(){var e=this.controller.getFocusLocation();return!(!e||"folder"!==e.type||e.id!==this.id)},t.prototype.getAriaLabel=function(){var e="";this.model.hidden||this.model.collapsed||this.model.secret?!this.model.hidden||this.model.collapsed||this.model.secret?this.model.hidden||!this.model.collapsed||this.model.secret?this.model.hidden||this.model.collapsed||!this.model.secret?this.model.hidden&&this.model.collapsed&&!this.model.secret?e=this.controller.s("graphing-calculator-narration-description-hidden-collapsed-folder"):this.model.hidden&&!this.model.collapsed&&this.model.secret?e=this.controller.s("graphing-calculator-narration-description-hidden-secret-folder"):!this.model.hidden&&this.model.collapsed&&this.model.secret?e=this.controller.s("graphing-calculator-narration-description-collapsed-secret-folder"):this.model.hidden&&this.model.collapsed&&this.model.secret&&(e=this.controller.s("graphing-calculator-narration-description-hidden-collapsed-secret-folder")):e=this.controller.s("graphing-calculator-narration-description-secret-folder"):e=this.controller.s("graphing-calculator-narration-description-collapsed-folder"):e=this.controller.s("graphing-calculator-narration-description-hidden-folder"):e=this.controller.s("graphing-calculator-narration-description-folder");var t=this.controller.getNumberOfItemsInFolder(this.id);return t>0?this.controller.s("graphing-calculator-narration-folder-has-items",{folder:e,count:t}):e},t}(i.default);t.default=c})),i("lib/coerce-url",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.coerceURL=void 0,t.coerceURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),i("loadcss!expressions/image-icon-view",(function(){})),i("expressions/image-icon-view",["require","exports","tslib","lib/coerce-url","dcgview","main/manage-focus-helper","../dcgview-helpers/tooltipped-error","./circular-icon-view","jquery.handleevent","loadcss!./image-icon-view"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=i.Components.SwitchUnion,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-expression-icon-container dcg-image-icon-container")},c(this.bindFn(this.typeOfIcon),{error:function(){return i.createElement(a.TooltippedError,{error:function(){return e.controller.unpack(e.model.error)},isWhite:e.bindFn(e.isSelected),gravity:e.const("se")})},failed:function(){return i.createElement("span",null)},loading:function(){return i.createElement(s.CircularIconView,{iconType:e.const("loading")})},hidden:function(){return e.buildIconView()},image:function(){return e.buildIconView()}}))},t.prototype.buildIconView=function(){var e=this;return i.createElement("div",{class:i.const("dcg-circular-icon-container"),role:i.const("button"),tabindex:i.const("0"),"model-id":function(){return e.model.id},"aria-label":this.bindFn(this.getIconAriaLabel),onTap:function(t){if(!t.wasHandled("dragdrop")&&!t.wasLongheld())return e.myOptionsOpen()||e.controller.isInEditListMode()||t.shiftKey?e.toggleOptions(t):void e.toggleImageShown()},onLongHold:function(t){t.handle("dcg-longhold"),t.handle("dcg-tap"),e.toggleOptions(t)},manageFocus:this.const(o.manageFocusHelper({controller:this.controller,location:{type:"image-icon",id:this.model.id}}))},i.createElement(s.CircularIconView,{iconType:function(){return"hidden"===e.typeOfIcon()?"hidden":"background"},backgroundImage:this.bindFn(this.getBackgroundImage),backgroundOpacity:this.const(1),whiteIcon:this.bindFn(this.isSelected)}))},t.prototype.isSelected=function(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)},t.prototype.typeOfIcon=function(){return"loading"===this.model.loadStatus?"loading":"failed"===this.model.loadStatus?"failed":this.hasError()?"error":this.model.shouldGraph?"image":"hidden"},t.prototype.myOptionsOpen=function(){var e=this.controller.getOpenItemMenu();return!!e&&e.model===this.model},t.prototype.toggleOptions=function(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"image",model:this.model,focusFirstOption:"keyboard"===e.device}})},t.prototype.hasError=function(){return!!this.model.error&&"none"===this.controller.getBrailleMode()},t.prototype.getBackgroundImage=function(){return this.model.image_url===this.lastURL||(this.lastURL=this.model.image_url,this.lastEncodedURL='url("'+r.coerceURL(this.model.image_url)+'")'),this.lastEncodedURL},t.prototype.toggleImageShown=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id}),this.controller.dispatch({type:"set-focus-location",location:{type:"image-icon",id:this.model.id}})},t.prototype.getIconAriaLabel=function(){return this.myOptionsOpen()?this.controller.s("graphing-calculator-narration-hide-options"):this.controller.isInEditListMode()?this.controller.s("graphing-calculator-narration-show-options"):this.model.hidden?this.controller.s("graphing-calculator-narration-show-image"):this.controller.s("graphing-calculator-narration-hide-image")},t}(i.Class);t.default=l})),i("expressions/image-upload-view",["require","exports","tslib","dcgview","jquery","main/manage-focus-helper"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ImageUploadView=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){return r.createElement("div",{class:r.const("dcg-do-not-blur"),onTap:this.bindFn(this.newImage),handleEvent:r.const("true"),role:r.const("button"),tabindex:r.const(0),"aria-label":this.props.ariaLabel,manageFocus:this.const(this.props.location?o.manageFocusHelper({controller:this.controller,location:this.props.location()}):void 0)},this.children,r.createElement("input",{type:r.const("file"),accept:r.const("image/*"),style:r.const("display: none"),didMount:this.bindFn(this.didMountFileInput)}))},t.prototype.didMountFileInput=function(e){var t=this;this.fileInputNode=e,i(e).on("change",(function(){t.props.onFileChange(e.files),i(e).val("")}))},t.prototype.newImage=function(){this.fileInputNode.click()},t}(r.Class);t.ImageUploadView=a})),i("loadcss!expressions/image-view",(function(){})),i("expressions/image-view",["require","exports","tslib","keys","jquery","underscore","./abstract-item-view","./smart_textarea","dcgview","dcgview-helpers/mathquill-view","lib/conditional_blur","expressions/promptslider_view","./image-icon-view","./image-upload-view","main/mathquill-operators","graphing-calc/models/image","./expression-edit-actions","../shared-components/mathquill-braille-wrapper","./expression_view","./action-info-view","jquery.handleevent","loadcss!./image-view"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v){Object.defineProperty(t,"__esModule",{value:!0});var x=c.Components,w=x.If,A=x.SwitchUnion,E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return c.createElement("div",{class:function(){return{"dcg-image-input-mathquill":!0,"dcg-suffix-degree":"angle"===e.props.name()&&e.props.controller().getGraphSettings().degreeMode,"dcg-suffix-radian":"angle"===e.props.name()&&!e.props.controller().getGraphSettings().degreeMode}}},c.createElement(y.default,n.__assign({latex:function(){return e.model[e.props.name()]},brailleShouldFocus:function(){return e.props.focusedInput()===e.props.name()},selectOnFocus:this.const(!0),onBrailleInput:this.bindFn(this.handleLatexChanged),onBrailleFocusedChanged:this.bindFn(this.handleMQFocusedChanged),onBrailleKeydown:this.bindFn(this.handleBrailleKeydown),hasError:function(){return f.hasInputError(e.model,e.props.name())},ariaLabel:function(){return e.controller.raw(e.props.name())}},b.getBrailleWrapperProps(this.props.controller())),c.createElement(l.default,{latex:function(){return e.model[e.props.name()]},isFocused:function(){return e.props.focusedInput()===e.props.name()},capExpressionSize:function(){return e.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.bindFn(this.getMQConfig),getAriaLabel:function(){return e.controller.raw(e.props.name())},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(t,n){return e.handlePressedKey(t,n)},onUserChangedLatex:this.bindFn(this.handleLatexChanged),onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:this.bindFn(this.handleMQFocusedChanged),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}},c.createElement("span",{class:function(){return{"dcg-focus":e.props.focusedInput()===e.props.name(),"dcg-invalid":f.hasInputError(e.model,e.props.name())}}}))))},t.prototype.getInputs=function(){return["center","width","angle","height","opacity"]},t.prototype.handlePressedKey=function(e,t){var n=this.props.name(),r=l.default.getFocusedMathquill(),o=this.getInputs(),a=o.indexOf(n);if(!this.controller.isInEditListMode()){if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});if("Esc"===e)return void d.default()}var s=-1;"Up"===e&&(s=1===a?4:a-2),"Down"===e&&(s=4===a?1:a+2),"Left"===e&&(s=a-1),"Right"===e&&(s=a+1);var c=e;if(s>=0&&s<o.length){var u=!1;if(r)u=l.default.applyArrowKeyAndReturnIfWasAtBounds(r,c,t);else if("Up"===e||"Down"===e)u=!0;else{var p=y.getFocusedBrailleElement();u=p&&("Left"===e&&0===p.selectionStart||"Right"===e&&p.selectionStart===i(p).val().length)}u&&(this.focusInput(o[s]),t&&t.preventDefault())}else r&&(r.keystroke(e,t),this.handleLatexChanged(r.latex()))},t.prototype.handleBrailleKeydown=function(e){var t=r.lookup(e);t&&this.handlePressedKey(t,e)},t.prototype.focusInput=function(e){this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.model.id,location:e}})},t.prototype.anyInputHasError=function(){var e=this;return o.any(this.getInputs(),(function(t){return f.hasInputError(e.model,t)}))},t.prototype.handleLatexChanged=function(e){var t=this.props.name();this.model.draggingOnGraphpaper||f.getMQAttribute(this.model,t)!==e&&this.controller.dispatch({type:"set-image-mq-attribute",id:this.model.id,attribute:t,latex:e})},t.prototype.handleMQFocusedChanged=function(e){var t=this.props.name();e?this.props.focusedInput()!==t&&this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.model.id,location:t}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.model.id,location:t}})},t.prototype.getMQConfig=function(){return{autoOperatorNames:h.getAutoOperators()}},t}(c.Class),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e=this;return c.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressionimage":!0,"dcg-inFolder":!!e.model.folderId,"dcg-selected":e.controller.isItemSelected(e.id),"dcg-dragging":!!e.controller.isItemBeingDragged(e.id),"dcg-input-focused":e.getFocusedInput()&&"name"!==e.getFocusedInput()}},"expr-id":function(){return e.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},c.createElement("div",{class:c.const("dcg-fade-container")},c.createElement("div",{class:c.const("dcg-main")},A((function(){return e.model.loadStatus}),{failed:function(){return c.createElement("div",null,c.createElement("div",{class:c.const("dcg-image-failed")},(function(){return e.controller.s("graphing-calculator-error-failed-to-load-image")})),c.createElement("div",{role:c.const("button"),tabindex:c.const(0),class:c.const("dcg-retry-loading-image"),onTap:e.bindFn(e.onRetryLoad)},(function(){return e.controller.s("graphing-calculator-button-load-image-retry")})))},loading:function(){return c.createElement("div",null,c.createElement("div",{class:c.const("dcg-image-loading")},(function(){return e.controller.s("graphing-calculator-text-loading-image")})),c.createElement("div",{role:c.const("button"),tabindex:c.const(0),class:c.const("dcg-retry-loading-image"),onTap:e.bindFn(e.onRetryLoad)},(function(){return e.controller.s("graphing-calculator-button-load-image-retry")})))},loaded:function(){return c.createElement("div",{class:c.const("dcg-image-loaded")},c.createElement("div",{class:c.const("dcg-image-title-row")},c.createElement(s.default,{shouldFocus:function(){return"name"===e.getFocusedInput()},text:function(){return e.model.name},placeholder:function(){return e.controller.s("graphing-calculator-text-image-enter-note-placeholder")},showLinks:function(){return e.controller.areLinksEnabled()},onInput:e.bindFn(e.onNameInput),onFocusChange:e.bindFn(e.onNameFocusChange),onSpecialKey:e.bindFn(e.onNameSpecialKey),readonly:e.const(!1)}),c.createElement(w,{predicate:function(){return e.controller.areImagesEnabled()}},(function(){return c.createElement(g.ImageUploadView,{controller:function(){return e.controller},ariaLabel:function(){return e.controller.s("graphing-calculator-button-change-image")},onFileChange:function(t){return e.insertFiles(t)},location:e.const({type:"change-image-btn",id:e.id})},c.createElement("div",{class:c.const("dcg-action-changeimage")},(function(){return e.controller.s("graphing-calculator-button-change-image")})))}))),c.createElement("div",{class:function(){return{"dcg-do-blur":!0,"dcg-image-input-grid":!0}},handleEvent:c.const("true")},c.createElement("div",{class:c.const("dcg-image-input-name")},(function(){return e.controller.s("graphing-calculator-label-image-center")})),c.createElement(E,{name:e.const("center"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),c.createElement("div",{class:c.const("dcg-image-input-name")},(function(){return e.controller.s("graphing-calculator-label-image-width")})),c.createElement(E,{name:e.const("width"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),c.createElement("div",{class:c.const("dcg-image-input-name")},(function(){return e.controller.s("graphing-calculator-label-image-angle")})),c.createElement(E,{name:e.const("angle"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),c.createElement("div",{class:c.const("dcg-image-input-name")},(function(){return e.controller.s("graphing-calculator-label-image-height")})),c.createElement(E,{name:e.const("height"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)}),c.createElement("div",{class:c.const("dcg-image-input-name")},(function(){return e.controller.s("graphing-calculator-label-image-opacity")})),c.createElement(E,{name:e.const("opacity"),controller:function(){return e.controller},model:function(){return e.model},focusedInput:e.bindFn(e.getFocusedInput)})))}})),c.createElement("span",{class:c.const("dcg-fadeout")}),c.createElement("i",{class:c.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:c.const("true"),onTap:this.bindFn(this.onDelete)}),c.createElement(w,{predicate:this.bindFn(this.shouldShowBrailleError)},(function(){return c.createElement("div",{class:e.getFooterClass()},c.createElement("div",{tabindex:c.const(0),class:c.const("dcg-expression-braille-error"),"aria-roledescription":c.const("error"),"aria-label":function(){return e.controller.unpack(e.model.error)}},c.createElement("i",{class:c.const("dcg-icon-error")}),(function(){return e.controller.unpack(e.model.error)})))})),c.createElement(w,{predicate:function(){return f.getMissingVariables(e.model).length>0&&e.controller.areSlidersEnabled()}},(function(){return c.createElement("div",{class:e.getFooterClass()},c.createElement(u.default,{model:e.props.model,controller:e.props.controller}))})),c.createElement(w,{predicate:this.bindFn(this.shouldShowActionInfo)},(function(){return c.createElement("div",{class:e.getFooterClass()},c.createElement(v.default,{model:e.props.model,controller:e.props.controller}))}))),c.createElement("span",{class:c.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:c.const("true"),tapboundary:c.const("true"),disablescroll:c.const("true"),style:c.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},c.createElement("span",{class:c.const("dcg-num")},(function(){return e.model.displayIndex})),c.createElement("div",{class:c.const("dcg-tab-interior dcg-action-icon-mouse")},c.createElement(p.default,{model:this.props.model,controller:this.props.controller}))),c.createElement(m.ExpressionEditActions,{controller:this.props.controller,id:function(){return e.model.id}}))},t.prototype.shouldShowActionInfo=function(){return!!(this.model.clickableInfo&&this.model.clickableInfo.enabled&&this.model.clickableInfo.latex)},t.prototype.getFooterClass=function(){return this.isFirstRender()?this.const("dcg-expression-bottom dcg-indent-in-folder"):this.const("dcg-expression-bottom dcg-fadein-bottom dcg-indent-in-folder")},t.prototype.onNameInput=function(e){this.controller.dispatch({type:"set-image-name",id:this.id,name:e})},t.prototype.onNameFocusChange=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.id,location:"name"}}):"name"===this.getFocusedInput()&&this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.id,location:"name"}})},t.prototype.onNameSpecialKey=function(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})},t.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"image"===e.type&&e.id===this.model.id)return e.location},t.prototype.onRetryLoad=function(){this.controller.dispatch({type:"image-retry-loading",id:this.id})},t.prototype.shouldShowBrailleError=function(){return"none"!==this.controller.getBrailleMode()&&!!this.model.error},t.prototype.insertFiles=function(e){this.controller.dispatch({type:"change-image",files:e,id:this.id})},t.prototype.onMouseSelect=function(e){"dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id}))},t}(a.default);t.default=k})),i("expressions/shell_view",["require","exports","tslib","dcgview","./abstract-item-view"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.didMount=function(){this.onItemViewMounted()},t.prototype.willUnmount=function(){this.onItemViewUnmounted()},t.prototype.template=function(){var e="";return this.model.cachedRenderHeight&&(e="height:"+this.model.cachedRenderHeight+"px"),r.createElement("div",{class:r.const("dcg-do-not-blur dcg-expressionitem dcg-shell"),"expr-id":this.const(this.model.id),onTap:this.bindFn(this.onMouseSelect),style:r.const(e)})},t}(i.default);t.default=o})),i("expressions/drag_container_view",["require","exports","tslib","dcgview"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-drag-container"),style:function(){return{top:e.getTopPx()}}},this.children)},t.prototype.getTopPx=function(){var e=this.controller.getRawDragState();if(e)return e.itemTop+"px"},t}(r.Class);t.default=i})),i("vendor/papaparse",["require","jquery"],(function(e){var t=e("jquery"),n="",r=!1,i=!1,o=0,a=void 0,s="",c=void 0,l=void 0,d=!1,u=!1,p={};function g(e){(e=e||{}).chunkSize||(e.chunkSize=p.RemoteChunkSize);var t,n,r=0,i="",o="",a=new f(y(e));this.stream=function(s){function c(){if(4==t.readyState)if(t.status<200||t.status>=400)l();else{i+=o+t.responseText,o="";var s=!e.step||r>function(e){var t=e.getResponseHeader("Content-Range");return parseInt(t.substr(t.lastIndexOf("/")+1))}(t);if(!s){var c=i.lastIndexOf("\n");if(c<0&&(c=i.lastIndexOf("\r")),!(c>-1))return void n();o=i.substring(c+1),i=i.substring(0,c)}var d=a.parse(i);i="",b(e.chunk)&&(e.chunk(d),d=void 0),s||d.meta.paused||n()}}function l(){b(e.error)&&e.error(t.statusText)}(n=function(){!function(){if((t=new XMLHttpRequest).onload=c,t.onerror=l,t.open("GET",s,!0),e.step){var n=r+e.chunkSize-1;t.setRequestHeader("Range","bytes="+r+"-"+n)}t.send(),r+=e.chunkSize}()})()}}function h(e){(e=e||{}).chunkSize||(e.chunkSize=p.LocalChunkSize);var t,n=0,r="",i="",o=new f(y(e)),a="function"==typeof FileReader;this.stream=function(s){var c=s.slice||s.webkitSlice||s.mozSlice;function l(){var r,i;n<s.size&&(r=Math.min(n+e.chunkSize,s.size),i=t.readAsText(c.call(s,n,r),e.encoding),a||d({target:{result:i}}))}function d(t){n+=e.chunkSize,r+=i+t.target.result,i="";var a=n>=s.size;if(!a){var c=r.lastIndexOf("\n");if(c<0&&(c=r.lastIndexOf("\r")),!(c>-1))return void l();i=r.substring(c+1),r=r.substring(0,c)}var d=o.parse(r);r="",b(e.chunk)&&(e.chunk(d,s),d=void 0),a||d.meta.paused||l()}a?((t=new FileReader).onload=d,t.onerror=function(){b(e.error)&&e.error(t.error,s)}):t=new FileReaderSync,l()}}function f(e){var t,n,r,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=this,a=!1,s=[],c={data:[],errors:[],meta:{}};function l(){return c&&r&&(g("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),r=!1),d()&&function(){if(c){for(var e=0;d()&&e<c.data.length;e++)for(var t=0;t<c.data[e].length;t++)s.push(c.data[e][t]);c.data.splice(0,1)}}(),function(){if(!c||!e.header&&!e.dynamicTyping)return c;for(var t=0;t<c.data.length;t++){for(var n={},r=0;r<c.data[t].length;r++){if(e.dynamicTyping){var i=c.data[t][r];c.data[t][r]="true"==i||"false"!=i&&u(i)}e.header&&(r>=s.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(c.data[t][r])):n[s[r]]=c.data[t][r])}e.header&&(c.data[t]=n,r>s.length?g("FieldMismatch","TooManyFields","Too many fields: expected "+s.length+" fields but parsed "+r,t):r<s.length&&g("FieldMismatch","TooFewFields","Too few fields: expected "+s.length+" fields but parsed "+r,t))}return e.header&&c.meta&&(c.meta.fields=s),c}()}function d(){return e.header&&0==s.length}function u(e){return i.test(e)?parseFloat(e):e}function g(e,t,n,r){c.errors.push({type:e,code:t,message:n,row:r})}e=y(e),this.parse=function(i){if(r=!1,!e.delimiter){var s=function(t){for(var n,r,i,o=[",","\t","|",";",p.RECORD_SEP,p.UNIT_SEP],a=0;a<o.length;a++){var s=o[a],c=0,l=0;i=void 0;for(var d=new m({delimiter:s,preview:10}).parse(t),u=0;u<d.data.length;u++){var g=d.data[u].length;l+=g,void 0!==i?g>1&&(c+=Math.abs(g-i),i=g):i=g}l/=d.data.length,(void 0===r||c<r)&&l>1.99&&(r=c,n=s)}return e.delimiter=n,{successful:!!n,bestDelimiter:n}}(i);s.successful?e.delimiter=s.bestDelimiter:(r=!0,e.delimiter=p.DefaultDelimiter),c.meta.delimiter=e.delimiter}if(b(e.step)){var u=e.step;e.step=function(e){c=e,d()?l():u(l(),o)}}return e.preview&&e.header&&e.preview++,t=i,n=new m(e),c=n.parse(t),l(),b(e.complete)&&!a&&e.complete(c),a?{meta:{paused:!0}}:c},this.pause=function(){a=!0,n.abort(),t=t.substr(n.getCharIndex())},this.resume=function(){a=!1,(n=new m(e)).parse(t),b(e.complete)&&!a&&e.complete(c)},this.abort=function(){n.abort(),b(e.complete)&&e.complete(c),t=""}}function m(e){var t,n,r,i,o,a,s,c,l,d,u,g,h,f,m=/^\s*$/,y=!1;function v(){s++,a=t[s]}function x(){d[g][h]+=a}function w(){d[g].push(""),h=d[g].length-1}function A(){E(),l++,f++,d.push([]),g=d.length-1,w()}function E(){1==d[g].length&&m.test(d[g][0])&&(e.keepEmptyRows?d[g].splice(0,1):d.splice(g,1),g=d.length-1),b(i)&&(d[g]&&i(L()),T())}function k(e){return e<t.length-1&&("\r"==t[e]&&"\n"==t[e+1]||"\n"==t[e]&&"\r"==t[e+1])}function I(e){return"\r"==t[e]||"\n"==t[e]}function S(){return!M()&&s<t.length-1&&'"'==t[s+1]}function M(){return!c&&C(s-1)||C(s+1)}function C(e){"number"!=typeof e&&(e=s);var r=t[e];return e<=-1||e>=t.length||r==n||"\r"==r||"\n"==r}function D(e,t,n){u.push({type:e,code:t,message:n,line:l,row:g,index:s})}function T(){d=[],u=[],g=0,h=0}function L(){return{data:d,errors:u,meta:{lines:l,delimiter:n,aborted:y,truncated:o>0&&s<t.length}}}n=(e=e||{}).delimiter,r=e.comments,i=e.step,o=e.preview,("string"!=typeof n||1!=n.length||p.BAD_DELIMITERS.indexOf(n)>-1)&&(n=","),!0===r?r="#":("string"!=typeof r||1!=r.length||p.BAD_DELIMITERS.indexOf(r)>-1||r==n)&&(r=!1),this.parse=function(e){if("string"!=typeof e)throw"Input must be a string";return function(e){t=e,c=!1,s=0,f=0,l=1,T(),d=[[""]],a=t[s]}(e),function(){for(;s<t.length&&!y&&!(o>0&&f>=o);)'"'==a?M()&&!S()?c=!c:(x(),c&&S()?s++:D("Quotes","UnexpectedQuotes","Unexpected quotes")):c?((k(s)||I(s))&&l++,x()):a==n?w():k(s)?(A(),v()):I(s)?A():r&&(0==s||I(s-1)||k(s-2))&&t[s]===r?function(){for(;!k(s)&&!I(s)&&s<t.length;)v()}():x(),v();return function(){if(y&&D("Abort","ParseAbort","Parsing was aborted by the user's step function"),c&&D("Quotes","MissingQuotes","Unescaped or mismatched quotes"),E(),!b(i))return L()}()}()},this.abort=function(){y=!0},this.getCharIndex=function(){return s}}function y(e){if("object"!=_typeof(e))return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=y(e[n]);return t}function b(e){return"function"==typeof e}return p.parse=function(e,t){var m=function(e){"object"!=_typeof(e)&&(e={});var t=y(e);return("string"!=typeof t.delimiter||1!=t.delimiter.length||p.BAD_DELIMITERS.indexOf(t.delimiter)>-1)&&(t.delimiter=n),"boolean"!=typeof t.header&&(t.header=r),"boolean"!=typeof t.dynamicTyping&&(t.dynamicTyping=i),"number"!=typeof t.preview&&(t.preview=o),"function"!=typeof t.step&&(t.step=a),"function"!=typeof t.complete&&(t.complete=c),"function"!=typeof t.error&&(t.error=l),"string"!=typeof t.encoding&&(t.encoding=s),"boolean"!=typeof t.download&&(t.download=d),"boolean"!=typeof t.keepEmptyRows&&(t.keepEmptyRows=u),t}(t);if("string"==typeof e){if(!m.download)return new f(m).parse(e);new g(m).stream(e)}else e instanceof File&&(m.step||m.chunk?new h(m).stream(e):(new f(m),reader=new FileReader,reader.onload=function(e){new f(m).parse(e.target.result)},reader.onerror=function(){b(m.error)&&m.error(reader.error,e)},reader.readAsText(e,m.encoding)))},p.unparse=function(e,t){var n=!1,r=",",i="\r\n";if("object"==_typeof(t)&&("string"==typeof t.delimiter&&1==t.delimiter.length&&-1==p.BAD_DELIMITERS.indexOf(t.delimiter)&&(r=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(n=t.quotes),"string"==typeof t.newline&&(i=t.newline)),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return a(null,e);if("object"==_typeof(e[0]))return a(o(e[0]),e)}else if("object"==_typeof(e))return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:o(e.data[0])),e.data[0]instanceof Array||"object"==_typeof(e.data[0])||(e.data=[e.data])),a(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input";function o(e){if("object"!=_typeof(e))return[];var t=[];for(var n in e)t.push(n);return t}function a(e,t){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var o=e instanceof Array&&e.length>0,a=!(t[0]instanceof Array);if(o){for(var c=0;c<e.length;c++)c>0&&(n+=r),n+=s(e[c],c);t.length>0&&(n+=i)}for(var l=0;l<t.length;l++){for(var d=o?e.length:t[l].length,u=0;u<d;u++){u>0&&(n+=r);var p=o&&a?e[u]:u;n+=s(t[l][p],u)}l<t.length-1&&(n+=i)}return n}function s(e,t){return null==e?"":(e=e.toString().replace(/"/g,'""'),"boolean"==typeof n&&n||n instanceof Array&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}(e,p.BAD_DELIMITERS)||e.indexOf(r)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1)?'"'+e+'"':e)}},p.RECORD_SEP=String.fromCharCode(30),p.UNIT_SEP=String.fromCharCode(31),p.BYTE_ORDER_MARK="\ufeff",p.BAD_DELIMITERS=["\r","\n",'"',p.BYTE_ORDER_MARK],p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=m,p.ParserHandle=f,p.NetworkStreamer=g,p.FileStreamer=h,t.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!=t(this).prop("tagName").toUpperCase()||"file"!=t(this).attr("type").toLowerCase()||!window.FileReader||!this.files||0==this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:t.extend({},n)})})),i(),this;function i(){if(0!=r.length){var n,i,a,s=r[0];if(b(e.before)){var c=e.before(s.file,s.inputElem);if("object"==_typeof(c)){if("abort"==c.action)return n=s.file,i=s.inputElem,a=c.reason,void(b(e.error)&&e.error({name:"AbortError"},n,i,a));if("skip"==c.action)return void o();"object"==_typeof(c.config)&&(s.instanceConfig=t.extend(s.instanceConfig,c.config))}else if("skip"==c)return void o()}var l=s.instanceConfig.complete;s.instanceConfig.complete=function(e){b(l)&&l(e,s.file,s.inputElem),o()},p.parse(s.file,s.instanceConfig)}}function o(){r.splice(0,1),i()}},p})),i("geometry/math/isNumber",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=void 0,t.isNumber=function(e){var t;if("number"==typeof e)t=e+"";else{if("string"!=typeof e)return!1;t=e}return t.trim().match(/^-?[0-9]*\.?[0-9]*$/)}})),i("main/data_helpers",["require","exports","vendor/papaparse","underscore","bugsnag","geometry/math/isNumber"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.getExpressions=void 0,t.getExpressions=function(e){var t=e.split(/\r?\n/),n=[],i=!1;if(!(t.length<2)){for(var a=0;a<t.length;a++){var s=t[a];if(s.trim()){a>0&&!o.isNumber(s.replace(/,(\d{3})/g,"$1"))&&(i=!0);var c={content:s};n.push(c)}}if(!i){var l=r.pluck(n,"content").map((function(e){return e.replace(/,(\d{3})/g,"$1")}));return o.isNumber(l[0])||(l=l.slice(1)),[{content:"\\left["+l.join(",")+"\\right]",numberList:!0}]}return n}},t.parse=function(e){if(!/^\s*$/.test(e)){var t=n.parse(e,{preview:1e3}),r=[];if(!t.errors.length||t.data.length){if(t.data.length&&!(t.data.length<2)){for(var o=t.data[0].length,a=0;a<o;a++)r.push([]);for(var s=0;s<t.data.length;s++)if(0!==s||!isNaN(parseFloat(t.data[s][0]))){if(t.data[s].length<2)return;if(t.data[s][0]||t.data[s][1])for(a=0;a<o;a++){var c=(t.data[s][a]||"").replace(/,(\d{3})/g,"$1");if(c&&isNaN(parseFloat(c)))return;r[a].push(c)}}if(!(r[0].length<2))return r}}else i.notify("PapaParse.parse returned errors.",{metaData:{input:e,output:t.errors}})}}})),i("loadcss!new_expression",(function(){})),i("expressions/new_expression_view",["require","exports","tslib","dcgview","loadcss!new_expression"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return this.controller=this.props.controller(),r.createElement("div",{class:r.const("dcg-expressionitem dcg-new-expression dcg-opened")},r.createElement("div",{class:r.const("dcg-new-math-div dcg-do-not-blur dcg-action-newmath"),onTap:this.bindFn(this.newMath)},r.createElement("div",{class:r.const("dcg-new-expression-fade")})),r.createElement("span",{class:r.const("dcg-tab")},r.createElement("span",{class:r.const("dcg-num dcg-variable-index")},this.bindFn(this.getIndex)),r.createElement("div",{class:r.const("dcg-tab-interior")})))},t.prototype.getIndex=function(){return this.controller.getNextDisplayIndex()},t.prototype.newMath=function(){this.controller.dispatch({type:"new-expression-at-end"})},t}(r.Class);t.default=i})),i("loadcss!add_expression",(function(){})),i("expressions/add_expression_view",["require","exports","tslib","keys","browser","dcgview","jquery","./image-upload-view","main/manage-focus-helper","../shared-components/tooltip","loadcss!add_expression"],(function(e,t,n,r,i,o,a,s,c,l){Object.defineProperty(t,"__esModule",{value:!0});var d=o.Components.If,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-add-expression-container")},o.createElement(l.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-add-item-tooltip")},gravity:function(){return e.controller.isNarrow()?"ne":"se"}},o.createElement("span",{class:function(){return{"dcg-icon-btn":!0,"dcg-add-expression-btn":!0,"dcg-action-add-expression":!0,"dcg-do-blur":!0,"dcg-active":e.controller.isAddExpressionOpen()}},handleEvent:o.const("true"),role:o.const("button"),tabindex:o.const("0"),"aria-haspopup":o.const("true"),"aria-expanded":function(){return e.controller.isAddExpressionOpen()},"aria-label":function(){return e.controller.s("graphing-calculator-label-add-item-tooltip")},didMount:function(t){e.toggleButtonNode=t},onTap:this.bindFn(this.toggleAddExpression),manageFocus:this.const(c.manageFocusHelper({controller:this.controller,location:{type:"add-item-btn"}}))},o.createElement("i",{class:o.const("dcg-icon-plus")}))),o.createElement(d,{predicate:function(){return e.controller.isAddExpressionOpen()}},(function(){return o.createElement("div",{class:function(){return{"dcg-add-expression-dropdown":!0,"dcg-popover":!0,"dcg-bottom":!e.controller.isNarrow(),"dcg-right":e.controller.isNarrow()}},role:o.const("complementary"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-item-menu")},didMount:e.bindFn(e.didMountPopover),didUnmount:e.bindFn(e.didUnmountPopover)},o.createElement("div",{class:o.const("dcg-popover-interior")},o.createElement("div",{class:o.const("dcg-new-item dcg-do-not-blur dcg-action-newexpression"),role:o.const("button"),tabindex:o.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-expression")},onTap:e.bindFn(e.newExpression),handleEvent:o.const("true"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"add-expression-btn"}}))},o.createElement("i",{class:o.const("dcg-icon-new-expression dcg-expression-icon")}),(function(){return e.controller.s("graphing-calculator-label-expression-lowercase")})),o.createElement(d,{predicate:function(){return e.controller.areNotesEnabled()}},(function(){return o.createElement("div",{class:o.const("dcg-new-item dcg-do-not-blur dcg-action-newtext"),role:o.const("button"),tabindex:o.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-note")},onTap:e.bindFn(e.newText),handleEvent:o.const("true"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"add-note-btn"}}))},o.createElement("i",{class:o.const("dcg-icon-new-text dcg-expression-icon")}),(function(){return e.controller.s("graphing-calculator-label-note-lowercase")}))})),o.createElement("div",{class:o.const("dcg-new-item dcg-do-not-blur dcg-action-newtable"),role:o.const("button"),tabindex:o.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-table")},onTap:e.bindFn(e.newTable),handleEvent:o.const("true"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"add-table-btn"}}))},o.createElement("i",{class:o.const("dcg-icon-new-table dcg-expression-icon")}),(function(){return e.controller.s("graphing-calculator-label-table-lowercase")})),o.createElement(d,{predicate:function(){return e.controller.areFoldersEnabled()}},(function(){return o.createElement("div",{class:o.const("dcg-new-item dcg-do-not-blur dcg-action-newfolder"),role:o.const("button"),tabindex:o.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-folder")},onTap:e.bindFn(e.newFolder),handleEvent:o.const("true"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"add-folder-btn"}}))},o.createElement("i",{class:o.const("dcg-icon-new-folder dcg-expression-icon")}),(function(){return e.controller.s("graphing-calculator-label-folder-lowercase")}))})),o.createElement(d,{predicate:function(){return e.controller.areImagesEnabled()}},(function(){return o.createElement(s.ImageUploadView,{controller:function(){return e.controller},ariaLabel:function(){return e.controller.s("graphing-calculator-narration-add-image")},onFileChange:function(t){return e.insertFiles(t)},location:e.const({type:"add-image-btn"})},o.createElement("div",{class:o.const("dcg-new-item dcg-action-newimage")},o.createElement("i",{class:o.const("dcg-icon-new-image dcg-expression-icon")}),(function(){return e.controller.s("graphing-calculator-label-image-lowercase")})))})),o.createElement(d,{predicate:e.bindFn(e.showAddTicker)},(function(){return o.createElement("div",{class:o.const("dcg-new-item dcg-do-not-blur dcg-action-ticker"),role:o.const("button"),tabindex:o.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-narration-add-ticker")},onTap:e.bindFn(e.addTicker),handleEvent:o.const("true"),manageFocus:e.const(c.manageFocusHelper({controller:e.controller,location:{type:"add-ticker-btn"}}))},o.createElement("i",{class:o.const("dcg-icon-metronome dcg-expression-icon")}),(function(){return e.controller.s("graphing-calculator-label-ticker-lowercase")}))}))),o.createElement("span",{class:o.const("dcg-arrow")}))})))},t.prototype.showAddTicker=function(){return this.controller.areActionsEnabled()&&!this.controller.getTickerOpen()},t.prototype.didMountPopover=function(e){var t=this;this.popoverNode=e,a(document).on("dcg-tapstart.add-expression-view wheel.add-expression-view",(function(e){t.eventShouldClosePopover(e)&&t.controller.dispatch({type:"close-add-expression",focusIconAfterClose:"keyboard"===e.device})})),a(document).on("keydown.add-expression-view",(function(e){if("Esc"===r.lookup(e)&&t.controller.dispatch({type:"close-add-expression",focusIconAfterClose:!0}),"Tab"===r.lookup(e)&&!e.altKey&&!e.metaKey&&!e.ctrlKey){var n,i=t.controller.getFocusLocation();if(!i)return;n=t.showAddTicker()?{type:"add-ticker-btn"}:t.controller.areImagesEnabled()?{type:"add-image-btn"}:t.controller.areFoldersEnabled()?{type:"add-folder-btn"}:{type:"add-table-btn"},e.shiftKey||i.type!==n.type?e.shiftKey&&"add-item-btn"===i.type&&(t.controller.dispatch({type:"set-focus-location",location:n}),e.preventDefault(),e.stopPropagation()):(t.controller.dispatch({type:"set-focus-location",location:{type:"add-item-btn"}}),e.preventDefault(),e.stopPropagation())}})),i.IS_IPAD&&i.IS_IN_IFRAME&&a(e).on("dcg-tapstart",(function(e){return e.preventDefault()})),a(e).find(".dcg-new-item").on("touchstart",(function(e){return e.preventDefault()}))},t.prototype.didUnmountPopover=function(){a(document).off(".add-expression-view")},t.prototype.toggleAddExpression=function(e){this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:"keyboard"===e.device})},t.prototype.newExpression=function(){this.controller.dispatch({type:"new-expression"})},t.prototype.newText=function(){this.controller.dispatch({type:"new-text"})},t.prototype.newFolder=function(){this.controller.dispatch({type:"new-folder"})},t.prototype.addTicker=function(){this.controller.dispatch({type:"open-ticker"})},t.prototype.newTable=function(){this.controller.dispatch({type:"new-table"})},t.prototype.insertFiles=function(e){this.controller.dispatch({type:"new-images",files:e})},t.prototype.eventShouldClosePopover=function(e){var t=!!a(e.target).closest(this.popoverNode).length,n=!!a(e.target).closest(this.toggleButtonNode).length;return!(t||n)},t}(o.Class);t.default=u})),i("loadcss!expressions/expressions-header",(function(){})),i("expressions/expressions-header",["require","exports","tslib","./add_expression_view","dcgview","main/manage-focus-helper","../shared-components/tooltip","loadcss!./expressions-header"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=i.Components.If,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return i.createElement("div",{class:function(){return{"dcg-expression-top-bar":!0,"dcg-expressions-scrolled":e.showShadow()}},role:i.const("toolbar"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-expression-bar")},didMount:function(t){e.node=t},onTapStart:this.bindFn(this.clearSelectionOnMobile),style:function(){return{background:e.controller.hasBackgroundColor()?e.controller.getPillboxBackgroundColor():void 0}}},i.createElement("div",{class:i.const("dcg-left-buttons")},i.createElement(s,{predicate:this.bindFn(this.showHamburger)},(function(){return i.createElement("span",{class:i.const("dcg-action-opendrawer dcg-tooltip dcg-icon-btn dcg-in-api-action-opendrawer"),handleEvent:i.const("true"),tooltip:function(){return e.controller.s("graphing-calculator-label-open-graph-tooltip")},role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-open-graph")},onTap:function(){return e.controller.dispatch({type:"open-drawer"})}},i.createElement("i",{class:i.const("dcg-icon-hamburger")}))})),i.createElement(s,{predicate:function(){return!e.controller.isInEditListMode()}},(function(){return i.createElement(r.default,{controller:function(){return e.props.controller()}})})),i.createElement(s,{predicate:this.bindFn(this.showRerandomize)},(function(){return i.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-randomize-tooltip")},gravity:function(){return e.controller.isNarrow()?"n":"s"}},i.createElement("span",{class:i.const("dcg-icon-btn"),handleEvent:i.const("true"),role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-randomize-tooltip")},onTap:function(){return e.controller.dispatch({type:"re-randomize"})}},i.createElement("i",{class:i.const("dcg-icon-randomize")})))})),i.createElement(s,{predicate:function(){return e.controller.isInEditListMode()&&!e.controller.hasDefaultState()}},(function(){return i.createElement("span",{class:i.const("dcg-btn-red dcg-action-clearall"),role:i.const("button"),tabindex:i.const("0"),onTap:function(){return e.controller.dispatch({type:"clear-graph"})}},(function(){return e.controller.s("graphing-calculator-button-clear-graph")}))})),i.createElement(s,{predicate:function(){return e.controller.isInEditListMode()&&e.controller.hasDefaultState()}},(function(){return i.createElement("span",{class:i.const("dcg-btn-red dcg-action-reset"),role:i.const("button"),tabindex:i.const("0"),onTap:function(){return e.controller.dispatch({type:"reset-graph"})}},(function(){return e.controller.s("graphing-calculator-button-reset-graph")}))}))),i.createElement("div",{class:i.const("dcg-center-buttons")},i.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-undo-tooltip")},gravity:function(){return e.controller.isNarrow()?"n":"s"},disabled:function(){return!e.controller.canUndo()}},i.createElement("span",{class:function(){return{"dcg-action-undo":!0,"dcg-icon-btn":!0,"dcg-disabled":!e.controller.canUndo()}},role:i.const("button"),tabindex:function(){return e.controller.canUndo()?0:-1},"aria-label":function(){return e.controller.s("graphing-calculator-narration-undo")},onTap:function(){return e.controller.dispatch({type:"undo"})},"aria-disabled":function(){return!e.controller.canUndo()}},i.createElement("i",{class:i.const("dcg-icon-undo")}))),i.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-redo-tooltip")},gravity:function(){return e.controller.isNarrow()?"n":"s"},disabled:function(){return!e.controller.canRedo()}},i.createElement("span",{class:function(){return{"dcg-action-redo":!0,"dcg-icon-btn":!0,"dcg-disabled":!e.controller.canRedo()}},role:i.const("button"),tabindex:function(){return e.controller.canRedo()?0:-1},"aria-label":function(){return e.controller.s("graphing-calculator-narration-redo")},onTap:function(){return e.controller.dispatch({type:"redo"})},"aria-disabled":function(){return!e.controller.canRedo()}},i.createElement("i",{class:i.const("dcg-icon-redo")})))),i.createElement("div",{class:i.const("dcg-right-buttons")},i.createElement(s,{predicate:function(){return!e.controller.isInEditListMode()}},(function(){return i.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-edit-list-tooltip")},gravity:function(){return e.controller.isNarrow()?"n":"s"}},i.createElement("span",{class:i.const("dcg-icon-btn dcg-action-toggle-edit"),handleEvent:i.const("true"),role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-expression-list")},onTap:e.bindFn(e.toggleEditListMode),manageFocus:e.const(o.manageFocusHelper({controller:e.controller,location:{type:"edit-list-toggle"}}))},i.createElement("i",{class:i.const("dcg-icon-settings")})))})),i.createElement(s,{predicate:function(){return e.controller.isInEditListMode()}},(function(){return i.createElement("span",{class:i.const("dcg-btn-blue dcg-action-toggle-edit dcg-do-not-blur"),handleEvent:i.const("true"),role:i.const("button"),tabindex:i.const("0"),onTap:e.bindFn(e.toggleEditListMode),manageFocus:e.const(o.manageFocusHelper({controller:e.controller,location:{type:"edit-list-toggle"}}))},(function(){return e.controller.s("graphing-calculator-button-done")}))})),i.createElement(s,{predicate:function(){return!e.controller.isInEditListMode()&&e.controller.getGraphSettings().config.graphpaper}},(function(){return i.createElement(a.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-hide-expression-list-tooltip")},gravity:function(){return e.controller.isNarrow()?"nw":"sw"}},i.const(" "),i.createElement("span",{class:function(){return{"dcg-resize-list-btn":!0,"dcg-action-hideexpressions":!0,"dcg-icon-btn":!0,"dcg-rotated":e.controller.isNarrow()}},role:i.const("button"),tabindex:i.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-hide-expression-list-tooltip")},onTap:function(t){e.controller.dispatch({type:"hide-expressions-list",focusShowIcon:"keyboard"===t.device})},manageFocus:e.const(o.manageFocusHelper({controller:e.controller,location:{type:"hide-expression-list-btn"}}))},i.createElement("i",{class:i.const("dcg-icon-hide")})))}))))},t.prototype.showShadow=function(){return!this.controller.getTickerOpen()&&!this.controller.getExpressionSearchOpen()&&this.props.expsScrolled()},t.prototype.showRerandomize=function(){return this.controller.anyItemDependsOnRandomSeed()},t.prototype.showHamburger=function(){return!!this.controller.getGraphSettings().config.showHamburger&&!this.controller.isInEditListMode()&&!this.controller.isNarrow()},t.prototype.clearSelectionOnMobile=function(e){e.wasHandled()||this.controller.dispatch({type:"set-none-selected"})},t.prototype.toggleEditListMode=function(e){this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!this.controller.isInEditListMode(),focusExpressionList:!1}),"keyboard"===e.device&&this.controller.dispatch({type:"set-focus-location",location:{type:"edit-list-toggle"}})},t}(i.Class);t.default=c})),i("main/load-graph-from-link",["require","exports","core/graphing-calc/migrate-state","tslib","jquery","core/lib/deepCopy"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var s=!1;e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-importing-graph"),hideAfter:0,toastStyle:"cover",onHide:function(){s=!0}}});var c=function(){s||e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-error-importing-graph"),toastStyle:"error",hideAfter:12e3}})},l=function(t,n){e.dispatch({type:"set-state",state:t}),e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-imported-graph"),undoCallback:function(){e.dispatch({type:"set-state",state:n})}}})};i.getJSON(t).done((function(t){var i=n.migrateToLatest(t.state);a(i,(function(n,i){n||!i?c():function(t,n){if(!s){var i=e.getSelectedItem();if(i){var a="folder"===i.type,c="folder"!==i.type&&!!i.folderId,d=a||c,u={},p=e.getState(),g=p.expressions.list;if(1!==g.length||a){for(var h=t.expressions.list,f=0;f<h.length;f++){var m=e.generateId(),y=h[f];if("folder"!==y.type)y.folderId?y.folderId=u[y.folderId]:a?y.folderId=i.id:c&&(y.folderId=i.folderId),y.id=m;else{if(d)return void e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-error-no-folders"),toastStyle:"error",hideAfter:12e3}});u[y.id]=m,y.id=m}}for(var b=o.default(p),v=0;v<g.length;){if(g[v].id===i.id){a&&(g[v].title=n);break}v+=1}var x=a?v+1:v,w=a?0:1;g.splice.apply(g,r.__spreadArray([x,w],h)),l(p,b)}else l(t,p)}}}(i,t.title||"")}))})).fail(c)}})),i("lib/get-clipboard-data",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):e&&e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData("text/plain"):void 0}})),i("loadcss!expressions/exp-list-resizer",(function(){})),i("expressions/exp-list-resizer",["require","exports","tslib","dcgview","jquery","underscore","loadcss!./exp-list-resizer"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ExpListResizer=void 0;var a=r.Components.If,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.guid=o.uniqueId("dcg-exp-list-resize")},t.prototype.template=function(){var e=this;return r.createElement(a,{predicate:this.bindFn(this.isVisible)},(function(){return r.createElement("div",{class:r.const("dcg-exp-list-resizer"),onTapStart:e.bindFn(e.onTapStart)})}))},t.prototype.isVisible=function(){return!this.props.controller().expressionsAreFullWidth()&&this.props.controller().isListVisible()},t.prototype.onTapStart=function(e){var t=this;this.initialWidth=this.props.controller().getExpListWidth(),this.initialLeft=e.changedTouches[0].clientX,i(document).on("dcg-tapmove."+this.guid,(function(e){if(void 0!==t.initialLeft&&void 0!==t.initialWidth){var n=e.changedTouches[0].clientX-t.initialLeft+t.initialWidth;t.props.controller().dispatch({type:"resize-exp-list",expListWidth:n})}})),i(document).on("dcg-tapend."+this.guid,this.bindFn(this.onTapEnd)),i(document).on("dcg-tapcancel."+this.guid,this.bindFn(this.onTapEnd))},t.prototype.onTapEnd=function(){i(document).off("."+this.guid),this.initialLeft=void 0,this.initialWidth=void 0},t}(r.Class);t.ExpListResizer=s})),i("expressions/expression-menus/base-menu-section",["require","exports","tslib","dcgview","main/mathquill-operators","graphing-calc/models/abstract-item"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMenuSection=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.getMQConfig=function(){return{autoOperatorNames:i.getAutoOperators()}},t.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation(),t="header"===this.model.type?this.model.table.id:this.id;if(e&&"expression-menu"===e.type&&e.id===t)return e.location},t.prototype.handleFocusedChanged=function(e,t){var n="header"===this.model.type?this.model.table.id:this.id;e?this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:n,location:t}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"expression-menu",id:n,location:t}})},t.prototype.onColorSelected=function(e){"image"!==this.model.type&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-color",id:this.id,color:e}):this.controller.dispatch({type:"set-tablecolumn-color",color:e,tableId:this.model.table.id,columnId:this.id}))},t.prototype.onCustomColorSelected=function(e){"image"!==this.model.type&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-colorlatex",id:this.id,colorLatex:e}):this.controller.dispatch({type:"set-tablecolumn-colorlatex",tableId:this.model.table.id,columnId:this.model.id,colorLatex:e}))},t.prototype.getModelColor=function(){return"image"===this.model.type?"":o.getDisplayColor(this.model)},t}(r.Class);t.BaseMenuSection=a})),i("loadcss!expressions/toggle-view",(function(){})),i("expressions/toggle-view",["require","exports","tslib","dcgview","loadcss!./toggle-view"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleView=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-toggle-view":!0,"dcg-toggled":e.props.toggled()}},"aria-label":function(){return e.props.ariaLabel()},role:r.const("checkbox"),tabindex:r.const("0"),"aria-checked":function(){return e.props.toggled()},toggled:function(){return e.props.toggled()},onTap:this.bindFn(this.props.onChange)},r.createElement("div",{class:r.const("dcg-toggle-switch")}))},t}(r.Class);t.ToggleView=i})),i("loadcss!expressions/expression-menus/color-picker",(function(){})),i("expressions/expression-menus/color-picker",["require","exports","lib/color-distance","tslib","dcgview","underscore","expressions/colors","../../lib/mathspeak","./color-swatch","../../shared-components/tooltip","dcgview-helpers/static-mathquill-view","loadcss!./color-picker"],(function(e,t,n,r,i,o,a,s,c,l,d){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPicker=void 0;var u=i.Components,p=u.For,g=u.If,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-color-picker-container")},i.createElement(p,{each:function(){return o.values(e.controller.getColors())}},i.createElement("span",{class:i.const("dcg-color-picker-menu dcg-do-not-blur")},(function(t){return i.createElement("span",{class:i.const("dcg-color-tile"),handleevent:i.const("true"),role:i.const("button"),tabindex:i.const(0),"aria-label":function(){return a.getColorName(e.controller,t)},"aria-pressed":function(){return e.isSelected(t)},onTap:function(){return e.props.onColorSelected(t)}},i.createElement("span",{class:i.const("dcg-color-swatch"),style:function(){return{background:t}}}),i.createElement(g,{predicate:function(){return e.isSelected(t)}},(function(){return i.createElement("i",{class:i.const("dcg-icon-check")})})))}))),i.createElement(g,{predicate:function(){return e.getUniqueCustomColors().length>0}},(function(){return i.createElement(p,{each:e.bindFn(e.getUniqueCustomColors),key:function(e){return"string"==typeof e?e:e.assignmentLatex}},i.createElement("span",{class:i.const("dcg-color-picker-menu dcg-do-not-blur")},(function(t){return"string"==typeof t?i.createElement("span",{class:i.const("dcg-color-picker-placeholder")}):i.createElement(l.Tooltip,{tooltip:function(){return t.assignmentLatex},renderAsLatex:function(){return{view:function(t){return i.createElement(d.default,{config:e.const({}),latex:function(){return t}})}}}},i.createElement("span",{class:function(){return{"dcg-color-tile":!0,"dcg-light-color":n.isLightColor(e.controller.getColorById(t.id))}},handleevent:i.const("true"),role:i.const("button"),tabindex:i.const(0),"aria-label":function(){return s.getMathspeakFromText(t.assignmentLatex)},"aria-pressed":function(){return e.model.colorLatex===t.assignmentLatex},onTap:function(){return e.props.onCustomColorSelected(t.assignmentLatex)}},i.createElement(c.ColorSwatch,{color:function(){return e.controller.getColorById(t.id)}}),i.createElement(g,{predicate:function(){return e.model.colorLatex===t.assignmentLatex}},(function(){return i.createElement("i",{class:i.const("dcg-icon-check")})}))))})))})))},t.prototype.isSelected=function(e){return!(this.model.colorLatex&&o.pluck(this.getUniqueCustomColors(),"assignmentLatex").indexOf(this.model.colorLatex)>=0)&&this.props.selectedColor()===e},t.prototype.getUniqueCustomColors=function(){if(this.props.hideCustomColors&&this.props.hideCustomColors())return[];for(var e=this.controller.getAllColorAssignments(),t=o.countBy(e,(function(e){return e.assignmentLatex})),n=o.filter(e,(function(e){return 1===t[e.assignmentLatex]})),r=0;r<n.length%6;r++)n.push("placholder-"+r);return n},t}(i.Class);t.ColorPicker=h})),i("expressions/expression-menus/lines",["require","exports","tslib","./base-menu-section","dcgview","expressions/toggle-view","core/types/line-opacity","dcgview-helpers/mathquill-view","graphing-calc/models/expression","graphing-calc/models/table","core/types/line-width","core/types/styles","./color-picker","../../shared-components/tooltip","loadcss!toggle"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g){Object.defineProperty(t,"__esModule",{value:!0}),t.LineMenu=void 0;var h=i.Components,f=h.If,m=h.For,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-options-menu-section")},i.createElement("div",{class:i.const("dcg-options-menu-section-title")},(function(){return e.controller.s("graphing-calculator-heading-lines")}),i.createElement(o.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-lines-visible")},toggled:this.props.isOpen,onChange:this.bindFn(this.toggleLinesVisible)})),i.createElement(f,{predicate:function(){return e.props.isOpen()}},(function(){return i.createElement("div",{class:i.const("dcg-options-menu-content")},i.createElement("div",{class:i.const("dcg-options-flex-container")},i.createElement("div",{class:i.const("dcg-options-left-side")},i.createElement("div",{class:i.const("dcg-iconed-mathquill-row dcg-line-opacity-row")},i.createElement(g.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-opacity-tooltip")},sticky:e.const(!0),gravity:e.const("se")},i.createElement("i",{class:i.const("dcg-icon-opacity")})),i.createElement(s.default,{latex:function(){return e.model.lineOpacity},placeholder:function(){return""+a.DEFAULT},isFocused:function(){return"lineopacity"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-line-opacity")},getAriaPostLabel:function(){return e.isLineOpacityValid()?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!e.isLineOpacityValid()},onUserChangedLatex:function(t){return e.dispatchLineOpacityLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"lineopacity")},dataLabelAttributeValue:e.const("line-opacity")})),i.createElement("div",{class:i.const("dcg-iconed-mathquill-row dcg-line-thickness-row")},i.createElement(g.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-line-thickness-tooltip")},sticky:e.const(!0),gravity:e.const("se")},i.createElement("i",{class:i.const("dcg-icon-line-thickness")})),i.createElement(s.default,{latex:function(){return e.model.lineWidth},placeholder:function(){return""+d.DEFAULT},isFocused:function(){return"linewidth"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-label-line-thickness-tooltip")},getAriaPostLabel:function(){return e.isLineWidthValid()?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!e.isLineWidthValid()},onUserChangedLatex:function(t){return e.dispatchLineWidthLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"linewidth")},dataLabelAttributeValue:e.const("line-width")}))),i.createElement("div",{class:i.const("dcg-options-right-side")},i.createElement(m,{each:function(){return e.getValidLineStyles()}},i.createElement("div",{class:i.const("dcg-toggle dcg-line-style-toggle"),role:i.const("radiogroup")},(function(t){return i.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.model.lineStyle===t}},onTap:function(){return e.onLineStyleSelected(t)},role:i.const("radio"),tabindex:i.const("0"),"aria-label":function(){return t===u.LineStyle.SOLID?e.controller.s("graphing-calculator-narration-line-style-solid"):t===u.LineStyle.DASHED?e.controller.s("graphing-calculator-narration-line-style-dashed"):t===u.LineStyle.DOTTED?e.controller.s("graphing-calculator-narration-line-style-dotted"):e.controller.raw("")},"aria-checked":function(){return e.model.lineStyle===t}},i.createElement("i",{class:function(){return{"dcg-icon-line-solid":t===u.LineStyle.SOLID,"dcg-icon-line-dashed":t===u.LineStyle.DASHED,"dcg-icon-line-dotted":t===u.LineStyle.DOTTED}}}))}))))),i.createElement(f,{predicate:e.props.isFirstOpenSection},(function(){return i.createElement(p.ColorPicker,n.__assign({},e.props,{model:function(){return e.model},selectedColor:e.bindFn(e.getModelColor),onColorSelected:e.bindFn(e.onColorSelected),onCustomColorSelected:e.bindFn(e.onCustomColorSelected)}))})))})))},t.prototype.isLineOpacityValid=function(){return"expression"===this.model.type?c.isLineOpacityValid(this.model):"header"===this.model.type&&l.isLineOpacityValid(this.model)},t.prototype.isLineWidthValid=function(){return"expression"===this.model.type?c.isLineWidthValid(this.model):"header"===this.model.type&&l.isLineWidthValid(this.model)},t.prototype.dispatchLineOpacityLatexIfChanged=function(e){this.model.lineOpacity!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-lineopacity",id:this.id,lineOpacity:e}):this.controller.dispatch({type:"set-tablecolumn-lineopacity",tableId:this.model.table.id,columnId:this.model.id,lineOpacity:e}))},t.prototype.getValidLineStyles=function(){return"expression"===this.model.type&&c.isInequality(this.model)?[]:[u.LineStyle.SOLID,u.LineStyle.DASHED,u.LineStyle.DOTTED]},t.prototype.onLineStyleSelected=function(e){this.model.lineStyle!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-linestyle",id:this.id,lineStyle:e}):this.controller.dispatch({type:"set-tablecolumn-linestyle",tableId:this.model.table.id,columnId:this.model.id,lineStyle:e}))},t.prototype.dispatchLineWidthLatexIfChanged=function(e){this.model.lineWidth!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-linewidth",id:this.id,lineWidth:e}):this.controller.dispatch({type:"set-tablecolumn-linewidth",tableId:this.model.table.id,columnId:this.model.id,lineWidth:e}))},t.prototype.toggleLinesVisible=function(){"expression"===this.model.type?this.controller.dispatch({type:"set-item-lines",id:this.id,lines:!this.props.isOpen()}):this.controller.dispatch({type:"set-tablecolumn-lines",tableId:this.model.table.id,columnId:this.model.id,bool:!this.props.isOpen()})},t}(r.BaseMenuSection);t.LineMenu=y})),i("expressions/expression-menus/colors-only",["require","exports","tslib","./base-menu-section","dcgview","./color-picker","graphing-calc/models/expression"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorsOnlyMenu=void 0;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-options-menu-section")},i.createElement(o.ColorPicker,n.__assign({},this.props,{model:function(){return e.model},selectedColor:this.bindFn(this.getModelColor),onColorSelected:this.bindFn(this.onColorSelected),onCustomColorSelected:this.bindFn(this.onCustomColorSelected),hideCustomColors:function(){return"expression"===e.model.type&&a.isRegression(e.model)}})))},t}(r.BaseMenuSection);t.ColorsOnlyMenu=s})),i("expressions/expression-menus/fill",["require","exports","tslib","./base-menu-section","dcgview","expressions/toggle-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","core/types/opacity","./color-picker","../../shared-components/tooltip"],(function(e,t,n,r,i,o,a,s,c,l,d){Object.defineProperty(t,"__esModule",{value:!0}),t.FillMenu=void 0;var u=i.Components.If,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-options-menu-section")},i.createElement("div",{class:i.const("dcg-options-menu-section-title")},(function(){return e.controller.s("graphing-calculator-heading-fill")}),i.createElement(u,{predicate:function(){return!e.isInequality()}},(function(){return i.createElement(o.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-fill-visible")},toggled:e.props.isOpen,onChange:e.bindFn(e.toggleFillVisible)})}))),i.createElement(u,{predicate:this.props.isOpen},(function(){return i.createElement("div",{class:i.const("dcg-options-menu-content")},i.createElement("div",{class:i.const("dcg-iconed-mathquill-row dcg-fill-opacity-row")},i.createElement(d.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-opacity-tooltip")},sticky:e.const(!0),gravity:e.const("se")},i.createElement("i",{class:i.const("dcg-icon-opacity")})),i.createElement(a.default,{latex:function(){return e.model.fillOpacity},placeholder:function(){return""+c.DEFAULT},isFocused:function(){return"opacity"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-fill-opacity")},getAriaPostLabel:function(){return s.isFillOpacityValid(e.model)?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!s.isFillOpacityValid(e.model)},onUserChangedLatex:function(t){return e.dispatchOpacityLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"opacity")},dataLabelAttributeValue:e.const("fill-opacity"),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}})),i.createElement(u,{predicate:e.props.isFirstOpenSection},(function(){return i.createElement(l.ColorPicker,n.__assign({},e.props,{model:function(){return e.model},selectedColor:e.bindFn(e.getModelColor),onColorSelected:e.bindFn(e.onColorSelected),onCustomColorSelected:e.bindFn(e.onCustomColorSelected)}))})))})))},t.prototype.isInequality=function(){return s.isInequality(this.model)},t.prototype.toggleFillVisible=function(){this.controller.dispatch({type:"set-item-fill",id:this.id,fill:!this.props.isOpen()})},t.prototype.dispatchOpacityLatexIfChanged=function(e){this.model.fillOpacity!==e&&this.controller.dispatch({type:"set-item-fillopacity",id:this.id,fillOpacity:e})},t}(r.BaseMenuSection);t.FillMenu=p})),i("loadcss!expressions/clickable_image_states_view",(function(){})),i("expressions/clickable_image_states_view",["require","exports","tslib","dcgview","../shared-components/tooltip","./image-upload-view","loadcss!./clickable_image_states_view"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ClickableImageStatesView=void 0;var a=r.Components,s=a.If,c=a.Switch,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-clickable-image-info-view"),role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-clickable-image-options")}},r.createElement("div",{class:r.const("dcg-clickable-image-state-container")},r.createElement(i.Tooltip,{tooltip:function(){return e.tooltip("hovered")},gravity:this.const("s")},r.createElement(o.ImageUploadView,{controller:function(){return e.controller},ariaLabel:function(){return e.tooltip("hovered")},onFileChange:function(t){return e.updateImage("hovered",t)}},r.createElement(c,{key:this.bindFn(this.hoveredStatus)},(function(){return r.createElement("div",{class:r.const("dcg-clickable-image-state"),style:function(){return e.getStyleForState("hovered")}})})))),r.createElement(s,{predicate:function(){return!!e.model.clickableInfo.hoveredImage}},(function(){return r.createElement("div",{class:r.const("dcg-clickable-image-state-close"),onTap:function(){return e.removeImageState("hovered")},ariaLabel:function(){return e.controller.s("graphing-calculator-label-remove-hovered-image")},role:r.const("button"),tabIndex:r.const(0)},r.createElement("i",{class:r.const("dcg-icon-remove")}))})),r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-clickable-image-label")},(function(){return e.controller.s("graphing-calculator-label-hovered")}))),r.createElement("div",{class:r.const("dcg-clickable-image-state-container")},r.createElement(i.Tooltip,{tooltip:function(){return e.tooltip("depressed")},gravity:this.const("s")},r.createElement(o.ImageUploadView,{controller:function(){return e.controller},ariaLabel:function(){return e.tooltip("depressed")},onFileChange:function(t){return e.updateImage("depressed",t)}},r.createElement(c,{key:this.bindFn(this.depressedStatus)},(function(){return r.createElement("div",{class:r.const("dcg-clickable-image-state"),style:function(){return e.getStyleForState("depressed")}})})))),r.createElement(s,{predicate:function(){return!!e.model.clickableInfo.depressedImage}},(function(){return r.createElement("div",{class:r.const("dcg-clickable-image-state-close"),onTap:function(){return e.removeImageState("depressed")},ariaLabel:function(){return e.controller.s("graphing-calculator-label-remove-depressed-image")},role:r.const("button"),tabIndex:r.const(0)},r.createElement("i",{class:r.const("dcg-icon-remove")}))})),r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-clickable-image-label")},(function(){return e.controller.s("graphing-calculator-label-depressed")}))))},t.prototype.hoveredStatus=function(){return this.hoveredUploading?"loading":"background"},t.prototype.depressedStatus=function(){return this.depressedUploading?"loading":"background"},t.prototype.tooltip=function(e){return("hovered"===e?this.model.clickableInfo.hoveredImage:this.model.clickableInfo.depressedImage)?"depressed"===e?this.controller.s("graphing-calculator-label-change-depressed-image-tooltip"):this.controller.s("graphing-calculator-label-change-hovered-image-tooltip"):"depressed"===e?this.controller.s("graphing-calculator-label-add-depressed-image-tooltip"):this.controller.s("graphing-calculator-label-add-hovered-image-tooltip")},t.prototype.getImageURLForState=function(e){var t;if("hovered"===e){if("background"!==this.hoveredStatus())return"";t="hoveredImage"}else{if("background"!==this.depressedStatus())return"";t="depressedImage"}var n=this.model.clickableInfo[t];return n?"url("+n+")":"url("+this.model.image_url+")"},t.prototype.getStyleForState=function(e){var t={"background-image":this.getImageURLForState(e),opacity:1};return"hovered"!==e||this.model.clickableInfo.hoveredImage||(t.opacity=.5),t},t.prototype.removeImageState=function(e){"hovered"===e?this.controller.dispatch({type:"set-hovered-image",id:this.model.id,url:""}):this.controller.dispatch({type:"set-depressed-image",id:this.model.id,url:""})},t.prototype.updateImage=function(e,t){var n=this;if(t&&t[0]){var r=t[0];"hovered"===e&&(this.hoveredUploading=!0),"depressed"===e&&(this.depressedUploading=!0),this.controller.getGraphSettings().config.imageUploadCallback(r,(function(t,r){"hovered"===e&&(n.hoveredUploading=!1),"depressed"===e&&(n.depressedUploading=!1),!t&&r&&("hovered"===e?n.controller.dispatch({type:"set-hovered-image",id:n.model.id,url:r}):n.controller.dispatch({type:"set-depressed-image",id:n.model.id,url:r}))}))}},t}(r.Class);t.ClickableImageStatesView=l})),i("vendor/html-parse-stringify2",[],(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports={parse:n(1),stringify:n(4)}},function(e,t,n){var r=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,i=n(2),o=Object.create?Object.create(null):{};function a(e,t,n,r,i){var o=t.indexOf("<",r),a=t.slice(r,-1===o?void 0:o);/^\s*$/.test(a)&&(a=" "),(!i&&o>-1&&n+e.length>=0||" "!==a)&&e.push({type:"text",content:a})}e.exports=function(e,t){t||(t={}),t.components||(t.components=o);var n,s=[],c=-1,l=[],d={},u=!1;return e.replace(r,(function(r,o){if(u){if(r!=="</"+n.name+">")return;u=!1}var p,g="/"!==r.charAt(1),h=0===r.indexOf("\x3c!--"),f=o+r.length,m=e.charAt(f);g&&!h&&(c++,"tag"===(n=i(r)).type&&t.components[n.name]&&(n.type="component",u=!0),n.voidElement||u||!m||"<"===m||a(n.children,e,c,f,t.ignoreWhitespace),d[n.tagName]=n,0===c&&s.push(n),(p=l[c-1])&&p.children.push(n),l[c]=n),(h||!g||n.voidElement)&&(h||c--,!u&&"<"!==m&&m&&a(p=-1===c?s:l[c].children,e,c,f,t.ignoreWhitespace))})),!s.length&&e.length&&a(s,e,0,0,t.ignoreWhitespace),s}},function(e,t,n){var r=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,i=n(3);e.exports=function(e){var t,n=0,o=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(r,(function(r){if("="===r)return o=!0,void n++;o?0===n?((i[r]||"/"===e.charAt(e.length-2))&&(a.voidElement=!0),a.name=r):(a.attrs[t]=r.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(a.attrs[t]=t),t=r),n++,o=!1})),a}},function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t){function n(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(n,"")+"</"+t.name+">"}}e.exports=function(e){return e.reduce((function(e,t){return e+n("",t)}),"")}}])})),i("l10n-tools/localize-serializer",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeToTemplateString=t.variableRegexp=void 0,t.variableRegexp=/\{\$([a-zA-Z0-9\-]+([a-zA-Z0-9\-]+_)*[a-zA-Z0-9\-]+)\}/,t.serializeToTemplateString=function(e,n){var r=0,i=0,o={},a={},s=function s(l){if(n.isConst(l))return n.getConstValue(l);if(n.isNamedBinding(l)){var d="{$"+(u=c(o,n.getBindingName(l)))+"}";if(!t.variableRegexp.test(d))throw new Error("Invalid <Localize> variable: "+d+".");return n.addBinding&&n.addBinding(u,l),o[u]=!0,d}if(l!==e&&n.isView(l)){var u=c(a,n.getViewName(l));if(!/[a-zA-Z0-9\-_]/.test(u))throw new Error("Invalid <Localize> subview identifier: "+u+".");return n.addView&&n.addView(u,l),a[u]=!0,"<"+u+"/>"}if(n.isBinding(l))return d="{$"+(u=c(o,"v"+r++))+"}",n.addBinding&&n.addBinding(u,l),o[u]=!0,d;u=""+i++,n.addElement&&n.addElement(u,l);var p=[];return n.forEachChild(l,(function(e){p.push(s(e))})),a[u]=!0,p.length>0?"<"+u+">"+p.join("")+"</"+u+">":"<"+u+"/>"}(e);if(!/^<0>/.test(s)||!/<\/0>$/.test(s))throw new Error("Expected template string to start and end with <0> and </0>, but found "+JSON.stringify(s));return s.slice(3,-4).trim();function c(e,t){for(var n=0,r=t;e[r];)r=t+"-"+ ++n;return r}}})),i("shared/dcgviews/localize",["require","exports","tslib","dcgview","vendor/html-parse-stringify2","l10n-tools/localize-serializer","lib/i18n"],(function(e,t,n,r,i,o,a){function s(e){return e.__DCGViewLocalizeBindingName}function c(e){return"function"==typeof e&&e.__DCGViewLocalizeViewName}Object.defineProperty(t,"__esModule",{value:!0}),t.Localize=void 0;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.viewMap={},this.elementMap={},this.bindingMap={},this.i18n=this.props.i18n(),this.templateString=this.serializeToTemplateString(r.createElement("div",null,this.children))},t.prototype.template=function(){var e=this;return r.createElement(r.Components.If,{predicate:function(){return e.shouldShow()}},(function(){return r.createElement(r.Components.Switch,{key:function(){return p(e.translatedString())}},(function(t){return e.renderDeserializedTemplateNode(e.parseAndValidate(t))}))}))},t.prototype.shouldShow=function(){var e=this.props.options&&this.props.options();return!(e&&e.hideUntranslatedView&&this.i18n.hasTranslation)||this.i18n.hasTranslation(this.props.key())},t.prototype.translatedString=function(){var e={};for(var t in this.bindingMap)e[t]=a.raw("{$"+t+"}");return this.i18n.s(this.props.key(),e)},t.variable=function(e,t){var n=function(){return t()};return n.__DCGViewLocalizeBindingName=e,n},t.subview=function(e,t){var n=function(){return t()};return n.__DCGViewLocalizeViewName=e,n},t.prototype.parseAndValidate=function(e){var t=i.parse(e),n={},r={};for(var o in function e(t){if(Array.isArray(t))for(var i=0,o=t;i<o.length;i++){var a=o[i];e(a)}else"token"===t.name?n[t.attrs.id]=!0:"text"!==t.type&&(r[t.name]=!0,e(t.children))}(t),this.elementMap)if(!r[o])return i.parse(p(this.templateString));for(var o in this.bindingMap)if(!n[o])return i.parse(p(this.templateString));return t},t.prototype.renderDeserializedTemplateNode=function(e){var t=this;if(Array.isArray(e))return e.map((function(e){return t.renderDeserializedTemplateNode(e)}));if("text"===e.type)return r.const(e.content||"");if("token"===e.name){var n=this.bindingMap[e.attrs.id];return n||function(){return""}}if(this.elementMap[e.name]){var i=this.elementMap[e.name],o=e.children.map((function(e){return t.renderDeserializedTemplateNode(e)}));return u(i.type,i.attrs,o)}return this.viewMap[e.name]?this.viewMap[e.name]():u("span",{},[])},t.prototype.serializeToTemplateString=function(e){var t=this;return o.serializeToTemplateString(e,{isView:c,isConst:d,isBinding:function(e){return"function"==typeof e},isNamedBinding:s,getConstValue:function(e){return e()},getBindingName:function(e){return e.__DCGViewLocalizeBindingName},getViewName:function(e){return e.__DCGViewLocalizeViewName},addBinding:function(e,n){t.bindingMap[e]=n},addElement:function(e,n){t.elementMap[e]={type:n.tagName,attrs:n.attrs}},addView:function(e,n){if(t.viewMap[e])throw new Error("Unexpected duplicate view "+e+".");t.viewMap[e]=n},forEachChild:function(e,t){for(var n=0,r=e.children;n<r.length;n++){var i=r[n];if(!d(i)&&"function"!=typeof i&&i._isDCGView)throw new Error("Bare DCGViews are not allowed inside <Localize>. Use Localize.subview().");t(i)}}})},t}(r.Class);function d(e){return"function"==typeof e&&e.isDCGViewConst}function u(e,t,n){return r.createElement(e,t,n)}function p(e){return("<0>"+e+"</0>").replace(new RegExp(o.variableRegexp.source,"g"),(function(e,t){return'<token id="'+t+'"/>'}))}t.Localize=l})),i("loadcss!expressions/expression-menus/clickable",(function(){})),i("expressions/expression-menus/clickable",["require","exports","tslib","./base-menu-section","dcgview","expressions/toggle-view","dcgview-helpers/mathquill-view","main/mathquill-operators","expressions/clickable_image_states_view","../../dcgview-helpers/tooltipped-error","../../shared/dcgviews/localize","loadcss!./clickable"],(function(e,t,n,r,i,o,a,s,c,l,d){Object.defineProperty(t,"__esModule",{value:!0}),t.ClickableMenu=void 0;var u=i.Components,p=u.If,g=u.IfDefined,h=u.Textarea,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-options-menu-section dcg-clickable-section")},i.createElement("div",{class:i.const("dcg-options-menu-section-title")},(function(){return e.controller.s("graphing-calculator-heading-clickable")}),i.createElement(o.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-make-clickable")},toggled:this.props.isOpen,onChange:this.bindFn(this.toggleClickable)})),i.createElement(p,{predicate:this.props.isOpen},(function(){return i.createElement("div",{class:i.const("dcg-options-menu-content")},i.createElement("div",{class:i.const("dcg-clickable-menu-row")},i.createElement("span",{class:i.const("dcg-input-label")},(function(){return e.controller.s("graphing-calculator-label-update-on-click")})),i.createElement(a.default,{latex:function(){return e.model.clickableInfo.latex},placeholder:e.const(""),isFocused:function(){return"updaterule"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-click-action")},getAriaPostLabel:e.const(""),hasError:function(){return e.hasError()},onUserChangedLatex:function(t){return e.dispatchUpdateRuleLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"updaterule")},dataLabelAttributeValue:e.const("click-handler"),needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()}}),g((function(){return e.packedError()}),(function(t){return i.createElement("span",{class:i.const("dcg-clickable-info-error-container")},i.createElement(l.TooltippedError,{error:function(){return e.controller.unpack(t())},gravity:e.const("s"),size:e.const("small")}))}))),i.createElement(p,{predicate:e.bindFn(e.isList)},(function(){return i.createElement("div",{class:i.const("dcg-clickable-list-index-notice")},i.createElement(d.Localize,{i18n:e.const(e.controller),key:e.const("graphing-calculator-label-list-index")},i.const("Use"),i.const(" "),i.createElement("span",{class:function(){return{"dcg-index-variable-marker":!0,"dcg-btn":!0,"dcg-btn-light-gray":!0,"dcg-mathquill-has-focus":"updaterule"===e.getFocusedInput(),"dcg-do-not-blur":!0}},onTap:e.bindFn(e.insertIndex)},i.const("index")),i.const(" "),i.const("to reference the clicked index in the list.")))})),i.createElement(p,{predicate:function(){return"image"!==e.model.type}},(function(){return i.createElement(h,{placeholder:function(){return e.controller.s("graphing-calculator-text-add-screen-reader-label-placeholder")},value:function(){return e.model.description},onInput:function(t){return e.controller.dispatch({type:"set-item-description",id:e.model.id,description:t})}})})),i.createElement(p,{predicate:function(){return"image"===e.model.type}},(function(){return i.createElement("div",{class:i.const("dcg-clickable-menu-row")},i.createElement(c.ClickableImageStatesView,{controller:function(){return e.controller},model:function(){return e.model}}))})))})))},t.prototype.insertIndex=function(){this.controller.dispatch({type:"keypad/type-text",text:"index"})},t.prototype.isList=function(){return!!this.model.formula&&!!this.model.formula.is_concrete_list},t.prototype.hasError=function(){return void 0!==this.packedError()},t.prototype.packedError=function(){if(this.model.formula.click_handler&&"error"===this.model.formula.click_handler.status)return this.model.formula.click_handler.error},t.prototype.toggleClickable=function(){this.controller.dispatch({type:"set-clickableinfo-prop",id:this.model.id,prop:"enabled",value:!this.model.clickableInfo.enabled}),this.model.clickableInfo.enabled&&this.handleFocusedChanged(!0,"updaterule")},t.prototype.dispatchUpdateRuleLatexIfChanged=function(e){this.model.clickableInfo.latex!==e&&this.controller.dispatch({type:"set-clickableinfo-rule-latex",id:this.id,latex:e})},t.prototype.getMQConfig=function(){return{autoOperatorNames:s.getAutoOperators({additionalOperators:["index"]}),autoCommands:s.getAutoCommands()}},t}(r.BaseMenuSection);t.ClickableMenu=f})),i("expressions/expression-menus/points",["require","exports","tslib","./base-menu-section","dcgview","expressions/toggle-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","graphing-calc/models/table","core/types/point-opacity","core/lib/dragmode","core/types/point-size","core/types/styles","./color-picker","../../shared-components/tooltip"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h){Object.defineProperty(t,"__esModule",{value:!0}),t.PointsMenu=void 0;var f=i.Components,m=f.If,y=f.For,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-options-menu-section")},i.createElement("div",{class:i.const("dcg-options-menu-section-title")},(function(){return e.controller.s("graphing-calculator-heading-points")}),i.createElement(o.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-points-visible")},toggled:this.props.isOpen,onChange:this.bindFn(this.togglePointsVisible)})),i.createElement(m,{predicate:this.props.isOpen},(function(){return i.createElement("div",{class:i.const("dcg-options-menu-content")},i.createElement("div",{class:i.const("dcg-options-flex-container")},i.createElement("div",{class:i.const("dcg-options-left-side")},i.createElement("div",{class:i.const("dcg-iconed-mathquill-row dcg-point-opacity-row")},i.createElement(h.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-opacity-tooltip")},sticky:e.const(!0),gravity:e.const("se")},i.createElement("i",{class:i.const("dcg-icon-opacity")})),i.createElement(a.default,{latex:function(){return e.model.pointOpacity},placeholder:e.bindFn(e.getPointOpacityPlaceholder),isFocused:function(){return"pointopacity"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-point-opacity")},getAriaPostLabel:function(){return e.isPointOpacityValid()?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!e.isPointOpacityValid()},onUserChangedLatex:function(t){return e.dispatchPointOpacityLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"pointopacity")},dataLabelAttributeValue:e.const("point-opacity")})),i.createElement(m,{predicate:function(){return!e.isDraggable()}},(function(){return i.createElement("div",{class:i.const("dcg-iconed-mathquill-row")},i.createElement(h.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-point-size-tooltip")},gravity:e.const("se"),sticky:e.const(!0)},i.createElement("i",{class:i.const("dcg-icon-line-thickness")})),i.createElement(a.default,{latex:function(){return e.model.pointSize},placeholder:e.bindFn(e.getDefaultPointSize),isFocused:function(){return"pointsize"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-point-size")},getAriaPostLabel:function(){return e.isPointSizeValid()?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!e.isPointSizeValid()},onUserChangedLatex:function(t){return e.dispatchPointSizeLatexIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"pointsize")},dataLabelAttributeValue:e.const("point-size")}))}))),i.createElement("div",{class:i.const("dcg-options-right-side")},i.createElement(m,{predicate:function(){return!e.isDraggable()}},(function(){return i.createElement(y,{each:function(){return[p.PointStyle.POINT,p.PointStyle.OPEN,p.PointStyle.CROSS]}},i.createElement("div",{class:i.const("dcg-toggle dcg-point-style-toggle"),role:i.const("radiogroup")},(function(t){return i.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.model.pointStyle===t}},onTap:function(){return e.onPointStyleSelected(t)},role:i.const("radio"),tabindex:i.const("0"),"aria-label":function(){return t===p.PointStyle.POINT?e.controller.s("graphing-calculator-narration-point-style-point"):t===p.PointStyle.OPEN?e.controller.s("graphing-calculator-narration-point-style-open"):t===p.PointStyle.CROSS?e.controller.s("graphing-calculator-narration-point-style-cross"):e.controller.raw("")},"aria-checked":function(){return e.model.pointStyle===t}},i.createElement("i",{class:function(){return{"dcg-icon-point":t===p.PointStyle.POINT,"dcg-icon-open":t===p.PointStyle.OPEN,"dcg-icon-cross":t===p.PointStyle.CROSS}}}))})))})))),i.createElement(m,{predicate:e.props.isFirstOpenSection},(function(){return i.createElement(g.ColorPicker,n.__assign({},e.props,{model:function(){return e.model},selectedColor:e.bindFn(e.getModelColor),onColorSelected:e.bindFn(e.onColorSelected),onCustomColorSelected:e.bindFn(e.onCustomColorSelected)}))})))})))},t.prototype.isPointOpacityValid=function(){return"expression"===this.model.type?s.isPointOpacityValid(this.model):"header"===this.model.type&&c.isPointOpacityValid(this.model)},t.prototype.isPointSizeValid=function(){return"expression"===this.model.type?s.isPointSizeValid(this.model):"header"===this.model.type&&c.isPointSizeValid(this.model)},t.prototype.onPointStyleSelected=function(e){this.model.pointStyle!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-pointstyle",id:this.id,pointStyle:e}):this.controller.dispatch({type:"set-tablecolumn-pointstyle",columnId:this.model.id,tableId:this.model.table.id,pointStyle:e}))},t.prototype.dispatchPointSizeLatexIfChanged=function(e){this.model.pointSize!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-pointsize",id:this.id,pointSize:e}):this.controller.dispatch({type:"set-tablecolumn-pointsize",columnId:this.model.id,tableId:this.model.table.id,pointSize:e}))},t.prototype.isDraggable=function(){return this.getDragMode()!==d.DragMode.NONE},t.prototype.togglePointsVisible=function(){"expression"===this.model.type&&s.isSinglePoint(this.model)?this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id}):"expression"===this.model.type?this.controller.dispatch({type:"set-item-points",id:this.id,points:!this.props.isOpen()}):this.controller.dispatch({type:"set-tablecolumn-points",columnId:this.model.id,tableId:this.model.table.id,bool:!this.props.isOpen()})},t.prototype.dispatchPointOpacityLatexIfChanged=function(e){this.model.pointOpacity!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-pointopacity",id:this.id,pointOpacity:e}):this.controller.dispatch({type:"set-tablecolumn-pointopacity",columnId:this.model.id,tableId:this.model.table.id,pointOpacity:e}))},t.prototype.getPointOpacityPlaceholder=function(){return this.getDragMode()===d.DragMode.NONE?""+l.DEFAULT:"1"},t.prototype.getDragMode=function(){return"expression"===this.model.type&&this.model.reconciledDragMode||this.model.dragMode},t.prototype.getDefaultPointSize=function(){return"expression"===this.model.type&&s.isDotPlot(this.model)?""+u.DOTPLOT_DEFAULT:""+u.DEFAULT},t}(r.BaseMenuSection);t.PointsMenu=b})),i("loadcss!expressions/expression-menus/label-orientation-view",(function(){})),i("expressions/expression-menus/label-orientation-view",["require","exports","tslib","dcgview","core/types/label-orientations","graphing-calc/models/expression","loadcss!./label-orientation-view","loadcss!toggle"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.LabelOrientationView=void 0;var a=r.Components.For,s=[{orientation:i.LabelOrientation.DEFAULT,cssClass:"dcg-label-orientation-center",description:"graphing-calculator-text-label-orientation-default"},{orientation:i.LabelOrientation.ABOVE,cssClass:"dcg-label-orientation-above",description:"graphing-calculator-text-label-orientation-above"},{orientation:i.LabelOrientation.ABOVE_RIGHT,cssClass:"dcg-label-orientation-above-right",description:"graphing-calculator-text-label-orientation-above-right"},{orientation:i.LabelOrientation.RIGHT,cssClass:"dcg-label-orientation-right",description:"graphing-calculator-text-label-orientation-right"},{orientation:i.LabelOrientation.BELOW_RIGHT,cssClass:"dcg-label-orientation-below-right",description:"graphing-calculator-text-label-orientation-below-right"},{orientation:i.LabelOrientation.BELOW,cssClass:"dcg-label-orientation-below",description:"graphing-calculator-text-label-orientation-below"},{orientation:i.LabelOrientation.BELOW_LEFT,cssClass:"dcg-label-orientation-below-left",description:"graphing-calculator-text-label-orientation-below-left"},{orientation:i.LabelOrientation.LEFT,cssClass:"dcg-label-orientation-left",description:"graphing-calculator-text-label-orientation-left"},{orientation:i.LabelOrientation.ABOVE_LEFT,cssClass:"dcg-label-orientation-above-left",description:"graphing-calculator-text-label-orientation-above-left"}],c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-label-orientation-view"),style:function(){return"transform: rotate("+e.getCSSRotationValue()+");"}},r.createElement("span",{class:r.const("dcg-vertical-orientation-indicator")}),r.createElement(a,{each:function(){return s},key:function(e){return e.orientation}},r.createElement("div",{class:r.const("dcg-label-orientations"),role:r.const("radiogroup"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-label-orientation")}},(function(t){return r.createElement("div",{class:function(){var n;return(n={})[t.cssClass]=!0,n["dcg-orientation-option"]=!0,n["dcg-selected"]=e.isSelected(t.orientation),n["dcg-orientation-disabled"]=e.isDisabled(t.orientation),n},role:r.const("radio"),tabindex:r.const("0"),"aria-label":function(){return e.controller.s(t.description)},"aria-checked":function(){return e.getOrientation()===t.orientation},onTap:function(){return e.onTapOrientation(t.orientation)}},r.createElement("i",{class:function(){return{"dcg-icon-chevron-left":t.orientation!==i.LabelOrientation.DEFAULT}}}))}))))},t.prototype.isDisabled=function(e){return e===i.LabelOrientation.DEFAULT&&(!!this.isPointVisible()||this.model.labelOrientation===i.LabelOrientation.DEFAULT)},t.prototype.isSelected=function(e){return e===i.LabelOrientation.DEFAULT&&e===this.model.labelOrientation?!this.isPointVisible():e===this.model.labelOrientation},t.prototype.isPointVisible=function(){return!this.model.hidden&&(o.isSinglePoint(this.model)?!this.model.hidden:this.model.points)},t.prototype.getCSSRotationValue=function(){var e=o.getLabelAngleValue(this.model);return(Array.isArray(e)?0:e)+"rad"},t.prototype.getOrientation=function(){return this.props.model().labelOrientation},t.prototype.onTapOrientation=function(e){e===this.getOrientation()&&(e=i.LabelOrientation.DEFAULT),this.controller.dispatch({type:"set-item-label-orientation",id:this.id,labelOrientation:e})},t}(r.Class);t.LabelOrientationView=c})),i("expressions/expression-menus/label",["require","exports","tslib","./base-menu-section","dcgview","expressions/toggle-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","core/types/label-sizes","./label-orientation-view","./color-picker","dcgview-helpers/checkbox","core/lib/dragmode","core/graphing-calc/json/expression","core/math/interpolatedlabel","../../shared-components/tooltip"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f){Object.defineProperty(t,"__esModule",{value:!0}),t.LabelMenu=void 0;var m=i.Components.If,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-options-menu-section")},i.createElement("div",{class:i.const("dcg-options-menu-section-title")},(function(){return e.controller.s("graphing-calculator-heading-label")}),i.createElement(o.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-label-visible")},toggled:this.props.isOpen,onChange:this.bindFn(this.toggleLabelVisible)})),i.createElement(m,{predicate:this.props.isOpen},(function(){return i.createElement("div",{class:i.const("dcg-options-menu-content")},i.createElement("div",{class:i.const("dcg-options-flex-container")},i.createElement("div",{class:i.const("dcg-options-left-side")},i.createElement("div",{class:i.const("dcg-iconed-mathquill-row dcg-label-size-row")},i.createElement(f.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-label-size-tooltip")},sticky:e.const(!0),gravity:e.const("se")},i.createElement("span",{class:i.const("dcg-font-size")},i.const("A"))),i.createElement(a.default,{latex:e.bindFn(e.getLabelSizeLatex),placeholder:e.bindFn(e.getLabelSizePlaceholder),isFocused:function(){return"labelsize"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-label-size")},getAriaPostLabel:function(){return s.isLabelSizeValid(e.model)?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!s.isLabelSizeValid(e.model)},onUserChangedLatex:function(t){return e.dispatchLabelSizeIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"labelsize")},dataLabelAttributeValue:e.const("label-size")})),i.createElement("div",{class:function(){return{"dcg-iconed-mathquill-row":!0,"dcg-label-angle-row":!0,"dcg-suffix-degree":e.props.controller().getGraphSettings().degreeMode,"dcg-suffix-radian":!e.props.controller().getGraphSettings().degreeMode}}},i.createElement(f.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-angle-tooltip")},sticky:e.const(!0)},i.createElement("i",{class:i.const("dcg-icon-angle")})),i.createElement(a.default,{latex:function(){return e.model.labelAngle},placeholder:function(){return"0"},isFocused:function(){return"labelangle"===e.getFocusedInput()},capExpressionSize:function(){return!!e.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!0),config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-label-angle")},getAriaPostLabel:function(){return s.isLabelAngleValid(e.model)?e.controller.raw(""):e.controller.s("shared-calculator-narration-input-error")},hasError:function(){return!s.isLabelAngleValid(e.model)},onUserChangedLatex:function(t){return e.dispatchLabelAngleIfChanged(t)},onExpressionSizeExceeded:function(){return e.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(t){return e.handleFocusedChanged(t,"labelangle")},dataLabelAttributeValue:e.const("label-angle")}))),i.createElement("div",{class:i.const("dcg-options-right-side")},i.createElement(l.LabelOrientationView,{controller:function(){return e.controller},model:function(){return e.model}}))),i.createElement(m,{predicate:e.props.isFirstOpenSection},(function(){return i.createElement(d.ColorPicker,n.__assign({},e.props,{model:function(){return e.model},selectedColor:e.bindFn(e.getModelColor),onColorSelected:e.bindFn(e.onColorSelected),onCustomColorSelected:e.bindFn(e.onCustomColorSelected)}))})),i.createElement(m,{predicate:function(){return e.controller.canUseAdvancedStyling()}},(function(){return i.createElement("div",{class:i.const("dcg-label-advanced")},i.createElement(u.Checkbox,{checked:e.bindFn(e.getWhiteTextOutline),onChange:e.bindFn(e.setWhiteTextOutline),ariaLabel:function(){return e.controller.s("graphing-calculator-button-label-text-outline")},disabled:function(){return e.getEditable()}},(function(){return e.controller.s("graphing-calculator-button-label-text-outline")})),i.createElement("div",{role:i.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-advanced")}},i.createElement(m,{predicate:function(){return e.shouldShowHoverLabelCheckbox()}},(function(){return i.createElement(u.Checkbox,{checked:e.bindFn(e.getInteractiveLabel),onChange:e.bindFn(e.setInteractiveLabel),ariaLabel:function(){return e.controller.s("graphing-calculator-button-label-show-on-hover")}},(function(){return e.controller.s("graphing-calculator-button-label-show-on-hover")}))})),i.createElement(m,{predicate:e.bindFn(e.shouldShowEditableLabelToggle)},(function(){return i.createElement(u.Checkbox,{checked:e.bindFn(e.getEditable),onChange:e.bindFn(e.setEditable),ariaLabel:function(){return e.controller.s("graphing-calculator-button-label-editable")}},(function(){return e.controller.s("graphing-calculator-button-label-editable")}))}))))})))})))},t.prototype.getWhiteTextOutline=function(){return!this.getEditable()&&!this.model.suppressTextOutline},t.prototype.setWhiteTextOutline=function(e){this.controller.dispatch({type:"set-suppress-text-outline",id:this.id,suppressTextOutline:!e})},t.prototype.setInteractiveLabel=function(e){this.controller.dispatch({type:"set-item-interactive-label",id:this.id,interactiveLabel:e})},t.prototype.getInteractiveLabel=function(){return!!this.model.interactiveLabel},t.prototype.setEditable=function(e){if(e){var t="latex"===h.classifyLabelText(this.model.label)?g.EditableLabelMode.Math:g.EditableLabelMode.Text;this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id,editableLabelMode:t})}else this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id,editableLabelMode:g.EditableLabelMode.None})},t.prototype.getEditable=function(){return this.model.editableLabelMode!==g.EditableLabelMode.None},t.prototype.shouldShowEditableLabelToggle=function(){return s.isSinglePoint(this.model)},t.prototype.shouldShowHoverLabelCheckbox=function(){return this.model.reconciledDragMode===p.DragMode.NONE},t.prototype.dispatchLabelAngleIfChanged=function(e){this.model.labelAngle!==e&&this.controller.dispatch({type:"set-item-labelangle",id:this.id,labelAngle:e})},t.prototype.dispatchLabelSizeIfChanged=function(e){if(this.model.labelSize!==e){var t=c.maybeMigrateLabelSizeEnumToLatex(e);t&&(e=t),this.controller.dispatch({type:"set-item-labelSize",id:this.id,labelSize:e})}},t.prototype.getLabelSizePlaceholder=function(){return c.maybeMigrateLabelSizeEnumToLatex(this.model.labelSize)||"1"},t.prototype.getLabelSizeLatex=function(){return c.maybeMigrateLabelSizeEnumToLatex(this.model.labelSize)?"":this.model.labelSize},t.prototype.toggleLabelVisible=function(){this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!this.props.isOpen()})},t}(r.BaseMenuSection);t.LabelMenu=y})),i("expressions/expression-menus/drag",["require","exports","tslib","./base-menu-section","dcgview","underscore","expressions/toggle-view","core/lib/dragmode","../circular-icon-view"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0}),t.DragMenu=void 0;var l=i.Components,d=l.If,u=l.For,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-options-menu-section")},i.createElement("div",{class:i.const("dcg-options-menu-section-title")},(function(){return e.controller.s("graphing-calculator-heading-drag")}),i.createElement(a.ToggleView,{ariaLabel:function(){return e.controller.s("graphing-calculator-narration-menu-drag-enabled")},toggled:this.props.isOpen,onChange:this.bindFn(this.toggleDragEnabled)})),i.createElement(d,{predicate:this.props.isOpen},(function(){return i.createElement("div",{class:i.const("dcg-options-menu-content")},i.createElement(u,{each:function(){return[s.DragMode.X,s.DragMode.Y,s.DragMode.XY]}},i.createElement("div",{class:i.const("dcg-style-icons"),role:i.const("radiogroup")},(function(t){return i.createElement("div",{class:function(){return{"dcg-style-icon-container":!0,"dcg-disabled":e.isDisabled(t)}},onTap:function(){return e.onDragModeSelected(t)},role:i.const("radio"),tabindex:function(){return e.isDisabled(t)?-1:0},"aria-label":function(){return"X"===t?e.controller.s("graphing-calculator-narration-drag-mode-x"):"Y"===t?e.controller.s("graphing-calculator-narration-drag-mode-y"):"XY"===t?e.controller.s("graphing-calculator-narration-drag-mode-xy"):e.controller.raw("")},"aria-checked":function(){return e.getDragMode()===t}},i.createElement(c.CircularIconView,{backgroundColor:function(){return"#000"},semiTransparent:function(){return e.getDragMode()!==t},iconType:function(){return"X"===t?"movable-horizontal":"Y"===t?"movable-vertical":"movable-both"}}))}))))})))},t.prototype.isDisabled=function(e){var t=this.controller.getEnabledDragModesForItem(this.id);return!o.contains(t,e)},t.prototype.onDragModeSelected=function(e){if("expression"===this.model.type){if(this.isDisabled(e))return;this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:e})}else{var t=this.model.id,n=this.model.table.id;this.controller.dispatch({type:"set-tablecolumn-dragmode",tableId:n,columnId:t,dragMode:e})}},t.prototype.getDragMode=function(){return"expression"===this.model.type&&this.model.reconciledDragMode||this.model.dragMode},t.prototype.toggleDragEnabled=function(){var e=this.getDragMode()!==s.DragMode.NONE?s.DragMode.NONE:s.DragMode.XY;"expression"===this.model.type?this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:e}):this.onDragModeSelected(e)},t}(r.BaseMenuSection);t.DragMenu=p})),i("loadcss!expressions/expression-menus/expression-options-menu-view",(function(){})),i("expressions/expression-menus/expression-options-menu-view",["require","exports","tslib","dcgview","lib/aria","jquery","./lines","./colors-only","./fill","./clickable","./points","./label","./drag","graphing-calc/models/expression","core/math/expression-types","core/lib/dragmode","loadcss!./expression-options-menu-view"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f){Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionOptionsMenuView=void 0;var m=r.Components,y=m.For,b=m.If,v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,this.props.registerRepositionCb(this.bindFn(this.renderOffset))},t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-expressions-options-menu":!0,"dcg-options-menu":!0}},role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-options-menu")},didMount:this.bindFn(this.didMountContainer)},r.createElement(y,{each:this.bindFn(this.getSections)},r.createElement("div",null,(function(t){switch(t){case"points":return r.createElement(d.PointsMenu,n.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("points")},isFirstOpenSection:function(){return e.isFirstOpenSection("points")}}));case"label":return r.createElement(u.LabelMenu,n.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("label")},isFirstOpenSection:function(){return e.isFirstOpenSection("label")}}));case"drag":return r.createElement(p.DragMenu,n.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("drag")},isFirstOpenSection:function(){return e.isFirstOpenSection("drag")}}));case"lines":return r.createElement(a.LineMenu,n.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("lines")},isFirstOpenSection:function(){return e.isFirstOpenSection("lines")}}));case"fill":return r.createElement(c.FillMenu,n.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("fill")},isFirstOpenSection:function(){return e.isFirstOpenSection("fill")}}));case"colors-only":return r.createElement(s.ColorsOnlyMenu,n.__assign({},e.props,{isOpen:e.const(!0),isFirstOpenSection:e.const(!0)}))}}))),r.createElement(b,{predicate:this.bindFn(this.isClickable)},(function(){return r.createElement(l.ClickableMenu,n.__assign({},e.props,{isOpen:function(){return!!e.model.clickableInfo.enabled},isFirstOpenSection:e.const(!1)}))})),r.createElement("div",{class:r.const("dcg-triangle"),didMount:this.bindFn(this.didMountArrow)}))},t.prototype.willUnmount=function(){i.alert(this.controller.s("graphing-calculator-narration-options-menu-closed"))},t.prototype.didMountContainer=function(e){this.$containerElt=o(e),i.alert(this.controller.s("graphing-calculator-narration-options-menu-open"))},t.prototype.didMountArrow=function(e){this.$arrowElt=o(e)},t.prototype.renderOffset=function(e){if(this.$containerElt&&this.$arrowElt){var t=this.$containerElt.outerHeight(),n=0;t>e&&(n=+e-t);var r=-n<t-38;this.$containerElt.css("margin-top",n+"px"),this.$arrowElt.css("margin-top",-n+"px"),this.$arrowElt.css("display",r?"":"none")}},t.prototype.isClickable=function(){return this.controller.areActionsEnabled()&&g.isClickableAllowed(this.model)},t.prototype.getSections=function(){return g.isHistogram(this.model)||g.isBoxPlot(this.model)||g.isRegression(this.model)||g.isDiscreteDistribution(this.model)?["colors-only"]:g.isToplevelDistribution(this.model)?["lines"]:g.isDotPlot(this.model)?["points"]:g.isPointList(this.model)?["points","label","lines"]:g.isSinglePoint(this.model)?this.model.formula.move_strategy?["points","label","drag"]:["points","label"]:g.isParametric(this.model)||g.isPolygon(this.model)?["lines","fill"]:g.isInequality(this.model)?g.isPolar(this.model)?["lines"]:["lines","fill"]:["lines"]},t.prototype.isFirstOpenSection=function(e){for(var t=0,n=this.getSections();t<n.length;t++){var r=n[t];if(r===e)return this.isSectionOpen(e);if(this.isSectionOpen(r))return!1}return!1},t.prototype.isSectionOpen=function(e){var t=this.model,n=t.points,r=t.lines,i=t.fill,o=h.getReconciledExpressionProps(this.model.formula.expression_type,{points:n,lines:r,fill:i});switch(e){case"lines":return!this.model.hidden&&o.lines;case"label":return this.model.showLabel;case"fill":return!this.model.hidden&&(!!g.isInequality(this.model)||o.fill);case"points":return!this.model.hidden&&(g.isSinglePoint(this.model)?!this.model.hidden:o.points);case"drag":return this.model.reconciledDragMode!==f.DragMode.NONE;case"colors-only":return!0}},t}(r.Class);t.ExpressionOptionsMenuView=v})),i("expressions/expression-menus/table-options-menu-view",["require","exports","tslib","dcgview","lib/aria","./lines","./points","./drag","core/lib/dragmode","loadcss!./expression-options-menu-view","loadcss!./expression-options-menu-view"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0}),t.TableOptionsMenuView=void 0;var l=r.Components.For,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-table-column-menu":!0,"dcg-options-menu":!0}},role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-options-menu")},didMount:function(){i.alert(e.controller.s("graphing-calculator-narration-options-menu-open"))},didUnmount:function(){i.alert(e.controller.s("graphing-calculator-narration-options-menu-closed"))}},r.createElement(l,{each:this.bindFn(this.getSections)},r.createElement("div",null,(function(t){switch(t){case"points":return r.createElement(a.PointsMenu,n.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("points")},isFirstOpenSection:function(){return e.isFirstOpenSection("points")}}));case"drag":return r.createElement(s.DragMenu,n.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("drag")},isFirstOpenSection:function(){return e.isFirstOpenSection("drag")}}));case"lines":return r.createElement(o.LineMenu,n.__assign({},e.props,{isOpen:function(){return e.isSectionOpen("lines")},isFirstOpenSection:function(){return e.isFirstOpenSection("lines")}}))}}))),r.createElement("div",{class:r.const("dcg-triangle")}))},t.prototype.getSections=function(){return this.model.draggable?["points","lines","drag"]:["points","lines"]},t.prototype.isFirstOpenSection=function(e){for(var t=0,n=this.getSections();t<n.length;t++){var r=n[t];if(r===e)return this.isSectionOpen(e);if(this.isSectionOpen(r))return!1}return!1},t.prototype.isSectionOpen=function(e){switch(e){case"drag":return this.model.dragMode!==c.DragMode.NONE;case"lines":return!!this.model.lines;case"points":return!!this.model.points}},t}(r.Class);t.TableOptionsMenuView=d})),i("expressions/image_options_view",["require","exports","tslib","dcgview","graphing-calc/models/image","graphing-calc/models/expression","dcgview-helpers/checkbox","./circular-icon-view","expressions/expression-menus/clickable","lib/coerce-url"],(function(e,t,n,r,i,o,a,s,c,l){Object.defineProperty(t,"__esModule",{value:!0}),t.ImageOptionsView=void 0;var d=r.Components,u=d.For,p=d.If,g=d.Textarea,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,r.createElement("div",{class:r.const("dcg-image-options-menu dcg-options-menu")},r.createElement("div",{class:r.const("dcg-triangle")}),r.createElement("div",{class:r.const("dcg-opacities-menu dcg-dividing-line-after")},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-title")},(function(){return e.controller.s("graphing-calculator-heading-image-opacity")})),r.createElement(u,{each:function(){return e.controller.getImageOpacities()}},r.createElement("div",{class:r.const("dcg-opacities-menu-flex"),role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-image-opacity")}},(function(t){return r.createElement("span",{class:r.const("dcg-opacity-option"),role:r.const("button"),tabindex:r.const(0),"aria-label":function(){return"opacity: "+t},"aria-pressed":function(){return e.isOpacitySelected(t)},handleevent:r.const("true"),onTap:function(){return e.onSelectOpacity(t)}},r.createElement(s.CircularIconView,{backgroundImage:e.bindFn(e.getBackgroundImage),iconType:function(){return e.isOpacitySelected(t)?"check":"none"},backgroundOpacity:function(){return parseFloat(t)}}))})))),r.createElement("div",{class:r.const("dcg-styles-div dcg-options-menu-section")},r.createElement("div",{class:r.const("dcg-styles-menu"),role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-image-styles")}},r.createElement(a.Checkbox,{checked:function(){return!e.model.foreground},onChange:this.bindFn(this.onToggleForeground),ariaLabel:function(){return e.controller.s("graphing-calculator-button-place-image-behind-graphs")}},(function(){return e.controller.s("graphing-calculator-button-place-image-behind-graphs")}))),r.createElement(p,{predicate:function(){return e.shouldShowDraggableCheckbox()}},(function(){return r.createElement("div",{class:r.const("dcg-draggable-checkbox-container")},r.createElement(a.Checkbox,{checked:function(){return i.isActuallyDraggable(e.model)},onChange:e.bindFn(e.onToggleDraggable),ariaLabel:function(){return e.controller.s("graphing-calculator-button-draggable")}},(function(){return e.controller.s("graphing-calculator-button-draggable")})))})),r.createElement(p,{predicate:this.bindFn(this.shouldShowClickable)},(function(){return r.createElement("div",{class:r.const("dcg-clickable-image-controls")},r.createElement(c.ClickableMenu,n.__assign({},e.props,{isOpen:function(){return!!e.model.clickableInfo.enabled},isFirstOpenSection:e.const(!1)})))})),r.createElement(p,{predicate:function(){return i.isActuallyDraggable(e.model)||!!e.model.clickableInfo.enabled}},(function(){return r.createElement(g,{placeholder:function(){return e.controller.s("graphing-calculator-text-add-screen-reader-label-placeholder")},value:function(){return e.model.description},onInput:function(t){return e.controller.dispatch({type:"set-item-description",id:e.model.id,description:t})}})}))))},t.prototype.onToggleDraggable=function(){i.getCenterExternalReferencedModel(this.model)?this.controller.dispatch({type:"set-image-draggable",id:this.id,draggable:!this.model.draggable}):this.makeDraggable()},t.prototype.onToggleForeground=function(e){this.controller.dispatch({type:"set-image-in-foreground",id:this.id,foreground:!e})},t.prototype.onSelectOpacity=function(e){this.controller.dispatch({type:"set-image-opacity",id:this.id,opacity:e})},t.prototype.isOpacitySelected=function(e){return this.model.opacity===e},t.prototype.getBackgroundImage=function(){return this.model.image_url===this.lastURL||(this.lastURL=this.model.image_url,this.lastEncodedURL='url("'+l.coerceURL(this.model.image_url)+'")'),this.lastEncodedURL},t.prototype.shouldShowClickable=function(){return this.controller.areActionsEnabled()},t.prototype.makeDraggable=function(){this.controller.dispatch({type:"convert-image-to-draggable",id:this.model.id})},t.prototype.shouldShowDraggableCheckbox=function(){var e=i.getCenterExternalReferencedModel(this.model);return e?o.isPotentiallyMovable(e):i.canConvertToDraggableImage(this.model)},t}(r.Class);t.ImageOptionsView=h})),i("loadcss!expressions/slider-speed-view",(function(){})),i("expressions/slider_speed_view",["require","exports","tslib","underscore","lib/aria","dcgview","core/graphing-calc/json/expression","loadcss!./slider-speed-view"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=[.05,.1,.15,.2,.35,.5,.75,1,1.5,2,3.5,5,7.5,10,15,20],c=r.min(s),l=r.max(s),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},t.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-slider-speed-container dcg-do-not-blur"),handleEvent:o.const("true")},o.createElement("span",{class:function(){return{"dcg-action-slower":!0,"dcg-disabled":e.isSlowerDisabled()}},onTap:function(){return e.animateSlower()},role:o.const("button"),"aria-label":function(){return e.getSlowerAriaLabel()},tabindex:function(){return e.isSlowerDisabled()?-1:0},"aria-disabled":function(){return e.isSlowerDisabled()}},o.createElement("i",{class:o.const("dcg-icon-show")})),o.createElement("span",{class:o.const("dcg-variable-speed")},this.bindFn(this.computeSpeed),o.const("x")),o.createElement("span",{class:function(){return{"dcg-action-faster":!0,"dcg-disabled":e.isFasterDisabled()}},onTap:function(){return e.animateFaster()},role:o.const("button"),"aria-label":function(){return e.getFasterAriaLabel()},tabindex:function(){return e.isFasterDisabled()?-1:0},"aria-disabled":function(){return e.isFasterDisabled()}},o.createElement("i",{class:o.const("dcg-icon-show")})))},t.prototype.computeSpeed=function(){var e=a.DEFAULT_SLIDER_PERIOD/this.model.slider.animationPeriod;return Number(e.toFixed(3))},t.prototype.isSlowerDisabled=function(){return c>=this.computeSpeed()},t.prototype.isFasterDisabled=function(){return l<=this.computeSpeed()},t.prototype.animateSlower=function(){var e=this.computeSpeed(),t=r.filter(s,(function(t){return t<e}));0!==t.length&&this.setPeriodFromSpeed(r.max(t))},t.prototype.animateFaster=function(){var e=this.computeSpeed(),t=r.filter(s,(function(t){return t>e}));0!==t.length&&this.setPeriodFromSpeed(r.min(t))},t.prototype.setPeriodFromSpeed=function(e){var t=a.DEFAULT_SLIDER_PERIOD/e;this.controller.dispatch({type:"set-slider-animationperiod",id:this.model.id,animationPeriod:t}),i.alert(this.controller.s("graphing-calculator-narration-slider-animating-at-speed",{speed:e+""}))},t.prototype.getSlowerAriaLabel=function(){return this.controller.s("graphing-calculator-narration-slider-animate-slower")},t.prototype.getFasterAriaLabel=function(){return this.controller.s("graphing-calculator-narration-slider-animate-faster")},t}(o.Class);t.default=d})),i("loadcss!expressions/slider-options-view",(function(){})),i("expressions/slider-options-view",["require","exports","tslib","dcgview","core/types/slider-loop-modes","../shared-components/tooltip","./slider_speed_view","loadcss!toggle","loadcss!./slider-options-view"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderOptionsView=void 0;var s=r.Components.For,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-slider-options-view dcg-options-menu")},r.createElement("div",{class:r.const("dcg-triangle")}),r.createElement("div",{class:r.const("dcg-slider-menu")},r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-slider-animation-mode")}},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-title")},(function(){return e.controller.s("graphing-calculator-heading-slider-animation-mode")})),r.createElement(s,{each:this.bindFn(this.getAnimationOptions),key:function(e){return e.key}},r.createElement("div",{class:r.const("dcg-toggle")},(function(t){return r.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":e.isSelected(t.key)}},role:r.const("button"),tabindex:r.const(0),"aria-label":function(){return t.aria},"aria-pressed":function(){return e.isSelected(t.key)},onTap:function(){return e.props.controller().dispatch({type:"set-slider-loopmode",id:e.props.model().id,loopMode:t.key})}},r.createElement(o.Tooltip,{tooltip:function(){return t.aria},offset:function(){return{top:5}},gravity:e.getAnimationOptionTooltipGravity(t)},r.createElement("i",{class:function(){return i.getSliderIcon(t.key)}})))}))))),r.createElement("div",{class:r.const("dcg-slider-menu dcg-slider-speed-menu"),role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-heading-slider-speed")}},r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:r.const("dcg-title")},(function(){return e.controller.s("graphing-calculator-heading-slider-speed")})),r.createElement("div",{class:r.const("dcg-slider-speed-container")},r.createElement(a.default,n.__assign({},this.props)))))},t.prototype.getAnimationOptionTooltipGravity=function(e){return this.getAnimationOptions()[0].key===e.key?this.const("se"):this.const("s")},t.prototype.getAnimationOptions=function(){return[{key:i.SliderLoopMode.LOOP_FORWARD_REVERSE,aria:this.controller.s("graphing-calculator-narration-slider-loop-forwards-and-backwards")},{key:i.SliderLoopMode.LOOP_FORWARD,aria:this.controller.s("graphing-calculator-narration-slider-repeat-one-direction")},{key:i.SliderLoopMode.PLAY_ONCE,aria:this.controller.s("graphing-calculator-narration-slider-play-once")},{key:i.SliderLoopMode.PLAY_INDEFINITELY,aria:this.controller.s("graphing-calculator-narration-slider-play-indefinitely")}]},t.prototype.isSelected=function(e){return this.model.slider.loopMode===e},t}(r.Class);t.SliderOptionsView=c})),i("loadcss!expressions/item-settings-view",(function(){})),i("expressions/item-settings-view",["require","exports","tslib","dcgview","keys","underscore","jquery","./expression-menus/expression-options-menu-view","./expression-menus/table-options-menu-view","./image_options_view","./slider-options-view","loadcss!./item-settings-view"],(function(e,t,n,r,i,o,a,s,c,l,d){Object.defineProperty(t,"__esModule",{value:!0}),t.ItemSettingsView=void 0;var u=r.Components.Switch,p=':input, [role="textbox"], [tabindex="0"]:visible',g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement(u,{key:this.bindFn(this.getActiveGuid)},(function(){var t=e.controller.getOpenItemMenu();return e.registeredChildRepositionCb=void 0,t?"expression"===t.type?r.createElement("div",{class:r.const("dcg-options-menu-container"),didMount:e.bindFn(e.didMountView),didUnmount:e.bindFn(e.didUnmountView)},r.createElement(s.ExpressionOptionsMenuView,{controller:e.props.controller,model:function(){return t.model},registerRepositionCb:function(t){e.registeredChildRepositionCb=t}})):"image"===t.type?r.createElement("div",{class:r.const("dcg-options-menu-container"),didMount:e.bindFn(e.didMountView),didUnmount:e.bindFn(e.didUnmountView)},r.createElement(l.ImageOptionsView,{controller:e.props.controller,model:function(){return t.model}})):"table-column"===t.type?r.createElement("div",{class:r.const("dcg-options-menu-container"),didMount:e.bindFn(e.didMountView),didUnmount:e.bindFn(e.didUnmountView)},r.createElement(c.TableOptionsMenuView,{controller:e.props.controller,model:function(){return t.model}})):"slider"===t.type?r.createElement("div",{class:r.const("dcg-options-menu-container"),didMount:e.bindFn(e.didMountView),didUnmount:e.bindFn(e.didUnmountView)},r.createElement(d.SliderOptionsView,{controller:e.props.controller,model:function(){return t.model}})):t:r.createElement("span",null)}))},t.prototype.getActiveGuid=function(){var e=this.controller.getOpenItemMenu();if(e)return e.model.guid},t.prototype.didMountView=function(e){var t=this;this.guid=o.uniqueId("dcg-item-settings-view"),this.openView=e,this.positionMenu(),this.moveFocusIfAppropriate(),a(document.body).on("keydown."+this.guid,(function(e){var n=i.lookup(e);"Esc"===n?t.hideOptions():"Tab"!==n||e.altKey||e.ctrlKey||e.metaKey||(e.shiftKey?e.shiftKey&&(t.isIconModelFocused()?(e.preventDefault(),e.stopPropagation(),t.focusLastOption()):t.isFirstOptionViewFocused()?(e.preventDefault(),e.stopPropagation(),t.focusIcon()):t.focusAnywhere()):t.isIconModelFocused()?(e.preventDefault(),e.stopPropagation(),t.focusFirstOption()):t.isLastOptionViewFocused()?(e.preventDefault(),e.stopPropagation(),t.focusIcon()):t.focusAnywhere())})),requestAnimationFrame((function(){t.openView&&t.controller.getExppanelSelectorOrThrow().on("scroll."+t.guid,(function(){t.hideOptions()}))})),a(document.body).on("dcg-tapstart."+this.guid,(function(e){if(t.openView){var n=a(e.target),r=t.controller.getActiveIcon();if(!r||!n.closest(r).length)if(n.closest(t.openView).length){if(!n.is(p))return;var i=t.getDOMTabStops(),o=i.$first,s=i.$last;void 0!==o&&o.is(n)?t.focusFirstOption():void 0!==s&&s.is(n)?t.focusLastOption():e.target.hasAttribute("dataLabelAttributeValue")||"fill-opacity"===e.target.getAttribute("dataLabelAttributeValue")||t.focusAnywhere()}else n.closest(".dcg-keypad,.dcg-show-keypad-container").length||t.hideOptions()}}))},t.prototype.didUnmountView=function(){a(document.body).off("."+this.guid),this.openView=void 0},t.prototype.didUpdate=function(){this.positionMenu(),this.moveFocusIfAppropriate()},t.prototype.moveFocusIfAppropriate=function(){var e=this.getDOMTabStops(),t=e.$first,n=e.$last;void 0!==t&&void 0!==n&&(this.shouldMoveFocusToFirstOption()?t.trigger("focus"):this.shouldMoveFocusToLastOption()&&n.trigger("focus"))},t.prototype.open=function(){return!!this.controller.getOpenItemMenu()},t.prototype.hideOptions=function(){this.open()&&this.controller.dispatch({type:"close-item-settings-menu"})},t.prototype.positionMenu=function(){var e=this.controller.getActiveIcon();if(e&&this.openView){var t=this.controller.getExppanelSelectorOrThrow().closest(".dcg-container")[0].getBoundingClientRect(),n=e[0].getBoundingClientRect(),r=n.top-t.top,i=n.left-t.left,o=this.controller.computeMajorLayout(),s=o.list.top+o.list.height,c=o.keypad.top,l=Math.min(s,c)+t.top-n.top;a(this.openView).css({top:r+"px",left:i+"px",display:"block"}),this.registeredChildRepositionCb&&this.registeredChildRepositionCb(l)}},t.prototype.isIconModelFocused=function(){var e=this.controller.getOpenItemMenu();return void 0!==e&&("slider"===e.type?this.controller.isFocusLocationFocused({type:"slider-animation-properties-icon",id:e.model.id}):"image"===e.type?this.controller.isFocusLocationFocused({type:"image-icon",id:e.model.id}):"table-column"===e.type?this.controller.isFocusLocationFocused({type:"table-icon",id:e.model.table.id,columnId:e.model.id}):this.controller.isFocusLocationFocused({type:"expression-icon",id:e.model.id}))},t.prototype.focusIcon=function(){this.controller.focusOpenMenuIcon()},t.prototype.isFirstOptionViewFocused=function(){var e=this.getDOMTabStops().$first;return void 0!==e&&e.is(":focus")},t.prototype.shouldMoveFocusToFirstOption=function(){var e=this.controller.getOpenItemMenu();return void 0!==e&&!this.isFirstOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"expression-menu",id:e.model.id,location:"start"})},t.prototype.focusFirstOption=function(){var e=this.controller.getOpenItemMenu();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:e.model.id,location:"start"}})},t.prototype.isLastOptionViewFocused=function(){var e=this.getDOMTabStops().$last;return void 0!==e&&e.is(":focus")},t.prototype.shouldMoveFocusToLastOption=function(){var e=this.controller.getOpenItemMenu();return void 0!==e&&!this.isLastOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"expression-menu",id:e.model.id,location:"end"})},t.prototype.focusLastOption=function(){var e=this.controller.getOpenItemMenu();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:e.model.id,location:"end"}})},t.prototype.focusAnywhere=function(){var e=this.controller.getOpenItemMenu();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:e.model.id,location:"anywhere"}})},t.prototype.getDOMTabStops=function(){if(void 0===this.openView)return{};var e=a(this.openView).find(p);return{$first:e.first(),$last:e.last()}},t}(r.Class);t.ItemSettingsView=g})),i("loadcss!expressions/expression-search-bar",(function(){})),i("expressions/expression-search-bar",["require","exports","tslib","dcgview","../dcgview-helpers/mathquill-view","main/mathquill-operators","loadcss!./expression-search-bar"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionSearchBar=void 0;var a=r.Components.If,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-expression-search-bar":!0,"dcg-expressions-scrolled":e.props.expsScrolled()&&!e.controller.getTickerOpen()}},role:r.const("search")},r.createElement("div",{class:r.const("dcg-search-mathquill-container")},r.createElement(i.default,{hasError:this.const(!1),capExpressionSize:this.const(!1),onUserChangedLatex:this.bindFn(this.onChange),latex:function(){return e.controller.getExpressionSearchStr()},getAriaLabel:function(){return e.controller.s("graphing-calculator-label-search-expressions")},getAriaPostLabel:function(){return 0===e.controller.getExpressionSearchStr().length?e.controller.raw(""):e.controller.s("graphing-calculator-narration-expression-search-results",{count:e.controller.getExpressionSearchCount()})},isFocused:this.bindFn(this.isFocused),config:this.bindFn(this.getMQConfig),onFocusedChanged:this.bindFn(this.onFocusChanged),selectOnFocus:this.const(!0),noFadeout:this.const(!0),onUserPressedKey:function(t,n){if("Esc"===t)e.closeSearch();else if("Enter"===t)e.controller.dispatch({type:"update-expression-search-str",str:e.controller.getExpressionSearchStr()});else{var r=i.default.getFocusedMathquill();if(!r)return;r.keystroke(t,n),e.onChange(r.latex())}}}),r.createElement("i",{class:r.const("dcg-icon-search")}),r.createElement(a,{predicate:function(){return 0===e.controller.getExpressionSearchStr().length}},(function(){return r.createElement("span",{class:r.const("dcg-search-placeholder")},(function(){return e.controller.s("graphing-calculator-label-search-expressions")}))}))),r.createElement("i",{onTap:function(){return e.closeSearch()},tabindex:r.const(0),"aria-label":function(){return e.controller.s("account-shell-button-cancel")},role:r.const("button"),class:r.const("dcg-icon-remove dcg-do-not-blur")}))},t.prototype.closeSearch=function(){this.controller.dispatch({type:"close-expression-search"})},t.prototype.onChange=function(e){this.controller.dispatch({type:"update-expression-search-str",str:e})},t.prototype.onFocusChanged=function(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"search-expressions"}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"search-expressions"}})},t.prototype.isFocused=function(){var e=this.controller.getFocusLocation();return!!e&&"search-expressions"===e.type},t.prototype.getMQConfig=function(){return{autoOperatorNames:o.getAutoOperators()}},t}(r.Class);t.ExpressionSearchBar=s})),i("loadcss!expressions/ticker",(function(){})),i("expressions/ticker",["require","exports","tslib","dcgview","../dcgview-helpers/mathquill-view","main/mathquill-operators","../dcgview-helpers/tooltipped-error","../graphing-calc/models/ticker","./promptslider_view","./circular-icon-view","../shared-components/tooltip","lib/conditional_blur","loadcss!./ticker"],(function(e,t,n,r,i,o,a,s,c,l,d,u){Object.defineProperty(t,"__esModule",{value:!0}),t.Ticker=void 0;var p=r.Components,g=p.If,h=p.IfDefined,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-ticker":!0,"dcg-expressions-scrolled":e.props.expsScrolled()}}},r.createElement("div",{class:r.const("dcg-ticker-settings-container")},r.createElement("div",{class:r.const("dcg-ticker-settings-internal")},r.createElement("div",{class:r.const("dcg-editable-mathquill-container dcg-action-definition")},r.createElement("span",{class:r.const("dcg-ticker-label")},(function(){return e.controller.raw("Run")})),r.createElement(i.default,{hasError:function(){return!!e.getHandlerErrorString()},getAriaPostLabel:function(){var t=e.getHandlerErrorString();return t?e.controller.unpack(t):""},capExpressionSize:this.const(!1),onUserChangedLatex:function(t){return e.dispatchHandlerLatexIfChanged(t)},latex:function(){return e.getHandlerLatex()},getAriaLabel:function(){return e.controller.s("graphing-calculator-narration-tick-action")},isFocused:function(){return"handler"===e.getFocusedInput()},config:function(){return e.getMQConfig()},onFocusedChanged:function(t){return e.handleFocusedChanged("handler",t)},selectOnFocus:this.const(!0),noFadeout:this.const(!0),onUserPressedKey:function(t,n){e.handlePressedKey("handler",t,n)}}),h((function(){return e.getHandlerErrorString()}),(function(t){return r.createElement("span",{class:r.const("dcg-clickable-info-error-container")},r.createElement(a.TooltippedError,{error:function(){return e.controller.unpack(t())},gravity:e.const("s"),size:e.const("small")}))}))),r.createElement("div",{class:r.const("dcg-editable-mathquill-container dcg-action-frequency")},r.createElement("span",{class:r.const("dcg-ticker-label")},(function(){return e.controller.raw("every")})),r.createElement(i.default,{hasError:function(){return!!e.getMinStepErrorString()},getAriaPostLabel:function(){var t=e.getMinStepErrorString();return t?e.controller.unpack(t):""},capExpressionSize:this.const(!1),onUserChangedLatex:function(t){return e.dispatchMinStepLatexIfChanged(t)},latex:function(){return e.getMinStepLatex()},getAriaLabel:function(){return e.controller.s("graphing-calculator-label-ticker-min-step")},isFocused:function(){return"minstep"===e.getFocusedInput()},config:this.bindFn(this.getMQConfig),onFocusedChanged:function(t){return e.handleFocusedChanged("minstep",t)},selectOnFocus:this.const(!0),placeholder:this.const("0"),noFadeout:this.const(!0),onUserPressedKey:function(t,n){e.handlePressedKey("minstep",t,n)}}),(function(){return e.controller.raw("ms")}),r.createElement(d.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-ticker-help-tooltip")},gravity:this.const("s")},r.createElement("a",{"aria-label":function(){return e.controller.s("graphing-calculator-label-ticker-help-tooltip")},class:r.const("dcg-ticker-toggle-help"),target:r.const("_blank"),href:r.const("https://help.desmos.com/hc/en-us/articles/4407725009165")},r.createElement("i",{class:r.const("dcg-icon-question-sign")})))),r.createElement(g,{predicate:this.bindFn(this.shouldShowSliderPrompt)},(function(){return r.createElement(c.default,{model:function(){return e.props.controller().getTicker()},controller:e.props.controller})}))),r.createElement("div",{class:function(){return{"dcg-circular-icon-container":!0,"dcg-disabled":e.iconDisabled()}},"aria-label":this.bindFn(this.getIconAriaLabel),role:r.const("button"),tabindex:function(){return e.iconDisabled()?-1:0},"aria-disabled":this.bindFn(this.iconDisabled),"aria-pressed":function(){return e.controller.getTickerPlaying()&&!e.iconDisabled()},onTap:this.bindFn(this.toggleTicker),onTapStart:function(){u.default()}},r.createElement(l.CircularIconView,{iconType:this.const("metronome")}),r.createElement("div",{class:function(){return{"dcg-metronome-bar":!0,"dcg-metronome-playing":e.controller.getTickerPlaying()&&!e.iconDisabled()}}}),r.createElement(g,{predicate:function(){return!e.iconDisabled()}},(function(){return r.createElement("div",{class:r.const("dcg-mini-play-pause")},r.createElement(l.CircularIconView,{iconType:e.bindFn(e.getPlayIcon)}))})))),r.createElement("i",{onTap:this.bindFn(this.closeTicker),tabindex:function(){return e.controller.isInEditListMode()?0:-1},"aria-label":function(){return e.controller.s("graphing-calculator-label-ticker-close")},role:r.const("link"),class:r.const("dcg-icon-remove dcg-do-not-blur")}))},t.prototype.iconDisabled=function(){return!!this.getMinStepErrorString()||!!this.getHandlerErrorString()||!this.isHandlerMaybeValid()},t.prototype.isHandlerMaybeValid=function(){var e;return"maybe-valid"===(null===(e=this.controller.getTicker().formula)||void 0===e?void 0:e.handler.status)},t.prototype.closeTicker=function(){this.controller.dispatch({type:"close-ticker"})},t.prototype.toggleTicker=function(){this.iconDisabled()||this.controller.dispatch({type:"toggle-ticker"})},t.prototype.getPlayIcon=function(){return this.controller.getTickerPlaying()?"pause":"play"},t.prototype.getIconAriaLabel=function(){return this.controller.getTickerPlaying()?this.controller.s("graphing-calculator-label-ticker-pause"):this.controller.s("graphing-calculator-label-ticker-play")},t.prototype.getFocusedInput=function(){var e=this.controller.getFocusLocation();if(e&&"ticker"===e.type)return e.location},t.prototype.handlePressedKey=function(e,t,n){var r=i.default.getFocusedMathquill();if(r){if("Enter"===t&&this.shouldShowSliderPrompt()&&this.controller.dispatch({type:"create-sliders-for-ticker",variables:s.getMissingVariables(this.props.controller().getTicker())}),"Right"===t&&"handler"===e||"Left"===t&&"minstep"===e||"Down"===t){if(!i.default.applyArrowKeyAndReturnIfWasAtBounds(r,t,n))return;if("Down"===t)return this.controller.dispatch({type:"on-special-key-pressed",key:t});if("Right"===t)return void this.handleFocusedChanged("minstep",!0);if("Left"===t)return void this.handleFocusedChanged("handler",!0)}r.keystroke(t,n),"handler"===e?this.dispatchHandlerLatexIfChanged(r.latex()):"minstep"===e&&this.dispatchMinStepLatexIfChanged(r.latex())}},t.prototype.handleFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"ticker",location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"ticker",location:e}})},t.prototype.dispatchHandlerLatexIfChanged=function(e){this.getHandlerLatex()!==e&&this.controller.dispatch({type:"update-ticker-handlerlatex",latex:e})},t.prototype.dispatchMinStepLatexIfChanged=function(e){this.getMinStepLatex()!==e&&this.controller.dispatch({type:"update-ticker-minsteplatex",latex:e})},t.prototype.getHandlerLatex=function(){return this.controller.getTickerHandlerLatex()},t.prototype.getMinStepLatex=function(){return this.controller.getTickerMinStepLatex()},t.prototype.getMQConfig=function(){return{autoOperatorNames:o.getAutoOperators({additionalOperators:["dt"]}),autoCommands:o.getAutoCommands()}},t.prototype.getHandlerErrorString=function(){return this.getHandlerLatex()?s.getHandlerPackedError(this.controller.getTicker()):void 0},t.prototype.getMinStepErrorString=function(){return s.getMinStepPackedError(this.controller.getTicker())},t.prototype.shouldShowSliderPrompt=function(){return!!this.controller.areSlidersEnabled()&&s.getMissingVariables(this.controller.getTicker()).length>0},t}(r.Class);t.Ticker=f})),i("loadcss!expressions/list-view",(function(){})),i("loadcss!expressions",(function(){})),i("expressions/list-view",["require","exports","tslib","touchtracking","keys","dcgview","jquery","underscore","lib/conditional_blur","./expression_view","./text_view","./table-view","./folder-view","./image-view","./shell_view","./drag_container_view","main/data_helpers","./new_expression_view","./expressions-header","main/load-graph-from-link","lib/get-clipboard-data","graphing-calc/models/abstract-item","graphing-calc/models/list","graphing-calc/models/expression","./exp-list-resizer","./item-settings-view","./expression-search-bar","./ticker","loadcss!./list-view","loadcss!expressions","jquery.handleevent"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v,x,w,A,E,k,I,S,M){Object.defineProperty(t,"__esModule",{value:!0});var C=o.Components,D=C.If,T=C.For,L=C.Switch,_=C.SwitchUnion,O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.guid=s.uniqueId("listView"),t}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return o.createElement("div",{didMount:this.bindFn(this.didMountContainer)},o.createElement("div",{class:o.const("dcg-exppanel-outer"),onDrop:this.bindFn(this.onDrop),style:function(){return e.computeExppanelOuterStyle()}},o.createElement(D,{predicate:function(){return e.controller.isFileDraggedOver()}},(function(){return o.createElement("div",{class:o.const("dcg-drop-image")},o.createElement("span",null,(function(){return e.controller.s("graphing-calculator-label-drop-image-here")})))})),o.createElement("div",{class:function(){return{"dcg-exppanel-container":!0,"dcg-add-shadow":e.controller.shouldRenderList()}},style:function(){return{transform:e.controller.isListVisible()?void 0:e.controller.isNarrow()?"translate(0, 100%)":"translate(-100%, 0)"}}},o.createElement(D,{predicate:function(){return e.controller.shouldRenderList()}},(function(){return o.createElement(b.default,{controller:e.props.controller,expsScrolled:function(){return!!e.exppanel&&e.exppanel.scrollTop>0}})})),o.createElement(D,{predicate:function(){return e.controller.getExpressionSearchOpen()}},(function(){return o.createElement(S.ExpressionSearchBar,{controller:e.props.controller,expsScrolled:function(){return!!e.exppanel&&e.exppanel.scrollTop>0}})})),o.createElement(D,{predicate:function(){return e.controller.getTickerOpen()}},(function(){return o.createElement(M.Ticker,{controller:e.props.controller,expsScrolled:function(){return!!e.exppanel&&e.exppanel.scrollTop>0}})})),o.createElement(D,{predicate:function(){return e.controller.shouldRenderList()}},(function(){return o.createElement("div",{class:function(){return{"dcg-exppanel":!0,"dcg-disable-horizontal-scroll-to-cursor":!0,"dcg-isDragging":e.controller.isDragDropActive(),"dcg-has-background-color":e.controller.hasBackgroundColor()}},style:function(){return{background:e.controller.getBackgroundColor()}},onPaste:e.bindFn(e.onPaste),onTapStart:e.bindFn(e.onExppanelTapstart),didMount:e.bindFn(e.didMountExppanel)},o.createElement("div",{class:o.const("dcg-expressionlist"),role:o.const("complementary"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-expression-list")}},o.createElement(T,{each:function(){return e.controller.getAllItemModels()},key:function(e){return e.guid}},o.createElement("span",{class:o.const("dcg-template-expressioneach")},(function(t){return _((function(){return w.getDisplayState(t)}),{shell:function(){return e.makeShellViewForModel(t)},render:function(){return e.makeViewForModel(t)},none:function(){}})}))),o.createElement(y.default,{controller:function(){return e.props.controller()}}),o.createElement(L,{key:function(){return e.controller.getDraggedItemId()}},(function(t){if(t){var n=e.controller.getItemModel(t);return o.createElement(f.default,{controller:e.props.controller},e.makeDragCopyViewForModel(n))}})),o.createElement("div",{class:o.const("dcg-expressions-branding"),style:function(){return{opacity:e.controller.isKeypadOpen()?0:1}}},o.createElement(D,{predicate:function(){return e.controller.canEditOnWeb()}},(function(){return o.createElement("span",{role:o.const("link"),tabindex:o.const(0),class:o.const("dcg-edit-branding"),onTap:function(){return e.controller.dispatch({type:"open-on-web"})}},o.createElement("div",{class:o.const("dcg-powered-by"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-graph-on-desmos")}},(function(){return e.controller.s("graphing-calculator-button-edit-graph-on-desmos-logo")})),o.createElement("i",{class:o.const("dcg-icon-desmos")}))})),o.createElement(D,{predicate:function(){return!e.controller.canEditOnWeb()}},(function(){return o.createElement("span",{class:o.const("dcg-noedit-branding")},o.createElement("div",{class:o.const("dcg-powered-by"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-powered-by-desmos")}},(function(){return e.controller.s("graphing-calculator-label-powered-by")})),o.createElement("i",{class:o.const("dcg-icon-desmos")}))})))))}))),o.createElement(k.ExpListResizer,{controller:this.props.controller})),o.createElement(I.ItemSettingsView,{controller:this.props.controller}))},t.prototype.makeShellViewForModel=function(e){return o.createElement(h.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(){},isDragCopy:function(){return!1}})},t.prototype.computeExppanelOuterStyle=function(){this.getListBottomAndUpdateLastExpressionPadding();var e=this.controller.computeMajorLayout().list,t=e.top;return e.top>0&&!this.controller.isListVisible()&&(t-=e.height),{position:"absolute",left:"0px",top:t+"px",width:e.width+"px",height:e.height+"px"}},t.prototype.makeDragCopyViewForModel=function(e){return this.makeViewForModel(e,!0)},t.prototype.makeViewForModel=function(e,t){var n,r=this;if(void 0===t&&(t=!1),"table"===e.type)n=o.createElement(u.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return r.onDragPending(t,e.id)},isDragCopy:function(){return t}});else if("folder"===e.type)n=o.createElement(p.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return r.onDragPending(t,e.id)},isDragCopy:function(){return t}});else if("text"===e.type)n=o.createElement(d.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return r.onDragPending(t,e.id)},isDragCopy:function(){return t}});else if("image"===e.type)n=o.createElement(g.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return r.onDragPending(t,e.id)},isDragCopy:function(){return t}});else{if("expression"!==e.type)return;n=o.createElement(l.default,{controller:this.props.controller,model:function(){return e},onDragPending:function(t){return r.onDragPending(t,e.id)},isDragCopy:function(){return t}})}return n},t.prototype.didUnmount=function(){a(document.documentElement).off("."+this.guid)},t.prototype.didMountContainer=function(e){this.node=e,a(document.documentElement).on("keydown."+this.guid,this.bindFn(this.handleKeyDown))},t.prototype.didMountExppanel=function(e){this.exppanel=e},t.prototype.getListBottomAndUpdateLastExpressionPadding=function(){var e=this.controller.getKeypadHeight(),t=this.__listBottom||0;return this.__listBottom=e,0===e&&0!==t&&r.isTapActive()&&this.padLastExpressionUntilTapEnd(t),e},t.prototype.padLastExpression=function(e){a(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom",e+"px")},t.prototype.unpadLastExpression=function(){a(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom","0")},t.prototype.padLastExpressionUntilTapEnd=function(e){var t=this;this.padLastExpression(e),a(document).on("dcg-tap.animating-bottom",(function(){t.unpadLastExpression(),a(document).off("dcg-tap.animating-bottom")}))},t.prototype.handleKeyDown=function(e){if(!this.controller.inAudioTraceMode()){var t=i.lookup(e),n=i.lookupChar(e),r=this.controller.getSelectedItem();if(r){var o=this.controller.getFocusLocation();if(e.ctrlKey&&e.shiftKey&&!e.metaKey&&!e.altKey&&void 0!==o){if("O"===n){e.preventDefault(),e.stopPropagation();var s=void 0;if("expression"===r.type)r.sliderExists||E.isNonemptyAction(r)?r.sliderExists&&(s={type:"slider",model:r,focusFirstOption:!0,previousFocusLocation:o},this.controller.dispatch({type:"set-focus-location",location:{type:"slider-animation-properties-icon",id:r.id}})):(s={type:"expression",model:r,focusFirstOption:!0,previousFocusLocation:o},this.controller.dispatch({type:"set-focus-location",location:{type:"expression-icon",id:r.id}}));else if("image"===r.type)s={type:"image",model:r,focusFirstOption:!0,previousFocusLocation:o},this.controller.dispatch({type:"set-focus-location",location:{type:"image-icon",id:r.id}});else if("table"===r.type&&"table"===o.type){var c=o.location;if(!c)return;var l=r.columnModels[c.column];if(!l)return;if(""===l.latex)return;if(!this.controller.getGraphSettings().config.graphpaper)return;if(l.error)return;if(0===l.index)return;s={type:"table-column",model:l,focusFirstOption:!0,previousFocusLocation:o},this.controller.dispatch({type:"set-focus-location",location:{type:"table-icon",id:r.id,columnId:l.id}})}if(!s)return;return void this.controller.dispatch({type:"toggle-item-settings-menu",menu:s})}if("D"===n)return e.preventDefault(),e.stopPropagation(),void this.controller.dispatch({type:"delete-item-and-animate-out",id:r.id,setFocusAfterDelete:!0})}if(!this.controller.isInEditListMode()||e.altKey||e.ctrlKey||e.metaKey){if((!document.activeElement||!a.contains(document.body,document.activeElement))&&!a(e.target).closest(this.exppanel).length&&a.contains(document.documentElement,e.target))switch(t){case i.UP:e.preventDefault(),this.controller.dispatch({type:"select-previous-expression"});break;case i.DOWN:e.preventDefault(),this.controller.dispatch({type:"select-next-expression"});break;case i.ESCAPE:e.preventDefault(),this.controller.dispatch({type:"set-none-selected"});break;case i.RIGHT:e.preventDefault(),r&&("expression"===r.type&&r.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:r.id,adjustment:"up"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:r.id}})):this.controller.dispatch({type:"move-focus-to-item",id:r.id,where:"start"}));break;case i.TAB:e.preventDefault(),r&&this.controller.dispatch({type:"move-focus-to-item",id:r.id,where:"start"});break;case i.LEFT:e.preventDefault(),r&&("expression"===r.type&&r.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:r.id,adjustment:"down"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:r.id}})):this.controller.dispatch({type:"move-focus-to-item",id:r.id,where:"end"}));break;case i.BACKSPACE:e.preventDefault(),r&&this.controller.dispatch({type:"upward-delete-selected-expression"});break;case i.DELETE:e.preventDefault(),r&&this.controller.dispatch({type:"downward-delete-selected-expression"});break;case i.ENTER:e.wasHandled("create-expression-with-keyboard")||(e.preventDefault(),e.handle("create-expression-with-keyboard"),r&&this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"}));break;default:if(e.metaKey||e.ctrlKey||t===i.SHIFT||t===i.SPACEBAR)return;r&&("table"===r.type||this.controller.dispatch({type:"move-focus-to-item",id:r.id,where:"end"}))}}else if(t===i.TAB&&void 0!==o){var d=this.controller.getItemModelByIndex(0);if(!d)return;var u=("readonly-expression"===o.type&&"expression"===d.type||"table-container"===o.type&&"table"===d.type||o.type===d.type)&&o.id===d.id,p={type:"edit-list-toggle"},g=this.controller.isFocusLocationFocused(p);e.shiftKey&&u?(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-focus-location",location:p})):!e.shiftKey&&g&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"move-focus-to-item",id:d.id,where:"table"===d.type?"container":void 0}))}else if(t===i.UP||t===i.DOWN){var h=this.controller.getListModel(),f=t===i.UP?A.findPrevSelectableItem(h,r.index):A.findNextSelectableItem(h,r.index);if(!f)return;this.controller.dispatch({type:"move-focus-to-item",id:f.id,where:"table"===f.type?"container":"start"})}}}},t.prototype.onDragPending=function(e,t){var n=this;e.preventDefault(),c.default();var r=e.touches[0].clientY,i=r,o=setTimeout((function(){a(document).off(".dragpending"),n.onDragStart(e,t,r,i)}),500);a(document).on("dcg-tapmove.dragpending",(function(s){i=s.touches[0].clientY,Math.abs(i-r)>3&&(clearTimeout(o),a(document).off(".dragpending"),n.onDragStart(e,t,r,i))})),a(document).on("dcg-tapend.dragpending",(function(){clearTimeout(o),a(document).off(".dragpending")}))},t.prototype.onDragStart=function(e,t,n,r){1===e.touches.length&&(e.wasHandled("dcg-longhold")||this.controller.dispatch({type:"start-dragdrop",id:t,grabY:n,mouseY:r}))},t.prototype.onExppanelTapstart=function(e){"mouse"!==e.device&&0===a(e.target).closest(".dcg-expressionitem").length&&c.default()},t.prototype.onPaste=function(e){var t=this,n=this.controller.getGraphSettings().config,r=x.default(e);if(r){var i=/^\s*https?:\/\/([a-zA-Z0-9]*\.)?desmos\.com(:[0-9]+)?\/calculator\/./.test(r),o=this.controller.getSelectedItem();if(n.pasteGraphLink&&o&&"folder"===o.type&&i&&""===o.title)return e.stopPropagation(),e.preventDefault(),void v.default(this.controller,r,(function(e,t){return t(null,e)}));if(!o||"text"!==o.type&&"folder"!==o.type)if(n.pasteGraphLink&&i){e.stopPropagation(),e.preventDefault();var a=n.pasteGraphLinkCallback?n.pasteGraphLinkCallback:function(e,t){return t(null,e)};v.default(this.controller,r,a)}else{if(n.pasteTableData){var s=m.parse(r);if(void 0!==s)return e.stopPropagation(),e.preventDefault(),this.controller.dispatch({type:"paste-table",data:s})}var c=m.getExpressions(r);if(void 0===c);else{e.stopPropagation(),e.preventDefault();var l=[];1===c.length&&c[0].numberList?this.controller.dispatch({type:"append-number-list",latex:c[0].content}):(c.forEach((function(e){l.push({type:"expression",id:t.controller.generateId(),latex:e.content})})),this.controller.dispatch({type:"insert-several-expressions",expressions:l}))}}}},t.prototype.onDrop=function(e){if(this.controller.areImagesEnabled()){var t=e.dataTransfer&&e.dataTransfer.files;t&&this.controller.dispatch({type:"new-images",files:t})}},t}(o.Class);t.default=O})),i("graphing-calc/keypads/dcgview-graphing",["require","exports","tslib","dcgview"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch,this.s=this.controller.s},t}(r.Class);t.default=i})),i("loadcss!keypad/btn",(function(){})),i("keypad/btn",["require","exports","tslib","dcgview","loadcss!./btn"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-keypad-btn-container":!0,"dcg-disabled":e.isDisabled()}},style:function(){return{"flex-grow":e.getColSpan()}}},r.createElement("span",{role:r.const("button"),class:this.bindFn(this.getClasses),"dcg-command":this.props.command,"aria-label":this.bindFn(this.getAriaLabel),"aria-disabled":this.bindFn(this.isDisabled),onTap:function(){e.isDisabled()||e.props.onTap()}},r.createElement("span",{class:r.const("dcg-keypad-btn-content")},this.children)))},t.prototype.getClasses=function(){var e={"dcg-keypad-btn":!0,"dcg-keypad-btn-active":this.isActive()},t=this.props.style();switch(t){case"default":e["dcg-btn-light-on-gray"]=!0;break;case"highlight":e["dcg-btn-dark-on-gray"]=!0;break;case"popover":e["dcg-btn-light-gray"]=!0;break;case"blue":e["dcg-btn-short-blue"]=!0;break;case"tall-blue":e["dcg-btn-tall-blue"]=!0;break;default:return t}return e},t.prototype.isActive=function(){return!!this.props.active&&this.props.active()},t.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},t.prototype.getColSpan=function(){return this.props.colspan?this.props.colspan():void 0},t.prototype.isDisabled=function(){return this.props.disabled&&this.props.disabled()},t}(r.Class);t.default=i})),i("keypad/keys",["require","exports","./btn","dcgview-helpers/static-mathquill-view","dcgview"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.spacer=t.view=void 0;var o=i.Components,a=o.IfElse,s=o.If,c=o.Switch;function l(e,t){return void 0===e?i.const(t):"function"==typeof e?e:i.const(e)}function d(e){return function(t,o,s,c){return void 0===s&&(s={}),i.createElement(n.default,{command:i.const(e.command||e.typedText||e.keys[0]),ariaLabel:function(){return e.ariaLabelKey?c(e.ariaLabelKey):e.typedText||e.keys[0]},colspan:l(s.colspan,1),style:function(){return s.style||"default"},onTap:function(){return o({type:"keypad/type-text",text:e.typedText||e.keys[0]})}},a((function(){return"{"===e.keys[0]||"["===e.keys[0]}),{true:function(){return i.createElement("span",{class:i.const("dcg-mq-math-mode"),style:i.const("font-size: 120%")},i.const(e.keys[0]),i.const(" "),i.createElement("span",{style:i.const("color: #999")},i.const(e.keys[1])))},false:function(){return i.createElement("span",{class:i.const("dcg-either-or-btn")},i.createElement(r.default,{config:i.const({}),latex:i.const(e.keys[0])}),i.createElement("span",{style:i.const("color: #999")},i.createElement(r.default,{config:i.const({}),latex:i.const(e.keys[1])})))}}))}}function u(e){return function(t,o,s,c){return void 0===s&&(s={}),i.createElement(n.default,{command:i.const(e.command||e.typedText||e.keys[1]),ariaLabel:function(){return e.ariaLabelKey?c(e.ariaLabelKey):e.typedText||e.keys[0]},colspan:l(s.colspan,1),style:l(s.style,"default"),onTap:function(){return o({type:"keypad/type-text",text:e.typedText||e.keys[1]})}},a((function(){return"}"===e.keys[1]||"]"===e.keys[1]}),{true:function(){return i.createElement("span",{class:i.const("dcg-mq-math-mode"),style:i.const("font-size: 120%")},i.createElement("span",{style:i.const("color: #999")},i.const(e.keys[0])),i.const(" "),i.const(e.keys[1]))},false:function(){return i.createElement("span",null,i.createElement("span",{style:i.const("color: #999")},i.createElement(r.default,{config:i.const({}),latex:i.const(e.keys[0])})),i.createElement(r.default,{config:i.const({}),latex:i.const(e.keys[1])}))}}))}}function p(e){return function(t,r,o,a){return void 0===o&&(o={}),i.createElement(n.default,{command:i.const(e.command),ariaLabel:function(){return e.ariaLabelKey?a(e.ariaLabelKey):t},colspan:l(o.colspan,1),style:function(){return o.style||"default"},onTap:function(){r({type:"keypad/audio-trace",command:e.command})}},i.createElement(s,{predicate:i.const(void 0!==e.iconClass)},(function(){return i.createElement("span",{class:function(){return{"dcg-button-icon":!0,"dcg-icon-only":void 0===e.contentKey}}},i.createElement("i",{class:i.const(e.iconClass)}))})),i.createElement(s,{predicate:i.const(void 0!==e.contentKey)},(function(){return i.createElement("span",null,(function(){return a(e.contentKey)||t}))})))}}function g(e){return function(t,o,a,s){return void 0===a&&(a={}),i.createElement(n.default,{command:i.const(e.command||t),ariaLabel:function(){return e.ariaLabelKey?s(e.ariaLabelKey):t},colspan:l(a.colspan,1),style:function(){return a.style||"default"},onTap:function(){return o({type:"keypad/type-text",text:e.typedText||t})}},i.createElement(r.default,{config:i.const({}),latex:i.const(e.content||t)}))}}function h(e){return function(t,r,o,a){return void 0===o&&(o={}),i.createElement(n.default,{command:i.const(e.command||t),ariaLabel:function(){return e.ariaLabelKey?a(e.ariaLabelKey):t},colspan:l(o.colspan,1),style:function(){return o.style||"default"},onTap:function(){return r({type:"keypad/type-text",text:e.typedText||t})}},i.createElement("span",{class:i.const("dcg-mq-math-mode")},i.const(e.content||t)))}}function f(e){return function(t,o,a,s){return void 0===a&&(a={}),i.createElement(n.default,{command:i.const(t),ariaLabel:function(){return e.ariaLabelKey?s(e.ariaLabelKey):t},colspan:l(a.colspan,1),style:function(){return a.style||"default"},onTap:function(){return o({type:"keypad/type-text",text:t+"("})}},i.createElement(c,{key:function(){return t.match(/^[a-z]{2,}$/)}},(function(e){return e?i.createElement("span",{class:i.const("dcg-mq-math-mode dcg-static-mathquill-view")},i.createElement("span",{class:i.const("dcg-mq-root-block")},i.createElement("span",{class:i.const("dcg-mq-operator-name")},(function(){return t})))):i.createElement(r.default,{config:i.const({}),latex:i.const(t)})})))}}function m(e){return function(t,o,a,s){return void 0===a&&(a={}),i.createElement(n.default,{command:i.const(e.command),ariaLabel:function(){return e.ariaLabelKey?s(e.ariaLabelKey):e.command},colspan:l(a.colspan,1),style:function(){return a.style||"default"},onTap:function(){o({type:"keypad/custom-command",command:e.command})}},i.createElement(r.default,{config:i.const({}),latex:i.const(e.content)}))}}var y={"{":h({ariaLabelKey:"shared-calculator-narration-keypad-key-left-bracket"}),"}":h({ariaLabelKey:"shared-calculator-narration-keypad-key-right-bracket"}),"(":g({ariaLabelKey:"shared-calculator-narration-keypad-key-left-paren"}),")":g({ariaLabelKey:"shared-calculator-narration-keypad-key-right-paren"}),sqrt:g({content:"\\sqrt{}",ariaLabelKey:"shared-calculator-narration-keypad-key-sqrt"}),"/":g({ariaLabelKey:"shared-calculator-narration-keypad-key-divide"}),division:g({content:"÷",typedText:"/",command:"/",ariaLabelKey:"shared-calculator-narration-keypad-key-divide"}),obelus:g({content:"÷",typedText:"÷",ariaLabelKey:"shared-calculator-narration-keypad-key-divide"}),"*":g({ariaLabelKey:"shared-calculator-narration-keypad-key-times"}),multiplication:g({content:"×",typedText:"*",command:"*",ariaLabelKey:"shared-calculator-narration-keypad-key-times"}),"-":g({ariaLabelKey:"shared-calculator-narration-keypad-key-minus"}),"+":g({ariaLabelKey:"shared-calculator-narration-keypad-key-plus"}),".":g({ariaLabelKey:"shared-calculator-narration-keypad-key-decimal"}),ans:function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("shared-calculator-narration-keypad-key-ans")},colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/type-text",text:e})}},i.const("ans"))},enter:function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("shared-calculator-narration-keypad-key-enter")},colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Enter"})}},i.createElement("i",{class:i.const("dcg-icon-arrow-enter")}))},shift:function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("shared-calculator-narration-keypad-key-shift")},colspan:l(r.colspan,1),style:function(){return r.style||"default"},active:l(r.active,!1),onTap:function(){return t({type:"keypad/shift"})}},i.createElement("i",{class:i.const("dcg-icon-shift")}))},left:function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("shared-calculator-narration-keypad-key-left-arrow")},colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Left"})}},i.createElement("i",{class:i.const("dcg-icon-arrow-left")}))},right:function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("shared-calculator-narration-keypad-key-right-arrow")},colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Right"})}},i.createElement("i",{class:i.const("dcg-icon-arrow-right")}))},123:function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("shared-calculator-narration-keypad-key-toggle-numbers")},colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/123"})}},i.const("1 2 3"))},ABC:function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("shared-calculator-narration-keypad-key-toggle-letters")},colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/abc"})}},i.const("A B C"))},Audio:function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("shared-calculator-narration-keypad-key-toggle-audio-trace")},colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"on"})}},i.createElement("i",{class:i.const("dcg-icon-volume")}))},backspace:function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("shared-calculator-narration-keypad-key-backspace")},colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/press-key",key:"Backspace"})}},i.createElement("i",{class:i.const("dcg-icon-delete")}))},pi:g({content:"\\pi",ariaLabelKey:"shared-calculator-narration-keypad-key-pi"}),alpha:g({content:"\\alpha",ariaLabelKey:"shared-calculator-narration-keypad-key-alpha"}),beta:g({content:"\\beta",ariaLabelKey:"shared-calculator-narration-keypad-key-beta"}),theta:g({content:"\\theta",ariaLabelKey:"shared-calculator-narration-keypad-key-theta"}),tau:g({content:"\\tau",ariaLabelKey:"shared-calculator-narration-keypad-key-tau"}),"a^2":m({command:"a^2",content:"a^2",ariaLabelKey:"shared-calculator-narration-keypad-key-squared"}),"a^3":m({command:"a^3",content:"a^3",ariaLabelKey:"shared-calculator-narration-keypad-key-cubed"}),"x^3":m({command:"a^3",content:"x^3",ariaLabelKey:"shared-calculator-narration-keypad-key-cubed"}),"a^b":g({content:"a^b",typedText:"^",ariaLabelKey:"shared-calculator-narration-keypad-key-superscript"}),a_b:g({content:"a_b",typedText:"_",ariaLabelKey:"shared-calculator-narration-keypad-key-subscript"}),"a/b":m({content:"\\frac{a}{b}",command:"a/b",ariaLabelKey:"shared-calculator-narration-keypad-key-fraction"}),"x^2":m({command:"a^2",content:"x^2",ariaLabelKey:"shared-calculator-narration-keypad-key-squared"}),"x^y":g({content:"x^y",typedText:"^",ariaLabelKey:"shared-calculator-narration-keypad-key-superscript"}),"x/y":g({content:"\\frac{x}{y}",typedText:"/",ariaLabelKey:"shared-calculator-narration-keypad-key-fraction"}),nthroot:m({command:"nthroot",content:"\\sqrt[n]{}",ariaLabelKey:"shared-calculator-narration-keypad-key-nthroot"}),ythroot:m({command:"nthroot",content:"\\sqrt[y]{}",ariaLabelKey:"shared-calculator-narration-keypad-key-ythroot"}),sin:f({ariaLabelKey:"shared-calculator-narration-keypad-key-sin"}),cos:f({ariaLabelKey:"shared-calculator-narration-keypad-key-cos"}),tan:f({ariaLabelKey:"shared-calculator-narration-keypad-key-tan"}),sec:f({ariaLabelKey:"shared-calculator-narration-keypad-key-sec"}),csc:f({ariaLabelKey:"shared-calculator-narration-keypad-key-csc"}),cot:f({ariaLabelKey:"shared-calculator-narration-keypad-key-cot"}),sinh:f({ariaLabelKey:"shared-calculator-narration-keypad-key-sinh"}),cosh:f({ariaLabelKey:"shared-calculator-narration-keypad-key-cosh"}),tanh:f({ariaLabelKey:"shared-calculator-narration-keypad-key-tanh"}),sech:f({ariaLabelKey:"shared-calculator-narration-keypad-key-csch"}),csch:f({ariaLabelKey:"shared-calculator-narration-keypad-key-csch"}),coth:f({ariaLabelKey:"shared-calculator-narration-keypad-key-coth"}),arcsin:m({command:"arcsin",content:"sin^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arcsin"}),arccos:m({command:"arccos",content:"cos^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arccos"}),arctan:m({command:"arctan",content:"tan^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arctan"}),arccsc:m({command:"arccsc",content:"csc^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arccsc"}),arcsec:m({command:"arcsec",content:"sec^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arcsec"}),arccot:m({command:"arccot",content:"cot^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arccot"}),"|a|":g({typedText:"|",ariaLabelKey:"shared-calculator-narration-keypad-key-abs"}),"|x|":g({typedText:"|",ariaLabelKey:"shared-calculator-narration-keypad-key-abs"}),ln:f({ariaLabelKey:"shared-calculator-narration-keypad-key-ln"}),log:f({ariaLabelKey:"shared-calculator-narration-keypad-key-log"}),quantile:f({ariaLabelKey:"shared-calculator-narration-keypad-key-quantile"}),quartile:f({ariaLabelKey:"shared-calculator-narration-keypad-key-quartile"}),var:f({}),varp:f({}),nCr:f({}),loga:m({command:"loga",content:"log_a",ariaLabelKey:"shared-calculator-narration-keypad-key-loga"}),stdev:f({ariaLabelKey:"shared-calculator-narration-keypad-key-stdev"}),mad:f({}),nPr:f({}),total:f({}),length:f({}),for:f({}),min:f({}),max:f({}),cov:f({ariaLabelKey:"shared-calculator-narration-keypad-key-cov"}),covp:f({ariaLabelKey:"shared-calculator-narration-keypad-key-covp"}),corr:f({ariaLabelKey:"shared-calculator-narration-keypad-key-corr"}),spearman:f({ariaLabelKey:"shared-calculator-narration-keypad-key-spearman"}),stats:f({ariaLabelKey:"shared-calculator-narration-keypad-key-stats"}),polygon:f({ariaLabelKey:"shared-calculator-narration-keypad-key-polygon"}),distance:f({ariaLabelKey:"shared-calculator-narration-keypad-key-distance"}),midpoint:f({ariaLabelKey:"shared-calculator-narration-keypad-key-midpoint"}),mean:f({ariaLabelKey:"shared-calculator-narration-keypad-key-mean"}),stdevp:f({ariaLabelKey:"shared-calculator-narration-keypad-key-stdevp"}),mod:f({}),"e^x":g({typedText:"e^",ariaLabelKey:"shared-calculator-narration-keypad-key-exp"}),"10^n":g({content:"\\times10^{n}",typedText:"*10^",ariaLabelKey:"shared-calculator-narration-keypad-key-10-n"}),"a^{-1}":g({typedText:"^-1",ariaLabelKey:"shared-calculator-narration-keypad-key-reciprocal"}),sum:g({content:"\\sum",ariaLabelKey:"shared-calculator-narration-keypad-key-sum"}),prod:g({content:"\\prod",ariaLabelKey:"shared-calculator-narration-keypad-key-product"}),floor:f({ariaLabelKey:"shared-calculator-narration-keypad-key-floor"}),ceil:f({ariaLabelKey:"shared-calculator-narration-keypad-key-ceil"}),round:f({ariaLabelKey:"shared-calculator-narration-keypad-key-round"}),abs:f({ariaLabelKey:"shared-calculator-narration-keypad-key-abs"}),"!":g({ariaLabelKey:"shared-calculator-narration-keypad-key-factorial"}),"n!":g({typedText:"!",ariaLabelKey:"shared-calculator-narration-keypad-key-factorial"}),median:f({ariaLabelKey:"shared-calculator-narration-keypad-key-median"}),lcm:f({}),gcd:f({}),gcf:f({}),ddx:m({command:"ddx",content:"\\frac{d}{dx}"}),int:g({content:"\\int",ariaLabelKey:"shared-calculator-narration-keypad-key-int"}),"%":g({content:"\\%",ariaLabelKey:"shared-calculator-narration-keypad-key-percent-of"}),"->":g({content:"\\to",ariaLabelKey:"shared-calculator-narration-keypad-key-action-to"}),prime:g({typedText:"'",content:"f'",ariaLabelKey:"shared-calculator-narration-keypad-key-prime"}),exp:g({}),sign:f({}),normaldist:f({ariaLabelKey:"shared-calculator-narration-keypad-key-normaldist"}),poissondist:f({ariaLabelKey:"shared-calculator-narration-keypad-key-poissondist"}),binomialdist:f({ariaLabelKey:"shared-calculator-narration-keypad-key-binomialdist"}),uniformdist:f({ariaLabelKey:"shared-calculator-narration-keypad-key-uniformdist"}),erf:f({ariaLabelKey:"shared-calculator-narration-keypad-key-erf"}),histogram:f({ariaLabelKey:"shared-calculator-narration-keypad-key-histogram"}),boxplot:f({ariaLabelKey:"shared-calculator-narration-keypad-key-boxplot"}),dotplot:f({ariaLabelKey:"shared-calculator-narration-keypad-key-dotplot"}),tscore:f({ariaLabelKey:"shared-calculator-narration-keypad-key-tscore"}),ittest:f({ariaLabelKey:"shared-calculator-narration-keypad-key-ittest"}),ttest:f({ariaLabelKey:"shared-calculator-narration-keypad-key-ttest"}),tdist:f({ariaLabelKey:"shared-calculator-narration-keypad-key-tdist"}),pdf:f({ariaLabelKey:"shared-calculator-narration-keypad-key-pdf"}),cdf:f({ariaLabelKey:"shared-calculator-narration-keypad-key-pdf"}),random:f({ariaLabelKey:"shared-calculator-narration-keypad-key-random"}),inversecdf:f({ariaLabelKey:"shared-calculator-narration-keypad-key-inversecdf"}),sort:f({}),shuffle:f({}),unique:f({}),join:f({}),"A^-1":m({command:"A^-1",content:"A^{-1}",ariaLabelKey:"matrix-calculator-narration-keypad-key-inverse"}),"A^T":m({command:"A^T",content:"A^T",ariaLabelKey:"matrix-calculator-narration-keypad-key-transpose"}),"A^2":m({command:"A^2",content:"A^2",ariaLabelKey:"shared-calculator-narration-keypad-key-squared"}),"A^n":g({content:"A^n",typedText:"^",ariaLabelKey:"shared-calculator-narration-keypad-key-exp"}),det:f({ariaLabelKey:"matrix-calculator-narration-keypad-key-det"}),trace:f({ariaLabelKey:"matrix-calculator-narration-keypad-key-trace"}),rref:f({ariaLabelKey:"matrix-calculator-narration-keypad-key-rref"}),a:g({}),b:g({}),c:g({}),d:g({}),e:g({}),f:g({}),g:g({}),h:g({}),i:g({}),j:g({}),k:g({}),l:g({}),m:g({}),n:g({}),o:g({}),p:g({}),q:g({}),r:g({}),s:g({}),t:g({}),u:g({}),v:g({}),w:g({}),x:g({}),boldX:g({content:"x",typedText:"x"}),y:g({}),boldY:g({content:"y",typedText:"y"}),z:g({}),A:g({}),B:g({}),C:g({}),D:g({}),E:g({}),F:g({}),G:g({}),H:g({}),I:g({}),J:g({}),K:g({}),L:g({}),M:g({}),N:g({}),O:g({}),P:g({}),Q:g({}),R:g({}),S:g({}),T:g({}),U:g({}),V:g({}),W:g({}),X:g({}),Y:g({}),Z:g({}),0:g({}),1:g({}),2:g({}),3:g({}),4:g({}),5:g({}),6:g({}),7:g({}),8:g({}),9:g({}),",":g({}),"=":g({}),"[":g({}),"]":g({}),"{}_left":d({keys:["{","}"]}),"{}_right":u({keys:["{","}"]}),"()_left":d({keys:["(",")"]}),"()_right":u({keys:["(",")"]}),"[]_left":d({keys:["[","]"]}),"[]_right":u({keys:["[","]"]}),",'_left":d({keys:[",","′"]}),",'_right":u({keys:[",","′"],typedText:"'"}),'"':g({}),"'":g({}),"~":g({}),":":g({}),">":g({}),"<":g({}),">=":g({content:"\\ge"}),"<=":g({content:"\\le"}),"!%_left":d({keys:["!","{}^{%}"]}),"!%_right":u({keys:["!","{}^{%}"],typedText:"%"}),"~:_left":d({keys:["~","{}^{:}"]}),"~:_right":u({keys:["~","{}^{:}"],typedText:":"}),"audio-trace-off":p({contentKey:"graphing-calculator-button-keypad-audio-trace-off",command:"off"}),"hear-graph":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),disabled:l(r.disabled,!1),colspan:l(r.colspan,1),style:l(r.style,"blue"),onTap:function(){t({type:"keypad/audio-trace",command:"hear-graph"})}},i.createElement("span",{class:i.const("dcg-play-icon-container")},i.createElement("i",{class:i.const("dcg-icon-play")})),i.createElement("span",null,(function(){return o("graphing-calculator-button-audio-trace-hear-graph")})))},"stop-graph":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),disabled:l(r.disabled,!1),colspan:l(r.colspan,1),style:l(r.style,"blue"),onTap:function(){t({type:"keypad/audio-trace",command:"stop-graph"})}},i.createElement("span",{class:i.const("dcg-stop-icon-container")},i.createElement("span",{class:i.const("dcg-stop-icon")})),i.createElement("span",null,(function(){return o("graphing-calculator-button-audio-trace-stop-graph")})))},"volume-down":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("graphing-calculator-narration-keypad-key-volume-down")},disabled:l(r.disabled,!1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"volume-down"})}},i.createElement("span",{class:i.const("dcg-button-icon dcg-icon-only")},i.createElement("i",{class:i.const("dcg-icon-volume-down")})))},"volume-up":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("graphing-calculator-narration-keypad-key-volume-up")},disabled:l(r.disabled,!1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"volume-up"})}},i.createElement("span",{class:i.const("dcg-button-icon dcg-icon-only")},i.createElement("i",{class:i.const("dcg-icon-volume-up")})))},"speed-down":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("graphing-calculator-narration-keypad-key-speed-down")},disabled:l(r.disabled,!1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"speed-down"})}},i.createElement("span",{class:i.const("dcg-button-icon dcg-icon-only")},i.createElement("i",{class:i.const("dcg-icon-hide")})))},"speed-up":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{command:i.const(e),ariaLabel:function(){return o("graphing-calculator-narration-keypad-key-speed-up")},disabled:l(r.disabled,!1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"speed-up"})}},i.createElement("span",{class:i.const("dcg-button-icon dcg-icon-only")},i.createElement("i",{class:i.const("dcg-icon-show")})))},"previous-point":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{ariaLabel:function(){return o("graphing-calculator-narration-keypad-key-previous-point")},command:i.const(e),disabled:l(r.disabled,!1),colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"previous-point"})}},i.createElement("span",{class:i.const("dcg-button-icon dcg-icon-only")},i.createElement("i",{class:i.const("dcg-icon-thin-arrow-left")})))},"next-point":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{ariaLabel:function(){return o("graphing-calculator-narration-keypad-key-next-point")},command:i.const(e),disabled:l(r.disabled,!1),colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"next-point"})}},i.createElement("span",{class:i.const("dcg-button-icon dcg-icon-only")},i.createElement("i",{class:i.const("dcg-icon-thin-arrow-right")})))},"previous-poi":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{ariaLabel:function(){return o("graphing-calculator-narration-keypad-key-previous-poi")},command:i.const(e),disabled:l(r.disabled,!1),colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"previous-poi"})}},i.createElement("span",{class:i.const("dcg-button-icon dcg-icon-only")},i.createElement("i",{class:i.const("dcg-icon-hide")})))},"next-poi":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{ariaLabel:function(){return o("graphing-calculator-narration-keypad-key-next-poi")},command:i.const(e),disabled:l(r.disabled,!1),colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"next-poi"})}},i.createElement("span",{class:i.const("dcg-button-icon dcg-icon-only")},i.createElement("i",{class:i.const("dcg-icon-show")})))},"previous-curve":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{ariaLabel:function(){return o("graphing-calculator-narration-keypad-key-previous-curve")},command:i.const(e),disabled:l(r.disabled,!1),colspan:l(r.colspan,1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"previous-curve"})}},i.createElement("span",{class:i.const("dcg-button-icon dcg-icon-only")},i.createElement("i",{class:i.const("dcg-icon-caret-up")})))},"next-curve":function(e,t,r,o){return void 0===r&&(r={}),i.createElement(n.default,{ariaLabel:function(){return o("graphing-calculator-narration-keypad-key-next-curve")},command:i.const(e),disabled:l(r.disabled,!1),style:function(){return r.style||"default"},onTap:function(){return t({type:"keypad/audio-trace",command:"next-curve"})}},i.createElement("span",{class:i.const("dcg-button-icon dcg-icon-only")},i.createElement("i",{class:i.const("dcg-icon-caret-down")})))},"describe-point":p({contentKey:"graphing-calculator-button-keypad-describe-point",command:"describe-point"}),"describe-curve":p({contentKey:"graphing-calculator-button-keypad-describe-curve",command:"describe-curve"})};t.view=function(e,t,n){void 0===n&&(n={});var r=e.dispatch;return y[t](t,r,n,e.s)},t.spacer=function(e){return void 0===e&&(e=1),i.createElement("div",{style:i.const("flex-grow:"+e)})}})),i("keypad/dcgview-keypad",["require","exports","tslib","dcgview"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t}(r.Class);t.default=i})),i("loadcss!keypad/keypad",(function(){})),i("keypad/keypad",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./keypad"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement("div",{class:r.const("dcg-basic-keypad dcg-do-not-blur")},this.children)},t}(i.default);t.default=o})),i("loadcss!keypad/row",(function(){})),i("keypad/row",["require","exports","tslib","dcgview","loadcss!./row"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement("div",{class:r.const("dcg-keypad-row")},this.children)},t}(r.Class);t.default=i})),i("graphing-calc/keypads/qwerty",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"q"),o.view(this,"w"),o.view(this,"e"),o.view(this,"r"),o.view(this,"t"),o.view(this,"y"),o.view(this,"u"),o.view(this,"i"),o.view(this,"o"),o.view(this,"p")),r.createElement(s.default,null,o.view(this,"a"),o.view(this,"s"),o.view(this,"d"),o.view(this,"f"),o.view(this,"g"),o.view(this,"h"),o.view(this,"j"),o.view(this,"k"),o.view(this,"l"),o.view(this,"theta")),r.createElement(s.default,null,o.view(this,"shift",{colspan:1.364,style:"highlight"}),o.spacer(.136),o.view(this,"z"),o.view(this,"x"),o.view(this,"c"),o.view(this,"v"),o.view(this,"b"),o.view(this,"n"),o.view(this,"m"),o.spacer(.136),o.view(this,"backspace",{colspan:1.364,style:"highlight"})),r.createElement(s.default,null,o.view(this,"123",{colspan:1.818,style:"highlight"}),o.spacer(.182),o.view(this,"a_b"),o.view(this,"!%_left"),o.view(this,"[]_left"),o.view(this,"{}_left"),o.view(this,"~:_left"),o.view(this,",'_left"),o.spacer(.182),o.view(this,"enter",{colspan:1.818,style:"blue"})))},t}(i.default);t.default=c})),i("graphing-calc/keypads/qwerty-capital",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"Q"),o.view(this,"W"),o.view(this,"E"),o.view(this,"R"),o.view(this,"T"),o.view(this,"Y"),o.view(this,"U"),o.view(this,"I"),o.view(this,"O"),o.view(this,"P")),r.createElement(s.default,null,o.view(this,"A"),o.view(this,"S"),o.view(this,"D"),o.view(this,"F"),o.view(this,"G"),o.view(this,"H"),o.view(this,"J"),o.view(this,"K"),o.view(this,"L"),o.view(this,"tau")),r.createElement(s.default,null,o.view(this,"shift",{colspan:1.364,active:!0,style:"highlight"}),o.spacer(.136),o.view(this,"Z"),o.view(this,"X"),o.view(this,"C"),o.view(this,"V"),o.view(this,"B"),o.view(this,"N"),o.view(this,"M"),o.spacer(.136),o.view(this,"backspace",{colspan:1.364,style:"highlight"})),r.createElement(s.default,null,o.view(this,"123",{colspan:1.818,style:"highlight"}),o.spacer(.182),o.view(this,"a^b"),o.view(this,"!%_right"),o.view(this,"[]_right"),o.view(this,"{}_right"),o.view(this,"~:_right"),o.view(this,",'_right"),o.spacer(.182),o.view(this,"enter",{colspan:1.818,style:"blue"})))},t}(i.default);t.default=c})),i("graphing-calc/keypads/numbers",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row","keypad/btn"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"boldX"),o.view(this,"boldY"),o.view(this,"a^2"),o.view(this,"a^b"),o.spacer(.5),o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"division"),o.spacer(.5),r.createElement(c.default,{command:this.const("functions"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-functions")},colspan:this.const(2),style:this.const("highlight"),active:function(){return e.controller.isKeypadFunctionsPopoverOpen()},onTap:function(){return e.dispatch({type:"keypad/functions"})}},this.bindFn(this.getFuncsBtnText))),r.createElement(s.default,null,o.view(this,"("),o.view(this,")"),o.view(this,"<"),o.view(this,">"),o.spacer(.5),o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"multiplication"),o.spacer(.5),o.view(this,"left",{style:"highlight"}),o.view(this,"right",{style:"highlight"})),r.createElement(s.default,null,o.view(this,"|a|"),o.view(this,","),o.view(this,"<="),o.view(this,">="),o.spacer(.5),o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"-"),o.spacer(1),o.view(this,"backspace",{colspan:1.5,style:"highlight"})),r.createElement(s.default,null,r.createElement("div",{class:r.const("dcg-abc-audio-container")},r.createElement(c.default,{command:r.const("ABC"),colspan:this.const(1),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-toggle-letters")},style:this.const("highlight"),onTap:function(){e.dispatch({type:"keypad/abc"})}},(function(){return e.controller.getLayoutMeasurements().width<=600?e.controller.raw("ABC"):e.controller.raw("A B C")})),r.createElement(c.default,{command:r.const("Audio"),disabled:function(){return!e.controller.canAudioTrace()},ariaLabel:function(){return e.controller.s("graphing-calculator-narration-toggle-audio-trace")},colspan:this.const(1),style:function(){return"highlight"},onTap:function(){return e.dispatch({type:"keypad/audio-trace",command:"on"})}},r.createElement("i",{class:r.const("dcg-icon-volume")}))),o.view(this,"sqrt"),o.view(this,"pi"),o.spacer(.5),o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight"}),o.view(this,"="),o.view(this,"+"),o.spacer(.5),o.view(this,"enter",{colspan:2,style:"blue"})))},t.prototype.getFuncsBtnText=function(){return this.controller.isNarrow()?this.controller.s("graphing-calculator-button-funcs"):this.controller.s("graphing-calculator-button-functions")},t}(i.default);t.default=l})),i("graphing-calc/keypads/letters",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"a"),o.view(this,"b"),o.view(this,"c"),o.view(this,"d"),o.view(this,"e"),o.view(this,"f"),o.view(this,"g"),o.view(this,"h"),o.view(this,"i"),o.view(this,"j")),r.createElement(s.default,null,o.view(this,"k"),o.view(this,"l"),o.view(this,"m"),o.view(this,"n"),o.view(this,"o"),o.view(this,"p"),o.view(this,"q"),o.view(this,"r"),o.view(this,"s"),o.view(this,"t")),r.createElement(s.default,null,o.view(this,"shift",{style:"highlight"}),o.view(this,"u"),o.view(this,"v"),o.view(this,"w"),o.view(this,"x"),o.view(this,"y"),o.view(this,"z"),o.view(this,"theta"),o.view(this,"backspace",{colspan:2,style:"highlight"})),r.createElement(s.default,null,o.view(this,"123",{colspan:2,style:"highlight"}),o.view(this,"a_b"),o.view(this,"!%_left"),o.view(this,"[]_left"),o.view(this,"{}_left"),o.view(this,"~:_left"),o.view(this,",'_left"),o.view(this,"enter",{colspan:2,style:"blue"})))},t}(i.default);t.default=c})),i("graphing-calc/keypads/letters-capital",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"A"),o.view(this,"B"),o.view(this,"C"),o.view(this,"D"),o.view(this,"E"),o.view(this,"F"),o.view(this,"G"),o.view(this,"H"),o.view(this,"I"),o.view(this,"J")),r.createElement(s.default,null,o.view(this,"K"),o.view(this,"L"),o.view(this,"M"),o.view(this,"N"),o.view(this,"O"),o.view(this,"P"),o.view(this,"Q"),o.view(this,"R"),o.view(this,"S"),o.view(this,"T")),r.createElement(s.default,null,o.view(this,"shift",{style:"highlight"}),o.view(this,"U"),o.view(this,"V"),o.view(this,"W"),o.view(this,"X"),o.view(this,"Y"),o.view(this,"Z"),o.view(this,"tau"),o.view(this,"backspace",{colspan:2,style:"highlight"})),r.createElement(s.default,null,o.view(this,"123",{colspan:2,style:"highlight"}),o.view(this,"a^b"),o.view(this,"!%_right"),o.view(this,"[]_right"),o.view(this,"{}_right"),o.view(this,"~:_right"),o.view(this,",'_right"),o.view(this,"enter",{colspan:2,style:"blue"})))},t}(i.default);t.default=c})),i("loadcss!graphing-calc/keypads/audio",(function(){})),i("graphing-calc/keypads/audio",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/btn","../../shared-components/tooltip","graphing/audiograph","shared/dcgviews/localize","loadcss!./audio"],(function(e,t,n,r,i,o,a,s,c,l,d){Object.defineProperty(t,"__esModule",{value:!0});var u=r.Components,p=u.If,g=u.IfElse,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(a.default,{controller:this.props.controller},r.createElement("div",{class:r.const("dcg-audio-keypad-container")},r.createElement("div",{class:r.const("dcg-audio-keypad-column dcg-playback-column")},r.createElement(c.Tooltip,{tooltip:this.bindFn(this.getDisabledTooltipText),gravity:this.const("s"),sticky:this.const(!1)},r.createElement("div",{class:r.const("dcg-btn-playback")},g((function(){return e.controller.isAudioTracing()}),{true:function(){return o.view(e,"stop-graph",{disabled:e.bindFn(e.isAudioDisabled)})},false:function(){return o.view(e,"hear-graph",{disabled:e.bindFn(e.isAudioDisabled)})}}))),r.createElement("div",{class:r.const("dcg-key-nav-section-container")},r.createElement(c.Tooltip,{tooltip:this.bindFn(this.getDisabledTooltipText),class:this.const("dcg-volume-button-container"),gravity:this.const("s"),sticky:this.const(!1)},r.createElement("div",{class:r.const("dcg-key-nav-section")},o.view(this,"volume-down",{disabled:this.bindFn(this.isVolumeDownDisabled)}),r.createElement("div",{role:r.const("heading"),"aria-level":r.const("2"),class:function(){return{"dcg-key-nav-section-title-container":!0,"dcg-disabled":e.isAudioDisabled()}}},r.createElement("span",{class:r.const("dcg-key-nav-section-title")},(function(){return e.controller.s("graphing-calculator-label-audio-trace-volume")})),r.createElement("span",{class:r.const("dcg-keypad-volume-value dcg-key-nav-section-value")},(function(){return e.getAudioTraceVolume()}))),o.view(this,"volume-up",{disabled:this.bindFn(this.isVolumeUpDisabled)})))),r.createElement("div",{class:r.const("dcg-key-nav-section-container")},r.createElement(c.Tooltip,{tooltip:this.bindFn(this.getDisabledTooltipText),gravity:this.const("s"),sticky:this.const(!1)},r.createElement("div",{class:r.const("dcg-key-nav-section")},o.view(this,"speed-down",{disabled:this.bindFn(this.isSpeedDownDisabled)}),r.createElement("div",{class:function(){return{"dcg-key-nav-section-title-container":!0,"dcg-disabled":e.isAudioDisabled()}},role:r.const("heading"),"aria-level":r.const("2")},r.createElement("span",{class:r.const("dcg-key-nav-section-title")},(function(){return e.controller.s("graphing-calculator-label-audio-trace-speed")})),r.createElement("span",{class:r.const("dcg-keypad-speed-value dcg-key-nav-section-value")},(function(){return e.getAudioTraceSpeed()}))),o.view(this,"speed-up",{disabled:this.bindFn(this.isSpeedUpDisabled)})))),o.view(this,"audio-trace-off",{style:"highlight"})),r.createElement("div",{class:r.const("dcg-audio-keypad-spacer")}),r.createElement("div",{class:r.const("dcg-audio-keypad-column dcg-navigation-column")},r.createElement("span",{class:r.const("dcg-key-section-title dcg-center-col"),role:r.const("heading"),"aria-level":r.const("2")},(function(){return e.controller.s("graphing-calculator-heading-audio-trace-navigation")})),r.createElement("div",{class:r.const("dcg-key-nav-section dcg-center-col")},o.view(this,"previous-point",{disabled:this.bindFn(this.isPrevPointDisabled)}),r.createElement("div",{class:r.const("dcg-key-nav-section-title-container"),role:r.const("heading"),"aria-level":r.const("2")},(function(){return e.controller.s("graphing-calculator-label-audio-trace-point")})),o.view(this,"next-point",{disabled:this.bindFn(this.isNextPointDisabled)})),r.createElement("div",{class:r.const("dcg-key-nav-section")},o.view(this,"previous-poi",{disabled:this.bindFn(this.isPrevPOIDisabled)}),r.createElement("div",{class:r.const("dcg-key-nav-section-title-container dcg-poi-section-container"),role:r.const("heading"),"aria-level":r.const("2")},r.createElement(d.Localize,{i18n:this.const(this.controller),key:this.const("graphing-calculator-heading-keypad-audio-trace-point-of-interest")},r.createElement("span",{class:r.const("dcg-key-nav-section-value")},r.const("Point")),r.createElement("span",{class:r.const("dcg-key-nav-section-title")},r.const("of Interest")))),o.view(this,"next-poi",{disabled:this.bindFn(this.isNextPOIDisabled)})),r.createElement("div",{class:r.const("dcg-key-nav-section dcg-center-col")},o.view(this,"previous-curve",{disabled:this.bindFn(this.isPrevCurveDisabled)}),r.createElement("div",{class:r.const("dcg-key-nav-section-title-container"),role:r.const("heading"),"aria-level":r.const("2")},(function(){return e.controller.s("graphing-calculator-label-audio-trace-curve")})),o.view(this,"next-curve",{disabled:this.bindFn(this.isNextCurveDisabled)}))),r.createElement("div",{class:r.const("dcg-audio-keypad-spacer")}),r.createElement("div",{class:r.const("dcg-audio-keypad-column dcg-screenreader-options")},r.createElement("span",{class:r.const("dcg-key-section-title"),role:r.const("heading"),"aria-level":r.const("2")},(function(){return e.layoutWidth()<=460?e.controller.s("graphing-calculator-heading-audio-trace-describe"):e.controller.s("graphing-calculator-heading-audio-trace-screen-reader")}),r.createElement(c.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-audio-trace-need-screen-reader")},gravity:this.const("s"),sticky:this.const(!0)},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))),r.createElement(s.default,{command:r.const("describe-point"),colspan:this.const(1),style:this.const("default"),onTap:function(){e.dispatch({type:"keypad/audio-trace",command:"describe-point"})}},r.createElement("span",null,(function(){return e.layoutWidth()<=460?e.controller.s("graphing-calculator-button-audio-trace-describe-point-short"):e.controller.s("graphing-calculator-button-audio-trace-describe-point")}))),r.createElement(s.default,{command:r.const("describe-curve"),colspan:this.const(1),style:this.const("default"),onTap:function(){e.dispatch({type:"keypad/audio-trace",command:"describe-curve"})}},r.createElement("span",null,(function(){return e.layoutWidth()<=460?e.controller.s("graphing-calculator-button-audio-trace-describe-curve-short"):e.controller.s("graphing-calculator-button-audio-trace-describe-curve")}))),r.createElement(p,{predicate:function(){return e.controller.getCanShowKeyboardShortcuts()}},(function(){return r.createElement("div",{class:r.const("dcg-keypad-btn-container dcg-keypad-link")},r.createElement("a",{class:r.const("dcg-shared-dark-gray-link"),role:r.const("link"),"dcg-command":r.const("keyboard-shortcuts"),onTap:function(){e.dispatch({type:"keypad/audio-trace",command:"keyboard-shortcuts"})}},r.createElement("i",{class:r.const("dcg-icon-keyboard")}),r.createElement("span",null,(function(){return e.layoutWidth()<=700?e.controller.s("graphing-calculator-link-audio-trace-shortcuts"):e.controller.s("graphing-calculator-link-audio-trace-keyboard-shortcuts")}))))})))))},t.prototype.layoutWidth=function(){return this.controller.getLayoutMeasurements().width},t.prototype.isPrevPointDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToPrevPoint()},t.prototype.isNextPointDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToNextPoint()},t.prototype.isPrevPOIDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToPrevPOI()},t.prototype.isNextPOIDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToNextPOI()},t.prototype.isPrevCurveDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToPrevCurve()},t.prototype.isNextCurveDisabled=function(){var e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToNextCurve()},t.prototype.isAudioDisabled=function(){return!this.controller.getAudio()},t.prototype.getAudioTraceVolume=function(){var e=this.controller.getAudioGraph();return!e||this.isAudioDisabled()?"0%":100*e.tonegen.getAudioVolume()+"%"},t.prototype.isVolumeDownDisabled=function(){var e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.tonegen.getAudioVolume()<=0},t.prototype.isVolumeUpDisabled=function(){var e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.tonegen.getAudioVolume()>=1},t.prototype.getAudioTraceSpeed=function(){var e=this.controller.getAudioGraph();return!e||this.isAudioDisabled()?"0":l.audioSpeedOptions[e.getAudioSpeedIndex()].displayedSpeed},t.prototype.isSpeedDownDisabled=function(){var e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.getAudioSpeedIndex()<=0},t.prototype.isSpeedUpDisabled=function(){var e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.getAudioSpeedIndex()===l.audioSpeedOptions.length-1},t.prototype.getDisabledTooltipText=function(){return this.isAudioDisabled()?this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"):""},t}(i.default);t.default=h})),i("loadcss!graphing-calc/keypads/functions-popover",(function(){})),i("graphing-calc/keypads/functions-popover",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","loadcss!./functions-popover"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0});var a=r.Components,s=a.If,c=a.For,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-functions-popover dcg-popover dcg-top")},r.createElement("div",{class:r.const("dcg-popover-interior")},r.createElement("div",{class:r.const("dcg-interior-buttons")},r.createElement(c,{each:this.bindFn(this.getKeypadKeys),key:function(e){return e.id}},r.createElement("div",{class:r.const("dcg-basic-keypad dcg-do-not-blur")},(function(t){return r.createElement("div",{class:r.const("dcg-keypad-keys-section")},r.createElement(s,{predicate:function(){return void 0!==t.title}},(function(){return r.createElement("div",{class:r.const("dcg-section-heading")},(function(){return t.title}),r.createElement(s,{predicate:function(){return!!t.helpLink}},(function(){return r.createElement("a",{href:function(){return t.helpLink.url},target:r.const("_blank"),"aria-label":function(){return t.helpLink.tooltip}},r.createElement("i",{class:r.const("dcg-icon-question-sign")}))})))})),r.createElement(s,{predicate:function(){return void 0===t.title}},(function(){return r.createElement("div",{class:r.const("dcg-popover-section-separator")})})),r.createElement(c,{each:function(){return t.keys}},r.createElement("div",{class:r.const("dcg-keypad-keys-buttons")},(function(t){return e.b(t)}))))}))))),r.createElement("div",{class:r.const("dcg-arrow")}))},t.prototype.getInverseTrigSection=function(){var e=this.controller.areFunctionsRestricted()?["arcsin","arccos","arctan"]:["arcsin","arccos","arctan","arccsc","arcsec","arccot"];return{id:"inversetrig",title:this.controller.s("graphing-calculator-heading-inverse-trig"),keys:e}},t.prototype.getGeometryMethods=function(){var e=!this.controller.areFunctionsRestricted()||this.controller.areGeometryFunctionsForceEnabled()?["polygon","distance","midpoint"]:["polygon"];return{id:"geometry",title:this.controller.s("graphing-calculator-heading-geometry"),keys:e}},t.prototype.getTrigSection=function(){var e=this.controller.areFunctionsRestricted()?["sin","cos","tan"]:["sin","cos","tan","csc","sec","cot"];return{id:"trig",title:this.controller.s("graphing-calculator-heading-trig"),keys:e}},t.prototype.getHyperbolicTrigSection=function(){var e=this.controller.areFunctionsRestricted()?["sinh","cosh","tanh"]:["sinh","cosh","tanh","csch","sech","coth"];return{id:"hyperbtrig",title:this.controller.s("graphing-calculator-heading-hyperbolic-trig"),keys:e}},t.prototype.getListFunctions=function(){return{id:"lists",title:this.controller.s("graphing-calculator-heading-lists"),keys:["join","sort","shuffle","unique","for"]}},t.prototype.getStatTests=function(){return{id:"stat-tests",title:this.controller.s("graphing-calculator-heading-stat-tests"),keys:["ttest","tscore","ittest"]}},t.prototype.getStatsSection=function(){var e=["mean","median","min","max","quartile","quantile","stdev","stdevp","var"];return this.controller.areFunctionsRestricted()||(e=e.concat(["mad","cov","covp"])),e=e.concat(["corr","spearman","stats","length","total"]),{id:"stats",title:this.controller.s("graphing-calculator-heading-stats"),keys:e}},t.prototype.getMiscSection=function(){return{title:this.controller.s("graphing-calculator-button-functions-menu-number-theory"),id:"misc",keys:["lcm","gcd","mod","ceil","floor","round","sign","nthroot","nPr","nCr"]}},t.prototype.getVisualizationsSection=function(){return{title:this.controller.s("graphing-calculator-heading-dist-tab-visualizations"),id:"visualizations",keys:["histogram","dotplot","boxplot"],helpLink:{url:"https://help.desmos.com/hc/en-us/articles/360022405991-Data-Visualizations",tooltip:this.controller.s("graphing-calculator-narration-dist-tab-visualizations")}}},t.prototype.getCalculusSection=function(){return{title:this.controller.s("graphing-calculator-heading-calculus"),id:"calculus",keys:["exp","ln","log","loga","ddx","prime","int","sum","prod"]}},t.prototype.getDistributionsSection=function(){return{title:this.controller.s("graphing-calculator-heading-dist-tab-distributions"),id:"distributions",keys:["normaldist","tdist","poissondist","binomialdist","uniformdist","pdf","cdf","inversecdf","random"],helpLink:{url:"https://help.desmos.com/hc/en-us/articles/360022401451-Distributions",tooltip:this.controller.s("graphing-calculator-narration-dist-tab-distributions")}}},t.prototype.getKeypadKeys=function(){var e=[this.getTrigSection(),this.getInverseTrigSection(),this.getStatsSection(),this.getListFunctions()];return this.controller.areDistributionsEnabled()&&(e.push(this.getVisualizationsSection()),e.push(this.getDistributionsSection()),e.push(this.getStatTests())),e.push(this.getCalculusSection()),e.push(this.getHyperbolicTrigSection()),e.push(this.getGeometryMethods()),e.push(this.getMiscSection()),e},t.prototype.b=function(e){return o.view(this,e,{style:"popover"})},t}(i.default);t.default=l})),i("loadcss!graphing-calc/keypads/graphing-keypad-container",(function(){})),i("graphing-calc/keypads/main",["require","exports","tslib","dcgview","./dcgview-graphing","./qwerty","./qwerty-capital","./numbers","./letters","./letters-capital","./audio","./functions-popover","jquery","underscore","../../shared-components/tooltip","loadcss!./graphing-keypad-container"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h){Object.defineProperty(t,"__esModule",{value:!0});var f=r.Components,m=f.SwitchUnion,y=f.If,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-keypad"),role:r.const("complementary"),"aria-label":r.const("Keypad")},r.createElement("div",{class:function(){return{"dcg-keys-container":!0,"dcg-smaller-functions-text":e.controller.getLayoutMeasurements().width<650,"dcg-small-ABC":e.controller.getLayoutMeasurements().width<490,"dcg-smaller-ABC":e.controller.getLayoutMeasurements().width<420,"dcg-smallest-ABC":e.controller.getLayoutMeasurements().width<380}},style:this.bindFn(this.computeStyles),didMount:this.bindFn(this.didMountContainer),"aria-hidden":function(){return!e.controller.isKeypadOpen()}},r.createElement("div",{class:r.const("dcg-keys-background dcg-do-not-blur"),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement("div",{class:r.const("dcg-keys")},m((function(){return e.controller.getKeypadLayout()}),{letters:function(){return r.createElement(o.default,{controller:e.props.controller})},capitalLetters:function(){return r.createElement(a.default,{controller:e.props.controller})},mainNumbers:function(){return r.createElement(s.default,{controller:e.props.controller})},noQwertyLetters:function(){return r.createElement(c.default,{controller:e.props.controller})},noQwertyCapitalLetters:function(){return r.createElement(l.default,{controller:e.props.controller})},audio:function(){return r.createElement(d.default,{controller:e.props.controller})}}),r.createElement(y,{predicate:function(){return e.controller.isKeypadFunctionsPopoverOpen()}},(function(){return r.createElement(u.default,{controller:e.props.controller})}))),r.createElement(y,{predicate:this.bindFn(this.isHideKeypadButtonVisible)},(function(){return r.createElement("div",{class:r.const("dcg-minimize-keypad-container")},r.createElement(h.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-hide-keypad")},gravity:e.const("ne"),offset:e.const({left:6})},r.createElement("div",{role:r.const("button"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-hide-keypad")},class:r.const("dcg-minimize-keypad"),style:function(){return{"border-bottom-color":e.controller.getPillboxBackgroundColor(),background:e.controller.getPillboxBackgroundColor()}},onTap:function(){e.controller.dispatch({type:"keypad/set-minimized",minimized:!0})}},r.createElement("i",{class:r.const("dcg-icon-keyboard")}),r.createElement("i",{class:r.const("dcg-icon-caret-down")}))))})))),r.createElement(y,{predicate:this.bindFn(this.isShowKeypadButtonVisible)},(function(){return r.createElement("div",{class:r.const("dcg-show-keypad-container")},r.createElement(h.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-show-keypad")},gravity:e.const("ne")},r.createElement("div",{role:r.const("button"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-show-keypad")},class:r.const("dcg-btn-flat-gray dcg-show-keypad dcg-do-not-blur"),style:function(){return{background:e.controller.getPillboxBackgroundColor()}},onTap:function(){e.controller.dispatch({type:"keypad/set-minimized",minimized:!1})}},r.createElement("i",{class:r.const("dcg-icon-keyboard")}),r.createElement("i",{class:r.const("dcg-icon-caret-up dcg-do-not-blur")}))))})))},t.prototype.didMountContainer=function(e){this.containerElt=e},t.prototype.isShowKeypadButtonVisible=function(){return"none"===this.controller.getBrailleMode()&&!this.controller.isKeypadOpen()&&!this.controller.isNarrow()&&!this.controller.isInEditListMode()&&(this.controller.isListVisible()||this.controller.inAudioTraceMode())},t.prototype.isHideKeypadButtonVisible=function(){return"none"===this.controller.getBrailleMode()&&this.controller.isKeypadOpen()&&(!this.controller.isNarrow()||this.controller.inAudioTraceMode())},t.prototype.didMount=function(){this.updatePopoverPosition()},t.prototype.didUpdate=function(){this.updatePopoverPosition()},t.prototype.computeStyles=function(){var e={};return this.controller.isNarrow()||(e.transition="transform .3s, opacity .3s"),this.controller.isKeypadOpen()||(e.opacity="0",e.transform="translate3d(0, 255px, 0)"),e},t.prototype.updatePopoverPosition=function(){if(this.controller.isKeypadFunctionsPopoverOpen()){var e=this.controller.computeMajorLayout(),t={keypadTop:e.keypad.top,keypadWidth:e.keypad.width,keypadHeight:e.keypad.height,showToLeft:e.grapher.height<525};if(!g.isEqual(t,this.__popoverCache)){this.__popoverCache=t;var n=p(this.containerElt),r=n.find("[dcg-command=functions]"),i=n.find(".dcg-functions-popover"),o=n.find(".dcg-arrow");if(t.showToLeft){i.removeClass("dcg-top").addClass("dcg-left");var a=t.keypadHeight-(r.offset().top-n.offset().top)-r.outerHeight()/2-2-10;o.css({left:"auto",bottom:a})}else i.removeClass("dcg-left").addClass("dcg-top"),o.css({left:i.width()-r.width()/2,bottom:"auto"})}}else this.__popoverCache=void 0},t}(i.default);t.default=b})),i("loadcss!pillboxes",(function(){})),i("main/graphpaper-branding-view",["require","exports","tslib","dcgview","loadcss!pillboxes"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0});var i=r.Components.SwitchUnion,o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),i((function(){return e.controller.getBrandingMode()}),{"static-edit-link":function(){return r.createElement("div",{class:r.const("dcg-graphpaper-branding")},r.createElement("a",{href:function(){return e.controller.getEditLink()},target:r.const("_blank")},r.createElement("span",{class:r.const("dcg-powered-by"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-on-desmos")}},(function(){return e.controller.s("graphing-calculator-link-edit-on-desmos")})),r.createElement("i",{class:r.const("dcg-icon-desmos")})))},"edit-link":function(){return r.createElement("div",{class:r.const("dcg-graphpaper-branding")},r.createElement("span",{class:r.const("dcg-edit-branding"),onTap:function(){return e.controller.dispatch({type:"open-on-web"})}},r.createElement("span",{class:r.const("dcg-powered-by"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-edit-on-desmos")}},(function(){return e.controller.s("graphing-calculator-link-edit-on-desmos")})),r.createElement("i",{class:r.const("dcg-icon-desmos")})))},"powered-by":function(){return r.createElement("div",{class:r.const("dcg-graphpaper-branding dcg-unclickable")},r.createElement("span",{class:r.const("dcg-powered-by"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-powered-by-desmos")}},(function(){return e.controller.s("graphing-calculator-label-powered-by")})),r.createElement("i",{class:r.const("dcg-icon-desmos")}))}})},t}(r.Class);t.default=o})),i("loadcss!main/settings-view",(function(){})),i("main/settings-view",["require","exports","tslib","keys","scroll_helpers","dcgview","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","jquery","core/graphing-calc/json/graph-settings","core/math/evaluate-single-expression","graphing/viewport","dcgview-helpers/checkbox","main/manage-focus-helper","main/mathquill-operators","../shared-components/mathquill-braille-wrapper","../expressions/expression_view","../shared-components/tooltip","loadcss!./settings-view"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y){Object.defineProperty(t,"__esModule",{value:!0});var b=o.Components,v=b.Input,x=b.If,w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement(f.default,n.__assign({latex:function(){return e.props.parent().getLimitLatex(e.props.limit())},ariaLabel:function(){return e.props.ariaLabel()},onBrailleInput:function(t){return e.props.parent().setLimitLatex(e.props.limit(),t)},onBrailleFocusedChanged:function(t){return e.props.parent().onFocusedChanged(e.props.limit(),t)},brailleShouldFocus:function(){return e.props.parent().getFocusedLimit()===e.props.limit()},hasError:function(){return e.props.parent().isLimitInvalid(e.props.limit())},dataDCGLimit:function(){return e.props.limit()}},m.getBrailleWrapperProps(this.props.controller()),{capExpressionSize:function(){}}),o.createElement(s.default,{isFocused:function(){return e.props.parent().getFocusedLimit()===e.props.limit()},latex:function(){return e.props.parent().getLimitLatex(e.props.limit())},capExpressionSize:function(){return e.props.parent().getCapExpressionSize()},config:this.bindFn(this.getMQConfig),getAriaLabel:function(){return e.props.ariaLabel()},getAriaPostLabel:this.const(""),onUserChangedLatex:function(t){return e.props.parent().setLimitLatex(e.props.limit(),t)},onFocusedChanged:function(t){return e.props.parent().onFocusedChanged(e.props.limit(),t)},hasError:this.const(!1),selectOnFocus:this.const(!0),needsSystemKeypad:function(){return e.props.needsSystemKeypad()}},o.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-math-input":!0,"dcg-invalid":e.props.parent().isLimitInvalid(e.props.limit()),"dcg-focus":e.props.parent().getFocusedLimit()===e.props.limit()}},"data-dcg-limit":function(){return e.props.limit()}})))},t.prototype.getMQConfig=function(){return{autoOperatorNames:h.getAutoOperators()}},t}(o.Class),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return this.controller=this.props.controller(),o.createElement("div",{class:o.const("dcg-settings-view-container")},o.createElement(y.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-graph-settings")},gravity:this.const("w")},o.createElement("div",{class:o.const("dcg-btn-flat-gray dcg-settings-pillbox dcg-action-settings"),role:o.const("button"),tabindex:o.const("0"),"aria-haspopup":o.const("true"),"aria-expanded":function(){return e.controller.isGraphSettingsOpen()},"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-graph-settings")},onTap:this.bindFn(this.onTapSettingsButton),manageFocus:this.const(g.manageFocusHelper({controller:this.controller,location:{type:"settings",location:"icon"}})),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},o.createElement("i",{class:o.const("dcg-icon-wrench"),"aria-hidden":o.const("true")}))),o.createElement(x,{predicate:function(){return e.controller.isGraphSettingsOpen()}},(function(){return o.createElement("div",{class:o.const("dcg-settings-container dcg-left dcg-popover dcg-constrained-height-popover"),style:e.bindFn(e.getContainerStyle),didMount:e.bindFn(e.didMountContainer),didUnmount:e.bindFn(e.didUnmountContainer)},o.createElement("div",{class:o.const("dcg-popover-interior"),role:o.const("complementary"),"aria-label":o.const("Graph Settings")},o.createElement("div",{class:o.const("dcg-visual-settings")},o.createElement("div",{class:o.const("dcg-group-title")},(function(){return e.controller.s("shared-calculator-label-settings-display")})),o.createElement("div",{class:o.const("dcg-displaysizegroup dcg-segmented-control-container"),role:o.const("group"),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size")}},o.createElement("div",{class:function(){return{"dcg-action-displaysizedefault":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected dcg-active":!e.getProjectorMode()}},"aria-pressed":function(){return!e.getProjectorMode()},role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size-default")},onTap:e.bindFn(e.setDefaultDisplaySize)},o.const("A")),o.createElement("div",{class:function(){return{"dcg-action-displaysizelarge":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected dcg-active":e.getProjectorMode()}},"aria-pressed":e.bindFn(e.getProjectorMode),role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size-large")},onTap:e.bindFn(e.setLargeDisplaySize),manageFocus:e.const(g.manageFocusHelper({controller:e.controller,location:{type:"settings",location:"projector-mode"}}))},o.const("A"))),o.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-reverse-contrast")},onChange:e.bindFn(e.toggleInvertedColors),checked:function(){return e.controller.getInvertedColors()},green:e.const(!0)},(function(){return e.controller.s("graphing-calculator-label-settings-reverse-contrast")})),o.createElement(x,{predicate:function(){return e.controller.getBrailleControls()}},(function(){return o.createElement("div",{class:o.const("dcg-braille-container dcg-braille-mode")},o.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-braille-mode")},onChange:e.bindFn(e.toggleBrailleMode),checked:function(){return"none"!==e.controller.getBrailleMode()},green:e.const(!0)},(function(){return e.controller.s("graphing-calculator-label-settings-braille-mode")})),o.createElement(x,{predicate:function(){return"none"!==e.controller.getBrailleMode()}},(function(){return o.createElement("div",{class:o.const("dcg-braille-options-container")},o.createElement("div",{role:o.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-label-settings-braille-mode")},class:o.const("dcg-braille-options-buttons dcg-segmented-control-container")},o.createElement("span",{class:function(){return{"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-braille-option":!0,"dcg-selected dcg-active":"nemeth"===e.controller.getBrailleMode()}},role:o.const("button"),onTap:function(){return e.controller.dispatch({type:"set-braille-mode",mode:"nemeth"})},tabindex:o.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-button-settings-braille-mode-nemeth")},"aria-pressed":function(){return"nemeth"===e.controller.getBrailleMode()}},(function(){return e.controller.s("graphing-calculator-button-settings-braille-mode-nemeth")})),o.createElement("span",{class:function(){return{"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-braille-option":!0,"dcg-selected dcg-active":"ueb"===e.controller.getBrailleMode()}},role:o.const("button"),onTap:function(){return e.controller.dispatch({type:"set-braille-mode",mode:"ueb"})},tabindex:o.const(0),"aria-label":function(){return e.controller.s("graphing-calculator-button-settings-braille-mode-ueb")},"aria-pressed":function(){return"ueb"===e.controller.getBrailleMode()}},(function(){return e.controller.s("graphing-calculator-button-settings-braille-mode-ueb")}))),o.createElement("div",{class:o.const("dcg-checkbox-title dcg-six-key-checkbox")},o.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-six-key-braille")},onChange:function(t){return e.controller.dispatch({type:"set-six-key-input",useSixKeyInput:t})},checked:function(){return e.controller.getSixKeyInput()},green:e.const(!0)},(function(){return e.controller.s("graphing-calculator-label-settings-six-key-braille")})),o.createElement("a",{href:o.const("https://www.desmos.com/accessibility#braille"),class:o.const("dcg-six-key-info"),target:o.const("_blank")},o.createElement("i",{class:o.const("dcg-icon-question-sign")}))),o.createElement("div",{class:o.const("dcg-refreshable-braille-note")},(function(){return e.controller.s("graphing-calculator-text-refreshable-braille-display-note")+" "}),o.createElement("a",{href:function(){return"https://www.desmos.com/braille-examples?"+e.controller.getBrailleMode()},target:o.const("_blank")},(function(){return e.controller.s("graphing-calculator-link-view-braille-examples")}))))})))}))),o.createElement("div",{class:o.const("dcg-top-section-flex dcg-grid-settings-container")},o.createElement("div",{class:o.const("dcg-grid-settings")},o.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-grid")},onChange:e.bindFn(e.toggleGrid),checked:e.bindFn(e.getShowGrid),green:e.const(!0)},(function(){return e.controller.s("graphing-calculator-label-settings-grid")})),o.createElement(x,{predicate:e.bindFn(e.getShowGrid)},(function(){return o.createElement("div",{class:o.const("dcg-circle-icon-group dcg-grid-group")},o.createElement("div",{class:function(){return{"dcg-circle-icon":!0,"dcg-action-cartesian":!0,"dcg-active":!e.getPolarMode()}},role:o.const("button"),tabindex:o.const("0"),"aria-pressed":function(){return!e.getPolarMode()},"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-cartesian-grid")},onTap:e.bindFn(e.setCartesianMode)}),o.const(" "),o.createElement("div",{class:function(){return{"dcg-circle-icon":!0,"dcg-action-polar":!0,"dcg-active":e.getPolarMode()}},role:o.const("button"),tabindex:o.const("0"),"aria-pressed":function(){return e.getPolarMode()},"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-polar-grid")},onTap:e.bindFn(e.setPolarMode)}))})),o.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-arrows")},onChange:e.bindFn(e.toggleArrows),checked:function(){return e.getAxisArrowMode()!==l.AxisArrowModes.NONE},green:e.const(!0)},(function(){return e.controller.s("graphing-calculator-label-settings-arrows")})),o.createElement(x,{predicate:function(){return e.getAxisArrowMode()!==l.AxisArrowModes.NONE}},(function(){return o.createElement("div",{class:o.const("dcg-circle-icon-group dcg-arrow-group")},o.createElement("div",{role:o.const("button"),tabindex:o.const("0"),class:function(){return{"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-active":e.getAxisArrowMode()===l.AxisArrowModes.BOTH}},"dcg-arrows":o.const("BOTH"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-show-both")},"aria-pressed":function(){return e.getAxisArrowMode()===l.AxisArrowModes.BOTH},onTap:function(){return e.setAxisArrowMode(l.AxisArrowModes.BOTH)}},o.createElement("i",{class:o.const("dcg-icon-arrows-two")})),o.const(" "),o.createElement("div",{role:o.const("button"),tabindex:o.const("0"),class:function(){return{"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-active":e.getAxisArrowMode()===l.AxisArrowModes.POSITIVE}},"dcg-arrows":o.const("POSITIVE"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-show-positive")},"aria-pressed":function(){return e.getAxisArrowMode()===l.AxisArrowModes.POSITIVE},onTap:function(){return e.setAxisArrowMode(l.AxisArrowModes.POSITIVE)}},o.createElement("i",{class:o.const("dcg-icon-arrows-one")})))}))),o.createElement("div",{class:o.const("dcg-top-checkboxes-container")},o.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-axis-numbers")},onChange:e.bindFn(e.toggleAxisNumbers),checked:e.bindFn(e.getAxisNumbers),small:e.const(!0),green:e.const(!0)},(function(){return e.controller.s("graphing-calculator-label-settings-axis-numbers")})),o.createElement(x,{predicate:function(){return e.getShowGrid()&&!e.getPolarMode()}},(function(){return o.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-minor-gridlines")},onChange:e.bindFn(e.toggleMinorGridlines),checked:e.bindFn(e.getMinorGridlines),small:e.const(!0),green:e.const(!0)},(function(){return e.controller.s("graphing-calculator-label-settings-minor-gridlines")}))})),o.createElement(x,{predicate:function(){return e.controller.canUseAdvancedStyling()&&!e.getPolarMode()}},(function(){return o.createElement(p.Checkbox,{checked:function(){return e.controller.getGraphSettings().restrictGridToFirstQuadrant},ariaLabel:e.const("One Quadrant"),onChange:function(t){return e.controller.dispatch({type:"set-graph-settings",restrictGridToFirstQuadrant:t})},small:e.const(!0),green:e.const(!0)},o.const("One Quadrant"))})),o.createElement(x,{predicate:function(){return!e.getSquareAxes()}},(function(){return o.createElement("div",{role:o.const("button"),tabindex:o.const("0"),class:o.const("dcg-action-zoom-square dcg-btn-light-gray"),onTap:e.bindFn(e.zoomSquare)},(function(){return e.controller.s("graphing-calculator-button-settings-zoom-square")}))})))),o.createElement("div",{class:o.const("dcg-axes-settings-container")},o.createElement("div",{class:o.const("dcg-checkbox-title dcg-x-axis-title")},o.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-x-axis")},onChange:e.bindFn(e.toggleXAxis),checked:e.bindFn(e.getShowXAxis),green:e.const(!0)},(function(){return e.controller.s("graphing-calculator-label-settings-x-axis")})),o.createElement(v,{class:e.const("dcg-axis-label dcg-x-axis-label"),placeholder:function(){return e.controller.s("graphing-calculator-label-settings-add-label")},"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-x-axis-label")},disabled:function(){return!e.getShowXAxis()||void 0},"aria-disabled":function(){return!e.getShowXAxis()||void 0},onInput:e.bindFn(e.onXAxisLabelInput),value:e.bindFn(e.getXAxisLabel)})),o.createElement("div",{class:o.const("dcg-editable-mathquill-container dcg-x-axis-options")},o.createElement(w,{limit:e.const("xmin"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-x-axis-min")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}),o.createElement(a.default,{config:e.const({}),latex:e.const("\\le x\\le")},o.createElement("span",{class:o.const("dcg-interval-interior")})),o.createElement(w,{limit:e.const("xmax"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-x-axis-max")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}),o.createElement(x,{predicate:function(){return!e.getPolarMode()}},(function(){return o.createElement("span",{class:o.const("dcg-step-container")},o.createElement("span",{class:o.const("dcg-step-label"),"aria-hidden":o.const("true")},(function(){return e.controller.s("graphing-calculator-label-settings-step")})),o.createElement(w,{limit:e.const("xstep"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-x-axis-step")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}))}))),o.createElement("div",{class:o.const("dcg-checkbox-title dcg-y-axis-title")},o.createElement(p.Checkbox,{ariaLabel:function(){return e.controller.s("graphing-calculator-label-settings-y-axis")},onChange:e.bindFn(e.toggleYAxis),checked:e.bindFn(e.getShowYAxis),green:e.const(!0)},(function(){return e.controller.s("graphing-calculator-label-settings-y-axis")})),o.createElement(v,{class:e.const("dcg-axis-label dcg-y-axis-label"),placeholder:function(){return e.controller.s("graphing-calculator-label-settings-add-label")},"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-y-axis-label")},disabled:function(){return!e.getShowYAxis()||void 0},"aria-disabled":function(){return!e.getShowYAxis()||void 0},onInput:e.bindFn(e.onYAxisLabelInput),value:e.bindFn(e.getYAxisLabel)})),o.createElement("div",{class:o.const("dcg-editable-mathquill-container dcg-y-axis-options")},o.createElement(w,{limit:e.const("ymin"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-y-axis-min")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}),o.createElement(a.default,{config:e.const({}),latex:e.const("\\le y\\le")},o.createElement("span",{class:o.const("dcg-interval-interior")})),o.createElement(w,{limit:e.const("ymax"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-y-axis-max")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}),o.createElement(x,{predicate:function(){return!e.getPolarMode()}},(function(){return o.createElement("span",{class:o.const("dcg-step-container")},o.createElement("span",{class:o.const("dcg-step-label"),"aria-hidden":o.const("true")},(function(){return e.controller.s("graphing-calculator-label-settings-step")})),o.createElement(w,{limit:e.const("ystep"),ariaLabel:function(){return e.controller.s("graphing-calculator-narration-settings-y-axis-step")},needsSystemKeypad:function(){return!e.controller.isKeypadEnabled()},parent:e.const(e),controller:e.props.controller}))})))),o.createElement("div",{class:o.const("dcg-radiangroup dcg-segmented-control-container"),role:o.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-settings-angle")}},o.createElement("div",{class:function(){return{"dcg-action-radianmode":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected dcg-active":!e.getDegreeMode()}},"aria-pressed":function(){return!e.getDegreeMode()},role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-button-settings-radians")},onTap:e.bindFn(e.setRadianMode)},(function(){return e.controller.s("graphing-calculator-button-settings-radians")})),o.createElement("div",{class:function(){return{"dcg-action-degreemode":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected dcg-active":e.getDegreeMode()}},"aria-pressed":e.bindFn(e.getDegreeMode),role:o.const("button"),tabindex:o.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-button-settings-degrees")},onTap:e.bindFn(e.setDegreeMode),manageFocus:e.const(g.manageFocusHelper({controller:e.controller,location:{type:"settings",location:"degree-mode"}}))},(function(){return e.controller.s("graphing-calculator-button-settings-degrees")}))),o.createElement("div",{class:o.const("dcg-arrow")})))})))},t.prototype.didMountContainer=function(e){var t=this;this.node=e,c(document).on("dcg-tapstart.settings-view wheel.settings-view",(function(e){t.eventShouldClosePopover(e)&&t.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:"keyboard"===e.device})})),c(document).on("keydown.settings-view",(function(e){if("Esc"===r.lookup(e)&&t.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:!0}),t.controller.isGraphSettingsOpen()&&"Tab"===r.lookup(e)&&!e.altKey&&!e.metaKey&&!e.ctrlKey){var n=t.controller.getFocusLocation();if(!n||"settings"!==n.type)return;e.shiftKey||"degree-mode"!==n.location?e.shiftKey&&"icon"===n.location&&(t.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"degree-mode"}}),e.preventDefault(),e.stopPropagation()):(t.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"icon"}}),e.preventDefault(),e.stopPropagation())}}))},t.prototype.didUnmountContainer=function(){c(document).off(".settings-view")},t.prototype.didUpdate=function(){if(this.controller.isGraphSettingsOpen()){var e=this.controller.getKeypadHeight();e!==this.cachedKeypadHeight&&document.activeElement&&c(document.activeElement).closest(this.node).length&&i.scrollVisible(c(document.activeElement),c(this.node).find(".dcg-popover-interior"),50),this.cachedKeypadHeight=e}},t.prototype.eventShouldClosePopover=function(e){var t=c(e.target),n=!!t.closest(this.node).length,r=!!t.closest(".dcg-action-settings").length,i=this.isMathquillFocused()&&t.closest(".dcg-keypad").length,o=!!t.closest(".dcg-action-undo").length||!!t.closest(".dcg-action-redo").length;return!(n||r||i||o)},t.prototype.onTapSettingsButton=function(e){this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:"keyboard"===e.device})},t.prototype.isMathquillFocused=function(){return void 0!==this.getFocusedLimit()},t.prototype.getLimitLatex=function(e){return this.controller.getSettingsViewModel().limitLatex[e]},t.prototype.setLimitLatex=function(e,t){t!==this.controller.getSettingsViewModel().limitLatex[e]&&this.controller.dispatch({type:"set-axis-limit-latex",limit:e,latex:t})},t.prototype.getFocusedLimit=function(){var e=this.controller.getFocusLocation();if(e&&"settings"===e.type)return e.location},t.prototype.getInvalidLimits=function(){var e=!!this.controller.getGraphSettings().degreeMode,t=d.default(this.getLimitLatex("xmin"),e),n=d.default(this.getLimitLatex("xmax"),e),r=d.default(this.getLimitLatex("ymin"),e),i=d.default(this.getLimitLatex("ymax"),e),o=""===this.getLimitLatex("xstep")?0:d.default(this.getLimitLatex("xstep"),e),a=""===this.getLimitLatex("ystep")?0:d.default(this.getLimitLatex("ystep"),e),s={},c=new u.Viewport(t,n,r,i);return isFinite(t)&&isFinite(n)?(s.xmin=!c.isXValid(),s.xmax=s.xmin):(s.xmin=!isFinite(t),s.xmax=!isFinite(n)),isFinite(r)&&isFinite(i)?(s.ymin=!c.isYValid(),s.ymax=s.ymin):(s.ymin=!isFinite(r),s.ymax=!isFinite(i)),s.xstep=!isFinite(o)||o<0,s.ystep=!isFinite(a)||a<0,s},t.prototype.isLimitInvalid=function(e){return this.getInvalidLimits()[e]},t.prototype.onFocusedChanged=function(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"settings",location:e}})},t.prototype.onXAxisLabelInput=function(e){this.controller.dispatch({type:"set-graph-settings",xAxisLabel:e})},t.prototype.onYAxisLabelInput=function(e){this.controller.dispatch({type:"set-graph-settings",yAxisLabel:e})},t.prototype.getXAxisLabel=function(){return this.controller.getGraphSettings().xAxisLabel},t.prototype.getYAxisLabel=function(){return this.controller.getGraphSettings().yAxisLabel},t.prototype.getShowXAxis=function(){return!!this.controller.getGraphSettings().showXAxis},t.prototype.toggleXAxis=function(){this.controller.dispatch({type:"set-graph-settings",showXAxis:!this.getShowXAxis()})},t.prototype.getShowYAxis=function(){return!!this.controller.getGraphSettings().showYAxis},t.prototype.toggleYAxis=function(){this.controller.dispatch({type:"set-graph-settings",showYAxis:!this.getShowYAxis()})},t.prototype.getAxisNumbers=function(){return!!this.controller.getGraphSettings().xAxisNumbers},t.prototype.toggleAxisNumbers=function(){var e=this.getAxisNumbers();this.controller.dispatch({type:"set-graph-settings",xAxisNumbers:!e,yAxisNumbers:!e,polarNumbers:!e})},t.prototype.getMinorGridlines=function(){return 0===this.controller.getGraphSettings().xAxisMinorSubdivisions},t.prototype.toggleMinorGridlines=function(){var e=this.getMinorGridlines()?1:0;this.controller.dispatch({type:"set-graph-settings",yAxisMinorSubdivisions:e,xAxisMinorSubdivisions:e})},t.prototype.getPolarMode=function(){return!!this.controller.getGraphSettings().polarMode},t.prototype.setPolarMode=function(){this.controller.dispatch({type:"set-graph-settings",polarMode:!0})},t.prototype.setCartesianMode=function(){this.controller.dispatch({type:"set-graph-settings",polarMode:!1})},t.prototype.getDegreeMode=function(){return!!this.controller.getGraphSettings().degreeMode},t.prototype.setRadianMode=function(){this.controller.dispatch({type:"set-graph-settings",degreeMode:!1})},t.prototype.setDegreeMode=function(){this.controller.dispatch({type:"set-graph-settings",degreeMode:!0})},t.prototype.getProjectorMode=function(){return!!this.controller.getGraphSettings().config.projectorMode},t.prototype.toggleInvertedColors=function(){this.controller.dispatch({type:"set-inverted-colors",value:!this.controller.getInvertedColors()})},t.prototype.toggleBrailleMode=function(){this.controller.dispatch({type:"set-braille-mode",mode:"none"===this.controller.getBrailleMode()?"nemeth":"none"})},t.prototype.setDefaultDisplaySize=function(){this.controller.dispatch({type:"set-projector-mode",value:!1})},t.prototype.setLargeDisplaySize=function(){this.controller.dispatch({type:"set-projector-mode",value:!0})},t.prototype.getAxisArrowMode=function(){return this.controller.getGraphSettings().xAxisArrowMode},t.prototype.setAxisArrowMode=function(e){this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:e,yAxisArrowMode:e})},t.prototype.getShowGrid=function(){return this.controller.getGraphSettings().showGrid},t.prototype.toggleGrid=function(){this.controller.dispatch({type:"set-graph-settings",showGrid:!this.getShowGrid()})},t.prototype.toggleArrows=function(){var e=this.getAxisArrowMode()===l.AxisArrowModes.NONE?l.AxisArrowModes.BOTH:l.AxisArrowModes.NONE;this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:e,yAxisArrowMode:e})},t.prototype.getSquareAxes=function(){return!!this.controller.getGraphSettings().squareAxes},t.prototype.getContainerStyle=function(){return this.controller.getKeypadHeight()?"bottom: 0":""},t.prototype.zoomSquare=function(){this.controller.dispatch({type:"zoom",direction:"square"})},t.prototype.getCapExpressionSize=function(){return!!this.controller.getGraphSettings().config.capExpressionSize},t}(o.Class);t.default=A})),i("main/zoom-buttons-view",["require","exports","tslib","dcgview","../shared-components/tooltip","loadcss!pillboxes"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-zoom-container")},r.createElement("div",{class:r.const("dcg-zoominout-pillbox dcg-btn-flat-gray dcg-btn-flat-gray-group"),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement(i.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-in")},gravity:this.const("w")},r.createElement("div",{class:r.const("dcg-action-zoomin"),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-in")},onTap:this.bindFn(this.zoomIn),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-plus"),"aria-hidden":r.const("true")}))),r.createElement(i.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-out")},gravity:this.const("w")},r.createElement("div",{class:r.const("dcg-option dcg-action-zoomout dcg-tooltip-e"),tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-out")},role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-out")},onTap:this.bindFn(this.zoomOut),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-minus"),"aria-hidden":r.const("true")})))),r.createElement(i.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-zoom-default")},gravity:this.const("w")},r.createElement("div",{class:function(){return{"dcg-btn-flat-gray":!0,"dcg-option":!0,"dcg-action-zoomrestore":!0,"dcg-disabled":e.getZoomedDefault()}},"aria-disabled":this.bindFn(this.getZoomedDefault),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-zoom-default")},onTap:this.bindFn(this.zoomRestore),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-home"),"aria-hidden":r.const("true")}))))},t.prototype.zoomIn=function(){this.controller.dispatch({type:"zoom",direction:"in"})},t.prototype.zoomOut=function(){this.controller.dispatch({type:"zoom",direction:"out"})},t.prototype.zoomRestore=function(){this.controller.dispatch({type:"zoom",direction:"default"})},t.prototype.getZoomedDefault=function(){return this.controller.getGraphSettings().zoomedDefault},t}(r.Class);t.default=o})),i("main/reset-button-view",["require","exports","tslib","dcgview","../shared-components/tooltip","loadcss!pillboxes"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-reset-container")},r.createElement(i.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-reset")},gravity:this.const("w")},r.createElement("div",{class:r.const("dcg-reset-pillbox dcg-action-reset dcg-btn-flat-gray"),role:r.const("button"),tabindex:r.const("0"),"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-reset")},onTap:this.bindFn(this.reset),style:function(){return{background:e.controller.getPillboxBackgroundColor()}}},r.createElement("i",{class:r.const("dcg-icon dcg-icon-reset"),"aria-hidden":r.const("true")}))))},t.prototype.reset=function(){this.controller.dispatch({type:"reset-graph"})},t}(r.Class);t.default=o})),i("main/pillbox-view",["require","exports","tslib","dcgview","./graphpaper-branding-view","./settings-view","./zoom-buttons-view","./reset-button-view","loadcss!pillboxes"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=r.Components.If,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.template=function(){var e=this;return r.createElement("div",null,r.createElement(c,{predicate:this.bindFn(this.shouldShowContainer)},(function(){return r.createElement("div",{class:r.const("dcg-pillbox-container"),role:r.const("group"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-graph-settings-controls")}},r.createElement("div",{class:r.const("dcg-overgraph-pillbox-elements"),style:e.bindFn(e.getContainerStyle)},r.createElement(c,{predicate:e.bindFn(e.shouldShowSettings)},(function(){return r.createElement(o.default,{controller:e.props.controller})})),r.createElement(c,{predicate:e.bindFn(e.shouldShowResetButton)},(function(){return r.createElement(s.default,{controller:e.props.controller})})),r.createElement(c,{predicate:e.bindFn(e.shouldShowZoomButtons)},(function(){return r.createElement(a.default,{controller:e.props.controller})}))))})),r.createElement(i.default,{controller:function(){return e.props.controller()}}))},t.prototype.getContainerStyle=function(){var e=this.controller.isKeypadOpen()?this.controller.getKeypadHeight():0;return this.controller.isGraphSettingsOpen()?"bottom: "+e+"px;":"bottom: auto"},t.prototype.shouldShowContainer=function(){return this.shouldShowSettings()||this.shouldShowZoomButtons()||this.shouldShowResetButton()},t.prototype.shouldShowSettings=function(){return this.controller.getGraphSettings().config.settingsMenu},t.prototype.shouldShowZoomButtons=function(){return this.controller.getGraphSettings().config.zoomButtons},t.prototype.shouldShowResetButton=function(){return this.controller.getGraphSettings().config.showResetButtonOnGraphpaper&&this.controller.hasDefaultState()},t}(r.Class);t.default=l})),i("loadcss!main/toast-view",(function(){})),i("main/toast-view",["require","exports","tslib","dcgview","loadcss!./toast-view"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ToastView=void 0;var i=r.Components.If,o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("span",{class:r.const("dcg-toast")},r.createElement("i",{class:r.const("dcg-icon-error")}),r.createElement(i,{predicate:function(){return!e.props.showUndo()&&(!e.props.showClose||e.props.showClose())}},(function(){return r.createElement("i",{class:r.const("dcg-icon-remove"),onTap:function(){return e.props.onClose&&e.props.onClose()},role:r.const("link"),tabindex:r.const(0),"aria-label":r.const("Dismiss Notice")})})),r.createElement("span",{class:r.const("dcg-msg"),"aria-atomic":function(){return!e.props.noAria()},"aria-live":function(){return e.props.noAria()?"":"assertive"}},(function(){return e.props.message()})),r.createElement(i,{predicate:this.props.showUndo},(function(){return r.createElement("a",{role:r.const("link"),tabindex:r.const(0),class:r.const("dcg-undo"),onTap:function(){return e.props.onUndo&&e.props.onUndo()}},(function(){return e.props.s("shared-calculator-label-toast-undo")}))})),r.createElement(i,{predicate:this.props.showLearnMore},(function(){return r.createElement("a",{role:r.const("link"),tabindex:r.const(0),class:r.const("dcg-learn-more-link"),target:r.const("_blank"),onTap:function(){return e.props.onLearnMore&&e.props.onLearnMore()}},(function(){return e.props.s("shared-calculator-label-toast-learn-more")}))})),r.createElement(i,{predicate:function(){return!!e.props.link&&!!e.props.link()}},(function(){return r.createElement("a",{role:r.const("link"),tabindex:r.const(0),class:r.const("dcg-learn-more-link"),target:function(){var t;return null!==(t=e.props.link().target)&&void 0!==t?t:"_blank"},href:function(){return e.props.link().url}},(function(){return e.props.link().text}))})))},t.prototype.shouldUpdate=function(){return!!this.props.message()},t}(r.Class),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-toast-view":!0,"dcg-visible":!!e.props.message()}},"toast-style":function(){return e.props.toastStyle&&e.props.toastStyle()}},r.createElement(i,{predicate:function(){return!!e.props.message()}},(function(){return r.createElement("div",{class:r.const("dcg-toast-wrapper")},r.createElement("div",{class:r.const("dcg-toast-cover")}),r.createElement(o,n.__assign({},e.props)))})))},t}(r.Class);t.ToastView=a})),i("main/disable-dragdrop-events",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.on("drag dragend dragenter dragover dragleave drop",(function(e){e.preventDefault(),e.stopPropagation()}))}})),i("graphing-calc/views/main",["require","exports","tslib","touchtracking","ipad.scrollfix","dcgview","jquery","../../expressions/list-view","graphing-calc/keypads/main","main/pillbox-view","main/toast-view","main/disable-dragdrop-events","main/manage-focus-helper","../../shared-components/tooltip"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g){Object.defineProperty(t,"__esModule",{value:!0});var h=o.Components.If,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t.prototype.settings=function(){return this.controller.getGraphSettings()},t.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-calculator-api-container"),style:o.const("width: 100%; height: 100%; position: relative;")},o.createElement("div",{class:function(){return{"dcg-container":!0,"dcg-fullscreen":!e.controller.isListVisible(),"dcg-narrow":e.controller.isNarrow(),"dcg-PROJECTOR-MODE":e.settings().config.projectorMode,"dcg-inverted-colors":!!e.settings().config.invertedColors,"dcg-EDIT-LIST-MODE":e.controller.isInEditListMode(),"dcg-no-graphpaper":!e.settings().config.graphpaper,"dcg-no-branding":!e.settings().config.branding,"dcg-no-expression-topbar":!e.settings().config.expressionsTopbar,"dcg-default-border":!!e.settings().config.border,"dcg-no-hyperlinks":!e.settings().config.links,"dcg-has-background-color":e.controller.hasBackgroundColor(),"dcg-is-interactive":e.settings().config.expressions||!e.settings().config.lockViewport}},style:function(){return{"font-size":e.settings().config.fontSize+"px",background:e.getContainerBackgroundColor(),color:e.controller.getTextColor()}},role:o.const("application"),"aria-label":function(){return e.controller.s("graphing-calculator-narration-main-desmos-graphing-calculator")},"x-ms-format-detection":o.const("none"),didMount:this.bindFn(this.didMountRoot)},o.createElement(h,{predicate:function(){return e.controller.getGraphSettings().config.expressions}},(function(){return o.createElement(s.default,{controller:e.props.controller})})),o.createElement(h,{predicate:function(){return e.controller.isListEnabled()&&!e.controller.isListVisible()}},(function(){return o.createElement("div",{class:function(){return{"dcg-overgraph-icon-container":!0,"dcg-bottom-right":e.controller.isNarrow()}}},o.createElement(g.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-show-list")},gravity:function(){return e.controller.isNarrow()?"nw":"se"}},o.createElement("div",{class:function(){return{"dcg-show-expressions-tab":!0,"dcg-overgraph-icon":!0,"dcg-rotated":e.controller.isNarrow()}},"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-show-list")},role:o.const("button"),tabindex:o.const("0"),onTap:function(t){e.controller.dispatch({type:"show-expressions-list",focusHideIcon:"keyboard"===t.device})},manageFocus:e.const(p.manageFocusHelper({controller:e.controller,location:{type:"show-expression-list-btn"}}))},o.createElement("i",{class:o.const("dcg-icon-show")}))))})),o.createElement(h,{predicate:this.bindFn(this.showHamburger)},(function(){return o.createElement("div",{class:o.const("dcg-overgraph-icon-container")},o.createElement(g.Tooltip,{tooltip:function(){return e.controller.s("graphing-calculator-label-tooltip-open-graph")},gravity:e.const("se")},o.createElement("div",{role:o.const("button"),"aria-label":function(){return e.controller.s("graphing-calculator-label-tooltip-open-graph")},class:o.const("dcg-action-opendrawer dcg-in-api-action-opendrawer dcg-overgraph-icon"),onTap:function(){return e.controller.dispatch({type:"open-drawer"})}},o.createElement("i",{class:o.const("dcg-icon-hamburger")}))))})),o.createElement(l.default,{controller:this.props.controller}),o.createElement(d.ToastView,{message:function(){var t=e.controller.getToastData().message;return e.controller.raw(t||"")},link:function(){return e.controller.getToastData().link||void 0},showUndo:function(){return!!e.controller.getToastData().undoCallback},showLearnMore:function(){return!!e.controller.getToastData().learnMoreCallback},noAria:function(){return!!e.controller.getToastData().noAria},toastStyle:function(){return e.controller.getToastData().toastStyle},s:this.controller.s,onUndo:function(){return e.controller.dispatch({type:"toast/undo"})},onLearnMore:function(){return e.controller.dispatch({type:"toast/learn-more"})},onClose:function(){return e.controller.dispatch({type:"toast/close"})}}),o.createElement("div",{class:o.const("dcg-grapher")}),o.createElement(h,{predicate:function(){return e.controller.getGraphSettings().config.keypad}},(function(){return o.createElement(c.default,{controller:e.props.controller})}))))},t.prototype.showHamburger=function(){return!!this.controller.getGraphSettings().config.showHamburger&&!this.controller.isInEditListMode()&&this.controller.isNarrow()},t.prototype.getContainerBackgroundColor=function(){return this.controller.hasTransparentBackground()?"none":this.controller.getBackgroundColor()},t.prototype.didMountRoot=function(e){r.monitor(e),this.controller.getGraphSettings().config.disableScrollFix||i.limitScrollOnElement(e),this.setupFileDragDrop(e)},t.prototype.setupFileDragDrop=function(e){var t=this,n=a(e);u.default(n);var r=a(),i=this;function o(){r=a(),n.off(".filedraggedover"),i.controller.dispatch({type:"file-is-not-dragged-over"})}n.on("dragenter",(function(e){t.controller.areImagesEnabled()&&(0===r.length&&n.on("dcg-tapstart.filedraggedover",o),r=r.add(e.target),t.controller.dispatch({type:"file-is-dragged-over"}))})).on("dragleave",(function(e){0===(r=r.not(e.target)).length&&o()})).on("drop",o)},t}(o.Class);t.default=f})),i("worker/workerpoolconnection",["require","pjs","underscore_model"],(function(e){return e("pjs")(e("underscore_model").UnderscoreModel,(function(e,t){e.init=function(e){t.init.call(this),this.workerPool=e,this.worker=e.allocateWorker(),this.worker.__connections[this.guid]=this},e.destroy=function(){this.sendMessage({type:"destroy"}),delete this.worker.__connections[this.guid]},e.killWorker=function(){this.worker.__isFake||this.workerPool.killWorker(this.worker)},e.onWorkerKilled=function(){},e.onResponse=function(e){},e.sendMessage=function(e){this.worker.__isFake?this.worker.postMessage(e):this.worker.postMessage({connectionId:this.guid,originalMessage:e})}}))})),i("text!worker_src_underlying",[],(function(){return'var requirejs,require,define;!function(e){var n,r,i,t,o={},u={},f={},c={},l=Object.prototype.hasOwnProperty,s=[].slice;function p(e,n){return l.call(e,n)}function a(e,n){var r,i,t,o,u,c,l,s,p,a,d=n&&n.split("/"),g=f.map,q=g&&g["*"]||{};if(e&&"."===e.charAt(0))if(n){for(e=(d=d.slice(0,d.length-1)).concat(e.split("/")),s=0;s<e.length;s+=1)if("."===(a=e[s]))e.splice(s,1),s-=1;else if(".."===a){if(1===s&&(".."===e[2]||".."===e[0]))break;s>0&&(e.splice(s-1,2),s-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||q)&&g){for(s=(r=e.split("/")).length;s>0;s-=1){if(i=r.slice(0,s).join("/"),d)for(p=d.length;p>0;p-=1)if((t=g[d.slice(0,p).join("/")])&&(t=t[i])){o=t,u=s;break}if(o)break;!c&&q&&q[i]&&(c=q[i],l=s)}!o&&c&&(o=c,u=l),o&&(r.splice(0,u,o),e=r.join("/"))}return e}function d(n,i){return function(){return r.apply(e,s.call(arguments,0).concat([n,i]))}}function g(e){return function(n){o[e]=n}}function q(r){if(p(u,r)){var i=u[r];delete u[r],c[r]=!0,n.apply(e,i)}if(!p(o,r)&&!p(c,r))throw new Error("No "+r);return o[r]}function O(e){var n,r=e?e.indexOf("!"):-1;return r>-1&&(n=e.substring(0,r),e=e.substring(r+1,e.length)),[n,e]}function h(e){return function(){return f&&f.config&&f.config[e]||{}}}i=function(e,n){var r,i=O(e),t=i[0];return e=i[1],t&&(r=q(t=a(t,n))),t?e=r&&r.normalize?r.normalize(e,function(e){return function(n){return a(n,e)}}(n)):a(e,n):(t=(i=O(e=a(e,n)))[0],e=i[1],t&&(r=q(t))),{f:t?t+"!"+e:e,n:e,pr:t,p:r}},t={require:function(e){return d(e)},exports:function(e){var n=o[e];return void 0!==n?n:o[e]={}},module:function(e){return{id:e,uri:"",exports:o[e],config:h(e)}}},n=function(n,r,f,l){var s,a,O,h,E,j,m=[];if(l=l||n,"function"==typeof f){for(r=!r.length&&f.length?["require","exports","module"]:r,E=0;E<r.length;E+=1)if("require"===(a=(h=i(r[E],l)).f))m[E]=t.require(n);else if("exports"===a)m[E]=t.exports(n),j=!0;else if("module"===a)s=m[E]=t.module(n);else if(p(o,a)||p(u,a)||p(c,a))m[E]=q(a);else{if(!h.p)throw new Error(n+" missing "+a);h.p.load(h.n,d(l,!0),g(a),{}),m[E]=o[a]}O=f.apply(o[n],m),n&&(s&&s.exports!==e&&s.exports!==o[n]?o[n]=s.exports:O===e&&j||(o[n]=O))}else n&&(o[n]=f)},requirejs=require=r=function(o,u,c,l,s){return"string"==typeof o?t[o]?t[o](u):q(i(o,u).f):(o.splice||(f=o,u.splice?(o=u,u=c,c=null):o=e),u=u||function(){},"function"==typeof c&&(c=l,l=s),l?n(e,o,u,c):setTimeout(function(){n(e,o,u,c)},4),r)},r.config=function(e){return(f=e).deps&&r(f.deps,f.callback),r},(define=function(e,n,r){n.splice||(r=n,n=[]),p(o,e)||p(u,e)||(u[e]=[e,n,r])}).amd={jQuery:!0}}(),"undefined"!=typeof ALMOND_OVERRIDES&&ALMOND_OVERRIDES&&(define=ALMOND_OVERRIDES.define||define,require=ALMOND_OVERRIDES.require||require,requirejs=ALMOND_OVERRIDES.requirejs||requirejs);\ndefine("core/vendor/almond", function(){});\n\ndefine("pjs",[],function(){return function(n,t,o){function r(n){return"object"==typeof n}function e(n){return"function"==typeof n}function i(){}return function n(o,p){function u(){var n=new c;return e(n.init)&&n.init.apply(n,arguments),n}function c(){}undefined===p&&(p=o,o=Object),u.Bare=c;var f,y=i.prototype=o.prototype,a=c.prototype=u.prototype=new i;return a.constructor=u,u.mixin=function(t){return c.prototype=u.prototype=n(u,t).prototype,u},(u.open=function(n){if(f={},e(n)?f=n.call(u,a,y,u,o):r(n)&&(f=n),r(f))for(var i in f)t.call(f,i)&&(a[i]=f[i]);return e(a.init)||(a.init=o),u})(p)}}(0,{}.hasOwnProperty)});\ndefine(\'core/math/parser/input-span\',["require","exports"],function(require,n){"use strict";function t(n,t,e){return{input:n,start:t,end:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.slice=n.joinSpans=n.emptySpanAt=n.Span=void 0,n.Span=t,n.emptySpanAt=function(n,e){return t(n,e,e)},n.joinSpans=function(n,e){if(n.input!==e.input)throw new Error("Programming Error: cannot form a span on different inputs");return t(n.input,n.start,e.end)},n.slice=function(n){return n.input.slice(n.start,n.end)}});\ndefine(\'core/math/domaintypes\',["require","exports"],function(require,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.intersectDomains=n.allReals=n.linearPositiveDomain=n.knownDomain=n.unknownDomain=n.emptyDomain=void 0;n.emptyDomain=function(){return{type:"empty"}};n.unknownDomain=function(){return{type:"unknown"}};n.knownDomain=function(e){return isNaN(e[0])||isNaN(e[1])||e[1]<e[0]?n.emptyDomain():{type:"known",bounds:e}};n.linearPositiveDomain=function(e,o){if(0===o)return e>0?n.allReals():n.emptyDomain();var t=-e/o,i=o<0?[-1/0,t]:[t,1/0];return n.knownDomain(i)};n.allReals=function(){return n.knownDomain([-1/0,1/0])};n.intersectDomains=function(e,o){if("empty"===e.type||"empty"===o.type)return n.emptyDomain();if("unknown"===e.type||"unknown"===o.type)return n.unknownDomain();if(e.bounds&&o.bounds){var t=[Math.max(e.bounds[0],o.bounds[0]),Math.min(e.bounds[1],o.bounds[1])];return n.knownDomain(t)}return n.emptyDomain()}});\ndefine(\'core/lib/worker-i18n\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.s=void 0,e.s=function(e,r){return{key:e,vars:r}}});\ndefine(\'core/math/types\',["require","exports","core/lib/worker-i18n"],function(require,e,t){"use strict";var r;function s(t){switch(t){case e.Any:return"Any";case e.Number:return"Number";case e.Bool:return"Bool";case e.Point:return"Point";case e.Distribution:return"Distribution";case e.Action:return"Action";case e.ListOfAny:return"ListOfAny";case e.ListOfNumber:return"ListOfNumber";case e.ListOfBool:return"ListOfBool";case e.ListOfPoint:return"ListOfPoint";case e.ListOfDistribution:return"ListOfDistribution";case e.EmptyList:return"EmptyList";case e.ErrorType:return"ErrorType";case e.SeedType:return"SeedType";case e.RGBColor:return"RGBColor";case e.ListOfColor:return"ListOfColor";case e.Polygon:return"Polygon";case e.ListOfPolygon:return"ListOfPolygon";default:throw new Error("Invalid type: "+t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.isTypeOrListOfType=e.typesMatch=e.isSubType=e.isOneOf=e.hasListType=e.listType=e.elementType=e.isList=e.prettyPrint=e.repr=e.ListOfPolygon=e.Polygon=e.ListOfColor=e.RGBColor=e.SeedType=e.ErrorType=e.EmptyList=e.ListOfDistribution=e.ListOfPoint=e.ListOfBool=e.ListOfNumber=e.ListOfAny=e.Action=e.Distribution=e.Point=e.Bool=e.Number=e.Any=void 0,e.Any=0,e.Number=1,e.Bool=2,e.Point=3,e.Distribution=4,e.Action=5,e.ListOfAny=6,e.ListOfNumber=7,e.ListOfBool=8,e.ListOfPoint=9,e.ListOfDistribution=10,e.EmptyList=11,e.ErrorType=12,e.SeedType=13,e.RGBColor=14,e.ListOfColor=15,e.Polygon=16,e.ListOfPolygon=17,e.repr=s,e.prettyPrint=function(r){switch(r){case e.Any:return t.s("shared-calculator-label-value-type-any");case e.Number:return t.s("shared-calculator-label-value-type-number");case e.Bool:return t.s("shared-calculator-label-value-type-bool");case e.Point:return t.s("shared-calculator-label-value-type-point");case e.Distribution:return t.s("shared-calculator-label-value-type-distribution");case e.Action:return t.s("shared-calculator-label-value-type-action");case e.ListOfAny:return t.s("shared-calculator-label-value-type-list-of-any");case e.ListOfNumber:return t.s("shared-calculator-label-value-type-list-of-numbers");case e.ListOfBool:return t.s("shared-calculator-label-value-type-list-of-bool");case e.ListOfPoint:return t.s("shared-calculator-label-value-type-list-of-points");case e.ListOfDistribution:return t.s("shared-calculator-label-value-type-list-of-distributions");case e.EmptyList:return t.s("shared-calculator-label-value-type-empty-list");case e.ErrorType:return t.s("shared-calculator-label-value-type-error");case e.SeedType:return t.s("shared-calculator-label-value-type-seed");case e.RGBColor:return t.s("shared-calculator-label-value-type-color");case e.ListOfColor:return t.s("shared-calculator-label-value-type-list-of-colors");case e.Polygon:return t.s("shared-calculator-label-value-type-polygon");case e.ListOfPolygon:return t.s("shared-calculator-label-value-type-list-of-polygons");default:throw new Error("Invalid type: "+r)}};(r={})[e.ListOfAny]=e.Any,r[e.EmptyList]=e.Number,r[e.ListOfNumber]=e.Number,r[e.ListOfBool]=e.Bool,r[e.ListOfPoint]=e.Point,r[e.ListOfDistribution]=e.Distribution,r[e.ListOfColor]=e.RGBColor,r[e.ListOfPolygon]=e.Polygon;function o(t){switch(t){case e.ListOfAny:case e.ListOfNumber:case e.ListOfBool:case e.ListOfPoint:case e.ListOfDistribution:case e.ListOfColor:case e.ListOfPolygon:case e.EmptyList:return!0;case e.Any:case e.Number:case e.Bool:case e.Point:case e.Distribution:case e.ErrorType:case e.SeedType:case e.RGBColor:case e.Action:case e.Polygon:return!1;default:throw new Error("Invalid type: "+t)}}function i(t){switch(t){case e.EmptyList:case e.ListOfNumber:return e.Number;case e.ListOfBool:return e.Bool;case e.ListOfPoint:return e.Point;case e.ListOfDistribution:return e.Distribution;case e.ListOfColor:return e.RGBColor;case e.ListOfPolygon:return e.Polygon;case e.ListOfAny:return e.Any;case e.Any:case e.Number:case e.Bool:case e.Point:case e.Distribution:case e.ErrorType:case e.SeedType:case e.RGBColor:case e.Action:case e.Polygon:return e.Any;default:throw new Error("Invalid type: "+t)}}function a(t,r){return!(t!==e.EmptyList||!o(r))||(!(r!==e.ListOfAny||!o(t))||t===r)}e.isList=o,e.elementType=i,e.listType=function(t){switch(t){case e.Any:return e.ListOfAny;case e.Number:return e.ListOfNumber;case e.Bool:return e.ListOfBool;case e.Point:return e.ListOfPoint;case e.Distribution:return e.ListOfDistribution;case e.RGBColor:return e.ListOfColor;case e.Polygon:return e.ListOfPolygon;case e.EmptyList:case e.ListOfNumber:case e.ListOfBool:case e.ListOfPoint:case e.ListOfDistribution:case e.ListOfColor:case e.ListOfPolygon:case e.ListOfAny:case e.ErrorType:case e.SeedType:case e.Action:throw new Error("Type "+s(t)+" does not implement listType.");default:throw new Error("Invalid type: "+t)}},e.hasListType=function(t){switch(t){case e.Any:case e.Number:case e.Bool:case e.Point:case e.Distribution:case e.RGBColor:case e.Polygon:return!0;case e.EmptyList:case e.ListOfNumber:case e.ListOfBool:case e.ListOfPoint:case e.ListOfDistribution:case e.ListOfColor:case e.ListOfPolygon:case e.ListOfAny:case e.ErrorType:case e.SeedType:case e.Action:return!1;default:throw new Error("Invalid type: "+t)}},e.isOneOf=function(e,t){for(var r=0,s=t;r<s.length;r++){if(e===s[r])return!0}return!1},e.isSubType=a,e.typesMatch=function(e,t){return a(e,t)||a(t,e)},e.isTypeOrListOfType=function(t,r){return t===r||!!o(t)&&(t===e.EmptyList||i(t)===r)}});\ndefine(\'core/math/parsenode/base\',[\'require\',\'pjs\',\'core/math/parser/input-span\',\'core/math/domaintypes\',\'core/math/types\'],function(require){"use strict";var e=require("pjs"),n=require("core/math/parser/input-span"),t=require("core/math/domaintypes"),i=require("core/math/types");return e(function(e,s,d){e.init=function(){this._dependencies=[],this._dummyDependencies=[],this._updateSymbols=[],this._scope={definitions:[],dependencies:[],scopes:[]},this._exports=[]},e.exportPenalty=0,e.setInputSpan=function(e){this._inputSpan=e},e.getInputString=function(){return void 0===this.getInputSpan()?"":n.slice(this._inputSpan)},e.getInputSpan=function(){return this._inputSpan},e.shouldExportAns=function(){return!1},e.getAnsVariable=function(){return this.shouldExportAns()&&this.userData&&this.userData.hasOwnProperty("index")?["ans_"+this.userData.index]:[]},e.addDependency=function(e){-1===this._dependencies.indexOf(e)&&this._dependencies.push(e),-1===this._scope.dependencies.indexOf(e)&&this._scope.dependencies.push(e)},e.addDependencies=function(e){for(var n=0;n<e.length;n++)this.addDependency(e[n])},e.addDummyDependency=function(e){-1===this._dependencies.indexOf(e)&&this._dependencies.push(e),-1===this._dummyDependencies.indexOf(e)&&this._dummyDependencies.push(e)},e.addDummyDependencies=function(e){for(var n=0;n<e.length;n++)this.addDummyDependency(e[n])},e.addUpdateSymbol=function(e){-1===this._dependencies.indexOf(e)&&this._dependencies.push(e),-1===this._updateSymbols.indexOf(e)&&this._updateSymbols.push(e)},e.mergeDependencies=function(){for(var e=0;e<arguments.length;e++){var n,t=arguments[e];for(n=0;n<t._dependencies.length;n++)-1===this._dependencies.indexOf(t._dependencies[n])&&this._dependencies.push(t._dependencies[n]);for(n=0;n<t._updateSymbols.length;n++)-1===this._updateSymbols.indexOf(t._updateSymbols[n])&&this._updateSymbols.push(t._updateSymbols[n]);for(n=0;n<t._scope.dependencies.length;n++)-1===this._scope.dependencies.indexOf(t._scope.dependencies[n])&&this._scope.dependencies.push(t._scope.dependencies[n]);this.addDummyDependencies(t.getDummyDependencies()),Array.prototype.push.apply(this._scope.scopes,t._scope.scopes)}},e.mergeDependenciesInScope=function(e,n){this.addDummyDependencies(e);var t=n.getScope(),i={definitions:e,dependencies:t.dependencies,scopes:t.scopes};this._scope.scopes.push(i);for(var s=0;s<n._dependencies.length;s++)-1===this._dependencies.indexOf(n._dependencies[s])&&this._dependencies.push(n._dependencies[s]);for(s=0;s<n._updateSymbols.length;s++)-1===this._updateSymbols.indexOf(n._updateSymbols[s])&&this._updateSymbols.push(n._updateSymbols[s]);this.addDummyDependencies(n.getDummyDependencies())},e.getDependencies=function(){return this._dependencies},e.getDummyDependencies=function(){return this._dummyDependencies},e.getUpdateSymbols=function(){return this._updateSymbols},e.getScope=function(){return this._scope},e.dependsOn=function(e){return this._dependencies.indexOf(e)>-1},e.getExports=function(){return(this._exports||[]).concat(this.getAnsVariable())},e.getLegalExports=function(e){return this.getExports().filter(function(n){return!e.assignmentForbidden(n)})},e.exportsSymbol=function(e){return this._exports.indexOf(e)>-1},e.exportTo=function(e,n,t){for(var i=this.getLegalExports(e),s=0;s<i.length;s++){var d=i[s];if(t[d])return;t[d]=n.blocksExport?n:this}},e.getOperator=function(){return this.operator||"="},e.isInequality=function(){return!1},e.isShadeBetween=function(){return!1},e.getAllIds=function(){return this.userData?[this.userData.id]:[]},e.getEvaluationInfo=function(){return!1},e.shouldPromoteToSlider=function(e){return!1},e.getSliderVariables=function(e,n){var t=e.sliderVariables(n.getDependencies());return n.valueType===i.Point||n.valueType===i.ListOfPoint?t.filter(function(n){return!e.validParametricVariable(n)}):t},e.getCompiledDerivative=function(){var e=this.getDependencies();return this.takeDerivative(e[0]||"x").getCompiledFunction()},e.asValue=function(){},e.boundDomain=function(e){return t.unknownDomain()}})});\ndefine(\'core/math/parsenode/error\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(t,n){t.init=function(t){n.init.call(this),this._msg=t,this.blocksExport=!0},t.evaluateOnce=function(t){return this._msg},t.isError=!0,t.getError=function(){return this._msg},t.setDependencies=function(t){return this.addDependencies(t),this},t.setActionValue=function(t){this.actionValue=t},t.allowExport=function(){return this.blocksExport=!1,this}})});\n!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("underscore",r):function(){var t=n._,e=r();n._=e,e.noConflict=function(){return n._=t,e}}()}(this,function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},r=Array.prototype,t=Object.prototype,e="undefined"!=typeof Symbol?Symbol.prototype:null,u=r.push,o=r.slice,i=t.toString,a=t.hasOwnProperty,f=Array.isArray,c=Object.keys,l=Object.create,p=n.isNaN,s=n.isFinite,v=function(){};function h(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)}var y=h.VERSION="1.10.2";function g(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,o){return n.call(r,t,e,u,o)}}return function(){return n.apply(r,arguments)}}function d(n,r,t){return null==n?ur:Cn(n)?g(n,r,t):Ln(n)&&!Kn(n)?ir(n):or(n)}function m(n,r){return d(n,r,1/0)}function b(n,r,t){return h.iteratee!==m?h.iteratee(n,r):d(n,r,t)}function j(n,r){return r=null==r?n.length-1:+r,function(){for(var t=Math.max(arguments.length-r,0),e=Array(t),u=0;u<t;u++)e[u]=arguments[u+r];switch(r){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var o=Array(r+1);for(u=0;u<r;u++)o[u]=arguments[u];return o[r]=e,n.apply(this,o)}}function _(n){if(!Ln(n))return{};if(l)return l(n);v.prototype=n;var r=new v;return v.prototype=null,r}function w(n){return function(r){return null==r?void 0:r[n]}}function x(n,r){return null!=n&&a.call(n,r)}function S(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0}h.iteratee=m;var A=Math.pow(2,53)-1,O=w("length");function M(n){var r=O(n);return"number"==typeof r&&r>=0&&r<=A}function E(n,r,t){var e,u;if(r=g(r,t),M(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var o=Sn(n);for(e=0,u=o.length;e<u;e++)r(n[o[e]],o[e],n)}return n}function N(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=Array(u),i=0;i<u;i++){var a=e?e[i]:i;o[i]=r(n[a],a,n)}return o}function k(n){var r=function(r,t,e,u){var o=!M(r)&&Sn(r),i=(o||r).length,a=n>0?0:i-1;for(u||(e=r[o?o[a]:a],a+=n);a>=0&&a<i;a+=n){var f=o?o[a]:a;e=t(e,r[f],f,r)}return e};return function(n,t,e,u){var o=arguments.length>=3;return r(n,g(t,u,4),e,o)}}var I=k(1),T=k(-1);function B(n,r,t){var e=(M(n)?on:Tn)(n,r,t);if(void 0!==e&&-1!==e)return n[e]}function R(n,r,t){var e=[];return r=b(r,t),E(n,function(n,t,u){r(n,t,u)&&e.push(n)}),e}function F(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(!r(n[i],i,n))return!1}return!0}function q(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(r(n[i],i,n))return!0}return!1}function D(n,r,t,e){return M(n)||(n=On(n)),("number"!=typeof t||e)&&(t=0),ln(n,r,t)>=0}var W=j(function(n,r,t){var e,u;return Cn(r)?u=r:Kn(r)&&(e=r.slice(0,-1),r=r[r.length-1]),N(n,function(n){var o=u;if(!o){if(e&&e.length&&(n=S(n,e)),null==n)return;o=n[r]}return null==o?o:o.apply(n,t)})});function z(n,r){return N(n,or(r))}function P(n,r,t){var e,u,o=-1/0,i=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=M(n)?n:On(n)).length;a<f;a++)null!=(e=n[a])&&e>o&&(o=e);else r=b(r,t),E(n,function(n,t,e){((u=r(n,t,e))>i||u===-1/0&&o===-1/0)&&(o=n,i=u)});return o}function K(n,r,t){if(null==r||t)return M(n)||(n=On(n)),n[ar(n.length-1)];var e=M(n)?Dn(n):On(n),u=O(e);r=Math.max(Math.min(r,u),0);for(var o=u-1,i=0;i<r;i++){var a=ar(i,o),f=e[i];e[i]=e[a],e[a]=f}return e.slice(0,r)}function L(n,r){return function(t,e,u){var o=r?[[],[]]:{};return e=b(e,u),E(t,function(r,u){var i=e(r,u,t);n(o,r,i)}),o}}var V=L(function(n,r,t){x(n,t)?n[t].push(r):n[t]=[r]}),C=L(function(n,r,t){n[t]=r}),J=L(function(n,r,t){x(n,t)?n[t]++:n[t]=1}),U=/[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;var $=L(function(n,r,t){n[t?0:1].push(r)},!0);function G(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[0]:H(n,n.length-r)}function H(n,r,t){return o.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))}function Q(n,r,t){return o.call(n,null==r||t?1:r)}function X(n,r,t,e){for(var u=(e=e||[]).length,o=0,i=O(n);o<i;o++){var a=n[o];if(M(a)&&(Kn(a)||Vn(a)))if(r)for(var f=0,c=a.length;f<c;)e[u++]=a[f++];else X(a,r,t,e),u=e.length;else t||(e[u++]=a)}return e}var Y=j(function(n,r){return rn(n,r)});function Z(n,r,t,e){er(r)||(e=t,t=r,r=!1),null!=t&&(t=b(t,e));for(var u=[],o=[],i=0,a=O(n);i<a;i++){var f=n[i],c=t?t(f,i,n):f;r&&!t?(i&&o===c||u.push(f),o=c):t?D(o,c)||(o.push(c),u.push(f)):D(u,f)||u.push(f)}return u}var nn=j(function(n){return Z(X(n,!0,!0))});var rn=j(function(n,r){return r=X(r,!0,!0),R(n,function(n){return!D(r,n)})});function tn(n){for(var r=n&&P(n,O).length||0,t=Array(r),e=0;e<r;e++)t[e]=z(n,e);return t}var en=j(tn);function un(n){return function(r,t,e){t=b(t,e);for(var u=O(r),o=n>0?0:u-1;o>=0&&o<u;o+=n)if(t(r[o],o,r))return o;return-1}}var on=un(1),an=un(-1);function fn(n,r,t,e){for(var u=(t=b(t,e,1))(r),o=0,i=O(n);o<i;){var a=Math.floor((o+i)/2);t(n[a])<u?o=a+1:i=a}return o}function cn(n,r,t){return function(e,u,i){var a=0,f=O(e);if("number"==typeof i)n>0?a=i>=0?i:Math.max(i+f,a):f=i>=0?Math.min(i+1,f):i+f+1;else if(t&&i&&f)return e[i=t(e,u)]===u?i:-1;if(u!=u)return(i=r(o.call(e,a,f),tr))>=0?i+a:-1;for(i=n>0?a:f-1;i>=0&&i<f;i+=n)if(e[i]===u)return i;return-1}}var ln=cn(1,on,fn),pn=cn(-1,an);function sn(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var o=_(n.prototype),i=n.apply(o,u);return Ln(i)?i:o}var vn=j(function(n,r,t){if(!Cn(n))throw new TypeError("Bind must be called on a function");var e=j(function(u){return sn(n,e,r,this,t.concat(u))});return e}),hn=j(function(n,r){var t=hn.placeholder,e=function(){for(var u=0,o=r.length,i=Array(o),a=0;a<o;a++)i[a]=r[a]===t?arguments[u++]:r[a];for(;u<arguments.length;)i.push(arguments[u++]);return sn(n,e,this,this,i)};return e});hn.placeholder=h;var yn=j(function(n,r){var t=(r=X(r,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var e=r[t];n[e]=vn(n[e],n)}});var gn=j(function(n,r,t){return setTimeout(function(){return n.apply(null,t)},r)}),dn=hn(gn,h,1);function mn(n){return function(){return!n.apply(this,arguments)}}function bn(n,r){var t;return function(){return--n>0&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}}var jn=hn(bn,2),_n=!{toString:null}.propertyIsEnumerable("toString"),wn=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function xn(n,r){var e=wn.length,u=n.constructor,o=Cn(u)&&u.prototype||t,i="constructor";for(x(n,i)&&!D(r,i)&&r.push(i);e--;)(i=wn[e])in n&&n[i]!==o[i]&&!D(r,i)&&r.push(i)}function Sn(n){if(!Ln(n))return[];if(c)return c(n);var r=[];for(var t in n)x(n,t)&&r.push(t);return _n&&xn(n,r),r}function An(n){if(!Ln(n))return[];var r=[];for(var t in n)r.push(t);return _n&&xn(n,r),r}function On(n){for(var r=Sn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e}function Mn(n){for(var r={},t=Sn(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r}function En(n){var r=[];for(var t in n)Cn(n[t])&&r.push(t);return r.sort()}function Nn(n,r){return function(t){var e=arguments.length;if(r&&(t=Object(t)),e<2||null==t)return t;for(var u=1;u<e;u++)for(var o=arguments[u],i=n(o),a=i.length,f=0;f<a;f++){var c=i[f];r&&void 0!==t[c]||(t[c]=o[c])}return t}}var kn=Nn(An),In=Nn(Sn);function Tn(n,r,t){r=b(r,t);for(var e,u=Sn(n),o=0,i=u.length;o<i;o++)if(r(n[e=u[o]],e,n))return e}function Bn(n,r,t){return r in t}var Rn=j(function(n,r){var t={},e=r[0];if(null==n)return t;Cn(e)?(r.length>1&&(e=g(e,r[1])),r=An(n)):(e=Bn,r=X(r,!1,!1),n=Object(n));for(var u=0,o=r.length;u<o;u++){var i=r[u],a=n[i];e(a,i,n)&&(t[i]=a)}return t}),Fn=j(function(n,r){var t,e=r[0];return Cn(e)?(e=mn(e),r.length>1&&(t=r[1])):(r=N(X(r,!1,!1),String),e=function(n,t){return!D(r,t)}),Rn(n,e,t)}),qn=Nn(An,!0);function Dn(n){return Ln(n)?Kn(n)?n.slice():kn({},n):n}function Wn(n,r){var t=Sn(r),e=t.length;if(null==n)return!e;for(var u=Object(n),o=0;o<e;o++){var i=t[o];if(r[i]!==u[i]||!(i in u))return!1}return!0}function zn(n,r,t,u){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!=n)return r!=r;var o=typeof n;return("function"===o||"object"===o||"object"==typeof r)&&function(n,r,t,u){n instanceof h&&(n=n._wrapped);r instanceof h&&(r=r._wrapped);var o=i.call(n);if(o!==i.call(r))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":return+n!=+n?+r!=+r:0==+n?1/+n==1/r:+n==+r;case"[object Date]":case"[object Boolean]":return+n==+r;case"[object Symbol]":return e.valueOf.call(n)===e.valueOf.call(r)}var a="[object Array]"===o;if(!a){if("object"!=typeof n||"object"!=typeof r)return!1;var f=n.constructor,c=r.constructor;if(f!==c&&!(Cn(f)&&f instanceof f&&Cn(c)&&c instanceof c)&&"constructor"in n&&"constructor"in r)return!1}u=u||[];var l=(t=t||[]).length;for(;l--;)if(t[l]===n)return u[l]===r;if(t.push(n),u.push(r),a){if((l=n.length)!==r.length)return!1;for(;l--;)if(!zn(n[l],r[l],t,u))return!1}else{var p,s=Sn(n);if(l=s.length,Sn(r).length!==l)return!1;for(;l--;)if(!x(r,p=s[l])||!zn(n[p],r[p],t,u))return!1}return t.pop(),u.pop(),!0}(n,r,t,u)}function Pn(n){return function(r){return i.call(r)==="[object "+n+"]"}}var Kn=f||Pn("Array");function Ln(n){var r=typeof n;return"function"===r||"object"===r&&!!n}var Vn=Pn("Arguments"),Cn=Pn("Function"),Jn=Pn("String"),Un=Pn("Number"),$n=Pn("Date"),Gn=Pn("RegExp"),Hn=Pn("Error"),Qn=Pn("Symbol"),Xn=Pn("Map"),Yn=Pn("WeakMap"),Zn=Pn("Set"),nr=Pn("WeakSet");!function(){Vn(arguments)||(Vn=function(n){return x(n,"callee")})}();var rr=n.document&&n.document.childNodes;function tr(n){return Un(n)&&p(n)}function er(n){return!0===n||!1===n||"[object Boolean]"===i.call(n)}function ur(n){return n}function or(n){return Kn(n)?function(r){return S(r,n)}:w(n)}function ir(n){return n=In({},n),function(r){return Wn(r,n)}}function ar(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))}"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof rr&&(Cn=function(n){return"function"==typeof n||!1});var fr=Date.now||function(){return(new Date).getTime()},cr={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;","`":"&#x60;"},lr=Mn(cr);function pr(n){var r=function(r){return n[r]},t="(?:"+Sn(n).join("|")+")",e=RegExp(t),u=RegExp(t,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,r):n}}var sr=pr(cr),vr=pr(lr);var hr=0;var yr=h.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g},gr=/(.)^/,dr={"\'":"\'","\\\\":"\\\\","\\r":"r","\\n":"n","\\u2028":"u2028","\\u2029":"u2029"},mr=/\\\\|\'|\\r|\\n|\\u2028|\\u2029/g,br=function(n){return"\\\\"+dr[n]};function jr(n,r){return n._chain?h(r).chain():r}function _r(n){return E(En(n),function(r){var t=h[r]=n[r];h.prototype[r]=function(){var n=[this._wrapped];return u.apply(n,arguments),jr(this,t.apply(h,n))}}),h}E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=r[n];h.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],jr(this,r)}}),E(["concat","join","slice"],function(n){var t=r[n];h.prototype[n]=function(){return jr(this,t.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)};var wr=_r({default:h,VERSION:y,iteratee:m,restArguments:j,each:E,forEach:E,map:N,collect:N,reduce:I,foldl:I,inject:I,reduceRight:T,foldr:T,find:B,detect:B,filter:R,select:R,reject:function(n,r,t){return R(n,mn(b(r)),t)},every:F,all:F,some:q,any:q,contains:D,includes:D,include:D,invoke:W,pluck:z,where:function(n,r){return R(n,ir(r))},findWhere:function(n,r){return B(n,ir(r))},max:P,min:function(n,r,t){var e,u,o=1/0,i=1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=M(n)?n:On(n)).length;a<f;a++)null!=(e=n[a])&&e<o&&(o=e);else r=b(r,t),E(n,function(n,t,e){((u=r(n,t,e))<i||u===1/0&&o===1/0)&&(o=n,i=u)});return o},shuffle:function(n){return K(n,1/0)},sample:K,sortBy:function(n,r,t){var e=0;return r=b(r,t),z(N(n,function(n,t,u){return{value:n,index:e++,criteria:r(n,t,u)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index}),"value")},groupBy:V,indexBy:C,countBy:J,toArray:function(n){return n?Kn(n)?o.call(n):Jn(n)?n.match(U):M(n)?N(n,ur):On(n):[]},size:function(n){return null==n?0:M(n)?n.length:Sn(n).length},partition:$,first:G,head:G,take:G,initial:H,last:function(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[n.length-1]:Q(n,Math.max(0,n.length-r))},rest:Q,tail:Q,drop:Q,compact:function(n){return R(n,Boolean)},flatten:function(n,r){return X(n,r,!1)},without:Y,uniq:Z,unique:Z,union:nn,intersection:function(n){for(var r=[],t=arguments.length,e=0,u=O(n);e<u;e++){var o=n[e];if(!D(r,o)){var i;for(i=1;i<t&&D(arguments[i],o);i++);i===t&&r.push(o)}}return r},difference:rn,unzip:tn,zip:en,object:function(n,r){for(var t={},e=0,u=O(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},findIndex:on,findLastIndex:an,sortedIndex:fn,indexOf:ln,lastIndexOf:pn,range:function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),o=0;o<e;o++,n+=t)u[o]=n;return u},chunk:function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(o.call(n,e,e+=r));return t},bind:vn,partial:hn,bindAll:yn,memoize:function(n,r){var t=function(e){var u=t.cache,o=""+(r?r.apply(this,arguments):e);return x(u,o)||(u[o]=n.apply(this,arguments)),u[o]};return t.cache={},t},delay:gn,defer:dn,throttle:function(n,r,t){var e,u,o,i,a=0;t||(t={});var f=function(){a=!1===t.leading?0:fr(),e=null,i=n.apply(u,o),e||(u=o=null)},c=function(){var c=fr();a||!1!==t.leading||(a=c);var l=r-(c-a);return u=this,o=arguments,l<=0||l>r?(e&&(clearTimeout(e),e=null),a=c,i=n.apply(u,o),e||(u=o=null)):e||!1===t.trailing||(e=setTimeout(f,l)),i};return c.cancel=function(){clearTimeout(e),a=0,e=u=o=null},c},debounce:function(n,r,t){var e,u,o=function(r,t){e=null,t&&(u=n.apply(r,t))},i=j(function(i){if(e&&clearTimeout(e),t){var a=!e;e=setTimeout(o,r),a&&(u=n.apply(this,i))}else e=gn(o,r,this,i);return u});return i.cancel=function(){clearTimeout(e),e=null},i},wrap:function(n,r){return hn(r,n)},negate:mn,compose:function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},after:function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},before:bn,once:jn,keys:Sn,allKeys:An,values:On,mapObject:function(n,r,t){r=b(r,t);for(var e=Sn(n),u=e.length,o={},i=0;i<u;i++){var a=e[i];o[a]=r(n[a],a,n)}return o},pairs:function(n){for(var r=Sn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},invert:Mn,functions:En,methods:En,extend:kn,extendOwn:In,assign:In,findKey:Tn,pick:Rn,omit:Fn,defaults:qn,create:function(n,r){var t=_(n);return r&&In(t,r),t},clone:Dn,tap:function(n,r){return r(n),n},isMatch:Wn,isEqual:function(n,r){return zn(n,r)},isEmpty:function(n){return null==n||(M(n)&&(Kn(n)||Jn(n)||Vn(n))?0===n.length:0===Sn(n).length)},isElement:function(n){return!(!n||1!==n.nodeType)},isArray:Kn,isObject:Ln,isArguments:Vn,isFunction:Cn,isString:Jn,isNumber:Un,isDate:$n,isRegExp:Gn,isError:Hn,isSymbol:Qn,isMap:Xn,isWeakMap:Yn,isSet:Zn,isWeakSet:nr,isFinite:function(n){return!Qn(n)&&s(n)&&!p(parseFloat(n))},isNaN:tr,isBoolean:er,isNull:function(n){return null===n},isUndefined:function(n){return void 0===n},has:function(n,r){if(!Kn(r))return x(n,r);for(var t=r.length,e=0;e<t;e++){var u=r[e];if(null==n||!a.call(n,u))return!1;n=n[u]}return!!t},identity:ur,constant:function(n){return function(){return n}},noop:function(){},property:or,propertyOf:function(n){return null==n?function(){}:function(r){return Kn(r)?S(n,r):n[r]}},matcher:ir,matches:ir,times:function(n,r,t){var e=Array(Math.max(0,n));r=g(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},random:ar,now:fr,escape:sr,unescape:vr,result:function(n,r,t){Kn(r)||(r=[r]);var e=r.length;if(!e)return Cn(t)?t.call(n):t;for(var u=0;u<e;u++){var o=null==n?void 0:n[r[u]];void 0===o&&(o=t,u=e),n=Cn(o)?o.call(n):o}return n},uniqueId:function(n){var r=++hr+"";return n?n+r:r},templateSettings:yr,template:function(n,r,t){!r&&t&&(r=t),r=qn({},r,h.templateSettings);var e,u=RegExp([(r.escape||gr).source,(r.interpolate||gr).source,(r.evaluate||gr).source].join("|")+"|$","g"),o=0,i="__p+=\'";n.replace(u,function(r,t,e,u,a){return i+=n.slice(o,a).replace(mr,br),o=a+r.length,t?i+="\'+\\n((__t=("+t+"))==null?\'\':_.escape(__t))+\\n\'":e?i+="\'+\\n((__t=("+e+"))==null?\'\':__t)+\\n\'":u&&(i+="\';\\n"+u+"\\n__p+=\'"),r}),i+="\';\\n",r.variable||(i="with(obj||{}){\\n"+i+"}\\n"),i="var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\\n"+i+"return __p;\\n";try{e=new Function(r.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return e.call(this,n,h)},f=r.variable||"obj";return a.source="function("+f+"){\\n"+i+"}",a},chain:function(n){var r=h(n);return r._chain=!0,r},mixin:_r});return wr._=wr,wr});\ndefine(\'core/math/distance\',["require","exports"],function(require,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.approx=t.pointToSegment=t.closestPointOnSegment=t.pointToSegmentParameter=t.mean=t.hypot=void 0;var n=Math.hypot&&Math.hypot(1/0,NaN)===1/0;function r(t){return t===1/0||t===-1/0}function e(n,r,e,i,o,a,u,h,p){var s=t.hypot(u-i,h-o,p-a);return 0===s?0:function(t,n,r,e,i,o){return t*e+n*i+r*o}((n-i)/s,(r-o)/s,(e-a)/s,(u-i)/s,(h-o)/s,(p-a)/s)}function i(t,n,r,i,o,a){var u=e(t,n,0,r,i,0,o,a,0);return u<=0?[r,i]:u>=1?[o,a]:[r+u*(o-r),i+u*(a-i)]}t.hypot=n?Math.hypot:function(t,n,e){if(r(t)||r(n)||void 0!==e&&r(e))return 1/0;if(isNaN(t)||isNaN(n)||void 0!==e&&isNaN(e))return NaN;if(0===t&&0===n&&(void 0===e||0===e))return 0;for(var i=0,o=0,a=0;a<arguments.length;a+=1){var u=Math.abs(Number(arguments[a]));u>i&&(o*=i/u*(i/u),i=u),o+=0===u&&0===i?0:u/i*(u/i)}return i===1/0?1/0:i*Math.sqrt(o)},t.mean=function(t,n){return t>0==n>0?t+.5*(n-t):.5*(t+n)},t.pointToSegmentParameter=e,t.closestPointOnSegment=i,t.pointToSegment=function(n,r,e,o,a,u){var h=i(n,r,e,o,a,u);return t.hypot(n-h[0],r-h[1])},t.approx=function(t,n,r){if(void 0===r&&(r=1),t===n)return!0;if(!isFinite(t)||!isFinite(n))return!1;if(r>50)throw new Error("Within "+(52-r)+" bits isn\'t really approximate any more");var e=Math.max(Math.max(Math.abs(t),Math.abs(n)),1);return e===e+(1===r?.5:Math.pow(.5,r))*Math.abs(n-t)}});\ndefine(\'core/math/tofraction\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r){if(void 0===r&&(r=1e6),e===1/0)return{n:1/0,d:1};if(e===-1/0)return{n:-1/0,d:1};if(!isFinite(e))return{n:NaN,d:1};for(var n,t,i,u=0,f=1,d=1,o=0;!(t=(n=Math.floor(e))*f+u,(i=n*o+d)>r||(u=f,d=o,f=t,o=i,e===n));)e=1/(e-n);return{n:f,d:o}}});\ndefine(\'core/lib/label\',["require","exports","underscore","core/math/distance","core/math/tofraction"],function(require,e,t,n,r){"use strict";function a(e,t){if(void 0===t&&(t=e),isNaN(e)||!isFinite(e))return{ariaString:"undefined",string:"undefined",value:e};if(0===e)return{ariaString:"0",string:"0",value:e};Math.abs(e)>Math.abs(t)&&(t=e);var a,i=r.default(e/Math.PI,24);if(m(t)&&n.approx(i.n/i.d*Math.PI,e,3))return{ariaString:f(a=(0===i.n?"0":1===i.n?"π":-1===i.n?"-π":i.n.toString()+"π")+(1===i.d?"":"/"+i.d.toString())),string:a,value:i.n/i.d*Math.PI};if(m(t))return{ariaString:f(a=function(e){return"-0"===e?"0":e}(l(e.toFixed(v(t))))),string:a,value:parseFloat(a)};var u=p(e.toExponential(v(t/e))).split("e"),o=u[0]+"×10",c=u[1].replace("+","");return{ariaString:f(a=p(e.toExponential(v(t/e))).replace("+","")),string:a,mantissa:o,superscript:c,value:parseFloat(a)}}Object.defineProperty(e,"__esModule",{value:!0}),e.trimLatex=e.latexToIdentifier=e.identifierToHTML=e.identifierToLatex=e.formatSymbol=e.truncatedAriaLabel=e.truncatedLatexLabel=e.truncatedPlainmathLabel=e.truncatedHTMLLabel=e.numericLabel=e.canDisplayAsFraction=e.point=e.value=void 0,e.value=a;var i={"[e]":" times 10 to the ","[+]":" plus ","[-]":" minus ","[*]":" times ","[/]":" over ","[π]":" pi ","[τ]":" tau ","[θ]":" theta ","[ϕ]":" phi "},u=new RegExp(Object.keys(i).join("|"),"gi");function o(e){return i["["+e+"]"]}var c=/(\\.)([0-9]+)/g;function s(e,t,n){return t+n.split("").join(" ").trim()}function f(e){return e.replace(c,s).replace(u,o).replace(/ +/gi," ").trim()}e.point=function(e,t,n,r){var i=a(e,t);return[i,a(r(i.value),n)]};var d=/\\.?0+$/;function l(e){return-1===e.indexOf(".")?e:e.replace(d,"")}function p(e){return e.replace(/\\.?0+e/,"e")}function m(e){return 1e-4<(e=Math.abs(e))&&e<1e7}function v(e){return e=Math.abs(e),e=Math.max(e,1e-16),Math.max(3,Math.floor(4.5-Math.log(e)/Math.LN10))}function h(e){return 1e6/Math.sqrt(Math.abs(e))}function b(e){var t=h(e);if(t<1)return!1;if(t>1e12)return!1;var n=r.default(e,t),a=n.n,i=n.d;return 1!==i&&e===e+Math.pow(2,-3)*Math.abs(a/i-e)}function g(e,t){if(t=t||{},isNaN(e)||!isFinite(e))return{type:"undefined"};if(0===e||t.zeroCutoff&&Math.abs(e)<t.zeroCutoff)return{type:"decimal",value:"0"};var n=t.smallCutoff||.001,a=t.bigCutoff||1e6,i=t.digits||10,u=p(e.toExponential(i-2)).match(/([\\d\\.\\-]+)e\\+?([\\d\\-]+)/);if(!u)return{type:"undefined"};var o=parseInt(u[2],10)>=i;if(b(e)&&t.displayAsFraction){var c=r.default(e,h(e));return{type:"fraction",numerator:c.n.toString(),denominator:c.d.toString()}}if(Math.abs(e)>a||Math.abs(e)<n||o)return{type:"scientific",mantissa:u[1],exponent:u[2]};var s=l(e.toPrecision(i));return e!==Number(s)&&t.addEllipses&&(s+="..."),{type:"decimal",value:s}}function x(e){e=e.replace("\\\\","");var t={pi:"π",tau:"τ",theta:"θ",phi:"ϕ",div:"÷",cdot:"⋅",times:"×",lt:"<",gt:">",le:"≤",ge:"≥",sim:"∼",ldots:"…",prime:"′",approx:"≈",to:"→","->":"→"};return t.hasOwnProperty(e)?t[e]:e}e.canDisplayAsFraction=b,e.numericLabel=g,e.truncatedHTMLLabel=function(e,t){var n=g(e,t);switch(n.type){case"undefined":return"undefined";case"decimal":return n.value;case"scientific":return n.mantissa+"<span class=\'dcg-cross\'>×</span>10<sup>"+n.exponent+"</sup>";case"fraction":return"1"===n.denominator?n.numerator:n.numerator+"/"+n.denominator;default:return n}},e.truncatedPlainmathLabel=function(e,t){var n=g(e,t);switch(n.type){case"undefined":return"undefined";case"decimal":return n.value;case"scientific":return n.mantissa+" * 10^"+n.exponent;case"fraction":return"1"===n.denominator?n.numerator:n.numerator+"/"+n.denominator;default:return n}},e.truncatedLatexLabel=function(e,t){var n=g(e,t);switch(n.type){case"undefined":return"undefined";case"decimal":return n.value;case"scientific":return n.mantissa+"\\\\times10^{"+n.exponent+"}";case"fraction":return"1"===n.denominator?n.numerator:"-"===n.numerator[0]?"-\\\\frac{"+n.numerator.slice(1)+"}{"+n.denominator+"}":"\\\\frac{"+n.numerator+"}{"+n.denominator+"}";default:return n}},e.truncatedAriaLabel=function(e,t){var n=g(e,t);switch(n.type){case"undefined":return"undefined";case"decimal":return f(n.value);case"scientific":return f(n.mantissa+"e"+n.exponent);case"fraction":return f(n.numerator+"/"+n.denominator);default:return n}},e.formatSymbol=x,e.identifierToLatex=function(e){var t=e.split("_"),n="";return t[0].length>1&&(n+="\\\\"),n+=t[0],t[1]&&(n+="_{"+t[1]+"}"),n},e.identifierToHTML=function(e){if(!e)return"";var n=e.split("_").map(x).map(t.escape),r=n[0];return n[1]&&(r+="<sub>"+n[1]+"</sub>"),r},e.latexToIdentifier=function(e){return(e=e.replace(/\\\\operatorname\\{(.*)\\}/,"$1")).replace(/[{}\\\\]/g,"")},e.trimLatex=function(e){return e.replace(/^(\\\\ | |\\\\space)+/,"").replace(/(\\\\ | |\\\\space)+$/,"")}});\ndefine(\'core/math/errormsg\',["require","exports","core/math/parsenode/error","core/lib/worker-i18n","core/lib/label","core/math/types"],function(require,r,e,o,n,t){"use strict";function a(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-multiply-defined",{dependency:r}))}Object.defineProperty(r,"__esModule",{value:!0}),r.variableLengthProductBodyDependsOnIndex=r.variableLengthSumBodyDependsOnIndex=r.variableLengthDistributionList=r.variableLengthTopLevelList=r.badListComprehensionInputDependency=r.shadowedListComprehensionInput=r.unexpectedForKeyword=r.listComprehensionIncorrectInput=r.listComprehensionInputListTypeError=r.matrixInvalidVariable=r.matrixElementTypeError=r.matrixPowerDimensions=r.matrixFractionalPower=r.matrixMultiplyDimensions=r.matrixSubtractDimensions=r.matrixAddDimensions=r.matrixAssignment=r.clickableObjectInvalidExpression=r.clickableObjectAssignmentNotIdentifier=r.clickableObjectAlreadyAssigned=r.clickableObjectAssignmentNotDefined=r.singularInverse=r.nonSquareInverse=r.nonSquareTrace=r.nonSquareDeterminant=r.fractionsUnavailable=r.featureUnavailable=r.pointsUnsupported=r.regressionsUnsupported=r.inequalitiesUnsupported=r.equationsUnsupported=r.functionDefinitionsUnsupported=r.assignmentsUnsupported=r.constantUnsupported=r.logbaseUnsupported=r.functionUnsupported=r.variablesUnsupported=r.ansUndefined=r.badSymbolContext=r.variableSeed=r.badSampleSize=r.ttestListTooShort=r.illegalBinWidth=r.percentMissingOf=r.badIntegralBoundDependency=r.shadowedIntegrationVariable=r.mismatchedBraces=r.derivativeMissingBody=r.integralMissingBody=r.productMissingBody=r.sumMissingBody=r.differentialWithSuperscript=r.integralMissingDifferential=r.integralMissingBound=r.badProductBoundDependency=r.badSumBoundDependency=r.incorrectProductLowerBound=r.incorrectSumLowerBound=r.productMissingBound=r.sumMissingBound=r.invalidHalfEmptyRange=r.nonArithmeticRange=r.functionFreeVariable=r.methodRequiresList=r.nonListParameterizedReducer=r.nonListDoubleReducer=r.optimizationError=r.invalidRegressionParameter=r.invalidDependentFirstTableColumn=r.invalidFirstTableColumn=r.invalidTableEntry=r.invalidTableHeader=r.distributionAsFunction=r.variableAsFunction=r.equationRequired=r.complicatedDoubleInequality=r.mismatchedDoubleInequality=r.invalidDoubleInequalityVariables=r.complicatedPolarImplicit=r.inequalitiesDisabled=r.implicitsDisabled=r.singleVariableImplicitEquationsDisabled=r.invalidImplicitVariables=r.invalidInequalityVariables=r.unplottablePolarFunction=r.invalidLHS=r.addArgumentsToDefinition=r.tooManyVariables=r.cdfMaxLessThanMin=r.cdfMaxInvalid=r.cdfMinInvalid=r.domainMaxLessThanMin=r.domainMaxInvalid=r.domainMinInvalid=r.sliderStepInvalid=r.sliderMaxLessThanMin=r.sliderMaxInvalid=r.sliderMinInvalid=r.sliderLimitReferencesExport=r.tickerMinStepNonNegativeNumber=r.selfReferentialFunction=r.cycle=r.shadowedIndex=r.multiplyDefinedByTables=r.multiplyDefined=r.cannotSubscript=r.cannotRedefine=r.parameterAlreadyDefined=r.functionNotDefined=r.blankExpression=r.colonMissingCondition=r.piecewisePartMissingCondition=r.piecewiseMissingCondition=r.inequalityChainTooLong=r.badLogExponent=r.badTrigExponent=r.emptyPipe=r.emptySquareBracket=r.emptyParen=r.emptyRadicalIndex=r.emptyRadical=r.primeWithoutParen=r.unexpectedPrime=r.superscriptWithPrime=r.unexpectedSubscript=r.invalidOperatorName=r.invalidSubscript=r.emptySuperscript=r.emptySubscript=r.fractionEmpty=r.fractionMissingDenominator=r.fractionMissingNumerator=r.unaryOperatorMissingRight=r.unaryOperatorMissingLeft=r.binaryOperatorMissingOperand=r.identifierAsFunction=r.adjacentNumbers=r.badImplicitCall=r.badTupleDimensions=r.malformedList=r.malformedPoint=r.zeroArgReducer=r.primedFunctionArity=r.wrongDoubleReducerArity=r.wrongParameterizedReducerArity=r.wrongArity=r.colorArity=r.randomFromBroadcastDistribution=r.randomArity=r.tdistWrongArity=r.cdfTooManyArguments=r.cdfRequiresArguments=r.pdfWrongArity=r.tooManyArguments=r.boxplotBreadthInvalid=r.boxplotOffsetInvalid=r.polygonTwoNumbersError=r.polygonPointArgsError=r.polygonListTypeError=r.maxListSize=r.deeplyNested=r.combineTypeError=r.heterogeneousList=r.eventHandlerTypeError=r.actionMergeFreeVariable=r.updateRuleLocalLHS=r.updateRuleFunctionLHS=r.updateRuleIllegalLHS=r.updateRuleUndefinedLHS=r.duplicateUpdateRules=r.updateRuleNonIdentifierLHS=r.updateRuleTypeError=r.regressionTypeError=r.tableEntryTypeError=r.tableHeaderTypeError=r.piecewiseBranchTypeError=r.piecewiseConditionTypeError=r.derivativeVariableTypeError=r.derivativeTypeError=r.integralArgumentTypeError=r.integralUpperBoundTypeError=r.integralLowerBoundTypeError=r.productArgumentTypeError=r.productInfiniteBoundError=r.productUpperBoundTypeError=r.productLowerBoundTypeError=r.sumArgumentTypeError=r.sumInfiniteBoundError=r.sumUpperBoundTypeError=r.sumLowerBoundTypeError=r.dotLHSTypeError=r.illegalDotCall=r.functionTypeError=r.orderedPairAccessTypeError=r.indexTypeError=r.pointTypeError=r.listTypeError=r.andTypeError=r.comparatorTypeError=r.negativeTypeError=r.exponentTypeError=r.divideTypeError=r.multiplyTypeError=r.subtractTypeError=r.addTypeError=r.unexpectedSymbol=r.unexpectedInequality=r.unrecognizedSymbol=r.parseError=void 0,r.parseError=function(){return e(o.s("shared-calculator-error-parse-error"))},r.unrecognizedSymbol=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-unrecognized-symbol",{symbol:r}))},r.unexpectedInequality=function(){return e(o.s("shared-calculator-error-unexpected-inequality"))},r.unexpectedSymbol=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-unexpected-symbol",{symbol:r}))},r.addTypeError=function(r){return e(o.s("shared-calculator-error-add-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.subtractTypeError=function(r){return e(o.s("shared-calculator-error-subtract-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.multiplyTypeError=function(r){return e(o.s("shared-calculator-error-multiply-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.divideTypeError=function(r){return e(o.s("shared-calculator-error-divide-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.exponentTypeError=function(r){return e(o.s("shared-calculator-error-exponent-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.negativeTypeError=function(r){return e(o.s("shared-calculator-error-negative-type-error",{symbol:r[0]})).allowExport()},r.comparatorTypeError=function(r){return e(o.s("shared-calculator-error-comparator-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.andTypeError=function(r){return e(o.s("shared-calculator-error-and-type-error",{symbol:"and",symbol1:r[0],symbol2:r[1]})).allowExport()},r.listTypeError=function(r){return e(o.s("shared-calculator-error-list-type-error",{symbol1:r[0]})).allowExport()},r.pointTypeError=function(r){return e(o.s("shared-calculator-error-point-type-error",{symbol1:r,symbol2:t.prettyPrint(t.Point)})).allowExport()},r.indexTypeError=function(r){return e(o.s("shared-calculator-error-index-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.orderedPairAccessTypeError=function(r){return e(o.s("shared-calculator-error-ordered-pair-access-type-error",{symbol:r[0]})).allowExport()},r.functionTypeError=function(r,t){switch(t.length){case 1:return e(o.s("shared-calculator-error-function-type-error-1",{fn:n.formatSymbol(r),arg:t[0]})).allowExport();case 2:return e(o.s("shared-calculator-error-function-type-error-2",{fn:n.formatSymbol(r),arg1:t[0],arg2:t[1]})).allowExport();default:return e(o.s("shared-calculator-error-function-type-error-many",{fn:n.formatSymbol(r)})).allowExport()}},r.illegalDotCall=function(r){return e(o.s("shared-calculator-error-illegal-dot-call",{symbol:n.formatSymbol(r)}))},r.dotLHSTypeError=function(r,t){return e(o.s("shared-calculator-error-dot-lhs-type-error",{symbol:n.formatSymbol(r),type:t})).allowExport()},r.sumLowerBoundTypeError=function(r){return e(o.s("shared-calculator-error-sum-lower-bound-type-error",{symbol:r[0]})).allowExport()},r.sumUpperBoundTypeError=function(r){return e(o.s("shared-calculator-error-sum-upper-bound-type-error",{symbol:r[0]})).allowExport()},r.sumInfiniteBoundError=function(){return e(o.s("shared-calculator-error-sum-infinite-bound-type-error"))},r.sumArgumentTypeError=function(r){return e(o.s("shared-calculator-error-sum-argument-type-error",{symbol:r[0]})).allowExport()},r.productLowerBoundTypeError=function(r){return e(o.s("shared-calculator-error-product-lower-bound-type-error",{symbol:r[0]})).allowExport()},r.productUpperBoundTypeError=function(r){return e(o.s("shared-calculator-error-product-upper-bound-type-error",{symbol:r[0]})).allowExport()},r.productInfiniteBoundError=function(){return e(o.s("shared-calculator-error-product-infinite-bound-type-error"))},r.productArgumentTypeError=function(r){return e(o.s("shared-calculator-error-product-argument-type-error",{symbol:r[0]})).allowExport()},r.integralLowerBoundTypeError=function(r){return e(o.s("shared-calculator-error-integral-lower-bound-type-error",{symbol:r[0]})).allowExport()},r.integralUpperBoundTypeError=function(r){return e(o.s("shared-calculator-error-integral-upper-bound-type-error",{symbol:r[0]})).allowExport()},r.integralArgumentTypeError=function(r){return e(o.s("shared-calculator-error-integral-argument-type-error",{symbol:r[0]})).allowExport()},r.derivativeTypeError=function(r){return e(o.s("shared-calculator-error-derivative-type-error",{symbol:r[0]})).allowExport()},r.derivativeVariableTypeError=function(r,t){return e(o.s("shared-calculator-error-derivative-variable-type-error",{symbol1:n.formatSymbol(r),symbol2:t[0]}))},r.piecewiseConditionTypeError=function(r){return e(o.s("shared-calculator-error-piecewise-condition-type-error",{symbol1:t.prettyPrint(t.Bool),symbol2:r[0]})).allowExport()},r.piecewiseBranchTypeError=function(r){return e(o.s("shared-calculator-error-piecewise-branch-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.tableHeaderTypeError=function(r){return e(o.s("shared-calculator-error-table-header-type-error",{symbol:r[0]}))},r.tableEntryTypeError=function(r){return e(o.s("shared-calculator-error-table-entry-type-error",{symbol:r[0]}))},r.regressionTypeError=function(r){return e(o.s("shared-calculator-error-regression-type-error",{symbol1:r[0],symbol2:r[1]}))},r.updateRuleTypeError=function(r){return e(o.s("shared-calculator-error-update-rule-type-error",{symbol:r}))},r.updateRuleNonIdentifierLHS=function(){return e(o.s("shared-calculator-error-update-rule-non-identifier-lhs",{arrow:"→",example:"a"}))},r.duplicateUpdateRules=function(r){return e(o.s("shared-calculator-error-duplicate-update-rules",{symbol:n.formatSymbol(r)}))},r.updateRuleUndefinedLHS=function(r){return e(o.s("shared-calculator-error-update-rule-undefined-lhs",{symbol:n.formatSymbol(r)}))},r.updateRuleIllegalLHS=function(r){return e(o.s("shared-calculator-error-update-rule-illegal-lhs",{symbol:n.formatSymbol(r)}))},r.updateRuleFunctionLHS=function(r){return e(o.s("shared-calculator-error-update-rule-function-lhs",{symbol:n.formatSymbol(r)}))},r.updateRuleLocalLHS=function(r){return e(o.s("shared-calculator-error-update-rule-local-lhs",{symbol:n.formatSymbol(r)}))},r.actionMergeFreeVariable=function(r){var t=r.filter(function(r){return"free"===r.scope}).map(function(r){return r.symbol});return e(o.s("shared-calculator-error-action-merge-free-variable",{symbol:n.formatSymbol(t[0]||"")})).setDependencies(t).allowExport()},r.eventHandlerTypeError=function(r){return e(o.s("shared-calculator-error-event-handler-type-error",{example:"a→a+1"}))},r.heterogeneousList=function(){return e(o.s("shared-calculator-error-heterogeneous-list")).allowExport()},r.combineTypeError=function(r){return e(o.s("shared-calculator-error-combine-type-error",{symbol1:r[0],symbol2:r[1]})).allowExport()},r.deeplyNested=function(){return e(o.s("shared-calculator-error-deeply-nested")).allowExport()},r.maxListSize=function(r){return e(o.s("shared-calculator-error-max-list-size",{maxListSize:r})).allowExport()},r.polygonListTypeError=function(r){return e(o.s("shared-calculator-error-polygon-list-type-error",{type:r[0]}))},r.polygonPointArgsError=function(){return e(o.s("shared-calculator-error-polygon-point-args-error"))},r.polygonTwoNumbersError=function(){return e(o.s("shared-calculator-error-two-numbers-error"))},r.boxplotOffsetInvalid=function(){return e(o.s("shared-calculator-error-boxplot-offset-invalid"))},r.boxplotBreadthInvalid=function(){return e(o.s("shared-calculator-error-boxplot-breadth-invalid"))},r.tooManyArguments=function(r,n){return e(o.s("shared-calculator-error-too-many-arguments",{symbol:r,max:n}))},r.pdfWrongArity=function(){var r=o.s("shared-calculator-error-pdf-wrong-arity-recommendation"),n=o.s("shared-calculator-error-pdf-wrong-arity",{recommendation:r});return e(n)},r.cdfRequiresArguments=function(){var r=o.s("shared-calculator-error-cdf-wrong-arity-recommendation"),n=o.s("shared-calculator-error-cdf-wrong-arity",{recommendation:r});return e(n)},r.cdfTooManyArguments=function(){var r=o.s("shared-calculator-error-cdf-too-many-arguments-recommendation"),n=o.s("shared-calculator-error-cdf-too-many-arguments",{recommendation:r});return e(n)},r.tdistWrongArity=function(){return e(o.s("shared-calculator-error-tdist-wrong-arity"))},r.randomArity=function(){return e(o.s("shared-calculator-error-random-arity"))},r.randomFromBroadcastDistribution=function(){return e(o.s("shared-calculator-error-random-from-broadcast-distribution"))},r.colorArity=function(r){var t="rgb"===r?[150,30,100]:[180,.5,.5],a=o.s("shared-calculator-error-color-arity-recommendation",{recommendation:n.formatSymbol(r)+"("+t.join(", ")+")"}),i=o.s("shared-calculator-error-color-arity",{symbol:r,recommendation:a});return e(i)},r.wrongArity=function(r,t,a,i){var l,s;if(r=n.formatSymbol(r),1===t)i||(i=r+"(x)"),s=o.s("shared-calculator-error-wrong-arity-supplement",{recommendation:i}),l=a>1?o.s("shared-calculator-error-wrong-arity-single-arg-too-many",{dependency:r,supplement:s}):o.s("shared-calculator-error-wrong-arity-single-arg-too-few",{dependency:r,supplement:s});else{var u=[];if(!i){for(var c=0;c<t;c++)u[c]=c+1;i=n.formatSymbol(r)+"("+u.join(", ")+")"}s=o.s("shared-calculator-error-wrong-arity-supplement",{recommendation:i}),l=o.s("shared-calculator-error-wrong-arity-many-arg",{dependency:r,assignment_arity:t,supplement:s})}return e(l)},r.wrongParameterizedReducerArity=function(r){return e(o.s("shared-calculator-error-wrong-two-arg-arity",{symbol:n.formatSymbol(r),recommendation:n.formatSymbol(r)+"([1,2,3], 1)"}))},r.wrongDoubleReducerArity=function(r){return e(o.s("shared-calculator-error-wrong-two-arg-arity",{symbol:n.formatSymbol(r),recommendation:n.formatSymbol(r)+"([1,2,3], [3,2,1])"}))},r.primedFunctionArity=function(){return e(o.s("shared-calculator-error-primed-function-arity"))},r.zeroArgReducer=function(r){return e(o.s("shared-calculator-error-zero-arg-reducer",{symbol:n.formatSymbol(r)}))},r.malformedPoint=function(){return e(o.s("shared-calculator-error-malformed-point"))},r.malformedList=function(){return e(o.s("shared-calculator-error-malformed-list"))},r.badTupleDimensions=function(r){return e(o.s("shared-calculator-error-bad-tuple-dimensions",{symbol:r}))},r.badImplicitCall=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-bad-implicit-call",{symbol:r}))},r.adjacentNumbers=function(r,n){return e(o.s("shared-calculator-error-adjacent-numbers",{left:r,right:n}))},r.identifierAsFunction=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-identifier-as-function",{symbol:r}))},r.binaryOperatorMissingOperand=function(r){return"%"===(r=n.formatSymbol(r))&&(r="% of"),e(o.s("shared-calculator-error-binary-operator-missing-operand",{symbol:r}))},r.unaryOperatorMissingLeft=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-unary-operator-missing-left",{symbol:r}))},r.unaryOperatorMissingRight=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-unary-operator-missing-right",{symbol:r}))},r.fractionMissingNumerator=function(){return e(o.s("shared-calculator-error-fraction-missing-numerator"))},r.fractionMissingDenominator=function(){return e(o.s("shared-calculator-error-fraction-missing-denominator"))},r.fractionEmpty=function(){return e(o.s("shared-calculator-error-fraction-empty"))},r.emptySubscript=function(){return e(o.s("shared-calculator-error-empty-subscript"))},r.emptySuperscript=function(){return e(o.s("shared-calculator-error-empty-superscript"))},r.invalidSubscript=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-invalid-subscript",{symbol:r}))},r.invalidOperatorName=function(){return e(o.s("shared-calculator-error-invalid-operator-name"))},r.unexpectedSubscript=function(){return e(o.s("shared-calculator-error-unexpected-subscript"))},r.superscriptWithPrime=function(){return e(o.s("shared-calculator-error-superscript-with-prime"))},r.unexpectedPrime=function(){return e(o.s("shared-calculator-error-unexpected-prime"))},r.primeWithoutParen=function(){return e(o.s("shared-calculator-error-prime-without-paren"))},r.emptyRadical=function(){return e(o.s("shared-calculator-error-empty-radical"))},r.emptyRadicalIndex=function(){return e(o.s("shared-calculator-error-empty-radical-index"))},r.emptyParen=function(){return e(o.s("shared-calculator-error-empty-paren"))},r.emptySquareBracket=function(){return e(o.s("shared-calculator-error-empty-square-bracket"))},r.emptyPipe=function(){return e(o.s("shared-calculator-error-empty-pipe"))},r.badTrigExponent=function(r){var n=r+"^2",t=r+"^-1";return e(o.s("shared-calculator-error-bad-trig-exponent",{form1:n,form2:t}))},r.badLogExponent=function(r){var n=r+"^2";return e(o.s("shared-calculator-error-bad-log-exponent",{form:n}))},r.inequalityChainTooLong=function(){return e(o.s("shared-calculator-error-inequality-chain-too-long"))},r.piecewiseMissingCondition=function(){return e(o.s("shared-calculator-error-piecewise-missing-condition"))},r.piecewisePartMissingCondition=function(){return e(o.s("shared-calculator-error-piecewise-part-missing-condition"))},r.colonMissingCondition=function(){return e(o.s("shared-calculator-error-colon-missing-condition"))},r.blankExpression=function(){return e(o.s("shared-calculator-error-blank-expression"))},r.functionNotDefined=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-function-not-defined",{dependency:r}))},r.parameterAlreadyDefined=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-parameter-already-defined",{dependency:r}))},r.cannotRedefine=function(r,t){return r=n.formatSymbol(r),e(void 0===t?o.s("shared-calculator-error-cannot-redefine",{symbol:r}):o.s("shared-calculator-error-cannot-redefine-root",{symbol:r,symbolRoot:t}))},r.cannotSubscript=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-cannot-subscript",{symbol:r}))},r.multiplyDefined=a,r.multiplyDefinedByTables=function(r){var e=a(r);return e.isMultiplyDefinedByTables=!0,e},r.shadowedIndex=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-shadowed-index",{symbol:r}))},r.cycle=function(r){var t=(r=r.map(n.formatSymbol)).pop()||"";return e(o.s("shared-calculator-error-dependency-cycle",{symbols:r.join("\', \'"),lastSymbol:t}))},r.selfReferentialFunction=function(r){return e(o.s("shared-calculator-error-self-referential-function",{symbol:n.formatSymbol(r)}))},r.tickerMinStepNonNegativeNumber=function(){return e(o.s("shared-calculator-error-ticker-min-step-nonnegative"))},r.sliderLimitReferencesExport=function(r){return e(o.s("shared-calculator-error-slider-limit-references-export",{symbol:n.formatSymbol(r)}))},r.sliderMinInvalid=function(){return e(o.s("shared-calculator-error-slider-min-invalid"))},r.sliderMaxInvalid=function(){return e(o.s("shared-calculator-error-slider-max-invalid"))},r.sliderMaxLessThanMin=function(){return e(o.s("shared-calculator-error-slider-max-less-than-min"))},r.sliderStepInvalid=function(){return e(o.s("shared-calculator-error-slider-step-invalid"))},r.domainMinInvalid=function(){return e(o.s("shared-calculator-error-domain-min-invalid"))},r.domainMaxInvalid=function(){return e(o.s("shared-calculator-error-domain-max-invalid"))},r.domainMaxLessThanMin=function(){return e(o.s("shared-calculator-error-domain-max-less-than-min"))},r.cdfMinInvalid=function(){return e(o.s("shared-calculator-error-cdf-min-invalid"))},r.cdfMaxInvalid=function(){return e(o.s("shared-calculator-error-cdf-max-invalid"))},r.cdfMaxLessThanMin=function(){return e(o.s("shared-calculator-error-cdf-max-less-than-min"))},r.tooManyVariables=function(r){if(0===(r=r.map(n.formatSymbol)).length)return e(o.s("shared-calculator-error-too-many-variables-no-symbols"));var t=r.pop()||"";return r.length>0?e(o.s("shared-calculator-error-too-many-variables-many-symbols",{variables:r.join("\', \'"),lastVariable:t})):e(o.s("shared-calculator-error-too-many-variables-one-symbol",{variable:t}))},r.addArgumentsToDefinition=function(r,t,a){r=r.map(n.formatSymbol);var i=(t=n.formatSymbol(t))+"("+(a=a.map(n.formatSymbol)).join(",")+","+r.join(",")+")",l=r.pop()||"",s={symbols:r.join("\', \'"),lastSymbol:l,newSignature:i};return r.length?e(o.s("shared-calculator-error-add-arguments-to-definition-many",s)):e(o.s("shared-calculator-error-add-arguments-to-definition-one",s))},r.invalidLHS=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-invalid-lhs",{symbol:r}))},r.unplottablePolarFunction=function(){return e(o.s("shared-calculator-error-unplottable-polar-function"))},r.invalidInequalityVariables=function(){return e(o.s("shared-calculator-error-invalid-inequality-variables"))},r.invalidImplicitVariables=function(){return e(o.s("shared-calculator-error-invalid-implicit-variables"))},r.singleVariableImplicitEquationsDisabled=function(){return e(o.s("shared-calculator-error-single-variable-implicit-equations-disabled"))},r.implicitsDisabled=function(){return e(o.s("shared-calculator-error-implicits-disabled"))},r.inequalitiesDisabled=function(){return e(o.s("shared-calculator-error-inequalities-disabled"))},r.complicatedPolarImplicit=function(){return e(o.s("shared-calculator-error-complicated-polar-implicit"))},r.invalidDoubleInequalityVariables=function(){return e(o.s("shared-calculator-error-invalid-double-inequality-variables"))},r.mismatchedDoubleInequality=function(){return e(o.s("shared-calculator-error-mismatched-double-inequality",{example:"1 < y < 2"}))},r.complicatedDoubleInequality=function(){return e(o.s("shared-calculator-error-complicated-double-inequality"))},r.equationRequired=function(r){return r?(r=n.formatSymbol(r),e(o.s("shared-calculator-error-equation-required-symbol",{lhs:r+"="}))):e(o.s("shared-calculator-error-equation-required"))},r.variableAsFunction=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-variable-as-function",{dependency:r}))},r.distributionAsFunction=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-distribution-as-function",{symbol:r}))},r.invalidTableHeader=function(r){return e(o.s("shared-calculator-error-invalid-table-header",{supplement:r}))},r.invalidTableEntry=function(r){return e(o.s("shared-calculator-error-invalid-table-entry",{supplement:r}))},r.invalidFirstTableColumn=function(){return e(o.s("shared-calculator-error-invalid-first-table-column",{most:"\'y\', \'r\',",last:"\'θ\'"}))},r.invalidDependentFirstTableColumn=function(){return e(o.s("shared-calculator-error-invalid-dependent-first-table-column"))},r.invalidRegressionParameter=function(r){return e(o.s("shared-calculator-error-invalid-regression-parameter",{symbol:n.formatSymbol(r)}))},r.optimizationError=function(){return e(o.s("shared-calculator-error-optimization-error"))},r.nonListDoubleReducer=function(r){return e(o.s("shared-calculator-error-non-list-double-reducer",{symbol:n.formatSymbol(r),recommendation:n.formatSymbol(r)+"([1,2,3], [3,2,1])"})).allowExport()},r.nonListParameterizedReducer=function(r){return e(o.s("shared-calculator-error-non-list-parameterized-reducer",{symbol:n.formatSymbol(r),recommendation:n.formatSymbol(r)+"([1,2,3], 1)"})).allowExport()},r.methodRequiresList=function(r){return e(o.s("shared-calculator-error-method-requires-list",{symbol:n.formatSymbol(r),recommendation:n.formatSymbol(r)+"([1,2,3])"})).allowExport()},r.functionFreeVariable=function(r,n){return e(o.s("shared-calculator-error-variable-function-free-variable",{functionSymbol:r,variableSymbol:n})).allowExport()},r.nonArithmeticRange=function(){return e(o.s("shared-calculator-error-non-arithmetic-range")).allowExport()},r.invalidHalfEmptyRange=function(){return e(o.s("shared-calculator-error-invalid-half-empty-range"))},r.sumMissingBound=function(){return e(o.s("shared-calculator-error-sum-missing-bound"))},r.productMissingBound=function(){return e(o.s("shared-calculator-error-product-missing-bound"))},r.incorrectSumLowerBound=function(){return e(o.s("shared-calculator-error-incorrect-sum-lower-bound"))},r.incorrectProductLowerBound=function(){return e(o.s("shared-calculator-error-incorrect-product-lower-bound"))},r.badSumBoundDependency=function(r){return e(o.s("shared-calculator-error-bad-sum-bound-dependency",{symbol:n.formatSymbol(r)}))},r.badProductBoundDependency=function(r){return e(o.s("shared-calculator-error-bad-product-bound-dependency",{symbol:n.formatSymbol(r)}))},r.integralMissingBound=function(){return e(o.s("shared-calculator-error-integral-missing-bound"))},r.integralMissingDifferential=function(){return e(o.s("shared-calculator-error-integral-missing-differential"))},r.differentialWithSuperscript=function(){return e(o.s("shared-calculator-error-differential-with-superscript"))},r.sumMissingBody=function(){return e(o.s("shared-calculator-error-sum-missing-body"))},r.productMissingBody=function(){return e(o.s("shared-calculator-error-product-missing-body"))},r.integralMissingBody=function(){return e(o.s("shared-calculator-error-integral-missing-body"))},r.derivativeMissingBody=function(){return e(o.s("shared-calculator-error-derivative-missing-body"))},r.mismatchedBraces=function(r,t){return r=n.formatSymbol(r),t=n.formatSymbol(t),e(o.s("shared-calculator-error-mismatched-braces",{symbol1:r,symbol2:t}))},r.shadowedIntegrationVariable=function(r){return e(o.s("shared-calculator-error-shadowed-integration-variable",{symbol:n.formatSymbol(r)}))},r.badIntegralBoundDependency=function(r){return e(o.s("shared-calculator-error-bad-integral-bound-dependency",{symbol:n.formatSymbol(r)}))},r.percentMissingOf=function(){return e(o.s("shared-calculator-error-percent-missing-of"))},r.illegalBinWidth=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-illegal-bin-width",{symbol:r}))},r.ttestListTooShort=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-ttest-list-too-short",{symbol:r}))},r.badSampleSize=function(){return e(o.s("shared-calculator-error-bad-sample-size"))},r.variableSeed=function(r){return e(o.s("shared-calculator-error-variable-seed",{symbol:n.formatSymbol(r[0].symbol)})).setDependencies(r.filter(function(r){return"free"===r.scope}).map(function(r){return r.symbol})).allowExport()},r.badSymbolContext=function(r){return e(o.s("shared-calculator-error-bad-symbol-context",{symbol:n.formatSymbol(r)}))},r.ansUndefined=function(){return e(o.s("shared-calculator-error-ans-undefined"))},r.variablesUnsupported=function(r){return e(o.s("shared-calculator-error-variables-unsupported",{variable:n.formatSymbol(r)}))},r.functionUnsupported=function(r){return e(o.s("shared-calculator-error-function-unsupported",{symbol:n.formatSymbol(r)}))},r.logbaseUnsupported=function(){return e(o.s("shared-calculator-error-logbase-unsupported"))},r.constantUnsupported=function(r){return e(o.s("shared-calculator-error-constant-unsupported",{symbol:n.formatSymbol(r)}))},r.assignmentsUnsupported=function(){return e(o.s("shared-calculator-error-assignments-unsupported"))},r.functionDefinitionsUnsupported=function(){return e(o.s("shared-calculator-error-function-definition-unsupported"))},r.equationsUnsupported=function(){return e(o.s("shared-calculator-error-equations-unsupported"))},r.inequalitiesUnsupported=function(){return e(o.s("shared-calculator-error-inequalities-unsupported"))},r.regressionsUnsupported=function(){return e(o.s("shared-calculator-error-regressions-unsupported"))},r.pointsUnsupported=function(){return e(o.s("shared-calculator-error-points-unsupported"))},r.featureUnavailable=function(){return e(o.s("shared-calculator-error-feature-unavailable"))},r.fractionsUnavailable=function(){return e(o.s("basic-calculator-error-fractions-unavailable"))},r.nonSquareDeterminant=function(){return e(o.s("shared-calculator-error-non-square-determinant"))},r.nonSquareTrace=function(){return e(o.s("shared-calculator-error-non-square-trace"))},r.nonSquareInverse=function(){return e(o.s("shared-calculator-error-non-square-inverse"))},r.singularInverse=function(){return e(o.s("shared-calculator-error-non-singular-inverse"))},r.clickableObjectAssignmentNotDefined=function(r){return e(o.s("shared-calculator-error-clickable-object-assignment-not-defined",{symbol:r}))},r.clickableObjectAlreadyAssigned=function(r){return e(o.s("shared-calculator-error-multiply-defined",{dependency:r}))},r.clickableObjectAssignmentNotIdentifier=function(){return e(o.s("shared-calculator-error-clickable-object-assignment-not-identifier"))},r.clickableObjectInvalidExpression=function(){return e(o.s("shared-calculator-error-clickable-object-invalid-expression"))},r.matrixAssignment=function(){return e(o.s("shared-calculator-error-matrix-assignment"))},r.matrixAddDimensions=function(){return e(o.s("shared-calculator-error-matrix-add-dimensions"))},r.matrixSubtractDimensions=function(){return e(o.s("shared-calculator-error-matrix-subtract-dimensions"))},r.matrixMultiplyDimensions=function(){return e(o.s("shared-calculator-error-matrix-multiply-dimensions"))},r.matrixFractionalPower=function(){return e(o.s("shared-calculator-error-matrix-fractional-power"))},r.matrixPowerDimensions=function(){return e(o.s("shared-calculator-error-matrix-power-dimensions"))},r.matrixElementTypeError=function(r){return e(o.s("shared-calculator-error-matrix-element-type-error",{arg:r[0]}))},r.matrixInvalidVariable=function(r){return e(o.s("shared-calculator-error-matrix-invalid-variable",{symbol:n.formatSymbol(r)}))},r.listComprehensionInputListTypeError=function(r,n){return e(o.s("shared-calculator-error-list-comprehension-input-type-error",{identifier:r,actual:n}))},r.listComprehensionIncorrectInput=function(){return e(o.s("shared-calculator-error-incorrect-list-comprehension-input"))},r.unexpectedForKeyword=function(){return e(o.s("shared-calculator-error-unexpected-for-keyword"))},r.shadowedListComprehensionInput=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-shadowed-list-comprehension-input",{symbol:r}))},r.badListComprehensionInputDependency=function(r){return r=n.formatSymbol(r),e(o.s("shared-calculator-error-bad-list-comprehension-input-dependency",{symbol:r}))},r.variableLengthTopLevelList=function(r){var t=r.filter(function(r){return"free"===r.scope}).map(function(r){return r.symbol});return e(o.s("shared-calculator-error-variable-length-top-level-list",{symbol:n.formatSymbol(t[0]||"")})).setDependencies(t).allowExport()},r.variableLengthDistributionList=function(r){return e(o.s("shared-calculator-error-variable-length-distribution-list",{symbol:r[0].symbol})).setDependencies(r.filter(function(r){return"free"===r.scope}).map(function(r){return r.symbol}))},r.variableLengthSumBodyDependsOnIndex=function(r){return e(o.s("shared-calculator-error-variable-length-sum-body-depends-on-index",{symbol:r}))},r.variableLengthProductBodyDependsOnIndex=function(r){return e(o.s("shared-calculator-error-variable-length-product-body-depends-on-index",{symbol:r}))}});\ndefine(\'core/math/parsenode/expression\',[\'require\',\'pjs\',\'./base\',\'core/math/errormsg\'],function(require){"use strict";var e=require("pjs"),r=require("./base"),t=require("core/math/errormsg");return e(r,function(e,r){e.init=function(e){if(!Array.isArray(e))throw new TypeError("Argument to expression constructor must be an Array.");r.init.call(this),this.args=e,this.registerDependencies(),this.computeTreeSize()},e.shouldExportAns=function(){return!0},e.registerDependencies=function(){for(var e=0;e<this.args.length;e++)this.mergeDependencies(this.args[e])},e.computeTreeSize=function(){for(var e=0,r=0;r<this.args.length;r++)this.args[r].treeSize&&(e+=this.args[r].treeSize);if(this.treeSize=e+1,e>1e4)throw t.deeplyNested()},e.copyWithArgs=function(e){return new this.constructor(e)}})});\ndefine(\'core/math/parsenode/expressionTypes\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";var n=require("pjs"),t=require("./expression"),e={Add:n(t,{}),Subtract:n(t,{}),Multiply:n(t,{}),Divide:n(t,{}),Exponent:n(t,{}),Negative:n(t,{}),And:n(t,{isInequality:function(){return this.args[0].isInequality()&&this.args[1].isInequality()}}),PercentOf:n(t,{})};return e.RawExponent=n(e.Exponent,{}),e});\ndefine(\'core/math/builtin-common\',["require","exports","./tofraction","core/math/distance"],function(require,r,t,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pow=r.gcd=void 0,r.gcd=function(r,t){if((r=Math.round(r))<0&&(r=-r),(t=Math.round(t))<0&&(t=-t),t>r){var e=t;t=r,r=e}if(0===t)return r;for(var n=r%t;n>0;)n=(r=t)%(t=n);return t},r.pow=function(r,n){if(!isFinite(r)&&0===n)return NaN;if(r>=0||n===Math.floor(n))return Math.pow(r,n);var o=t.default(n,100);return e.approx(o.n/o.d,n,2)&&o.d%2==1?(o.n%2==0?1:-1)*Math.pow(-r,n):NaN}});\ndefine(\'core/math/maybe-rational\',["require","exports","./builtin-common"],function(require,n,t){"use strict";function r(n,t){return{n:n,d:t}}function a(n){return"object"==typeof n&&"number"==typeof n.n&&"number"==typeof n.d}Object.defineProperty(n,"__esModule",{value:!0}),n.total=n.mod=n.nthroot=n.sqrt=n.pow=n.div=n.sub=n.mul=n.add=n.reciprocal=n.abs=n.neg=n.maybeRational=n.isNanFloat=n.asFloat=n.fromDecimalString=n.isRational=void 0,n.isRational=a;var o=Math.pow(2,53)-1;function e(n){return a(n)?n.n/n.d:+n}function u(n,a){if(!isFinite(n)||!isFinite(a)||0===a||Math.floor(n)!==n||Math.floor(a)!==a||Math.abs(n)>o||Math.abs(a)>o)return n/a;a<0&&(n=-n,a=-a);var e=t.gcd(n,a);return r(n/e,a/e)}function i(n){return a(n)?r(-n.n,n.d):-n}function d(n){return a(n)?0===n.n?n.d/n.n:r(n.n<0?-n.d:n.d,Math.abs(n.n)):1/n}function f(n,r){if(!a(n)||!a(r))return e(n)+e(r);var o=t.gcd(n.d,r.d);return u(n.n*(r.d/o)+r.n*(n.d/o),n.d/o*r.d)}function c(n,r){if(!a(n)||!a(r))return e(n)*e(r);var o=t.gcd(n.n,r.d),i=t.gcd(r.n,n.d);return u(n.n/o*(r.n/i),n.d/i*(r.d/o))}function s(n,t){return f(n,i(t))}function h(n,t){return a(n)&&a(t)?c(n,d(t)):e(n)/e(t)}function M(n,r){if(!a(n)||!a(r))return t.pow(e(n),e(r));var o=function(n,r){var o=n,f=r;if(r.n<0&&(f=i(r),o=d(n)),!a(o)||!a(f))return t.pow(e(n),e(r));if(n=o,1===(r=f).d)return u(Math.pow(n.n,r.n),Math.pow(n.d,r.n));var c=n.n<0;if(c&&r.d%2!=1)return NaN;var s=(c?-1:1)*Math.round(Math.pow(Math.abs(n.n),1/r.d)),h=Math.round(Math.pow(Math.abs(n.d),1/r.d));return Math.pow(s,r.d)!==n.n||Math.pow(h,r.d)!==n.d?t.pow(e(n),e(r)):u(Math.pow(s,r.n),Math.pow(h,r.n))}(n,r);return a(o)?o:t.pow(e(n),e(r))}n.fromDecimalString=function(n){var t=n.match(/^(-)?(\\d*)?(?:\\.(\\d*))?$/);if(!t)return NaN;var r=t[1],a=t[2],e=t[3];if(!a&&!e)return NaN;var i=!!r;if(e){var d,f=e.replace(/0+$/,""),c=f.length,s=Math.pow(10,c);return(d=parseInt(a||"0",10)*s+parseInt(f||"0",10))>o||s>o?parseFloat(n):u(i?-d:d,s)}return(d=parseInt(a,10))>o?parseFloat(n):u(i?-d:d,1)},n.asFloat=e,n.isNanFloat=function(n){return!a(n)&&isNaN(n)},n.maybeRational=u,n.neg=i,n.abs=function(n){return a(n)?r(Math.abs(n.n),Math.abs(n.d)):Math.abs(n)},n.reciprocal=d,n.add=f,n.mul=c,n.sub=s,n.div=h,n.pow=M,n.sqrt=function(n){if(!a(n))return Math.sqrt(n);var t=Math.round(Math.sqrt(n.n)),r=Math.round(Math.sqrt(n.d));return t*t!==n.n||r*r!==n.d?Math.sqrt(e(n)):u(t,r)},n.nthroot=function(n,t){return M(n,d(t))},n.mod=function(n,t){if(!a(n)||!a(t)){var o=e(n),u=e(t);return o-u*Math.floor(o/u)}return s(n,c(t,r(Math.floor(e(h(n,t))),1)))},n.total=function(n){for(var t=r(0,1),a=0,o=n;a<o.length;a++){t=f(t,o[a])}return t}});\ndefine(\'core/math/parsenode/constant\',[\'require\',\'pjs\',\'./expression\',\'core/math/maybe-rational\'],function(require){"use strict";var t=require("pjs"),n=require("./expression"),a=require("core/math/maybe-rational");return t(n,function(t,n){t.init=function(t){"number"==typeof t&&(t=a.maybeRational(t,1)),this._constantValue=t,n.init.call(this,[])},t.isConstant=!0,t.asValue=function(){return"boolean"==typeof this._constantValue?this._constantValue:a.asFloat(this._constantValue)},t.asCompilerValue=function(){return this._constantValue},t.scalarExprString=function(){return this.asValue()>0?String(this.asValue()):"("+String(this.asValue())+")"},t.getEvaluationInfo=function(){return[{val:this.asValue()}]},t.isNaN=function(){return"number"==typeof this.asValue()&&isNaN(this.asValue())}})});\ndefine(\'core/math/parsenode/mixednumber\',[\'require\',\'pjs\',\'./constant\'],function(require){"use strict";return require("pjs")(require("./constant"),function(n,i){n.init=function(n){i.init.call(this,n)},n.is_mixed_number=!0})});\ndefine(\'core/math/parsenode/identifier\',[\'require\',\'pjs\',\'./expression\',\'core/lib/label\',\'core/math/parser/input-span\'],function(require){"use strict";var t=require("pjs"),n=require("./expression"),i=require("core/lib/label"),e=require("core/math/parser/input-span");return t(n,function(t,n,s){t.init=function(t){n.init.call(this,[]),this._symbol=i.latexToIdentifier(t),this._errorSymbol=this._symbol,this.addDependency(this._symbol)},t.setInputSpan=function(t){n.setInputSpan.call(this,t),this._errorSymbol=i.latexToIdentifier(this.getInputString())},t.getInputSpan=function(){return void 0===this._inputSpan?new e.Span(this._symbol,0,this._symbol.length):this._inputSpan}})});\ndefine(\'core/math/parsenode/ans\',[\'require\',\'pjs\',\'./identifier\'],function(require){"use strict";return require("pjs")(require("./identifier"),function(i,n,e){})});\ndefine(\'core/math/parsenode/list\',[\'require\',\'pjs\',\'./expression\',\'core/math/types\'],function(require){"use strict";var t=require("pjs"),i=require("./expression"),n=require("core/math/types");return t(i,function(t,i,s){t.init=function(t){i.init.call(this,t),this.length=t.length},t.isList=!0,t.asValue=function(){for(var t=[],i=0;i<this.args.length;i++)t.push(this.args[i].asValue());return t},t.asCompilerValue=function(){for(var t=[],i=0;i<this.args.length;i++)t.push(this.args[i].asCompilerValue());return t},t.getEvaluationInfo=function(){if(this.args.every(function(t){return t.isConstant}))return[{val:this.args.map(function(t){return t.asValue()})}]},s.eachArgs=function(t,i){var s=function(t){for(var i=1/0,n=0;n<t.length;n++)(t[n].isList||t[n].isBroadcast)&&(i=Math.min(i,t[n].length));return i}(t);if(isFinite(s))for(var e=0;e<s;e++){for(var r=[],a=0;a<t.length;a++)r.push(t[a].isList||n.isList(t[a].valueType)?t[a].elementAt(e):t[a]);i(r,e)}else i(t)},s.wrap=function(t){return t.isList||n.isList(t.valueType)?t:s([t])}})});\ndefine(\'core/math/parsenode/range\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(n,i,t){n.init=function(n){i.init.call(this,n),this.beginning=n[0],this.end=n[1]},n.isHalfEmpty=function(){return this.end&&this.end.args&&0===this.end.args.length}})});\ndefine(\'core/math/parsenode/listaccess\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i){n.init.call(this,i),this.list=i[0],this.index=i[1]}})});\ndefine(\'core/math/parsenode/dotaccess\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),{})});\ndefine(\'core/math/parsenode/parenseq\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),{})});\ndefine(\'core/math/parsenode/movablepoint\',[\'require\',\'pjs\',\'./parenseq\',\'core/math/types\'],function(require){"use strict";var t=require("pjs"),e=require("./parenseq"),a=require("core/math/types");return t(e,function(t,e){t.asValue=function(){return[+this.args[0].asValue(),+this.args[1].asValue()]},t.asCompilerValue=function(){return[this.args[0].asCompilerValue(),this.args[1].asCompilerValue()]},t.init=function(t,i,s){e.init.call(this,t),this.moveStrategy=i,this.defaultDragMode=s,this.valueType=a.Point},t.isMovablePoint=!0})});\ndefine(\'core/math/parsenode/orderedpairaccess\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i){n.init.call(this,i),this.point=i[0],this.index=i[1]}})});\ndefine(\'core/math/parsenode/bareseq\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),{})});\ndefine(\'core/math/comparators\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=e.table=void 0,e.table={"<":{inclusive:!1,direction:-1},"!=":{inclusive:!1,direction:0},">":{inclusive:!1,direction:1},"<=":{inclusive:!0,direction:-1},"=":{inclusive:!0,direction:0},">=":{inclusive:!0,direction:1}},e.get=function(e,i){switch(i){case-1:return e?"<=":"<";case 0:return e?"=":"!=";case 1:return e?">=":">";default:throw"Programming error.  Comparators must have a direction of -1, 0, or 1"}}});\ndefine(\'core/math/parsenode/basecomparator\',[\'require\',\'pjs\',\'./expression\',\'./expressionTypes\',\'core/math/comparators\'],function(require){"use strict";var t=require("pjs"),n=require("./expression"),i=require("./expressionTypes").Subtract,r=require("core/math/comparators").table;return t(n,function(n,e,o){o.create=function(n){return t(o,function(t,i){t.operator=n,t.isInequality=function(){return 0!==r[n].direction}})},n.init=function(t){e.init.call(this,t),this._difference=-1===r[this.operator].direction?i([t[1],t[0]]):i([t[0],t[1]])},n.asComparator=function(){return this}})});\ndefine(\'core/math/parsenode/comparator\',[\'require\',\'core/math/parsenode/basecomparator\'],function(require){"use strict";var e=require("core/math/parsenode/basecomparator");return{"<":e.create("<"),">":e.create(">"),"<=":e.create("<="),">=":e.create(">="),"=":e.create("=")}});\ndefine(\'core/math/parsenode/doubleinequality\',[\'require\',\'pjs\',\'./base\',\'core/math/comparators\',\'./comparator\'],function(require){"use strict";var i=require("pjs"),e=require("./base"),s=require("core/math/comparators"),t=require("./comparator");return i(e,function(i,e){i.init=function(i){e.init.call(this),this.args=i,this._symbol=i[2]._symbol,this._operators=[i[1],i[3]],this._expressions=[i[0],i[4]];var n=s.get(s.table[i[1]].inclusive&&s.table[i[3]].inclusive,s.table[i[1]].direction);this._indicator=t[n]([i[0],i[4]]),this.addDependency(this._symbol),this.mergeDependencies(this._expressions[0],this._expressions[1])},i.isInequality=function(){return!0},i.isShadeBetween=function(){return!0}})});\ndefine(\'core/math/parsenode/repeatedoperator\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(e,i){e.init=function(e){this._index=e[0],i.init.call(this,e)},e.registerDependencies=function(){this.addDummyDependency(this._index._symbol),this.mergeDependencies(this.args[1]),this.mergeDependencies(this.args[2]),this.mergeDependenciesInScope([this._index._symbol],this.args[3])}})});\ndefine(\'core/math/parsenode/sum\',[\'require\',\'pjs\',\'./repeatedoperator\'],function(require){"use strict";return require("pjs")(require("./repeatedoperator"),function(t,n){t.in_place_operator="+=",t.starting_value=0,t.evaluateConstant=function(t){var n=1+Math.round(t[1])-Math.round(t[0]);return n<=0?this.starting_value:n*t[2]},t.update=function(t,n){return t+n}})});\ndefine(\'core/math/parsenode/product\',[\'require\',\'pjs\',\'./repeatedoperator\'],function(require){"use strict";return require("pjs")(require("./repeatedoperator"),function(t,n){t.in_place_operator="*=",t.starting_value=1,t.evaluateConstant=function(t){var n=1+Math.round(t[1])-Math.round(t[0]);return n<=0?this.starting_value:Math.pow(t[2],n)},t.update=function(t,n){return t*n}})});\ndefine(\'core/math/parsenode/integral\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(e,i){e.init=function(e){this._differential=e[0],i.init.call(this,e)},e.registerDependencies=function(){this.mergeDependencies(this.args[1]),this.mergeDependencies(this.args[2]),this.mergeDependenciesInScope([this._differential._symbol],this.args[3])}})});\ndefine(\'core/math/parsenode/assignmentexpression\',[\'require\',\'./expression\',\'pjs\'],function(require){"use strict";var i=require("./expression");return require("pjs")(i,function(i,n){i.init=function(i){n.init.call(this,i),this._symbol=i[0]._symbol}})});\ndefine(\'core/math/parsenode/listcomprehension\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,e){i.init=function(i,s,n){this._index=i,this._body=s,this._inputLists=n,e.init.call(this,[i,s].concat(n))},i.registerDependencies=function(){for(var i=[],e=0;e<this._inputLists.length;e++){var s=this._inputLists[e],n=s._symbol;this.addDummyDependency(n),i.push(n),this.mergeDependencies(s.args[1])}this.addDummyDependency(this._index._symbol),i.push(this._index._symbol),this.mergeDependenciesInScope(i,this._body)}})});\ndefine(\'core/math/ir/opcodes\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Action=e.BroadcastResult=e.BlockVar=e.ExtendSeed=e.Distribution=e.InboundsListAccess=e.DeferredListAccess=e.ListAccess=e.List=e.NativeFunction=e.Piecewise=e.And=e.GreaterEqual=e.LessEqual=e.Greater=e.Less=e.Equal=e.EndBroadcast=e.BeginBroadcast=e.EndIntegral=e.BeginIntegral=e.EndLoop=e.BeginLoop=e.OrderedPairAccess=e.OrderedPair=e.Negative=e.RawExponent=e.Exponent=e.Divide=e.Multiply=e.Subtract=e.Add=e.MAX_LEAF_OPCODE=e.SymbolicVar=e.LoadArg=e.Constant=e.Noop=void 0,e.Noop=0,e.Constant=1,e.LoadArg=2,e.SymbolicVar=3,e.MAX_LEAF_OPCODE=3,e.Add=8,e.Subtract=9,e.Multiply=10,e.Divide=11,e.Exponent=12,e.RawExponent=13,e.Negative=14,e.OrderedPair=15,e.OrderedPairAccess=16,e.BeginLoop=17,e.EndLoop=18,e.BeginIntegral=19,e.EndIntegral=20,e.BeginBroadcast=21,e.EndBroadcast=22,e.Equal=23,e.Less=24,e.Greater=25,e.LessEqual=26,e.GreaterEqual=27,e.And=30,e.Piecewise=31,e.NativeFunction=37,e.List=38,e.ListAccess=39,e.DeferredListAccess=40,e.InboundsListAccess=41,e.Distribution=42,e.ExtendSeed=44,e.BlockVar=47,e.BroadcastResult=48,e.Action=49});\ndefine(\'core/math/ir/builtin-table\',["require","exports","core/math/types","./opcodes","core/math/maybe-rational"],function(require,e,t,r,n){"use strict";function u(e,r,n){var u,a,l,i,m,o,s=null!==(u=null==n?void 0:n.tag)&&void 0!==u?u:"default",d=null!==(a=null==n?void 0:n.argumentTypes)&&void 0!==a?a:function(e){switch(e){case"default":case"trig":case"inverseTrig":case"never-broadcast":return[t.Number];case"reducer":return[t.ListOfNumber];case"doubleReducer":return[t.ListOfNumber,t.ListOfNumber];case"parameterizedReducer":return[t.ListOfNumber,t.Number];case"color":return[t.Number,t.Number,t.Number]}}(s),g=(null==n?void 0:n.defaultArguments)?n.defaultArguments.length:0,c=null!==(l=null==n?void 0:n.minArity)&&void 0!==l?l:d.length-g,p=null!==(i=null==n?void 0:n.maxArity)&&void 0!==i?i:function(e,t,r){return"reducer"===e?1/0:t+r}(s,c,g),b=null!==(m=null==n?void 0:n.allowDotCall)&&void 0!==m?m:function(e){switch(e){case"default":case"trig":case"inverseTrig":case"doubleReducer":case"color":case"never-broadcast":return!1;case"reducer":case"parameterizedReducer":return!0}}(s);return{module:e,symbol:r,argumentTypes:d,defaultArguments:null==n?void 0:n.defaultArguments,returnType:null!==(o=null==n?void 0:n.returnType)&&void 0!==o?o:t.Number,tag:s,minArity:c,maxArity:p,allowDotCall:b}}function a(e){if(!n.isRational(e))throw new Error("Programming Error: numeric constants should be rational");return{type:r.Constant,valueType:t.Number,value:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.CompilerFunctionTable=e.BuiltInTable=void 0;var l=a(n.maybeRational(0,1)),i=a(n.maybeRational(1,1)),m=a(n.maybeRational(1,2));function o(e,t){var r,n,u,a,l=null==t?void 0:t.defaultArguments,i=null!==(r=null==t?void 0:t.maxArity)&&void 0!==r?r:function(e,t){return t?t.length+e:e}(e,l),m=null!==(n=null==t?void 0:t.fallthroughUnlessDistribution)&&void 0!==n&&n,o=null!==(u=null==t?void 0:t.allowDotCall)&&void 0!==u&&u,s=null!==(a=null==t?void 0:t.isSeeded)&&void 0!==a&&a;return{minArity:e,maxArity:i,defaultArguments:l,fallthroughUnlessDistribution:m,minArityExampleArgs:null==t?void 0:t.minArityExampleArgs,maxArityExampleArgs:null==t?void 0:t.maxArityExampleArgs,dotMinArityExampleArgs:null==t?void 0:t.dotMinArityExampleArgs,dotMaxArityExampleArgs:null==t?void 0:t.dotMaxArityExampleArgs,allowDotCall:o,isSeeded:s}}function s(){return o(0,{maxArity:1/0})}e.BuiltInTable={sin:u("BuiltIn","sin",{tag:"trig"}),cos:u("BuiltIn","cos",{tag:"trig"}),tan:u("BuiltIn","tan",{tag:"trig"}),cot:u("BuiltIn","cot",{tag:"trig"}),sec:u("BuiltIn","sec",{tag:"trig"}),csc:u("BuiltIn","csc",{tag:"trig"}),arcsin:u("Math","asin",{tag:"inverseTrig"}),arccos:u("Math","acos",{tag:"inverseTrig"}),arctan:u("Math","atan2",{argumentTypes:[t.Number,t.Number],defaultArguments:[i],tag:"inverseTrig"}),arccot:u("BuiltIn","acot",{tag:"inverseTrig"}),arcsec:u("BuiltIn","asec",{tag:"inverseTrig"}),arccsc:u("BuiltIn","acsc",{tag:"inverseTrig"}),sinh:u("BuiltIn","sinh"),cosh:u("BuiltIn","cosh"),tanh:u("BuiltIn","tanh"),coth:u("BuiltIn","coth"),sech:u("BuiltIn","sech"),csch:u("BuiltIn","csch"),arcsinh:u("BuiltIn","asinh"),arccosh:u("BuiltIn","acosh"),arctanh:u("BuiltIn","atanh"),arccoth:u("BuiltIn","acoth"),arcsech:u("BuiltIn","asech"),arccsch:u("BuiltIn","acsch"),sqrt:u("Math","sqrt"),rtxsqpone:u("BuiltIn","sqrtxsqp1"),rtxsqmone:u("BuiltIn","sqrtxsqm1"),nthroot:u("BuiltIn","nthroot",{argumentTypes:[t.Number,t.Number]}),hypot:u("BuiltIn","hypot",{argumentTypes:[t.Number,t.Number]}),log:u("BuiltIn","common_log"),logbase:u("BuiltIn","log_base",{argumentTypes:[t.Number,t.Number]}),ln:u("BuiltIn","log"),exp:u("Math","exp"),floor:u("Math","floor"),ceil:u("Math","ceil"),round:u("Math","round"),abs:u("Math","abs"),sign:u("BuiltIn","sign"),mod:u("BuiltIn","mod",{argumentTypes:[t.Number,t.Number]}),nCr:u("BuiltIn","nCr",{argumentTypes:[t.Number,t.Number]}),nPr:u("BuiltIn","nPr",{argumentTypes:[t.Number,t.Number]}),factorial:u("BuiltIn","factorial"),polyGamma:u("BuiltIn","polyGamma",{argumentTypes:[t.Number,t.Number]}),lcm:u("BuiltIn","listLCM",{tag:"reducer"}),gcd:u("BuiltIn","listGCD",{tag:"reducer"}),distance:u("BuiltIn","distance",{argumentTypes:[t.Point,t.Point]}),polygon:u("BuiltIn","polygon",{tag:"never-broadcast",argumentTypes:[t.ListOfPoint],returnType:t.Polygon}),mean:u("BuiltIn","mean",{tag:"reducer"}),total:u("BuiltIn","total",{tag:"reducer"}),stdev:u("BuiltIn","stdev",{tag:"reducer"}),stdevp:u("BuiltIn","stdevp",{tag:"reducer"}),mad:u("BuiltIn","mad",{tag:"reducer"}),length:u("BuiltIn","length",{tag:"reducer",argumentTypes:[t.ListOfAny]}),min:u("BuiltIn","listMin",{tag:"reducer"}),max:u("BuiltIn","listMax",{tag:"reducer"}),argmin:u("BuiltIn","argMin",{tag:"reducer"}),argmax:u("BuiltIn","argMax",{tag:"reducer"}),median:u("BuiltIn","median",{tag:"reducer"}),var:u("BuiltIn","variance",{tag:"reducer"}),varp:u("BuiltIn","varp",{tag:"reducer"}),cov:u("BuiltIn","cov",{tag:"doubleReducer"}),covp:u("BuiltIn","covp",{tag:"doubleReducer"}),corr:u("BuiltIn","corr",{tag:"doubleReducer"}),spearman:u("BuiltIn","spearman",{tag:"doubleReducer"}),quantile:u("BuiltIn","quantile",{tag:"parameterizedReducer"}),quartile:u("BuiltIn","quartile",{tag:"parameterizedReducer"}),upperQuantileIndex:u("BuiltIn","upperQuantileIndex",{tag:"parameterizedReducer"}),lowerQuantileIndex:u("BuiltIn","lowerQuantileIndex",{tag:"parameterizedReducer"}),quartileIndex:u("BuiltIn","quartileIndex",{tag:"parameterizedReducer"}),upperQuartileIndex:u("BuiltIn","upperQuartileIndex",{tag:"parameterizedReducer"}),lowerQuartileIndex:u("BuiltIn","lowerQuartileIndex",{tag:"parameterizedReducer"}),normalcdf:u("BuiltIn","normalcdf",{argumentTypes:[t.Number,t.Number,t.Number,t.Number],defaultArguments:[l,i]}),normalpdf:u("BuiltIn","normalpdf",{argumentTypes:[t.Number,t.Number,t.Number],defaultArguments:[l,i]}),binomcdf:u("BuiltIn","binomcdf",{argumentTypes:[t.Number,t.Number,t.Number,t.Number],defaultArguments:[m]}),binompdf:u("BuiltIn","binompdf",{argumentTypes:[t.Number,t.Number,t.Number],defaultArguments:[m]}),poissoncdf:u("BuiltIn","poissoncdf",{argumentTypes:[t.Number,t.Number,t.Number]}),poissonpdf:u("BuiltIn","poissonpdf",{argumentTypes:[t.Number,t.Number,t.Number]}),uniformcdf:u("BuiltIn","uniformcdf",{argumentTypes:[t.Number,t.Number,t.Number,t.Number],defaultArguments:[l,i]}),uniformpdf:u("BuiltIn","uniformpdf",{argumentTypes:[t.Number,t.Number,t.Number],defaultArguments:[l,i]}),invT:u("BuiltIn","invT",{argumentTypes:[t.Number,t.Number]}),invPoisson:u("BuiltIn","invPoisson",{argumentTypes:[t.Number,t.Number]}),invBinom:u("BuiltIn","invBinom",{argumentTypes:[t.Number,t.Number,t.Number]}),invUniform:u("BuiltIn","invUniform",{argumentTypes:[t.Number,t.Number,t.Number]}),tpdf:u("BuiltIn","tpdf",{argumentTypes:[t.Number,t.Number]}),tcdf:u("BuiltIn","tcdf",{argumentTypes:[t.Number,t.Number,t.Number]}),erf:u("BuiltIn","erf"),invNorm:u("BuiltIn","invNorm"),tscore:u("BuiltIn","tscore",{tag:"parameterizedReducer",defaultArguments:[l]}),normalSample:u("BuiltIn","normalSample",{argumentTypes:[t.SeedType,t.Number,t.Number]}),uniformSample:u("BuiltIn","uniformSample",{argumentTypes:[t.SeedType,t.Number,t.Number]}),tSample:u("BuiltIn","tSample",{argumentTypes:[t.SeedType,t.Number]}),poissonSample:u("BuiltIn","poissonSample",{argumentTypes:[t.SeedType,t.Number]}),binomSample:u("BuiltIn","binomSample",{argumentTypes:[t.SeedType,t.Number,t.Number]}),rgb:u("BuiltIn","rgb",{returnType:t.RGBColor,tag:"color"}),hsv:u("BuiltIn","hsv",{returnType:t.RGBColor,tag:"color"}),validateRangeLength:u("BuiltIn","validateRangeLength",{returnType:t.Number,argumentTypes:[t.ListOfNumber,t.ListOfNumber,t.Number,t.Number],tag:"never-broadcast"}),validateSampleCount:u("BuiltIn","validateSampleCount",{returnType:t.Number,argumentTypes:[t.Number]}),select:u("BuiltIn","select",{argumentTypes:[t.ListOfAny,t.ListOfBool],returnType:function(e){return e[0]},tag:"never-broadcast"}),shuffle:u("BuiltIn","shuffle",{argumentTypes:[t.SeedType,t.ListOfAny],returnType:function(e){return e[1]},tag:"never-broadcast"}),sortPerm:u("BuiltIn","sortPerm",{argumentTypes:[t.ListOfNumber],returnType:t.ListOfNumber,tag:"never-broadcast"}),elementsAt:u("BuiltIn","elementsAt",{argumentTypes:[t.ListOfAny,t.ListOfNumber],returnType:function(e){return e[0]},tag:"never-broadcast"}),uniquePerm:u("BuiltIn","uniquePerm",{argumentTypes:[t.ListOfAny],returnType:t.ListOfNumber,tag:"never-broadcast"})},e.CompilerFunctionTable={round:o(1,{maxArity:2}),midpoint:o(2),sort:o(1,{maxArity:2,minArityExampleArgs:"([3,2,1])",maxArityExampleArgs:"([1,2,3],[3,2,1])",dotMaxArityExampleArgs:"([3,4])",allowDotCall:!0}),shuffle:o(2,{maxArity:3,minArityExampleArgs:"([1,2,3])",maxArityExampleArgs:"([1,2,3],2)",dotMaxArityExampleArgs:"(2)",allowDotCall:!0,isSeeded:!0}),join:o(2,{maxArity:1/0,minArityExampleArgs:"([1,2],[3,4])",dotMinArityExampleArgs:"([3,4])",allowDotCall:!0}),unique:o(1,{minArityExampleArgs:"([1,2,3])",maxArityExampleArgs:"([1,2,3])",allowDotCall:!0}),normaldist:o(0,{defaultArguments:[l,i]}),tdist:o(1),binomialdist:o(1,{defaultArguments:[m]}),poissondist:o(1),uniformdist:o(0,{defaultArguments:[l,i]}),pdf:o(2,{allowDotCall:!0}),cdf:o(2,{maxArity:3,allowDotCall:!0}),mean:o(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),median:o(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),stdev:o(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),var:o(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),quantile:o(2,{fallthroughUnlessDistribution:!0,allowDotCall:!0,minArityExampleArgs:"([1,2,3], 1)",maxArityExampleArgs:"([1,2,3], 1)",dotMinArityExampleArgs:"(x)",dotMaxArityExampleArgs:"(x)"}),random:o(1,{maxArity:4,allowDotCall:!0,isSeeded:!0}),polygon:o(0,{maxArity:1/0}),histogram:s(),dotplot:s(),boxplot:s(),ttest:s(),ittest:s(),stats:s(),det:s(),inv:s(),transpose:s(),rref:s(),trace:s()}});\ndefine(\'core/math/parsenode/functioncall\',[\'require\',\'pjs\',\'./expression\',\'./identifier\',\'core/math/ir/builtin-table\'],function(require){"use strict";var i=require("pjs"),e=require("./expression"),t=require("./identifier"),r=require("core/math/ir/builtin-table").BuiltInTable;return i(e,function(i,e){i.init=function(i,r){"string"==typeof i&&(i=t(i)),this._identifier=i,this._symbol=i._symbol,this._errorSymbol="logbase"===i._errorSymbol?"log":i._errorSymbol,e.init.call(this,r)},i.registerDependencies=function(){this.addDependency(this._symbol),e.registerDependencies.call(this);var i=r[this._symbol];!i||"trig"!==i.tag&&"inverseTrig"!==i.tag||this.addDependency("trigAngleMultiplier")},i.copyWithArgs=function(i){return new this.constructor(t(this._symbol),i)}})});\ndefine(\'core/math/parsenode/seededfunctioncall\',[\'require\',\'pjs\',\'./functioncall\'],function(require){"use strict";return require("pjs")(require("./functioncall"),function(i,n){i.init=function(i,t){n.init.call(this,i,t),this.seed=t[0]}})});\ndefine(\'core/math/parsenode/functionexponent\',[\'require\',\'pjs\',\'./expression\',\'core/math/ir/builtin-table\'],function(require){"use strict";var e=require("pjs"),i=require("./expression"),t=require("core/math/ir/builtin-table").BuiltInTable;return e(i,function(e,i){e.registerDependencies=function(){if(i.registerDependencies.call(this),"Identifier"===this.args[0].type){var e=this.args[0]._symbol,n=t[e];!n||"trig"!==n.tag&&"inverseTrig"!==n.tag||this.addDependency("trigAngleMultiplier")}}})});\ndefine(\'core/math/parsenode/functionfactorial\',[\'require\',\'pjs\',\'./expression\',\'core/math/ir/builtin-table\'],function(require){"use strict";var e=require("pjs"),i=require("./expression"),t=require("core/math/ir/builtin-table").BuiltInTable;return e(i,function(e,i){e.registerDependencies=function(){if(this.addDependency("factorial"),i.registerDependencies.call(this),"Identifier"===this.args[0].type){var e=this.args[0]._symbol,n=t[e];!n||"trig"!==n.tag&&"inverseTrig"!==n.tag||this.addDependency("trigAngleMultiplier")}}})});\ndefine(\'core/math/parsenode/prime\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(t,i){t.init=function(t,n){i.init.call(this,n),this.order=t},t.copyWithArgs=function(t){return new this.constructor(this.order,t)}})});\ndefine(\'core/math/parsenode/piecewise\',[\'require\',\'pjs\',\'./expression\',\'./constant\',\'core/math/maybe-rational\'],function(require){"use strict";var n=require("pjs"),t=require("./expression"),e=require("./constant"),r=require("core/math/maybe-rational").maybeRational,a=n(t,{});return a.chain=function(n,t){for(var e,r=t;n.length;)e=n.pop(),r=a([e.condition,e.if_expr,r]);return r},a.empty=function(){return a([e(!0),e(r(1,1)),e(NaN)])},a});\ndefine(\'core/math/parsenode/derivative\',[\'require\',\'pjs\',\'./expression\',\'./identifier\'],function(require){"use strict";var i=require("pjs"),n=require("./expression"),s=require("./identifier");return i(n,function(i,n){i.init=function(i,t){this._symbol=i instanceof s?i._symbol:s(i)._symbol,n.init.call(this,t),this.addDependency(this._symbol)}})});\ndefine(\'core/math/parsenode/updaterule\',[\'require\',\'./expression\',\'pjs\'],function(require){"use strict";var e=require("./expression");return require("pjs")(e,function(e,i){e.init=function(e){this._symbol=e[0]._symbol,this._expression=e[1],i.init.call(this,e)},e.registerDependencies=function(){this.addUpdateSymbol(this._symbol),this.mergeDependencies(this._expression)}})});\ndefine(\'core/math/parsenode/histogram\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i){n.init.call(this,i),this._symbol="histogram"}})});\ndefine(\'core/math/parsenode/object3d\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i,t){n.init.call(this,i),this._symbol=t}})});\ndefine(\'core/math/parsenode/dotplot\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,t){i.init=function(i){t.init.call(this,i),this._symbol="dotplot"}})});\ndefine(\'core/math/parsenode/boxplot\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i){n.init.call(this,i),this._symbol="boxplot"}})});\ndefine(\'core/math/parsenode/ttest\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(t,i){t.init=function(){i.init.apply(this,arguments),this._symbol="ttest"}})});\ndefine(\'core/math/parsenode/independent-ttest\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,t){i.init=function(){t.init.apply(this,arguments),this._symbol="ittest"}})});\ndefine(\'core/math/parsenode/stats\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,t){i.init=function(){t.init.apply(this,arguments),this._symbol="stats"}})});\ndefine(\'core/math/parsenode/equation\',[\'require\',\'./base\',\'pjs\',\'./expressionTypes\',\'core/math/parsenode/comparator\'],function(require){"use strict";var s=require("./base"),t=require("pjs"),i=require("./expressionTypes").Subtract,e=require("core/math/parsenode/comparator");return t(s,function(s,t){s.init=function(s,e){t.init.call(this),this.mergeDependencies(s,e),this._lhs=s,this._rhs=e,this._difference=i([this._lhs,this._rhs])},s.asComparator=function(){return e["="]([this._lhs,this._rhs])}})});\ndefine(\'core/math/parsenode/assignment\',[\'require\',\'./base\',\'./equation\',\'./identifier\',\'pjs\'],function(require){"use strict";var e=require("./base"),t=require("./equation"),i=require("./identifier");return require("pjs")(e,function(e,s){e.init=function(e,t){s.init.call(this),e=e._symbol,this.mergeDependencies(t),this._expression=t,this._symbol=e,this._exports=this.computeExports()},e.shouldExportAns=function(){return!0},e.computeExports=function(){for(var e=this._symbol,t=this.getDependencies(),i=0;i<t.length;i++)if(t[i]===e)return[];return[e]},e.isEquation=function(e){return-1!==e.getDependencies().indexOf(this._symbol)},e.asEquation=function(){var e=t(i(this._symbol),this._expression);return e.userData=this.userData,e.metaData=this.metaData,e},e.shouldPromoteToSlider=function(e){return!!this._expression.isConstant&&(!this._expression.is_mixed_number&&("number"==typeof this._expression.asValue()&&(!!isFinite(this._expression.asValue())&&e.isValidSlider(this._symbol))))}})});\ndefine(\'core/math/parsenode/functiondefinition\',[\'require\',\'pjs\',\'./base\',\'core/math/errormsg\',\'./equation\',\'./identifier\',\'./functioncall\'],function(require){"use strict";var t=require("pjs"),e=require("./base"),i=require("core/math/errormsg"),r=require("./equation"),n=require("./identifier"),s=require("./functioncall");return t(e,function(t,e){t.init=function(t,i,r){e.init.call(this),t=t._symbol,this._argSymbols=i.map(function(t){return t._symbol}),this._symbol=t,this._exports=[t],this._expression=r,this.mergeDependenciesInScope(this._argSymbols,this._expression)},t.isFunction=!0,t.getConcreteInvocationTree=function(t,e,r,n){if(r.length!==this._argSymbols.length)throw i.wrongArity(n,this._argSymbols.length,r.length);for(var s=Object.create(e),o=0;o<this._argSymbols.length;o++)s[this._argSymbols[o]]=r[o];return this._expression.getConcreteTree(t,s)},t.getSliderVariables=function(t,i){var r=this._argSymbols;return e.getSliderVariables.call(this,t,i).filter(function(t){return-1===r.indexOf(t)})},t.asEquation=function(){var t=this._argSymbols.map(function(t){return n(t)}),e=r(s(n(this._symbol),t),this._expression);return e.userData=this.userData,e.metaData=this.metaData,e}})});\ndefine(\'core/math/parsenode/regression\',[\'require\',\'pjs\',\'./base\',\'core/math/errormsg\',\'./functioncall\',\'./identifier\',\'./expressionTypes\'],function(require){"use strict";var e=require("pjs"),i=require("./base"),r=require("core/math/errormsg"),s=require("./functioncall"),n=require("./identifier"),t=require("./expressionTypes").Subtract;return e(i,function(e,i,a){e.init=function(e,r){i.init.call(this),this._lhs=e,this.isLhsSimple=e instanceof n,this._logLhs=s("ln",[e]),this._rhs=r,this._difference=t([e,r]),this._logDifference=t([s("ln",[e]),s("ln",[r])]),this.mergeDependencies(e,r)},e.isRegression=!0,e.exportTo=function(e,i,s){if(!i.isError){for(var n in i.parameters)i.parameters.hasOwnProperty(n)&&(e.assignmentForbidden(n)||(s[n]=s[n]?r.multiplyDefined(n):i.parameters[n]));e.assignmentForbidden(i.residualVariable)||(s[i.residualVariable]=i.residuals)}},e.getSliderVariables=function(){return[]}})});\ndefine(\'core/math/parsenode/image\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(i,t,e,h){i.isImage=!0,i.init=function(i,e){t.init.call(this),this.center=i.center,this.radianAngle=i.radianAngle,this.width=i.width,this.height=i.height,this.opacity=i.opacity,this.moveStrategy=e,this.mergeDependencies(this.center,this.radianAngle,this.width,this.height,this.opacity)}})});\ndefine(\'core/math/parsenode/ticker\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(e,i){e.init=function(e){i.init.call(this),this.handler=e.handler,this.minStep=e.minStep,this.mergeDependencies(this.handler),this.mergeDependencies(this.minStep)}})});\ndefine(\'core/math/parsenode/slider\',[\'require\',\'pjs\',\'./assignment\',\'./identifier\'],function(require){"use strict";var i=require("pjs"),s=require("./assignment"),e=require("./identifier");return i(s,function(i,t,n,r){i.isSlider=!0,i.init=function(i,s){t.init.call(this,e(i._symbol),i._expression),this.setInputSpan(i._inputSpan),this.sliderAssignment=i,this.sliderMin=s.sliderMin,this.sliderMax=s.sliderMax,this.sliderSoftMin=s.sliderSoftMin,this.sliderSoftMax=s.sliderSoftMax,this.sliderStep=s.sliderStep,this.sliderIsPlayingOnce=s.sliderIsPlayingOnce,this.sliderMin&&this.mergeDependencies(this.sliderMin),this.sliderMax&&this.mergeDependencies(this.sliderMax),this.sliderStep&&this.mergeDependencies(this.sliderStep)},i.shouldPromoteToSlider=function(i){return!1},i.asAssignment=function(){return s(this._symbol,this._expression)}})});\ndefine(\'core/math/parsenode/table\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(t,n){t.init=function(t){n.init.call(this),this.columns=t,this._exports=[],this.mergeDependencies.apply(this,t);for(var e=0;e<t.length;e++)Array.prototype.push.apply(this._exports,t[e].getExports())},t.exportPenalty=1,t.isTable=!0,t.exportTo=function(t,n,e){for(var s=0;s<this.columns.length;s++){var r=this.columns[s].getExports();if(r.length){var i=r[0];t.assignmentForbidden(i)||e[i]||(n.isError?e[i]=n:this.columns[s].exportTo(t,n.columns[s],e))}}},t.getAllIds=function(){return this.columns.map(function(t){return t.header.userData.id})}})});\ndefine(\'core/math/parsenode/tablecolumn\',[\'require\',\'pjs\',\'./base\',\'./list\',\'./constant\',\'./identifier\'],function(require){"use strict";var e=require("pjs"),t=require("./base"),n=require("./list"),i=require("./constant"),s=require("./identifier");return e(t,function(e,o){function r(e){return e.isConstant?i(e.asCompilerValue()):i(NaN)}e.init=function(e,t,n){o.init.call(this),this.header=e,this.length=t,this.values=n,this.isIndependent=!1,this.registerDependencies(),this._exports=this.computeExports()},e.registerDependencies=function(){this.mergeDependencies(this.header),this.mergeDependencies.apply(this,this.values)},e.computeExports=function(){return this.header instanceof s?[this.header._symbol]:[]},e.isDiscrete=function(e){return!this.continuousConcreteTree||1!==this.continuousConcreteTree.getDependencies().length||1!==e.header.getDependencies().length||this.continuousConcreteTree.getDependencies()[0]!==e.header.getDependencies()[0]},e._exportSymbolsTo=function(e,i,s){if(e.length){var o=e[0];if(i.isError)s[o]=i;else try{s[o]=n(i.values.map(r))}catch(e){if(!(e instanceof t))throw e;s[o]=e}}},e.exportTo=function(e,t,n){var i=this.getLegalExports(e);this._exportSymbolsTo(i,t,n)},e.exportToLocal=function(e,t){this._exportSymbolsTo(this.getExports(),e,t)}})});\ndefine(\'core/math/parsenode/solvedequation\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(i,e){i.init=function(i,n,t){e.init.call(this),this._symbol=i,this._expression=n,this.mergeDependencies(n),this.branchMultiplier=t}})});\ndefine(\'core/math/parsenode/optimizedregression\',[\'require\',\'pjs\',\'./base\'],function(require){"use strict";return require("pjs")(require("./base"),function(i,e){i.init=function(i,t,s,r,a){for(var n in e.init.call(this),this.parameters=i,this.residuals=t,this.statistics=s,this.model=r,this.isModelValid=a.isModelValid,this.residualVariable=a.residualVariable,this.residualSuggestionId=a.residualSuggestionId,this.shouldSuggestLogMode=a.shouldSuggestLogMode,this.isLinear=a.isLinear,this.parameterWarning=a.parameterWarning,this._exports=[this.residualVariable],i)i.hasOwnProperty(n)&&this._exports.push(n);this.mergeDependencies(r)},i.getCompiledFunction=function(){return this.model.getCompiledFunction.apply(this.model,arguments)},i.getCompiledDerivative=function(){return this.model.getCompiledDerivative.apply(this.model,arguments)}})});\ndefine(\'core/math/parsenode/seed\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(i,n){i.init=function(i){"string"!=typeof i&&(i=""+i),this._stringValue=i,n.init.call(this,[])},i.isString=!0,i.asValue=function(){return this._stringValue}})});\ndefine(\'core/math/parsenode/extendseed\',[\'require\',\'pjs\',\'./expression\'],function(require){"use strict";return require("pjs")(require("./expression"),function(t,s){t.init=function(t,e){s.init.call(this,e),this.seed=e[0],this.userSeed=e[1],this.tag=t},t.asValue=function(){return this.seed.asValue()+"::"+this.tag+this.userSeed.asValue()},t.copyWithArgs=function(t){return new this.constructor(this.tag,t)}})});\ndefine(\'core/math/context-types\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isActionCompilerValue=void 0,e.isActionCompilerValue=function(e){return!("object"!=typeof e||!e)&&"Action"===e.type}});\ndefine(\'core/math/ir/features/as-value\',["require","exports","../opcodes","core/math/context-types","core/math/maybe-rational"],function(require,e,t,a,r){"use strict";function u(e){if(Array.isArray(e))return e.map(u);switch(typeof e){case"boolean":case"number":case"string":return e;case"object":if(a.isActionCompilerValue(e)){var t={};for(var o in e.updateRules){var n=e.updateRules[o];t[o]={value:u(n.value),valueType:n.valueType}}return{type:"Action",updateRules:t}}return r.asFloat(e);default:throw new Error("Unexpected value: "+e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.compilerValueToRuntimeValue=e.asValue=void 0,e.asValue=function(e,a){var r=e.getInstruction(a);switch(r.type){case t.Constant:return u(r.value);default:throw new Error("Unexpected opcode "+r.type+".")}},e.compilerValueToRuntimeValue=u});\ndefine(\'core/math/ir/features/nan-of-type\',["require","exports","core/math/types"],function(require,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nanOfType=e.isNanableValueType=void 0,e.isNanableValueType=function(e){switch(e){case a.Bool:case a.Number:case a.Point:case a.Action:case a.RGBColor:case a.Polygon:return!0;default:return!1}},e.nanOfType=function(e){switch(e){case a.Number:return NaN;case a.Point:return[NaN,NaN];case a.RGBColor:return[NaN,NaN,NaN];case a.Action:return{type:"Action",updateRules:{}};case a.Bool:return!1;case a.Polygon:return[];default:throw new Error(e+" does not have a NaN type.")}}});\ndefine(\'core/math/parsenode/irexpression\',[\'require\',\'pjs\',\'./base\',\'core/math/types\',\'core/math/ir/features/as-value\',\'core/math/ir/features/nan-of-type\',\'core/math/errormsg\'],function(require){"use strict";var e=require("pjs"),t=require("./base"),n=require("core/math/types"),i=require("core/math/ir/features/as-value").compilerValueToRuntimeValue,s=require("core/math/ir/features/nan-of-type").nanOfType,u=require("core/math/errormsg");return e(t,function(e,t,r){e.init=function(e){if(t.init.call(this),this._chunk=e,this.valueType=e.getReturnType(),this.addDependencies(e.getLiveArgNames()),this.isList=n.isList(this.valueType),this.isList&&(this.length=this._chunk.getConstantListLength(),void 0===this.length))throw u.variableLengthTopLevelList(e.getListLengthDependencies());var i=e.isConstant();this.isConstant=i&&(this.valueType===n.Number||this.valueType===n.Bool),this.isEmptyAction=i&&this.valueType===n.Action&&0===Object.keys(e.asValue().updateRules).length},e.shouldExportAns=function(){return!0},e.getCompiledFunction=function(e){return this._chunk.getCompiledFunction(e)},e.polynomialOrder=function(e){return this._chunk.polynomialOrder(e,{allowRestriction:!0,allowClosedBlockReferences:!1})},e.getPolynomialCoefficients=function(e){for(var t=this._chunk.getPolynomialCoefficients(e),n=t.chunk,i=t.coefficients,s=[],u=0;u<i.length;u++){var o=n.copy();o.returnIndex=i[u],o.close(),s.push(new r(o))}return s},e.takeDerivative=function(e){var t=this._chunk.copy().takeDerivative(e).close();return new r(t)},e.boundDomain=function(e){return this._chunk.boundDomain(e)},e.asValue=function(){if(this._chunk.isConstant())return this._chunk.asValue();if(this.isList){for(var e=[],t=i(s(n.elementType(this.valueType))),u=0;u<this.length;u++)e.push(t);return e}return i(s(this.valueType))},e.asCompilerValue=function(){return this._chunk.asCompilerValue()},e.isNaN=function(){return"number"==typeof this.asValue()&&isNaN(this.asValue())},e.getEvaluationInfo=function(){return!(!this._chunk.isConstant()||0!==this.getDependencies().length||!n.isTypeOrListOfType(this.valueType,n.Number)&&!n.isTypeOrListOfType(this.valueType,n.Bool))&&[{val:this.asValue()}]},e.elementAt=function(e){var t=this._chunk.elementAt(e);return new r(t)},e.findLinearSubset=function(e){return this._chunk.findLinearSubset(e)},e.deriveRegressionRestrictions=function(){var e=this._chunk.deriveRegressionRestrictions();return e===this._chunk?this:new r(e)},e.eachElement=function(e){for(var t=0;t<this.length;t++)e(this.elementAt(t),t)},e.mapElements=function(e){for(var t=[],n=0;n<this.length;n++)t.push(e(this.elementAt(n),n));return t}})});\ndefine(\'parsenodes\',[\'require\',\'core/math/parsenode/expressionTypes\',\'core/math/parsenode/base\',\'core/math/parsenode/expression\',\'core/math/parsenode/error\',\'core/math/parsenode/constant\',\'core/math/parsenode/mixednumber\',\'core/math/parsenode/identifier\',\'core/math/parsenode/ans\',\'core/math/parsenode/list\',\'core/math/parsenode/range\',\'core/math/parsenode/listaccess\',\'core/math/parsenode/dotaccess\',\'core/math/parsenode/parenseq\',\'core/math/parsenode/movablepoint\',\'core/math/parsenode/orderedpairaccess\',\'core/math/parsenode/bareseq\',\'core/math/parsenode/basecomparator\',\'core/math/parsenode/comparator\',\'core/math/parsenode/doubleinequality\',\'core/math/parsenode/repeatedoperator\',\'core/math/parsenode/sum\',\'core/math/parsenode/product\',\'core/math/parsenode/integral\',\'core/math/parsenode/assignmentexpression\',\'core/math/parsenode/listcomprehension\',\'core/math/parsenode/functioncall\',\'core/math/parsenode/seededfunctioncall\',\'core/math/parsenode/functionexponent\',\'core/math/parsenode/functionfactorial\',\'core/math/parsenode/prime\',\'core/math/parsenode/piecewise\',\'core/math/parsenode/derivative\',\'core/math/parsenode/updaterule\',\'core/math/parsenode/histogram\',\'core/math/parsenode/object3d\',\'core/math/parsenode/dotplot\',\'core/math/parsenode/boxplot\',\'core/math/parsenode/ttest\',\'core/math/parsenode/independent-ttest\',\'core/math/parsenode/stats\',\'core/math/parsenode/assignment\',\'core/math/parsenode/functiondefinition\',\'core/math/parsenode/equation\',\'core/math/parsenode/regression\',\'core/math/parsenode/image\',\'core/math/parsenode/ticker\',\'core/math/parsenode/slider\',\'core/math/parsenode/table\',\'core/math/parsenode/tablecolumn\',\'core/math/parsenode/solvedequation\',\'core/math/parsenode/optimizedregression\',\'core/math/parsenode/seed\',\'core/math/parsenode/extendseed\',\'core/math/parsenode/irexpression\'],function(require){"use strict";var e=require("core/math/parsenode/expressionTypes"),o={Base:require("core/math/parsenode/base"),Expression:require("core/math/parsenode/expression"),Error:require("core/math/parsenode/error"),Constant:require("core/math/parsenode/constant"),MixedNumber:require("core/math/parsenode/mixednumber"),Identifier:require("core/math/parsenode/identifier"),Ans:require("core/math/parsenode/ans"),List:require("core/math/parsenode/list"),Range:require("core/math/parsenode/range"),ListAccess:require("core/math/parsenode/listaccess"),DotAccess:require("core/math/parsenode/dotaccess"),ParenSeq:require("core/math/parsenode/parenseq"),MovablePoint:require("core/math/parsenode/movablepoint"),OrderedPairAccess:require("core/math/parsenode/orderedpairaccess"),BareSeq:require("core/math/parsenode/bareseq"),BaseComparator:require("core/math/parsenode/basecomparator"),Comparator:require("core/math/parsenode/comparator"),DoubleInequality:require("core/math/parsenode/doubleinequality"),RepeatedOperator:require("core/math/parsenode/repeatedoperator"),Sum:require("core/math/parsenode/sum"),Product:require("core/math/parsenode/product"),Integral:require("core/math/parsenode/integral"),AssignmentExpression:require("core/math/parsenode/assignmentexpression"),ListComprehension:require("core/math/parsenode/listcomprehension"),FunctionCall:require("core/math/parsenode/functioncall"),SeededFunctionCall:require("core/math/parsenode/seededfunctioncall"),FunctionExponent:require("core/math/parsenode/functionexponent"),FunctionFactorial:require("core/math/parsenode/functionfactorial"),Prime:require("core/math/parsenode/prime"),Piecewise:require("core/math/parsenode/piecewise"),Derivative:require("core/math/parsenode/derivative"),UpdateRule:require("core/math/parsenode/updaterule"),Histogram:require("core/math/parsenode/histogram"),Object3D:require("core/math/parsenode/object3d"),DotPlot:require("core/math/parsenode/dotplot"),BoxPlot:require("core/math/parsenode/boxplot"),TTest:require("core/math/parsenode/ttest"),IndependentTTest:require("core/math/parsenode/independent-ttest"),Stats:require("core/math/parsenode/stats"),Assignment:require("core/math/parsenode/assignment"),FunctionDefinition:require("core/math/parsenode/functiondefinition"),Equation:require("core/math/parsenode/equation"),Regression:require("core/math/parsenode/regression"),Image:require("core/math/parsenode/image"),Ticker:require("core/math/parsenode/ticker"),Slider:require("core/math/parsenode/slider"),Table:require("core/math/parsenode/table"),TableColumn:require("core/math/parsenode/tablecolumn"),SolvedEquation:require("core/math/parsenode/solvedequation"),OptimizedRegression:require("core/math/parsenode/optimizedregression"),Seed:require("core/math/parsenode/seed"),ExtendSeed:require("core/math/parsenode/extendseed"),IRExpression:require("core/math/parsenode/irexpression")};for(var r in e)o[r]=e[r];for(var a in o)o.hasOwnProperty(a)&&"Comparator"!==a&&(o[a].prototype.type=a);for(var t in o.Comparator)o.Comparator.hasOwnProperty(t)&&(o.Comparator[t].prototype.type="Comparator[\'"+t+"\']");return o});\ndefine(\'core/math/parser/char-codes\',["require","exports"],function(require,e){"use strict";function t(e){return 97<=e&&e<=122}function i(e){return 65<=e&&e<=90}Object.defineProperty(e,"__esModule",{value:!0}),e.isWhitespace=e.isSingleQuote=e.isDot=e.isBackslash=e.isLetter=e.isUpperCaseLetter=e.isLowerCaseLetter=e.isDigit=void 0,e.isDigit=function(e){return 48<=e&&e<=57},e.isLowerCaseLetter=t,e.isUpperCaseLetter=i,e.isLetter=function(e){return t(e)||i(e)},e.isBackslash=function(e){return 92===e},e.isDot=function(e){return 46===e},e.isSingleQuote=function(e){return 39===e},e.isWhitespace=function(e){if(9<=e&&e<=13)return!0;if(8192<=e&&e<=8202)return!0;switch(e){case 32:case 160:case 5760:case 8232:case 8233:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}});\ndefine(\'core/math/parser/latex-lexer\',["require","exports","./char-codes","./input-span"],function(require,e,t,n){"use strict";function r(e,t,n){return{type:e,span:t,val:n}}function a(e,a,i){for(;t.isWhitespace(e.charCodeAt(a));)a+=1;var o=function(e,a){var i=a;if(a>=e.length)return r("End",n.emptySpanAt(e,a),"");var o=e.charCodeAt(a);if(t.isDigit(o))return r("Digit",u=n.Span(e,i,a+1),e.charAt(i));if(t.isLetter(o))return r("Letter",u=n.Span(e,i,a+1),e.charAt(i));if(t.isBackslash(o)){if(a+=1,t.isLetter(e.charCodeAt(a))){for(;t.isLetter(e.charCodeAt(a));)a+=1;var u=n.Span(e,i,a),c=n.slice(u);return r(p[c]||"Cmd",u,c)}return a+=1,r("EscapedSymbol",u=n.Span(e,i,a),c=n.slice(u))}if(t.isSingleQuote(o)){for(a+=1;t.isSingleQuote(e.charCodeAt(a));)a+=1;return"^"===e.charAt(a)?(a+=1,r("Primes^",u=n.Span(e,i,a),c=n.slice(u))):r("Primes",u=n.Span(e,i,a),c=n.slice(u))}u=n.Span(e,i,a+1),c=e.charAt(i);return r(s[c]||"Symbol",u,c)}(e,a);return function(e,t,n,r){return{input:e,prevSpan:t,pos:n,token:r}}(e,i,a,o)}function i(e){return a(e.input,e.token.span.end,e.token.span)}function o(e){return e.token}Object.defineProperty(e,"__esModule",{value:!0}),e.isDone=e.isAt=e.eat=e.peek=e.advance=e.lex=e.LatexToken=e.spanStates=void 0,e.spanStates=function(e,t){return n.joinSpans(e.token.span,t.prevSpan)},e.LatexToken=r,e.lex=function(e){return a(e,0,n.emptySpanAt(e,0))},e.advance=i,e.peek=o,e.eat=function(e,t){if(o(e).type!==t)throw"Parse Error: expected "+t+".";return i(e)},e.isAt=function(e,t){return o(e).type===t},e.isDone=function(e){return e.pos>=e.input.length};var p={"\\\\left":"Left","\\\\right":"Right","\\\\sqrt":"Sqrt","\\\\frac":"Frac","\\\\operatorname":"OperatorName"},s={"[":"[","]":"]","{":"{","}":"}","^":"^",_:"_"}});\ndefine(\'core/math/parser/latex-node\',["require","exports"],function(require,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Symbol=r.OperatorName=r.LeftRight=r.SupSub=r.Frac=r.Sqrt=r.Group=void 0,r.Group=function(r,t){return{type:"Group",span:r,args:t}},r.Sqrt=function(r,t,e){return{type:"Sqrt",span:r,optArg:t,arg:e}},r.Frac=function(r,t,e){return{type:"Frac",span:r,num:t,den:e}},r.SupSub=function(r,t,e,n){return{type:"SupSub",span:r,sup:t,sub:e,nprimes:n}},r.LeftRight=function(r,t,e,n){return{type:"LeftRight",span:r,left:t,right:e,arg:n}},r.OperatorName=function(r,t){return{type:"OperatorName",span:r,arg:t}},r.Symbol=function(r,t){return{type:"Symbol",span:r,val:t}}});\ndefine(\'core/math/parser/latex-parser\',["require","exports","./latex-lexer","./input-span","./latex-node"],function(require,e,r,a,t){"use strict";function s(e){switch(e){case"Frac":return 2;case"^":case"_":case"Primes^":case"Left":case"Sqrt":case"OperatorName":return 1;default:return 0}}function c(e,r){return{state:e,tree:r}}function n(e,a){var s,n=e,p=[];e:for(;!r.isDone(e);){var u=r.peek(e);switch(u.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":case"[":case"{":case"^":case"_":case"Primes":case"Primes^":case"Left":case"Frac":case"Sqrt":case"OperatorName":case"]":if("]"===u.type&&a)break e;var i;if(e=(s=o(e)).state,"Group"===(i=s.tree).type)for(var v=0,f=i.args;v<f.length;v++){var d=f[v];p.push(d)}else p.push(i);break;case"}":case"Right":case"End":break e;default:throw"Unexpected token type "+u.type+"."}}var l=r.spanStates(n,e);return c(e,t.Group(l,p))}function o(e){var a,s=r.peek(e);switch(s.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":return c(e=r.advance(e),s);case"[":case"]":return c(e=r.advance(e),t.Symbol(s.span,s.val));case"{":var o;return e=(a=n(e=r.advance(e),!1)).state,o=a.tree,c(e=r.eat(e,"}"),o);case"^":case"_":case"Primes":case"Primes^":return function(e){var a,s,n,o,u,i=e,v=0;e:for(;!r.isDone(e);){var f=r.peek(e);switch(f.type){case"^":if(e=r.advance(e),o)throw"Parse Error: double superscript.";e=(a=p(e,f)).state,o=a.tree;break;case"_":if(e=r.advance(e),u)throw"Parse Error: double subscript.";e=(s=p(e,f)).state,u=s.tree;break;case"Primes":if(e=r.advance(e),v>0)throw"Parse Error: double primes.";v=f.val.length;break;case"Primes^":if(e=r.advance(e),v>0)throw"Parse Error: double primes.";if(o)throw"Parse Error: double superscript";v=f.val.length-1,e=(n=p(e,f)).state,o=n.tree;break;default:break e}}var d=r.spanStates(i,e);return c(e,t.SupSub(d,o,u,v))}(e);case"Left":return function(e){var a,s=e;e=r.eat(e,"Left");var o,p=r.peek(e);e=r.advance(e),a=n(e,!1),e=a.state,o=a.tree,e=r.eat(e,"Right");var u=r.peek(e);e=r.advance(e);var i=r.spanStates(s,e);return c(e,t.LeftRight(i,p,u,o))}(e);case"Frac":return function(e){var a,s,n,o,u=e,i=r.peek(e);e=r.eat(e,"Frac"),a=p(e,i),e=a.state,n=a.tree,s=p(e,i),e=s.state,o=s.tree;var v=r.spanStates(u,e);return c(e,t.Frac(v,n,o))}(e);case"Sqrt":return function(e){var a,s,o,u,i=e,v=r.peek(e);e=r.eat(e,"Sqrt"),r.isAt(e,"[")&&(a=function(e){var a,t;return e=r.eat(e,"["),a=n(e,!0),e=a.state,t=a.tree,c(e=r.eat(e,"]"),t)}(e),e=a.state,o=a.tree);s=p(e,v),e=s.state,u=s.tree;var f=r.spanStates(i,e);return c(e,t.Sqrt(f,o,u))}(e);case"OperatorName":return function(e){var a,s,n=e,o=r.peek(e);e=r.eat(e,"OperatorName"),a=p(e,o),e=a.state,s=a.tree;var u=r.spanStates(n,e);return c(e,t.OperatorName(u,s))}(e);case"}":case"Right":throw"Parse Error: unexpected "+s.val+".";case"End":throw"Parse Error: unexpected end.";default:throw"Unexpected token type "+s.type+"."}}function p(e,n){var p,u,i=s(n.type);if(i<=0)throw new Error("Programming Error: greediness must be greater than 0.");var v=s(r.peek(e).type);if(v>0&&v<=i){var f=a.slice(n.span);throw"Parse Error: can\'t use "+a.slice(r.peek(e).span)+" as argument of "+f+". Use {}."}return e=(p=o(e)).state,"Group"!==(u=p.tree).type&&(u=t.Group(u.span,[u])),c(e,u)}Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0,e.parse=function(e){var t=n(r.lex(e),!1),s=t.state,c=t.tree;if(!r.isDone(s))throw"Parse error: unexpected "+a.slice(r.peek(s).span)+".";return c}});\n!function(){var t,e,n,r,o,a,i,c,u,f,l,s,p,y,d,b,_,h,v,w,m,O,j,g,P={};!function(t){var e="object"==typeof P?P:"object"==typeof self?self:"object"==typeof this?this:{};function n(t,n){return t!==e&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(e,r){return t[e]=n?n(e,r):r}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):"object"==typeof module&&"object"==typeof module.exports?t(n(e,n(module.exports))):t(n(e))}(function(P){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};t=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},r=function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=function(t,e){return function(n,r){e(n,r,t)}},a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,c)}u((r=r.apply(t,e||[])).next())})},c=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},u=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||g(e,t,n)},g=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},s=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},p=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)r[o]=a[i];return r},y=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},d=function(t){return this instanceof d?(this.v=t,this):new d(t)},b=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){a.push([t,e,n,r])>1||c(t,e)})})}function c(t,e){try{(n=o[t](e)).value instanceof d?Promise.resolve(n.value.v).then(u,f):l(a[0][2],n)}catch(t){l(a[0][3],t)}var n}function u(t){c("next",t)}function f(t){c("throw",t)}function l(t,e){t(e),a.shift(),a.length&&c(a[0][0],a[0][1])}},_=function(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:d(t[r](e)),done:"return"===r}:o?o(e):e}:o}},h=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,o,(e=t[n](e)).done,e.value)})}}},v=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};w=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&g(e,t,n);return x(e,t),e},m=function(t){return t&&t.__esModule?t:{default:t}},O=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},j=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},P("__extends",t),P("__assign",e),P("__rest",n),P("__decorate",r),P("__param",o),P("__metadata",a),P("__awaiter",i),P("__generator",c),P("__exportStar",u),P("__createBinding",g),P("__values",f),P("__read",l),P("__spread",s),P("__spreadArrays",p),P("__spreadArray",y),P("__await",d),P("__asyncGenerator",b),P("__asyncDelegator",_),P("__asyncValues",h),P("__makeTemplateObject",v),P("__importStar",w),P("__importDefault",m),P("__classPrivateFieldGet",O),P("__classPrivateFieldSet",j)})}();\ndefine(\'core/math/parser/command-aliases\',["require","exports","./char-codes"],function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.translateCmd=void 0;var s={mcd:"gcd",gcf:"gcd",mcm:"lcm",signum:"sign",sgn:"sign",stdDevP:"stdevp",stddevp:"stdevp",stdDev:"stdev",stddev:"stdev",variance:"var",TTest:"ttest",TScore:"tscore",IndependentTTest:"ittest",iTTest:"ittest",inverseCdf:"quantile",inversecdf:"quantile",arsinh:"arcsinh",arcosh:"arccosh",artanh:"arctanh",arcsch:"arccsch",arsech:"arcsech",arcoth:"arccoth"};e.translateCmd=function(e){for(var c=0;t.isBackslash(e.charCodeAt(c));)c+=1;return c>0&&(e=e.slice(c)),s[e]||e}});\ndefine(\'core/math/parser/surface-node\',["require","exports","./command-aliases"],function(require,n,t){"use strict";function e(n){if("Subscript"===n.type){if("Alphanumeric"!==n.args[1].type)return!1;n=n.args[0]}switch(n.type){case"Cmd":case"Letter":return!0;default:return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.unwrapSeq=n.isDerivative=n.isSuperscriptedIdentifier=n.isIdentifier=n.MixedNumber=n.Alphanumeric=n.Cmd=n.Decimal=n.Letter=n.Juxt=n.RightArrow=n.PercentOf=n.Dot=n.For=n.Ellipsis=n.Colon=n.EmptyRangeEnd=n.EmptyPiecewise=n.Piecewise=n.Product=n.Sum=n.EmptyIntegral=n.Integral=n.Derivative=n.Frac=n.Nthroot=n.Sqrt=n.Seq=n.Prime=n.Superscript=n.Subscript=n.Pipes=n.List=n.Paren=n.Index=n.ImplicitCall=n.Call=n.Bang=n.Div=n.Mul=n.Sub=n.Add=n.Neg=n.Pos=n.Tilde=n.InequalityChain=n.TrailingInequalityPiece=n.Inequality=n.Equals=void 0,n.Equals=function(n,t){return{type:"Equals",span:n,args:t}},n.Inequality=function(n,t,e){return{type:"Inequality",span:n,symbol:t,args:e}},n.TrailingInequalityPiece=function(n,t,e){return{type:"TrailingInequalityPiece",span:n,symbol:t,args:e}},n.InequalityChain=function(n,t,e){return{type:"InequalityChain",span:n,first:t,chain:e}},n.Tilde=function(n,t){return{type:"Tilde",span:n,args:t}},n.Pos=function(n,t){return{type:"Pos",span:n,args:t}},n.Neg=function(n,t){return{type:"Neg",span:n,args:t}},n.Add=function(n,t){return{type:"Add",span:n,args:t}},n.Sub=function(n,t){return{type:"Sub",span:n,args:t}},n.Mul=function(n,t){return{type:"Mul",span:n,args:t}},n.Div=function(n,t){return{type:"Div",span:n,args:t}},n.Bang=function(n,t){return{type:"Bang",span:n,args:t}},n.Call=function(n,t){return{type:"Call",span:n,args:t}},n.ImplicitCall=function(n,t){return{type:"ImplicitCall",span:n,args:t}},n.Index=function(n,t){return{type:"Index",span:n,args:t}},n.Paren=function(n,t){return{type:"Paren",span:n,args:t}},n.List=function(n,t){return{type:"List",span:n,args:t}},n.Pipes=function(n,t){return{type:"Pipes",span:n,args:t}},n.Subscript=function(n,t){return{type:"Subscript",span:n,args:t}},n.Superscript=function(n,t){return{type:"Superscript",span:n,args:t}},n.Prime=function(n,t,e){return{type:"Prime",span:n,nprimes:t,args:e}},n.Seq=function(n,t){return{type:"Seq",span:n,args:t}},n.Sqrt=function(n,t){return{type:"Sqrt",span:n,args:t}},n.Nthroot=function(n,t){return{type:"Nthroot",span:n,args:t}},n.Frac=function(n,t){return{type:"Frac",span:n,args:t}},n.Derivative=function(n,t){return{type:"Derivative",span:n,args:t}},n.Integral=function(n,t){return{type:"Integral",span:n,args:t}},n.EmptyIntegral=function(n,t){return{type:"EmptyIntegral",span:n,args:t}},n.Sum=function(n,t){return{type:"Sum",span:n,args:t}},n.Product=function(n,t){return{type:"Product",span:n,args:t}},n.Piecewise=function(n,t){return{type:"Piecewise",span:n,args:t}},n.EmptyPiecewise=function(n){return{type:"EmptyPiecewise",span:n}},n.EmptyRangeEnd=function(n){return{type:"EmptyRangeEnd",span:n}},n.Colon=function(n,t){return{type:"Colon",span:n,args:t}},n.Ellipsis=function(n,t){return{type:"Ellipsis",span:n,args:t}},n.For=function(n,t){return{type:"For",span:n,args:t}},n.Dot=function(n,t){return{type:"Dot",span:n,args:t}},n.PercentOf=function(n,t){return{type:"PercentOf",span:n,args:t}},n.RightArrow=function(n,t){return{type:"RightArrow",span:n,args:t}},n.Juxt=function(n,t){return{type:"Juxt",span:n,args:t}},n.Letter=function(n,t){return{type:"Letter",span:n,val:t}},n.Decimal=function(n,t){return{type:"Decimal",span:n,val:t}},n.Cmd=function(n,e){return{type:"Cmd",span:n,val:t.translateCmd(e)}},n.Alphanumeric=function(n,t){return{type:"Alphanumeric",span:n,val:t}},n.MixedNumber=function(n,t,e,r){return{type:"MixedNumber",span:n,whole:t,num:e,den:r}},n.isIdentifier=e,n.isSuperscriptedIdentifier=function(n){return"Superscript"===n.type&&e(n.args[0])},n.isDerivative=function(n,t){if("Letter"!==n.type||"d"!==n.val)return!1;if("Juxt"!==t.type)return!1;var r=t.args,i=r[0],a=r[1];return"Letter"===i.type&&"d"===i.val&&e(a)},n.unwrapSeq=function(n){return"Seq"===n.type?n.args:[n]}});\ndefine(\'core/math/parser/surface-node-error\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnexpectedFor=e.AdjacentNumbers=e.FractionEmpty=e.FractionMissingDenominator=e.FractionMissingNumerator=e.DifferentialWithSuperscript=e.IntegralMissingDifferential=e.DerivativeMissingBody=e.IntegralMissingBody=e.ProductMissingBody=e.SumMissingBody=e.IntegralMissingBound=e.MissingBound=e.ProductMissingBound=e.SumMissingBound=e.UnexpectedPrime=e.SuperscriptWithPrime=e.PrimeWithoutParen=e.PercentMissingOf=e.FunctionMissingArgument=e.UnexpectedSubscript=e.InvalidSubscript=e.InvalidOperatorName=e.UnrecognizedSymbol=e.UnexpectedDifferential=e.UnexpectedCloseDelimiter=e.MissingCloseDelimiter=e.UnaryOperatorMissingLeft=e.UnaryOperatorMissingRight=e.BinaryOperatorMissingLeft=e.BinaryOperatorMissingRight=e.UnexpectedEnd=e.EmptyRadicalIndex=e.EmptyPipe=e.EmptySquareBracket=e.EmptyRadical=e.EmptySuperscript=e.EmptySubscript=e.EmptyGroup=e.EmptyInput=e.UnexpectedParseError=e.Err=void 0,e.Err=function(e,n){return{type:"Err",span:e,error:n}},e.UnexpectedParseError=function(){return{type:"UnexpectedParseError"}},e.EmptyInput=function(){return{type:"EmptyInput"}},e.EmptyGroup=function(){return{type:"EmptyGroup"}},e.EmptySubscript=function(){return{type:"EmptySubscript"}},e.EmptySuperscript=function(){return{type:"EmptySuperscript"}},e.EmptyRadical=function(){return{type:"EmptyRadical"}},e.EmptySquareBracket=function(){return{type:"EmptySquareBracket"}},e.EmptyPipe=function(){return{type:"EmptyPipe"}},e.EmptyRadicalIndex=function(){return{type:"EmptyRadicalIndex"}},e.UnexpectedEnd=function(){return{type:"UnexpectedEnd"}},e.BinaryOperatorMissingRight=function(e){return{type:"BinaryOperatorMissingRight",val:e}},e.BinaryOperatorMissingLeft=function(e){return{type:"BinaryOperatorMissingLeft",val:e}},e.UnaryOperatorMissingRight=function(e){return{type:"UnaryOperatorMissingRight",val:e}},e.UnaryOperatorMissingLeft=function(e){return{type:"UnaryOperatorMissingLeft",val:e}},e.MissingCloseDelimiter=function(e,n){return{type:"MissingCloseDelimiter",open:e,close:n}},e.UnexpectedCloseDelimiter=function(e,n){return{type:"UnexpectedCloseDelimiter",open:e,close:n}},e.UnexpectedDifferential=function(){return{type:"UnexpectedDifferential"}},e.UnrecognizedSymbol=function(e){return{type:"UnrecognizedSymbol",val:e}},e.InvalidOperatorName=function(e){return{type:"InvalidOperatorName",val:e}},e.InvalidSubscript=function(e){return{type:"InvalidSubscript",val:e}},e.UnexpectedSubscript=function(e){return{type:"UnexpectedSubscript",base:e}},e.FunctionMissingArgument=function(e){return{type:"FunctionMissingArgument",val:e}},e.PercentMissingOf=function(){return{type:"PercentMissingOf"}},e.PrimeWithoutParen=function(){return{type:"PrimeWithoutParen"}},e.SuperscriptWithPrime=function(){return{type:"SuperscriptWithPrime"}},e.UnexpectedPrime=function(){return{type:"UnexpectedPrime"}},e.SumMissingBound=function(){return{type:"SumMissingBound"}},e.ProductMissingBound=function(){return{type:"ProductMissingBound"}},e.MissingBound=function(){return{type:"MissingBound"}},e.IntegralMissingBound=function(){return{type:"IntegralMissingBound"}},e.SumMissingBody=function(){return{type:"SumMissingBody"}},e.ProductMissingBody=function(){return{type:"ProductMissingBody"}},e.IntegralMissingBody=function(){return{type:"IntegralMissingBody"}},e.DerivativeMissingBody=function(){return{type:"DerivativeMissingBody"}},e.IntegralMissingDifferential=function(){return{type:"IntegralMissingDifferential"}},e.DifferentialWithSuperscript=function(){return{type:"DifferentialWithSuperscript"}},e.FractionMissingNumerator=function(){return{type:"FractionMissingNumerator"}},e.FractionMissingDenominator=function(){return{type:"FractionMissingDenominator"}},e.FractionEmpty=function(){return{type:"FractionEmpty"}},e.AdjacentNumbers=function(e){return{type:"AdjacentNumbers",args:e}},e.UnexpectedFor=function(){return{type:"UnexpectedFor"}}});\ndefine(\'core/math/parser/expression-token-tables\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allTokenTypes=e.rightTable=e.leftTable=e.escapedSymbolTable=e.symbolTable=e.commandTable=void 0;e.commandTable={"\\\\lt":"<","\\\\gt":">","\\\\le":"<=","\\\\ge":">=","\\\\leq":"<=","\\\\geq":">=","\\\\ldots":"...","\\\\sim":"~","\\\\to":"->","\\\\cdot":"*","\\\\times":"*","\\\\div":"/","\\\\ln":"Ln","\\\\log":"Log","\\\\int":"Int","\\\\sum":"Sum","\\\\prod":"Prod","\\\\backslash":"Err","\\\\for":"for"};for(var a=0,l=["sin","cos","tan","cot","sec","csc"];a<l.length;a++){var o=l[a];e.commandTable["\\\\"+o]="Trig",e.commandTable["\\\\"+o+"h"]="Trig",e.commandTable["\\\\arc"+o]="Trig",e.commandTable["\\\\arc"+o+"h"]="Trig",e.commandTable["\\\\ar"+o+"h"]="Trig"}e.symbolTable={"+":"+","-":"-","*":"*","/":"/","!":"!","(":"(",")":")","[":"[","]":"]",",":",","...":"...",":":":","=":"=",">=":">=","<=":"<=",">":">","<":"<","~":"~",".":"."},e.escapedSymbolTable={"\\\\{":"\\\\{","\\\\}":"\\\\}","\\\\%":"%"},e.leftTable={"|":"(|","\\\\{":"\\\\{","[":"[","(":"("},e.rightTable={"|":"|)","\\\\}":"\\\\}","]":"]",")":")"},e.allTokenTypes=Object.keys({"+":!0,"-":!0,"*":!0,"/":!0,"!":!0,"(":!0,")":!0,"\\\\{":!0,"\\\\}":!0,"(|":!0,"|)":!0,"[":!0,"]":!0,",":!0,"...":!0,":":!0,"=":!0,">":!0,"<":!0,">=":!0,"<=":!0,"->":!0,"~":!0,"%":!0,".":!0,for:!0,Letter:!0,Decimal:!0,Cmd:!0,Differential:!0,End:!0,Trig:!0,Ln:!0,Log:!0,Int:!0,Sum:!0,Prod:!0,Err:!0})});\ndefine(\'core/math/parser/expression-lexer\',["require","exports","./expression-token-tables","./input-span","./input-span","./surface-node"],function(require,e,n,r,t,a){"use strict";function s(e,n,r,t,a,s,i,p){return{opts:e,input:n,prevSpan:r,startIndex:t,endIndex:a,token:s,mode:i,parent:p}}function i(e,n,r){return{type:e,span:n,val:r}}function p(e,r,t,a,p,o){var f=r.args;if(t>f.length&&o)return u(o,a);var v=g(r,t=m(f,t),p),d=v.token,y=v.endIndex;if("End"===d.type&&o){var S=o.input.args[o.startIndex];if("LeftRight"===S.type){var h=S.right;return s(e,r,a,t,y,i(n.rightTable[h.val]||"Err",h.span,h.val),p,o)}}else"Int"===d.type?p=l(p):"Differential"===d.type&&(p=c(p));return s(e,r,a,t,y,d,p,o)}function u(e,n){var r=e.input,t=e.endIndex,a=e.mode,s=e.parent;return p(e.opts,r,t+1,n,a,s)}function o(e){return e.token}function l(e){return{type:"integral",parent:e}}function c(e){if(!e||"integral"!==e.type)throw new Error("Programming Error: expected lexer to be in integral mode.");return e.parent}function f(e,n){return{token:n,endIndex:e}}function g(e,t,a){if(t>=e.args.length)return f(t,i("End",r.emptySpanAt(e.span.input,e.span.end),""));var s=e.args[t];switch(s.type){case"Sqrt":case"Frac":case"SupSub":return f(t,s);case"Letter":if(!a||"integral"!==a.type)return f(t,s);if("d"!=s.val)return f(t,s);var p=g(e,t+1,a),u=p.endIndex,o=p.token;return"Letter"===o.type||"Cmd"===o.type?f(u,function(e,n){return{type:"Differential",span:e,val:n}}(r.joinSpans(s.span,o.span),o.val)):f(t,s);case"LeftRight":var l=s.left;return f(t,i(n.leftTable[l.val]||"Err",r.joinSpans(s.span,l.span),l.val));case"OperatorName":for(var c=[],d=0,h=s.arg.args;d<h.length;d++){var b=h[d];if("Letter"!==b.type)return f(t,i("Err",s.span,r.slice(s.arg.span)));c.push(b.val)}var k="\\\\"+c.join("");return f(t,i(n.commandTable[k]||"Cmd",s.span,k));case"Cmd":return f(t,i(n.commandTable[s.val]||"Cmd",s.span,s.val));case"EscapedSymbol":return f(t,i(n.escapedSymbolTable[s.val]||"Err",s.span,s.val));case"Symbol":return function(e,t,a){switch(a.val){case".":return function(e,t){var a=e.args[t];if("Symbol"!==a.type||"."!==a.val)throw new Error("Programming Error: expected \'.\'");if(t+2<e.args.length&&y(e.args[t+1])&&y(e.args[t+2])){var s=r.joinSpans(a.span,e.args[t+2].span);return f(t+2,i("...",s,r.slice(s)))}var p=m(e.args,t+1);if(p<e.args.length&&"Digit"===e.args[p].type)return v(e,t);var u=n.symbolTable[a.val]||"Err";return f(t,i(u,a.span,a.val))}(e,t);case"-":if((s=e.args[t+1])&&S(s,">"))return f(t+1,i("->",r.joinSpans(a.span,s.span),"->"));break;case"<":if((s=e.args[t+1])&&S(s,"="))return f(t+1,i("<=",r.joinSpans(a.span,s.span),"<="));break;case">":var s;if((s=e.args[t+1])&&S(s,"="))return f(t+1,i(">=",r.joinSpans(a.span,s.span),">="))}var p=n.symbolTable[a.val]||"Err";return f(t,i(p,a.span,a.val))}(e,t,s);case"Digit":return v(e,t);default:throw"Unexpected atom "+s.type+"."}}function v(e,n){var t=function(e,n){for(var t=e.args,s=t[n].span,i=[];n<t.length;n++){var p=m(t,n);if(p>=t.length)break;if("Digit"!==(S=t[p]).type)break;n=p,i.push(S.val)}if((n=m(t,n))>=t.length)return;var u=t[n];if("Frac"!==u.type)return;for(var o=[],l=[],c=0,g=u.num.args;c<g.length;c++){if(!d(S=g[c])){if("Digit"!==S.type)return;o.push(S.val)}}for(var v=0,y=u.den.args;v<y.length;v++){var S;if(!d(S=y[v])){if("Digit"!==S.type)return;l.push(S.val)}}var h=r.joinSpans(s,u.span);return f(n,a.MixedNumber(h,i.join(""),o.join(""),l.join("")))}(e,n);if(t)return t;for(var s=e.args,p=e.args[n].span,u=[],o=!1,l=!1;n<s.length;n++){var c=m(s,n);if(c>=s.length)break;var g=s[c];if("Digit"===g.type)n=c,o=!0,u.push(g.val);else{if(l||!y(g))break;if(c+1<s.length&&y(e.args[c+1]))break;n=c,l=!0,u.push(".")}}if(!o)throw new Error("Programming Error: decimals must have at least one digit.");return f(n-1,i("Decimal",r.joinSpans(p,e.args[n-1].span),u.join("")))}function d(e){switch(e.type){case"Sqrt":case"Frac":case"SupSub":case"LeftRight":case"OperatorName":case"Symbol":case"Letter":case"Digit":return!1;case"Cmd":return"\\\\space"===e.val;case"EscapedSymbol":return"\\\\ "===e.val||"\\\\:"===e.val||"\\\\,"===e.val||"\\\\;"===e.val;default:throw"Unexpected atom "+e.type+"."}}function m(e,n){for(;n<e.length&&d(e[n]);)n+=1;return n}function y(e){return S(e,".")}function S(e,n){return"Symbol"===e.type&&e.val===n}Object.defineProperty(e,"__esModule",{value:!0}),e.didAdvance=e.isDone=e.isAt=e.endIntegral=e.beginIntegral=e.peek=e.advance=e.lexAt=e.lex=e.emptySpanAtState=e.joinState=e.spanStates=e.Span=void 0,Object.defineProperty(e,"Span",{enumerable:!0,get:function(){return t.Span}}),e.spanStates=function(e,n){return r.joinSpans(e.token.span,n.prevSpan)},e.joinState=function(e,n){return r.joinSpans(e,n.prevSpan)},e.emptySpanAtState=function(e){return r.emptySpanAt(e.token.span.input,e.token.span.start)},e.lex=function(e,n){return p(n,e,0,r.emptySpanAt(e.span.input,e.span.start),undefined,undefined)},e.lexAt=p,e.advance=function(e){var n=e.input.args[e.startIndex],r=e.token.span;return n&&"LeftRight"===n.type?p(e.opts,n.arg,0,r,e.mode,e):u(e,r)},e.peek=o,e.beginIntegral=l,e.endIntegral=c,e.isAt=function(e,n){return o(e).type===n},e.isDone=function(e){return e.startIndex>=e.input.args.length},e.didAdvance=function(e,n){return n.token.span.start>e.token.span.start}});\ndefine(\'core/math/parser/precspec\',["require","exports","./expression-token-tables"],function(require,e,r){"use strict";function t(e,t){for(var n=0,i=r.allTokenTypes;n<i.length;n++){var o=i[n];if(void 0===t[o])throw new Error("Programming Error: token "+o+" must be a assigned a "+e+" precedence")}}function n(e,r,t,n){if(void 0!==r[t])throw new Error("Programming Error: duplicate "+e+" entry for token "+t+".");r[t]=n}Object.defineProperty(e,"__esModule",{value:!0}),e.precSpec=e.ra=e.la=e.r=e.l=e.initial=void 0,e.initial=function(e){return{type:"initial",tokenType:e}},e.l=function(e){return{type:"l",tokenType:e}},e.r=function(e){return{type:"r",tokenType:e}},e.la=function(e){return{type:"la",tokenType:e}},e.ra=function(e){return{type:"ra",tokenType:e}},e.precSpec=function(e){for(var r={},i={},o={},a=0;a<e.length;a++)for(var c=0,l=e[a];c<l.length;c++){var u=l[c],f=u.type,p=u.tokenType;switch(f){case"initial":n("initial",r,p,a);break;case"l":n("left",i,p,a);break;case"r":n("right",o,p,a);break;case"la":n("left",i,p,a),n("right",o,p,a);break;case"ra":n("left",i,p,a),n("right",o,p,a-1)}}function s(e){return o[e]}return t("left",i),t("right",o),{rightPrec:s,leftPrec:function(e){return i[e]},initialPrec:function(e){var t=r[e];return void 0===t?s(e):t}}}});\ndefine(\'core/math/inverses\',[],function(){"use strict";var c={};return["sin","cos","tan","cot","sec","csc","sinh","cosh","tanh","coth","sech","csch"].forEach(function(n){c[n]="arc"+n,c["arc"+n]=n}),c});\ndefine(\'core/math/parser/lower\',["require","exports","core/math/inverses","tslib","core/math/errormsg","./input-span","./surface-node","../maybe-rational"],function(require,e,r,t,a,n,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLegalAssignmentLhs=e.isFunctionSignature=e.lower=void 0;var c=0;function u(e,r){for(var t=[],a=0;a<r.length;a++)t.push(d(e,r[a]));return t}function o(e){if("Call"===e.type){var r=e.args,t=r[0],a=r[1],n=s.unwrapSeq(a);return s.isIdentifier(t)&&n.every(s.isIdentifier)?{base:t,args:n}:void 0}}function p(e){return s.isIdentifier(e)}function l(e){if("Paren"!==e.type)return!1;var r=e.args[0];return"Seq"===r.type&&2===r.args.length}function d(e,r){return e.setInput(g(e,r),r.span)}function g(e,r){var t=e.nodes;switch(r.type){case"Pos":return g(e,r.args[0]);case"Neg":for(var o=-1,p=r.args[0];;)if("Pos"===p.type||"Paren"===p.type&&!l(p))p=p.args[0];else{if("Neg"!==p.type)break;p=p.args[0],o*=-1}switch(p.type){case"Decimal":var P=w(p);return t.Constant(-1===o?i.neg(P):P);case"MixedNumber":P=S(p);return t.MixedNumber(-1===o?i.neg(P):P);default:return-1===o?t.Negative([d(e,p)]):g(e,p)}case"Add":return t.Add(u(e,r.args));case"Sub":return t.Subtract(u(e,r.args));case"Mul":return t.Multiply(u(e,r.args));case"Div":return t.Divide(u(e,r.args));case"Bang":var M=r.args[0];return"Call"===M.type?t.FunctionFactorial(u(e,M.args)):t.FunctionCall("\\\\factorial",u(e,r.args));case"PercentOf":return t.PercentOf(u(e,r.args));case"Call":return m(e,r);case"ImplicitCall":return function(e){var r=e.args,t=r[0],n=r[1];"Superscript"===t.type&&(t=t.args[0]);if("Cmd"===t.type&&"logbase"===t.val&&"Seq"===n.type&&2===n.args.length){if(!I(n.args[0]))throw a.badImplicitCall("log")}else if(!I(n)){if("Cmd"===t.type)throw a.badImplicitCall(t.val);throw a.parseError()}}(r),m(e,r);case"Dot":var D=r.args[1],A=u(e,r.args),L=A[0],F=A[1];if(C(D)){var B=n.emptySpanAt(D.span.input,D.span.end),O=e.setInput(q(e),B);F=e.setInput(t.SeededFunctionCall(F,[O]),D.span)}else if("Letter"===D.type)switch(D.val){case"x":return t.OrderedPairAccess([L,t.Constant(1)]);case"y":return t.OrderedPairAccess([L,t.Constant(2)])}else if("Call"===D.type){if("Letter"===(U=D.args[0]).type)switch(U.val){case"x":return t.Multiply([t.OrderedPairAccess([L,t.Constant(1)]),d(e,D.args[1])]);case"y":return t.Multiply([t.OrderedPairAccess([L,t.Constant(2)]),d(e,D.args[1])])}}return t.DotAccess([L,F]);case"Prime":var N=r.args[0];if("Call"===N.type){var R=N.args,U=R[0],_=R[1],T=s.unwrapSeq(_).length;if("Cmd"===U.type&&"logbase"===U.val){if(2!==T)throw a.primedFunctionArity()}else if(1!==T)throw a.primedFunctionArity();return t.Prime(r.nprimes,u(e,r.args))}throw"ImplicitCall"===N.type?a.primeWithoutParen():a.unexpectedPrime();case"Index":var k=r.args,W=k[0],j=k[1];if("Seq"===j.type)return t.ListAccess([g(e,W),t.List(u(e,j.args))]);if("Ellipsis"===j.type){var z=j.args,H=z[0],J=z[1];return t.ListAccess([g(e,W),t.Range([t.List(u(e,s.unwrapSeq(H))),t.List("EmptyRangeEnd"===J.type?[]:u(e,s.unwrapSeq(J)))])])}return v(j)?t.ListAccess([g(e,W),h(e,j)]):t.ListAccess(u(e,r.args));case"Paren":var K=r.args[0];if("Seq"===K.type){if(0===K.args.length)throw a.emptyParen();return t.ParenSeq(u(e,K.args))}return g(e,K);case"List":if(0===r.args.length)return t.List([]);var G=r.args[0];if("Ellipsis"===G.type){var Q=G.args;H=Q[0],J=Q[1];return t.Range([t.List(u(e,s.unwrapSeq(H))),t.List(u(e,s.unwrapSeq(J)))])}if("For"===G.type){for(var V=G.args,X=V[0],Y=V[1],Z=e.setInput(t.Identifier("_comprehensionIndex_"+c++),X.span),$=d(E(e,{prefix:"li",expr:Z}),X),ee=[],re=0,te=s.unwrapSeq(Y);re<te.length;re++){var ae=te[re];if(!x(ae))throw a.listComprehensionIncorrectInput();ee.push(e.setInput(t.AssignmentExpression(u(e,ae.args)),ae.span))}return t.ListComprehension(Z,$,ee)}return t.List(u(e,s.unwrapSeq(G)));case"Pipes":return t.FunctionCall("\\\\abs",u(e,r.args));case"Subscript":var ne=r.args,se=ne[0],ie=ne[1];if(0===ie.val.length)throw a.emptySubscript();var ce=void 0;switch(se.type){case"Letter":case"Cmd":ce=se.val;break;default:throw a.unexpectedSubscript()}return t.Identifier(ce+"_"+ie.val);case"Superscript":var ue=r.args,oe=(se=ue[0],ue[1]);if("Call"!==se.type||"Seq"===se.args[1].type||function(e){if("Call"!==e.type)return!1;var r=e.args[0];for(;"Superscript"===r.type||"Subscript"===r.type||"Prime"===r.type;)r=r.args[0];return"Cmd"===r.type&&(f(r.val)||y(r.val))}(se)){if("Dot"===se.type){D=se.args[1];var pe=u(e,se.args),le=(L=pe[0],F=pe[1],d(e,oe));if("Letter"===D.type)switch(D.val){case"x":return t.Exponent([t.OrderedPairAccess([L,t.Constant(1)]),le]);case"y":return t.Exponent([t.OrderedPairAccess([L,t.Constant(2)]),le])}else if("Call"===D.type){if("Letter"===(U=D.args[0]).type)switch(U.val){case"x":return t.Multiply([t.OrderedPairAccess([L,t.Constant(1)]),t.Exponent([d(e,D.args[1]),le])]);case"y":return t.Multiply([t.OrderedPairAccess([L,t.Constant(2)]),t.Exponent([d(e,D.args[1]),le])])}}return t.Exponent([t.DotAccess([L,F]),le])}return t.Exponent(u(e,r.args))}return t.FunctionExponent(u(e,[se.args[0],se.args[1],oe]));case"Sqrt":return t.FunctionCall("sqrt",u(e,r.args));case"Nthroot":return t.FunctionCall("nthroot",u(e,[r.args[1],r.args[0]]));case"Frac":return t.Divide(u(e,r.args));case"Derivative":var de=u(e,r.args);if(!s.isIdentifier(r.args[0]))throw a.parseError();return t.Derivative(de[0],[de[1]]);case"Integral":var ge=r.args;de=u(e,[ye=ge[0],ge[1],ve=ge[2],he=ge[3]]);return t.Integral(de);case"EmptyIntegral":var fe=u(e,r.args),ye=fe[0],me=fe[1],ve=fe[2],he=t.Constant(i.maybeRational(1,1));return t.Integral([ye,me,ve,he]);case"Sum":var we=r.args,Se=(X=we[0],we[1]);ve=we[2];if(!x(Se))throw a.incorrectSumLowerBound();var xe=d(E(e,{prefix:"ro",expr:(de=u(e,[Se.args[0],Se.args[1],ve]))[0]}),X);return t.Sum(de.concat(xe));case"Product":var be=r.args,Ie=(X=be[0],be[1]);ve=be[2];if(!x(Ie))throw a.incorrectProductLowerBound();xe=d(E(e,{prefix:"ro",expr:(de=u(e,[Ie.args[0],Ie.args[1],ve]))[0]}),X);return t.Product(de.concat(xe));case"Juxt":return t.Multiply(u(e,r.args));case"Letter":return t.Identifier(r.val);case"Cmd":var Ce=r.val;switch(Ce){case"ans":if(void 0===e.currentIndex)throw a.badSymbolContext("ans");return t.Ans("ans_{"+(e.currentIndex-1)+"}");case"approx":throw a.unrecognizedSymbol(Ce);case"dt":if(!e.allowDt)throw a.badSymbolContext(Ce);return t.Identifier(Ce);case"index":if(!e.allowIndex)throw a.badSymbolContext(Ce);return t.Identifier(Ce);default:return t.Identifier(Ce)}case"Decimal":return t.Constant(w(r));case"MixedNumber":return t.MixedNumber(S(r));case"Piecewise":return function(e,r){var t,n=e.nodes,c=r.args[0],u=s.unwrapSeq(c),o=[];e:for(t=0;t<u.length;t++){var p=u[t];switch(p.type){case"Colon":var l=p.args,g=l[0],f=l[1];if(!v(g))throw a.colonMissingCondition();o.push({condition:h(e,g),if_expr:d(e,f)});break;case"Equals":case"Inequality":case"InequalityChain":o.push({condition:h(e,p),if_expr:n.Constant(i.maybeRational(1,1))});break;default:break e}}if(0===t)throw a.piecewiseMissingCondition();if(t<u.length-1)throw a.piecewisePartMissingCondition();var y=t===u.length-1?d(e,u[t]):n.Constant(NaN);if(!n.Piecewise.chain)throw a.featureUnavailable();return n.Piecewise.chain(o,y)}(e,r);case"RightArrow":return function(e,r){var t=e.nodes;if(!s.isIdentifier(r.args[0]))throw a.updateRuleNonIdentifierLHS();return e=E(e,{prefix:"ec",expr:e.setInput(t.Identifier("globalEventCount"),n.emptySpanAt(r.span.input,r.span.start))}),t.UpdateRule(u(e,r.args))}(e,r);case"Seq":return t.BareSeq(u(e,r.args));case"EmptyPiecewise":if(!t.Piecewise.empty)throw a.featureUnavailable();return t.Piecewise.empty();case"Equals":throw a.unexpectedSymbol("=");case"Inequality":case"InequalityChain":throw a.unexpectedInequality();case"Tilde":throw a.unexpectedSymbol("~");case"Colon":throw a.unexpectedSymbol(":");case"Ellipsis":throw a.unexpectedSymbol("...");case"For":throw a.unexpectedForKeyword();case"EmptyRangeEnd":throw a.invalidHalfEmptyRange();case"Err":throw function(e){switch(e.type){case"UnexpectedParseError":case"MissingBound":case"EmptyGroup":case"UnexpectedDifferential":case"UnexpectedEnd":return a.parseError();case"InvalidOperatorName":return a.invalidOperatorName();case"UnexpectedCloseDelimiter":case"MissingCloseDelimiter":return a.mismatchedBraces(e.open,e.close);case"UnrecognizedSymbol":return"."===e.val?a.unexpectedSymbol(e.val):a.unrecognizedSymbol(e.val);case"EmptyInput":return a.blankExpression();case"BinaryOperatorMissingRight":case"BinaryOperatorMissingLeft":return a.binaryOperatorMissingOperand("%"===e.val?"% of":e.val);case"UnaryOperatorMissingLeft":return a.unaryOperatorMissingLeft(e.val);case"UnaryOperatorMissingRight":return a.unaryOperatorMissingRight(e.val);case"UnexpectedSubscript":return a.cannotSubscript(e.base);case"PercentMissingOf":return a.percentMissingOf();case"SumMissingBound":return a.sumMissingBound();case"ProductMissingBound":return a.productMissingBound();case"IntegralMissingBound":return a.integralMissingBound();case"SumMissingBody":return a.sumMissingBody();case"ProductMissingBody":return a.productMissingBody();case"IntegralMissingBody":return a.integralMissingBody();case"DerivativeMissingBody":return a.derivativeMissingBody();case"IntegralMissingDifferential":return a.integralMissingDifferential();case"DifferentialWithSuperscript":return a.differentialWithSuperscript();case"FractionMissingNumerator":return a.fractionMissingNumerator();case"FractionMissingDenominator":return a.fractionMissingDenominator();case"FractionEmpty":return a.fractionEmpty();case"EmptySuperscript":return a.emptySuperscript();case"EmptySubscript":return a.emptySubscript();case"InvalidSubscript":return a.invalidSubscript(e.val);case"SuperscriptWithPrime":return a.superscriptWithPrime();case"PrimeWithoutParen":return a.primeWithoutParen();case"UnexpectedPrime":return a.unexpectedPrime();case"EmptyRadical":return a.emptyRadical();case"EmptyRadicalIndex":return a.emptyRadicalIndex();case"EmptySquareBracket":return a.emptySquareBracket();case"EmptyPipe":return a.emptyPipe();case"FunctionMissingArgument":return a.wrongArity(e.val,1,0);case"AdjacentNumbers":return a.adjacentNumbers(b(e.args[0]),b(e.args[1]));case"UnexpectedFor":return a.unexpectedForKeyword();default:throw"Unexpected surface node "+e.type+"."}}(r.error);default:throw"Unexpected surface node "+r.type+"."}}function f(e){return r.hasOwnProperty(e)}function y(e){return"ln"===e||"log"===e||"logbase"===e}function m(e,t){var i=e.nodes,c=t.args,o=c[0],p=c[1],l=d(e,o),g=u(e,s.unwrapSeq(p));if(C(o)){var m=n.emptySpanAt(p.span.input,p.span.start),v=e.setInput(q(e),m);return i.SeededFunctionCall(l,[v].concat(g))}if(s.isIdentifier(o))return i.FunctionCall(l,g);if("Superscript"===o.type){var h=o.args,w=h[0],S=h[1];if("Cmd"===w.type){var x=w.val;if(f(x)||y(x)){if(function(e){return"Decimal"===e.type&&"2"===e.val}(S))return i.Exponent([i.FunctionCall(x,g),d(e,S)]);if(function(e){return"Neg"===e.type&&"Decimal"===(e=e.args[0]).type&&"1"===e.val}(S)&&void 0!==r[x])return i.FunctionCall(r[x],g);throw f(x)?a.badTrigExponent(x):a.badLogExponent("logbase"===x?"log":x)}}}return i.Multiply([l,d(e,p)])}function v(e){return"Equals"===e.type||"Inequality"===e.type||"InequalityChain"===e.type}function h(e,r){var t=e.nodes;switch(r.type){case"Equals":return t.Comparator["="](u(e,r.args));case"Inequality":return t.Comparator[r.symbol](u(e,r.args));case"InequalityChain":if(r.chain.length>1)throw a.inequalityChainTooLong();var i=r.first,c=i.symbol,o=i.args,p=o[0],l=o[1],d=r.chain[0],g=d.symbol,f=d.args[0],y=n.emptySpanAt(r.span.input,r.span.start);return t.And([h(e,s.Inequality(y,c,[p,l])),h(e,s.Inequality(y,g,[l,f]))]);default:throw a.parseError()}}function w(e){return i.fromDecimalString(e.val)}function S(e){var r=i.fromDecimalString(e.whole),t=i.fromDecimalString(e.num),a=i.fromDecimalString(e.den);return i.add(r,i.div(t,a))}function x(e){return"Equals"===e.type&&s.isIdentifier(e.args[0])}function b(e){switch(e.type){case"Decimal":return e.val;case"MixedNumber":return e.whole+" "+e.num+"/"+e.den;default:throw new Error("Unexpected node type "+e.type)}}function I(e){switch(e.type){case"Letter":case"Decimal":case"MixedNumber":case"Cmd":case"EmptyPiecewise":return!0;case"Neg":for(var r=e.args[0];;)if("Pos"===r.type||"Paren"===r.type&&!l(r))r=r.args[0];else{if("Neg"!==r.type)break;r=r.args[0]}return"Decimal"===r.type||"MixedNumber"===r.type;case"Pos":case"Paren":return I(e.args[0]);case"Juxt":case"Mul":case"Div":return I(e.args[0])&&I(e.args[1]);case"Subscript":return I(e.args[0]);case"Superscript":case"Frac":case"Add":case"Sub":return I(e.args[0])&&I(e.args[1]);case"Piecewise":return"Equals"===(r=e.args[0]).type||"Inequality"===r.type||"InequalityChain"===r.type;case"Call":var t=e.args,a=t[0],n=t[1];return!s.isIdentifier(a)&&!s.isSuperscriptedIdentifier(a)&&(I(a)&&I(n));case"Derivative":case"Sqrt":case"Nthroot":case"Pipes":case"Bang":return!1;case"Equals":case"Inequality":case"InequalityChain":case"Tilde":case"ImplicitCall":case"Index":case"List":case"Seq":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Colon":case"Ellipsis":case"For":case"Dot":case"PercentOf":case"Prime":case"EmptyRangeEnd":case"RightArrow":return!1;default:throw"Unexpected surface node "+e.type+"."}}function C(e){return"Cmd"===e.type&&("random"===e.val||"shuffle"===e.val)}function q(e){var r=e.nodes.ExtendSeed("",[e.nodes.Identifier("globalRandomSeed"),e.nodes.Seed(e.nextSeed())]);if(!e.seedExtensions)return r;for(var t=0,a=e.seedExtensions;t<a.length;t++){var n=a[t],s=n.prefix,i=n.expr;r=e.nodes.ExtendSeed(s,[r,i])}return r}function E(e,r){var a=e.seedExtensions||[];return t.__assign(t.__assign({},e),{seedExtensions:a.concat(r)})}e.lower=function(e,r){return function(e,r){return e.setInput(function(e,r){var t=e.nodes;switch(r.type){case"Equals":var n=r.args,i=n[0],c=n[1],l=o(i);if(l){var f=l.base,y=l.args;return t.FunctionDefinition(d(e,f),u(e,y),d(e,c))}return p(i)?t.Assignment(d(e,i),d(e,c)):t.Equation(d(e,i),d(e,c));case"Tilde":var m=u(e,r.args);i=m[0],c=m[1];return t.Regression(i,c);case"Inequality":return h(e,r);case"InequalityChain":if(r.chain.length>1)throw a.inequalityChainTooLong();var v=r.first,w=v.symbol,S=v.args,x=S[0],b=S[1],I=r.chain[0],C=I.symbol,q=I.args[0];return s.isIdentifier(b)?t.DoubleInequality([d(e,x),w,d(e,b),C,d(e,q)]):h(e,r);case"Call":var E=r.args,P=E[0],M=E[1];if("Cmd"===P.type)switch(P.val){case"histogram":return t.Histogram(u(e,s.unwrapSeq(M)));case"cube":case"sphere":case"cone":case"dodecahedron":case"octahedron":case"tetrahedron":return t.Object3D(u(e,s.unwrapSeq(M)),P.val);case"dotplot":return t.DotPlot(u(e,s.unwrapSeq(M)));case"boxplot":return t.BoxPlot(u(e,s.unwrapSeq(M)));case"ttest":return t.TTest(u(e,s.unwrapSeq(M)));case"ittest":return t.IndependentTTest(u(e,s.unwrapSeq(M)));case"stats":return t.Stats(u(e,s.unwrapSeq(M)));default:return g(e,r)}return g(e,r);default:return g(e,r)}}(e,r),r.span)}(e,r)},e.isFunctionSignature=function(e){return void 0!==o(e)},e.isLegalAssignmentLhs=p});\ndefine(\'core/math/parser/expression-parser\',["require","exports","tslib","core/math/errormsg","./surface-node","./surface-node-error","./input-span","./expression-lexer","./precspec","./lower"],function(require,e,r,t,a,n,s,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var c=[[p.initial("("),p.la(")"),p.initial("\\\\{"),p.la("\\\\}"),p.r("["),p.la("]"),p.initial("(|"),p.la("|)"),p.la("Differential"),p.la("End")],[p.r("for")],[p.ra("...")],[p.la(",")],[p.ra(":")],[p.r("->")],[p.la("="),p.la(">"),p.la("<"),p.la(">="),p.la("<="),p.la("~")],[p.l("->")],[p.l("for")],[p.la("+"),p.la("-")],[p.la("*"),p.la("/"),p.la("Decimal"),p.la("MixedNumber"),p.la("Letter"),p.la("Cmd"),p.la("%"),p.r("("),p.la("\\\\{"),p.la("(|"),p.la("Frac"),p.la("Sqrt"),p.la("Trig"),p.la("Ln"),p.la("Log"),p.ra("Int"),p.ra("Sum"),p.ra("Prod")],[p.initial("+"),p.initial("-")],[p.la("!")],[p.la("SupSub")],[p.l("["),p.la(".")],[p.l("(")],[p.la("Err")]],o=p.precSpec(c),l=o.leftPrec,d=o.rightPrec,E=o.initialPrec,f={trailingComma:!1};function y(e,r){var t=(void 0===r?{isToplevel:!1}:r).isToplevel;if(i.isDone(e))return n.Err(i.spanStates(e,e),n.EmptyGroup());var a=S(e,0,{isToplevel:t}),s=a.state,p=a.tree;return"Err"===p.type||i.isDone(s)?p:C(s).tree}function v(e,r){return{state:e,tree:r}}function S(e,r,s){var p,u,c,o=(void 0===s?{isToplevel:!1}:s).isToplevel,f=e;if(p=function(e){var r,s,p,u,c,o,d,f,g,x,b,P,k,w,B,I,L,O,q,F=e,R=i.peek(e),N=E(R.type);switch(R.type){case"+":if(e=(r=S(e=i.advance(e),N)).state,"Err"===(q=r.tree).type){if(!m(q.error))return v(e,q);var G=i.spanStates(F,e);return v(e,n.Err(G,n.UnaryOperatorMissingRight(R.val)))}return v(e,a.Pos(i.spanStates(F,e),[q]));case"-":if(e=(s=S(e=i.advance(e),N)).state,"Err"===(q=s.tree).type){if(!m(q.error))return v(e,q);G=i.spanStates(F,e);return v(e,n.Err(G,n.UnaryOperatorMissingRight(R.val)))}return v(e,a.Neg(i.spanStates(F,e),[q]));case"(":return A(e);case"\\\\{":return e=i.advance(e),i.isAt(e,"\\\\}")?v(e=i.advance(e),a.EmptyPiecewise(i.spanStates(F,e))):(e=(u=j(F,e=(p=S(e,N)).state,q=p.tree,"\\\\{","\\\\}")).state,"Err"===(q=u.tree).type?v(e,q):v(e,a.Piecewise(i.spanStates(F,e),[q])));case"[":return e=i.advance(e),i.isAt(e,"]")?v(e=i.advance(e),a.List(i.spanStates(F,e),[])):(e=(o=j(F,e=(c=S(e,N)).state,q=c.tree,"[","]")).state,"Err"===(q=o.tree).type?v(e,q):v(e,a.List(i.spanStates(F,e),[q])));case"(|":if(e=i.advance(e),i.isAt(e,"|)")){e=i.advance(e);G=i.spanStates(F,e);return v(e,n.Err(G,n.EmptyPipe()))}return e=(f=j(F,e=(d=S(e,N)).state,q=d.tree,"(|","|)")).state,"Err"===(q=f.tree).type?v(e,q):v(e,a.Pipes(i.spanStates(F,e),[q]));case"Frac":if(e.opts.disallowFrac)throw t.fractionsUnavailable();e=i.advance(e);var T=y(i.lex(R.num,e.opts)),_=y(i.lex(R.den,e.opts));if("Err"===T.type&&"EmptyGroup"===T.error.type&&"Err"===_.type&&"EmptyGroup"===_.error.type){G=i.spanStates(F,e);return v(e,n.Err(G,n.FractionEmpty()))}if("Err"===T.type&&"EmptyGroup"===T.error.type){G=i.spanStates(F,e);return v(e,n.Err(G,n.FractionMissingNumerator()))}if("Err"===_.type&&"EmptyGroup"===_.error.type){G=i.spanStates(F,e);return v(e,n.Err(G,n.FractionMissingDenominator()))}if("Err"===T.type)return v(e,T);if("Err"===_.type)return v(e,_);if(a.isDerivative(T,_)&&"Juxt"===_.type){var W=_.args[1],J=void 0;if(e=(g=S(e,l("*")-1)).state,"Err"===(J=g.tree).type){if(m(J.error)){G=i.spanStates(F,e);return v(e,n.Err(G,n.DerivativeMissingBody()))}return v(e,J)}return v(e,a.Derivative(i.spanStates(F,e),[W,J]))}return v(e,a.Frac(i.spanStates(F,e),[T,_]));case"Sqrt":if(e=i.advance(e),R.optArg){var z=y(i.lex(R.optArg,e.opts));return"Err"===z.type?"EmptyGroup"===z.error.type?v(e,n.Err(z.span,n.EmptyRadicalIndex())):v(e,z):"Err"===(H=y(i.lex(R.arg,e.opts))).type?"EmptyGroup"===H.error.type?v(e,n.Err(H.span,n.EmptyRadical())):v(e,H):v(e,a.Nthroot(i.spanStates(F,e),[z,H]))}var H;return"Err"===(H=y(i.lex(R.arg,e.opts))).type?"EmptyGroup"===H.error.type?v(e,n.Err(H.span,n.EmptyRadical())):v(e,H):v(e,a.Sqrt(i.spanStates(F,e),[H]));case"Trig":case"Ln":e=i.advance(e);var K=a.Cmd(i.spanStates(F,e),R.val),Q=0;if("SupSub"===(ie=i.peek(e)).type){if(e=i.advance(e),ie.sub){G=i.spanStates(F,e);return v(e,n.Err(G,n.UnexpectedSubscript(K.val)))}if(Z=h(ie,e.opts)){if("Err"===Z.type)return v(e,Z);K=a.Superscript(i.spanStates(F,e),[K,Z])}Q=ie.nprimes}if(V=i.isAt(e,"(")){if(e=(x=A(e)).state,"Err"===(q=x.tree).type)return v(e,q);q=a.Call(i.spanStates(F,e),[K,q.args[0]])}else{if(e=(b=S(e,N-1)).state,"Err"===(q=b.tree).type)return m(q.error)?v(e,n.Err(i.spanStates(F,e),n.FunctionMissingArgument(R.val))):v(e,q);q=a.ImplicitCall(i.spanStates(F,e),[K,q])}if(Q>0){G=i.spanStates(F,e);if(!V)return v(e,n.Err(G,n.PrimeWithoutParen()));q=a.Prime(G,Q,[q])}return v(e,q);case"Log":e=i.advance(e);var V,X=i.spanStates(F,e),Y=(K=a.Cmd(X,R.val),Q=0,void 0),Z=void 0;if("SupSub"===(ie=i.peek(e)).type&&(Y=M(ie,(e=i.advance(e)).opts),Z=h(ie,e.opts),Q=ie.nprimes),Y&&"Err"===Y.type)return v(e,Y);if(Z&&"Err"===Z.type)return v(e,Z);if(V=i.isAt(e,"(")){if(e=(P=A(e)).state,"Err"===(q=P.tree).type)return v(e,q);q=q.args[0]}else if(e=(k=S(e,N-1)).state,"Err"===(q=k.tree).type)return m(q.error)?v(e,n.Err(i.spanStates(F,e),n.FunctionMissingArgument(R.val))):v(e,q);var $=Y?a.Cmd(X,"\\\\logbase"):K,ee=Y?a.Seq(i.spanStates(F,e),a.unwrapSeq(q).concat(Y)):q;if(Z&&($=a.Superscript(i.spanStates(F,e),[$,Z])),q=V?a.Call(i.spanStates(F,e),[$,ee]):a.ImplicitCall(i.spanStates(F,e),[$,ee]),Q>0){G=i.spanStates(F,e);if(!V)return v(e,n.Err(G,n.PrimeWithoutParen()));q=a.Prime(G,Q,[q])}return v(e,q);case"Int":if(e=i.advance(e),"Err"===(te=D(ie=i.peek(e),F,e=i.advance(e))).type)return"MissingBound"===te.error.type?v(e,n.Err(te.span,n.IntegralMissingBound())):v(e,te);Z=te.sup,Y=te.sub,W=void 0;if(i.isAt(e,"Differential"))return e=(w=U(e)).state,"Err"===(W=w.tree).type?v(e,W):v(e,a.EmptyIntegral(i.spanStates(F,e),[W,Y,Z]));if(e=(B=S(e,N)).state,"Err"===(q=B.tree).type)return m(q.error)?v(e,n.Err(q.span,n.IntegralMissingBody())):v(e,q);var re=q;return i.isAt(e,"Differential")?(e=(I=U(e)).state,"Err"===(W=I.tree).type?v(e,W):v(e,a.Integral(i.spanStates(F,e),[W,Y,Z,re]))):v(e,n.Err(i.spanStates(F,e),n.IntegralMissingDifferential()));case"Sum":if(e=i.advance(e),"Err"===(te=D(ie=i.peek(e),F,e=i.advance(e))).type)return"MissingBound"===te.error.type?v(e,n.Err(te.span,n.SumMissingBound())):v(e,te);Z=te.sup,Y=te.sub;return e=(L=S(e,N)).state,"Err"===(q=L.tree).type?m(q.error)?v(e,n.Err(q.span,n.SumMissingBody())):v(e,q):v(e,a.Sum(i.spanStates(F,e),[q,Y,Z]));case"Prod":var te;if(e=i.advance(e),"Err"===(te=D(ie=i.peek(e),F,e=i.advance(e))).type)return"MissingBound"===te.error.type?v(e,n.Err(te.span,n.ProductMissingBound())):v(e,te);Z=te.sup,Y=te.sub;return e=(O=S(e,N)).state,"Err"===(q=O.tree).type?m(q.error)?v(e,n.Err(q.span,n.ProductMissingBody())):v(e,q):v(e,a.Product(i.spanStates(F,e),[q,Y,Z]));case"Cmd":return v(e=i.advance(e),q=a.Cmd(i.spanStates(F,e),R.val));case"Letter":return v(e=i.advance(e),q=a.Letter(i.spanStates(F,e),R.val));case"Decimal":e=i.advance(e);var ae=a.Decimal(i.spanStates(F,e),R.val);if("Decimal"===(ie=e.token).type||"MixedNumber"===ie.type){var ne=e;e=i.advance(e);G=i.spanStates(F,e);var se="MixedNumber"===ie.type?ie:a.Decimal(i.spanStates(ne,e),ie.val);return v(e,n.Err(G,n.AdjacentNumbers([ae,se])))}return v(e,ae);case"MixedNumber":if(e.opts.disallowFrac)throw t.fractionsUnavailable();var ie;if("Decimal"===(ie=(e=i.advance(e)).token).type||"MixedNumber"===ie.type){ne=e;e=i.advance(e);G=i.spanStates(F,e),se="MixedNumber"===ie.type?ie:a.Decimal(i.spanStates(ne,e),ie.val);return v(e,n.Err(G,n.AdjacentNumbers([R,se])))}return v(e,R);case"*":case"/":case",":case"=":case">":case"<":case">=":case"<=":case"->":case"~":case":":case"...":case"%":case".":e=i.advance(e);G=i.spanStates(F,e);return v(e,n.Err(G,n.BinaryOperatorMissingLeft(R.val)));case"for":e=i.advance(e);G=i.spanStates(F,e);return v(e,n.Err(G,n.UnexpectedFor()));case"!":e=i.advance(e);G=i.spanStates(F,e);return v(e,n.Err(G,n.UnaryOperatorMissingLeft(R.val)));case"SupSub":e=i.advance(e);var pe="supsub";R.sub?pe="subscript":R.sup?pe="superscript":R.nprimes>0&&(pe="prime");G=i.spanStates(F,e);return v(e,n.Err(G,n.UnaryOperatorMissingLeft(pe)));case")":case"\\\\}":case"]":case"|)":case"Differential":return C(e);case"Err":e=i.advance(e);G=i.spanStates(F,e);return v(e,n.Err(G,n.UnrecognizedSymbol(R.val)));case"End":G=i.spanStates(F,e);return v(e,n.Err(G,n.UnexpectedEnd()));default:throw"Unexpected token type "+R.type+"."}}(f),f=p.state,"Err"===(c=p.tree).type)return v(f,c);if(!i.didAdvance(e,f))throw new Error("Programming Error: parseInitial did not advance state.");for(;!i.isDone(f);){if(r>=(i.isAt(f,"(")&&!b(c)?d("("):l(i.peek(f).type)))break;var P=f;if(f=(u=x(f,c,g(f,c,o)?l(",")-1:d(i.peek(f).type))).state,"Err"===(c=u.tree).type)return v(f,c);if(!i.didAdvance(P,f))throw new Error("Programming Error: parseSuccessor did not advance state.")}return v(f,c)}function m(e){return"UnexpectedDifferential"===e.type||"UnexpectedCloseDelimiter"===e.type||"UnexpectedEnd"===e.type||"BinaryOperatorMissingLeft"===e.type}function g(e,r,t){return i.isAt(e,"=")&&t&&(u.isFunctionSignature(r)||u.isLegalAssignmentLhs(r))}function x(e,r,t){var s,p,u,c,o,d,E,f,y,g,x,b,M,D=i.peek(e);switch(D.type){case"+":case"-":case"*":case"/":case"=":case"~":case":":case".":case"->":case"for":if(e=(s=S(e=i.advance(e),t)).state,"Err"===(M=s.tree).type){if(m(M.error)){var U=i.joinState(r.span,e);return v(e,n.Err(U,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}return v(e,function(e,r,t){switch(e){case"+":return a.Add(r,t);case"-":return a.Sub(r,t);case"*":return a.Mul(r,t);case"/":return a.Div(r,t);case"=":return a.Equals(r,t);case"~":return a.Tilde(r,t);case":":return a.Colon(r,t);case".":return a.Dot(r,t);case"->":return a.RightArrow(r,t);case"for":return a.For(r,t);default:throw"Unexpected token type "+e+"."}}(D.type,i.joinState(r.span,e),[r,M]));case"%":e=i.advance(e);var w=i.peek(e);if("Cmd"!==w.type||"of"!==w.val&&"\\\\of"!==w.val)return v(e,n.Err(D.span,n.PercentMissingOf()));if(e=(p=S(e=i.advance(e),t)).state,"Err"===(M=p.tree).type){if(m(M.error)){U=i.joinState(r.span,e);return v(e,n.Err(U,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}return v(e,a.PercentOf(i.joinState(r.span,e),[r,M]));case">=":case"<=":case">":case"<":var B=D.type;if(e=(u=S(e=i.advance(e),t)).state,"Err"===(M=u.tree).type){if(m(M.error)){U=i.joinState(r.span,e);return v(e,n.Err(U,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}for(var I=a.Inequality(i.joinState(r.span,e),B,[r,M]),L=[],O=i.peek(e).type;">="===O||"<="===O||">"===O||"<"===O;){var q=e;if(B=O,e=(c=S(e=i.advance(e),t)).state,"Err"===(M=c.tree).type){if(m(M.error)){U=i.joinState(r.span,e);return v(e,n.Err(U,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}L.push(a.TrailingInequalityPiece(i.spanStates(q,e),B,[M])),O=i.peek(e).type}return L.length?v(e,a.InequalityChain(i.joinState(r.span,e),I,L)):v(e,I);case"!":return v(e=i.advance(e),a.Bang(i.joinState(r.span,e),[r]));case"[":q=e;if(e=i.advance(e),i.isAt(e,"]")){e=i.advance(e);U=i.spanStates(q,e);return v(e,n.Err(U,n.EmptySquareBracket()))}return e=(d=j(q,e=(o=S(e,t)).state,M=o.tree,"[","]")).state,"Err"===(M=d.tree).type?v(e,M):v(e,a.Index(i.joinState(r.span,e),[r,M]));case"Sqrt":case"Frac":case"Letter":case"Cmd":case"Trig":case"Ln":case"Log":case"Sum":case"Int":case"Prod":case"Decimal":case"MixedNumber":case"\\\\{":case"(|":return e=(E=S(e,t)).state,"Err"===(M=E.tree).type?v(e,M):v(e,a.Juxt(i.joinState(r.span,e),[r,M]));case"(":if(a.isIdentifier(r)){if(e=(f=A(e)).state,"Err"===(M=f.tree).type)return v(e,M);U=i.joinState(r.span,e);return v(e,a.Call(U,[r,M.args[0]]))}if("Prime"===r.type&&a.isIdentifier(r.args[0])){if(e=(y=A(e)).state,"Err"===(M=y.tree).type)return v(e,M);U=i.joinState(r.span,e);return v(e,a.Prime(U,r.nprimes,[a.Call(U,[r.args[0],M.args[0]])]))}return e=(g=S(e,t)).state,"Err"===(M=g.tree).type?v(e,M):v(e,a.Juxt(i.joinState(r.span,e),[r,M]));case"SupSub":e=i.advance(e);var F=P(D),R=h(D,e.opts);if(F&&"Err"===F.type)return v(e,F);if(R&&"Err"===R.type)return v(e,R);if(F&&(r=a.Subscript(i.joinState(r.span,e),[r,F])),R&&(r=a.Superscript(i.joinState(r.span,e),[r,R])),D.nprimes>0){U=i.joinState(r.span,e);if(!a.isIdentifier(r))return v(e,n.Err(U,n.UnexpectedPrime()));r=a.Prime(U,D.nprimes,[r])}return v(e,r);case",":for(var N=[r];i.isAt(e,",")&&(e=i.advance(e),!i.isAt(e,"..."))&&(!e.opts.trailingComma||!k(e));){if(e=(x=S(e,t)).state,"Err"===(M=x.tree).type){if(m(M.error)){U=i.joinState(r.span,e);return v(e,n.Err(U,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}N.push(M)}return v(e,a.Seq(i.joinState(r.span,e),N));case"...":if(e=i.advance(e),i.isAt(e,",")&&(e=i.advance(e)),t>=l(i.peek(e).type))return v(e,a.Ellipsis(i.joinState(r.span,e),[r,a.EmptyRangeEnd(i.emptySpanAtState(e))]));if(e=(b=S(e,t)).state,"Err"===(M=b.tree).type){if(m(M.error)){U=i.joinState(r.span,e);return v(e,n.Err(U,n.BinaryOperatorMissingRight(D.val)))}return v(e,M)}return v(e,a.Ellipsis(i.joinState(r.span,e),[r,M]));case"]":case")":case"\\\\}":case"|)":case"Differential":return C(e);case"Err":return S(e,t);case"End":U=i.spanStates(e,e);return v(e,n.Err(U,n.UnexpectedEnd()));default:throw"Unexpected token type "+D.type+"."}}function b(e){return!!a.isIdentifier(e)||!("Prime"!==e.type||!a.isIdentifier(e.args[0]))}function M(e,r){if(e.sub){var t=e.sub,a=y(i.lex(t,r));return"Err"===a.type&&"EmptyGroup"===a.error.type?n.Err(a.span,n.EmptySubscript()):a}}function P(e){if(e.sub){var r=e.sub;if(0===r.args.length)return n.Err(r.span,n.EmptySubscript());for(var t=[],i=0,p=r.args;i<p.length;i++){var u=p[i];if("Digit"!==u.type&&"Letter"!==u.type){var c=u.span;return n.Err(c,n.InvalidSubscript(s.slice(c)))}t.push(u.val)}return a.Alphanumeric(r.span,t.join(""))}}function h(e,r){if(e.sup){var t=y(i.lex(e.sup,r));return"Err"===t.type?"EmptyGroup"===t.error.type?n.Err(t.span,n.EmptySuperscript()):t:e.nprimes>0?n.Err(e.span,n.SuperscriptWithPrime()):t}}function D(e,r,t){if("SupSub"!==e.type){var a=i.spanStates(r,t);return n.Err(a,n.MissingBound())}if(e.nprimes>0){a=i.spanStates(r,t);return n.Err(a,n.UnexpectedPrime())}var s=M(e,t.opts),p=h(e,t.opts);if(!s||"Err"===s.type&&"EmptySubscript"===s.error.type||!p||"Err"===p.type&&"EmptySuperscript"===p.error.type){a=i.spanStates(r,t);return n.Err(a,n.MissingBound())}return"Err"===s.type?s:"Err"===p.type?p:{type:"Bounds",sup:p,sub:s}}function A(e){var r,t,n,s=e,p=i.peek(e),u=E(p.type);if(!i.isAt(e,"("))throw new Error("Programming Error: expected \'(\' at start of parseParen.");if(e=i.advance(e),i.isAt(e,")")){var c=a.Seq(i.emptySpanAtState(e),[]);e=i.advance(e);var o=i.spanStates(s,e);return v(e,a.Paren(o,[c]))}return e=(t=j(s,e=(r=S(e,u)).state,n=r.tree,"(",")")).state,"Err"===(n=t.tree).type?v(e,n):v(e,a.Paren(i.spanStates(s,e),[n]))}function U(e){var r=e,t=i.peek(e);if("Differential"!==t.type)throw new Error("Programming Error: expected differential");e=i.advance(e);var s=a.Cmd(t.span,t.val),p=i.peek(e);if("SupSub"===p.type){e=i.advance(e);var u=i.spanStates(r,e),c=P(p);if(c){if("Err"===c.type)return v(e,c);s=a.Subscript(u,[s,c])}if(p.sup)return v(e,n.Err(u,n.DifferentialWithSuperscript()));if(p.nprimes>0)return v(e,n.Err(u,n.UnexpectedPrime()))}return v(e,s)}function j(e,r,t,a,s){if("Err"===t.type&&"UnexpectedEnd"!==t.error.type)return v(r,t);if("Err"===t.type||!i.isAt(r,s)){var p=i.spanStates(e,r);return v(r,n.Err(p,n.MissingCloseDelimiter(a,s)))}return v(r=i.advance(r),t)}function C(e){var r=e;switch(i.peek(e).type){case")":e=i.advance(e);var t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedCloseDelimiter("(",")")));case"]":e=i.advance(e);t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedCloseDelimiter("[","]")));case"\\\\}":e=i.advance(e);t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedCloseDelimiter("\\\\{","\\\\}")));case"|)":e=i.advance(e);t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedCloseDelimiter("|","|")));case"Differential":e=i.advance(e);t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedDifferential()));default:e=i.advance(e);t=i.spanStates(r,e);return v(e,n.Err(t,n.UnexpectedParseError()))}}function k(e){return i.isAt(e,")")||i.isAt(e,"]")||i.isAt(e,"\\\\}")}e.parse=function(e,t){var a=t?r.__assign(r.__assign({},f),t):f,s=y(i.lex(e,a),{isToplevel:!0});return"Err"===s.type&&"EmptyGroup"===s.error.type?n.Err(s.span,n.EmptyInput()):s}});\ndefine(\'core/math/baseparser\',["require","exports","parsenodes","core/math/errormsg","core/math/parser/latex-parser","core/math/parser/expression-parser","core/math/parser/lower"],function(require,r,e,a,t,o,n){"use strict";function i(){throw a.featureUnavailable()}function s(r,e){return r.setInputSpan(e),r}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=void 0,r.parse=function(r,l){var d=typeof r;if("string"!==d)throw new Error("Type Error: parse can only be called with strings, got "+JSON.stringify(r)+" of type "+d);var c=e;if((l=l||{}).disabledFeatures){c=Object.create(c);for(var p=0,u=l.disabledFeatures;p<u.length;p++){var f=u[p];if(!c[f])throw new Error("Programming Error: "+f+" cannot be disabled because it is not a parsenode.");c[f]=i}}var w=void 0===l.seedPrefix?"":l.seedPrefix,m=0,v={nodes:c,currentIndex:l.index,setInput:s,nextSeed:function(){var r=w+"::vc"+m;return m+=1,r},allowDt:!!l.allowDt,allowIndex:!!l.allowIndex},g={};void 0!==l.trailingComma&&(g.trailingComma=l.trailingComma),l.disallowFrac&&(g.disallowFrac=!0);try{var h=t.parse(r),x=o.parse(h,g);return n.lower(v,x)}catch(r){return r instanceof e.Error?r:"string"==typeof r?e.Error(r):a.parseError()}}});\ndefine(\'core/math/sliders\',["require","exports"],function(require,e){"use strict";function a(e,a){var r=Math.round(1e6*e)/1e6;return Math.abs(r-e)<a?r:e}function r(e){var r=e.target,t=e.hardMin,i=e.hardMax,n=e.step,o=1e-10;if(void 0!==t&&void 0!==i&&(o=Math.min(o,Math.abs(i-t)/1e3)),n&&(o=Math.min(o,n/10)),void 0!==t&&(t=a(t,o)),void 0!==i&&(i=a(i,o)),e.forceSliderToMax&&void 0!==i&&(r=i),t>i)return t;if(r<=t)return t;if(r>=i)return i;if(n){var d=void 0!==t?t:0;r=n*Math.round((r-d)/n)+d}var u=a(r,o);return(n||t===u||i===u)&&(r=u),r<=t?t:r>=i?i:r}Object.defineProperty(e,"__esModule",{value:!0}),e.computeSoftMax=e.constrainSliderValueLikeEvaluator=e.determineWhichLimitsAreCompatibleWithValue=e.roundToReasonableDecimal=void 0,e.roundToReasonableDecimal=a,e.determineWhichLimitsAreCompatibleWithValue=function(e){var a=!0,t=!0,i=!0;return void 0!==e.hardMin&&e.target<e.hardMin&&(a=!1),void 0!==e.hardMax&&e.target>e.hardMax&&(t=!1),e.step&&r({target:e.target,step:e.step,hardMin:a?e.hardMin:void 0,hardMax:t?e.hardMax:void 0})!==e.target&&(i=!1),{min:a,max:t,step:i}},e.constrainSliderValueLikeEvaluator=r,e.computeSoftMax=function(e){var a=e.storedMax,t=e.sliderValue,i=e.hardMin,n=e.step,o=10;if(a>o&&(o=a),t>o&&(o=t),i>o&&(o=i),n){var d=r({target:o,hardMin:i,hardMax:void 0,step:n});o=d>=o?d:d+n}return o}});\ndefine(\'core/math/features/getConcreteTree\',[\'require\',\'parsenodes\',\'core/math/errormsg\',\'core/math/types\',\'core/math/maybe-rational\',\'core/math/sliders\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/math/errormsg"),r=require("core/math/types"),i=require("core/math/maybe-rational"),s=(e.List,e.ParenSeq,e.Constant),n=e.Identifier,o=require("core/math/sliders");function a(e,r){return e.isError?e:-1===r.indexOf(e.valueType)?t.parseError():e}function l(e,t,r){if(t){var i=t.getDependencies();if(t.isError)r.errors[e]=!0;else if(i.length>0){r.errors[e]=!0;for(var s=0;s<i.length;s++)i[s]===r.exportedSymbol?r.errors.cycle=!0:r.missingVars.push(i[s])}else r.values[e]=+t.asValue();r.valids[e]=isFinite(r.values[e]),r.valids[e]||(r.values[e]=void 0)}else r.valids[e]=!0}function c(e){return e&&e.valueType===r.ListOfNumber&&1===e.length&&e.args?e.args[0]:e}function u(i,s){if(!s[this._symbol])throw t.functionUnsupported(this._symbol);var n=this.args.map(function(e){return e.getConcreteTree(i,s)});if(n.length>0){if(1===n.length&&n.push(e.Constant(1).getConcreteTree(i,s)),n[1].getDependencies().length)throw t.illegalBinWidth(this._symbol).setDependencies(n[1].getDependencies());if(n[1].valueType!==r.Number)throw t.illegalBinWidth(this._symbol);var o=n[1].asValue();if(!isFinite(o)||o<=0)throw t.illegalBinWidth(this._symbol)}return this.typeCheck(i,n),new this.constructor(n)}function h(e,r){if(!r[this._symbol])throw t.functionUnsupported(this._symbol);var i=this.args.map(function(t){return t.getConcreteTree(e,r)});return this.typeCheck(e,i),new this.constructor(i)}e.Base.prototype.tryGetConcreteTree=function(){var r;try{r=this.getConcreteTree.apply(this,arguments)}catch(i){r=i instanceof e.Base?i:t.parseError()}return r},e.Base.prototype.getConcreteTree=function(e,t){var r=this.buildIRExpression(e,t);if(r.isError)throw r;return r},e.DoubleInequality.prototype.getConcreteTree=function(t,r){return new this.constructor([e.Piecewise([this._indicator,this._expressions[0],s(NaN)]).getConcreteTree(t,r),this._operators[0],n(this._symbol),this._operators[1],e.Piecewise([this._indicator,this._expressions[1],s(NaN)]).getConcreteTree(t,r)])},e.Error.prototype.getConcreteTree=function(e,t){return this},e.Image.prototype.getConcreteTree=function(t,i){var s=this.center.tryGetConcreteTree(t,i),n=this.radianAngle.tryGetConcreteTree(t,i),o=this.width.tryGetConcreteTree(t,i),l=this.height.tryGetConcreteTree(t,i),c=this.opacity.tryGetConcreteTree(t,i),u=[r.Point,r.ListOfPoint,r.EmptyList],h=[r.Number,r.ListOfNumber,r.EmptyList];return s=a(s,u),n=a(n,h),o=a(o,h),l=a(l,h),c=a(c,h),e.Image({center:s,radianAngle:n,width:o,height:l,opacity:c},this.moveStrategy)},e.Ticker.prototype.getConcreteTree=function(i,s){var n=this.handler.tryGetConcreteTree(i,s);n.isError||n.valueType===r.Action||(n=t.eventHandlerTypeError(r.prettyPrint(n.valueType)));var o=n.getDependencies().filter(function(e){return!i.validActionVariable(e)});return o.length&&(n=t.tooManyVariables(i.sliderVariables(o)).setDependencies(o)),e.Ticker({handler:n,minStep:this.minStep.tryGetConcreteTree(i,s)})},e.Slider.prototype.getConcreteTree=function(e,r){var n=this._expression.getConcreteTree(e,r),a=c(this.sliderMin&&this.sliderMin.tryGetConcreteTree(e,r)),u=c(this.sliderMax&&this.sliderMax.tryGetConcreteTree(e,r)),h=c(this.sliderStep&&this.sliderStep.tryGetConcreteTree(e,r)),p={exportedSymbol:this._symbol,errors:{},values:{},valids:{},missingVars:[],errMsg:void 0};if(l("min",a,p),l("max",u,p),l("step",h,p),h&&p.valids.step&&(0===p.values.step?delete p.values.step:p.values.step=Math.abs(p.values.step)),p.errors.cycle?n=t.sliderLimitReferencesExport(p.exportedSymbol):(p.errors.min||!p.valids.min?p.errMsg=t.sliderMinInvalid():p.errors.max||!p.valids.max?p.errMsg=t.sliderMaxInvalid():!p.errors.step&&p.valids.step||(p.errMsg=t.sliderStepInvalid()),p.values.min>p.values.max&&(p.valids.min=!1,p.valids.max=!1,p.errMsg||(p.errMsg=t.sliderMaxLessThanMin()))),n.isConstant){var d=r.initialEvaluation&&r.initialEvaluation.asValue()&&this.sliderIsPlayingOnce,y=p.values.max,v=+n.asValue(),g=p.values.min,T=p.values.step;if(d&&!isFinite(y)){var m=c(this.sliderSoftMax&&this.sliderSoftMax.tryGetConcreteTree(e,r));m&&(y=o.computeSoftMax({storedMax:+m.asValue(),sliderValue:v,step:T,hardMin:g}))}var f=o.constrainSliderValueLikeEvaluator({target:v,hardMin:g,hardMax:y,step:T,forceSliderToMax:d}),C=i.fromDecimalString(f.toString()),b=isFinite(i.asFloat(C))?C:f;n=s(b).getConcreteTree(e,r)}return n.sliderInfo=p,n},e.Histogram.prototype.getConcreteTree=u,e.DotPlot.prototype.getConcreteTree=u,e.BoxPlot.prototype.getConcreteTree=function(e,i){if(!i[this._symbol])throw t.functionUnsupported(this._symbol);var s=this.args.map(function(t){return t.getConcreteTree(e,i)});return this.typeCheck(e,s),1!==s.length||s[0].valueType!==r.ListOfNumber&&s[0].valueType!==r.EmptyList?t.parseError():new this.constructor(s)},e.TTest.prototype.getConcreteTree=h,e.IndependentTTest.prototype.getConcreteTree=h,e.Stats.prototype.getConcreteTree=h,e.Table.prototype.getConcreteTree=function(e,t){for(var r=[],i=Object.create(t),s=0;s<this.columns.length;s++){var n=this.columns[s].getConcreteTree(e,i);n.isIndependent&&this.columns[s].exportToLocal(n,i),r.push(n)}return new this.constructor(r)},e.TableColumn.prototype.getConcreteTree=function(i,s,n){var o,a,l=this.header.getConcreteTree(i,s);if(this.header instanceof e.Identifier&&!s[this.header._symbol]){o=[];for(var c=0;c<this.values.length;c++)if(this.values[c].tableError())o.push(t.invalidTableEntry(this.values[c].tableError()));else{var u=this.values[c].tryGetConcreteTree(i,s);u.isError?o.push(u):u.tableError()?o.push(t.invalidTableEntry(u.tableError())):u.valueType===r.Number?o.push(u):o.push(t.tableEntryTypeError([r.prettyPrint(u.valueType)]))}return(a=new this.constructor(l,this.length,o)).isIndependent=!0,a}if(l.isConstant){for(var h=[],p=0;p<this.length;p++)h.push(l);o=h}else o=l.isList?l.mapElements(function(e){return e}):[];if(l.isError||l.valueType===r.Number||l.valueType===r.ListOfNumber||l.valueType===r.EmptyList||(l=t.tableHeaderTypeError([r.prettyPrint(l.valueType)])),a=new this.constructor(l,this.length,o),void 0!==n){var d=this.header.tryGetConcreteTree(i,n);d.isError||d.valueType!==r.Number||(a.continuousConcreteTree=d)}return a}});\ndefine(\'core/math/builtinconstants\',[\'require\',\'core/math/parsenode/constant\',\'core/math/maybe-rational\'],function(require){"use strict";var t=require("core/math/parsenode/constant"),a=require("core/math/maybe-rational").maybeRational;return{pi:t(Math.PI),tau:t(2*Math.PI),e:t(Math.E),trigAngleMultiplier:t(a(1,1)),infty:t(1/0)}});\ndefine(\'core/math/builtinframe\',[\'require\',\'core/math/builtinconstants\',\'core/math/ir/builtin-table\'],function(require){"use strict";var n,i=require("core/math/builtinconstants"),t=require("core/math/ir/builtin-table"),r={};for(n in i)i.hasOwnProperty(n)&&(r[n]=i[n]);for(n in t.BuiltInTable)t.BuiltInTable.hasOwnProperty(n)&&(r[n]={isFunction:!0});for(n in t.CompilerFunctionTable)t.CompilerFunctionTable.hasOwnProperty(n)&&(r[n]={isFunction:!0});return r});\ndefine(\'core/math/ir/scope\',["require","exports"],function(require,e){"use strict";function o(e,o){return{symbolMap:e,maxIndex:o}}Object.defineProperty(e,"__esModule",{value:!0}),e.childScope=e.setSymbol=e.getSymbol=e.Scope=void 0,e.Scope=o,e.getSymbol=function(e,o){return e.symbolMap[o]},e.setSymbol=function(e,o,t){e.symbolMap[o]=t,e.maxIndex=Math.max(e.maxIndex,t)},e.childScope=function(e){return o(Object.create(e.symbolMap),e.maxIndex)}});\n!function(n){"use strict";function t(n,t){var r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function r(n,r,e,o,u,c){return t((f=t(t(r,n),t(o,c)))<<(i=u)|f>>>32-i,e);var f,i}function e(n,t,e,o,u,c,f){return r(t&e|~t&o,n,t,u,c,f)}function o(n,t,e,o,u,c,f){return r(t&o|e&~o,n,t,u,c,f)}function u(n,t,e,o,u,c,f){return r(t^e^o,n,t,u,c,f)}function c(n,t,e,o,u,c,f){return r(e^(t|~o),n,t,u,c,f)}function f(n,r){var f,i,a,h,d;n[r>>5]|=128<<r%32,n[14+(r+64>>>9<<4)]=r;var l=1732584193,g=-271733879,v=-1732584194,m=271733878;for(f=0;f<n.length;f+=16)i=l,a=g,h=v,d=m,l=e(l,g,v,m,n[f],7,-680876936),m=e(m,l,g,v,n[f+1],12,-389564586),v=e(v,m,l,g,n[f+2],17,606105819),g=e(g,v,m,l,n[f+3],22,-1044525330),l=e(l,g,v,m,n[f+4],7,-176418897),m=e(m,l,g,v,n[f+5],12,1200080426),v=e(v,m,l,g,n[f+6],17,-1473231341),g=e(g,v,m,l,n[f+7],22,-45705983),l=e(l,g,v,m,n[f+8],7,1770035416),m=e(m,l,g,v,n[f+9],12,-1958414417),v=e(v,m,l,g,n[f+10],17,-42063),g=e(g,v,m,l,n[f+11],22,-1990404162),l=e(l,g,v,m,n[f+12],7,1804603682),m=e(m,l,g,v,n[f+13],12,-40341101),v=e(v,m,l,g,n[f+14],17,-1502002290),l=o(l,g=e(g,v,m,l,n[f+15],22,1236535329),v,m,n[f+1],5,-165796510),m=o(m,l,g,v,n[f+6],9,-1069501632),v=o(v,m,l,g,n[f+11],14,643717713),g=o(g,v,m,l,n[f],20,-373897302),l=o(l,g,v,m,n[f+5],5,-701558691),m=o(m,l,g,v,n[f+10],9,38016083),v=o(v,m,l,g,n[f+15],14,-660478335),g=o(g,v,m,l,n[f+4],20,-405537848),l=o(l,g,v,m,n[f+9],5,568446438),m=o(m,l,g,v,n[f+14],9,-1019803690),v=o(v,m,l,g,n[f+3],14,-187363961),g=o(g,v,m,l,n[f+8],20,1163531501),l=o(l,g,v,m,n[f+13],5,-1444681467),m=o(m,l,g,v,n[f+2],9,-51403784),v=o(v,m,l,g,n[f+7],14,1735328473),l=u(l,g=o(g,v,m,l,n[f+12],20,-1926607734),v,m,n[f+5],4,-378558),m=u(m,l,g,v,n[f+8],11,-2022574463),v=u(v,m,l,g,n[f+11],16,1839030562),g=u(g,v,m,l,n[f+14],23,-35309556),l=u(l,g,v,m,n[f+1],4,-1530992060),m=u(m,l,g,v,n[f+4],11,1272893353),v=u(v,m,l,g,n[f+7],16,-155497632),g=u(g,v,m,l,n[f+10],23,-1094730640),l=u(l,g,v,m,n[f+13],4,681279174),m=u(m,l,g,v,n[f],11,-358537222),v=u(v,m,l,g,n[f+3],16,-722521979),g=u(g,v,m,l,n[f+6],23,76029189),l=u(l,g,v,m,n[f+9],4,-640364487),m=u(m,l,g,v,n[f+12],11,-421815835),v=u(v,m,l,g,n[f+15],16,530742520),l=c(l,g=u(g,v,m,l,n[f+2],23,-995338651),v,m,n[f],6,-198630844),m=c(m,l,g,v,n[f+7],10,1126891415),v=c(v,m,l,g,n[f+14],15,-1416354905),g=c(g,v,m,l,n[f+5],21,-57434055),l=c(l,g,v,m,n[f+12],6,1700485571),m=c(m,l,g,v,n[f+3],10,-1894986606),v=c(v,m,l,g,n[f+10],15,-1051523),g=c(g,v,m,l,n[f+1],21,-2054922799),l=c(l,g,v,m,n[f+8],6,1873313359),m=c(m,l,g,v,n[f+15],10,-30611744),v=c(v,m,l,g,n[f+6],15,-1560198380),g=c(g,v,m,l,n[f+13],21,1309151649),l=c(l,g,v,m,n[f+4],6,-145523070),m=c(m,l,g,v,n[f+11],10,-1120210379),v=c(v,m,l,g,n[f+2],15,718787259),g=c(g,v,m,l,n[f+9],21,-343485551),l=t(l,i),g=t(g,a),v=t(v,h),m=t(m,d);return[l,g,v,m]}function i(n){var t,r="",e=32*n.length;for(t=0;t<e;t+=8)r+=String.fromCharCode(n[t>>5]>>>t%32&255);return r}function a(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var e=8*n.length;for(t=0;t<e;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}function h(n){var t,r,e="0123456789abcdef",o="";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),o+=e.charAt(t>>>4&15)+e.charAt(15&t);return o}function d(n){return unescape(encodeURIComponent(n))}function l(n){return function(n){return i(f(a(n),8*n.length))}(d(n))}function g(n,t){return function(n,t){var r,e,o=a(n),u=[],c=[];for(u[15]=c[15]=void 0,o.length>16&&(o=f(o,8*n.length)),r=0;r<16;r+=1)u[r]=909522486^o[r],c[r]=1549556828^o[r];return e=f(u.concat(a(t)),512+8*t.length),i(f(c.concat(e),640))}(d(n),d(t))}function v(n,t,r){return t?r?g(t,n):h(g(t,n)):r?l(n):h(l(n))}"function"==typeof define&&define.amd?define(\'core/lib/md5\',[],function(){return v}):"object"==typeof module&&module.exports?module.exports=v:n.md5=v}(this);\ndefine(\'core/vendor/d3-color\',[\'require\'],function(require){function e(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function t(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function r(){}var n=.7,i=1/n,a="\\\\s*([+-]?\\\\d+)\\\\s*",o="\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*",s="\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*",l=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\\\("+[a,a,a]+"\\\\)$"),u=new RegExp("^rgb\\\\("+[s,s,s]+"\\\\)$"),g=new RegExp("^rgba\\\\("+[a,a,a,o]+"\\\\)$"),c=new RegExp("^rgba\\\\("+[s,s,s,o]+"\\\\)$"),d=new RegExp("^hsl\\\\("+[o,s,s]+"\\\\)$"),b=new RegExp("^hsla\\\\("+[o,s,s,o]+"\\\\)$"),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function f(){return this.rgb().formatRgb()}function y(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?w(t):3===r?new v(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?k(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?k(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new v(t[1],t[2],t[3],1):(t=u.exec(e))?new v(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=g.exec(e))?k(t[1],t[2],t[3],t[4]):(t=c.exec(e))?k(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=d.exec(e))?E(t[1],t[2]/100,t[3]/100,1):(t=b.exec(e))?E(t[1],t[2]/100,t[3]/100,t[4]):p.hasOwnProperty(e)?w(p[e]):"transparent"===e?new v(NaN,NaN,NaN,0):null}function w(e){return new v(e>>16&255,e>>8&255,255&e,1)}function k(e,t,r,n){return n<=0&&(e=t=r=NaN),new v(e,t,r,n)}function N(e){return e instanceof r||(e=y(e)),e?new v((e=e.rgb()).r,e.g,e.b,e.opacity):new v}function x(e,t,r,n){return 1===arguments.length?N(e):new v(e,t,r,null==n?1:n)}function v(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function M(){return"#"+q(this.r)+q(this.g)+q(this.b)}function R(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function q(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function E(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new C(e,t,r,n)}function $(e){if(e instanceof C)return new C(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=y(e)),!e)return new C;if(e instanceof C)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,a=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,l=o-a,h=(o+a)/2;return l?(s=t===o?(n-i)/l+6*(n<i):n===o?(i-t)/l+2:(t-n)/l+4,l/=h<.5?o+a:2-o-a,s*=60):l=h>0&&h<1?0:s,new C(s,l,h,e.opacity)}function H(e,t,r,n){return 1===arguments.length?$(e):new C(e,t,r,null==n?1:n)}function C(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function j(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}return e(r,y,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return $(this).formatHsl()},formatRgb:f,toString:f}),e(v,x,t(r,{brighter:function(e){return e=null==e?i:Math.pow(i,e),new v(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?n:Math.pow(n,e),new v(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M,formatHex:M,formatRgb:R,toString:R})),e(C,H,t(r,{brighter:function(e){return e=null==e?i:Math.pow(i,e),new C(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?n:Math.pow(n,e),new C(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new v(j(e>=240?e-240:e+120,i,n),j(e,i,n),j(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}})),{Color:r,darker:n,brighter:i,color:y,rgbConvert:N,rgb:x,Rgb:v,hslConvert:$,hsl:H}});\ndefine(\'core/math/mathshim\',["require","exports"],function(require,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sign=n.sqrtxsqm1=n.sqrtxsqp1=n.log1p=n.expm1=n.atanh=n.asinh=n.acosh=n.tanh=n.sinh=n.cosh=void 0;var t=Math;n.cosh=t.cosh||function(n){return.5*(Math.exp(n)+Math.exp(-n))},n.sinh=t.sinh&&0!==t.sinh(1e-20)?t.sinh:function(t){var a=t>0?1:-1;return t=t>0?t:-t,.5*-a*Math.exp(t)*n.expm1(-2*t)},n.tanh=t.tanh&&0!==t.tanh(1e-20)?t.tanh:function(t){var a=t>0?1:-1;t=t>0?t:-t;var r=n.expm1(-2*t);return-a*r/(2+r)},n.acosh=t.acosh||function(t){return t<1?NaN:Math.log(t+n.sqrtxsqm1(t))},n.asinh=t.asinh&&0!==t.asinh(1e-20)?t.asinh:function(t){var a=t>0?1:-1;return 1+(t=t>0?t:-t)*t==1?a*n.log1p(t):a*Math.log(t+n.sqrtxsqp1(t))},n.atanh=t.atanh&&0!==t.atanh(1e-20)?t.atanh:function(t){return.5*(n.log1p(t)-n.log1p(-t))},n.expm1=t.expm1||function(n){return n+.5*n*n===n?n:Math.exp(n)-1},n.log1p=t.log1p||function(n){return n-.5*n*n===n?n:Math.log(1+n)};n.sqrtxsqp1=function(n){var t=n*n;return 1+t===1?1:1+t===t?Math.abs(n):Math.sqrt(t+1)};n.sqrtxsqm1=function(n){var t=n*n;return t<1?NaN:t-1===t?Math.abs(n):Math.sqrt(t-1)},n.sign=t.sign||function(n){return 0===n?0:n>0?1:n<0?-1:NaN}});\ndefine(\'core/math/poi\',["require","exports","core/math/distance"],function(require,i,t){"use strict";function r(i,r){var n;i>r&&(n=i,i=r,r=n);var e=i>0,a=r>0,s=Math.abs(i)>.01,f=Math.abs(r)>.01;if(s||f)return t.mean(i,r);if(0===i)return r*Math.abs(r);if(0===r)return i*Math.abs(i);if(e!==a)return 0;var u=e?Math.sqrt(i*r):-Math.sqrt(i*r);return u>=i&&r>=u?u:t.mean(i,r)}function n(i,t,n,s,f,u,o){var c,F,v,b;if(isFinite(s))return isFinite(t)||(c=e(i,t,n,s,o))&&(i=c[0],t=c[1]),isFinite(u)||(c=e(n,s,f,u,o))&&(f=c[0],u=c[1]),F=t===s?[i,t]:a(i,t,n,s,o,s),v=u===s?[f,u]:a(n,s,f,u,o,s),F&&v&&(b=r(F[0],v[0])),void 0!==b?[b,o(b)]:void 0}function e(i,t,n,e,a){if(isFinite(t)!==isFinite(e))for(;;){var s=r(i,n),f=a(s);if(s===i||s===n)return isFinite(t)?[i,t]:[n,e];isFinite(f)!==isFinite(t)?(n=s,e=f):(i=s,t=f)}}function a(i,t,n,e,a,s){if(t===s!=(e===s))for(;;){var f=r(i,n),u=a(f);if(f===i||f===n)return t===s?[i,t]:[n,e];u===s!=(t===s)?(n=f,e=u):(i=f,t=u)}}function s(i,t){var r=i[0],n=i[1],e=t[0],a=t[1];return(e-r)*(e-r)+(a-n)*(a-n)}function f(i,t,n,e,a,f){var u,o,c,F,v,b,M,h,d,m=f(i),l=f(t),P=f(n),C=s(m,e),O=s(l,e),p=s(P,e);if(!(t<=i||n<=t)&&isFinite(C)&&isFinite(O)&&isFinite(p)&&!(O>=C||O>=p))for(;;){if(Math.abs(P[0]-m[0])<a&&Math.abs(P[1]-m[1])<a)return[i,n];var x=r(i,t),N=f(x),q=s(N,e),E=r(t,n),J=f(E),L=s(J,e);if(!isFinite(q)||!isFinite(L))return;if(x===i||x===t||E===t||E===n)return q<O&&q<L?[x,x]:L<q&&L<O?[E,E]:[t,t];if(!(q!==O&&L!==O||q!==(O=s(l=f(t=.5*(x+t)),e))&&L!==O))return[i,n];q<O&&q<L?(n=(u=[t,x])[0],t=u[1],P=(o=[l,N])[0],l=o[1],p=(c=[O,q])[0],O=c[1]):L<q&&L<O?(i=(F=[t,E])[0],t=F[1],m=(v=[l,J])[0],l=v[1],C=(b=[O,L])[0],O=b[1]):(i=(M=[x,E])[0],n=M[1],m=(h=[N,J])[0],P=h[1],C=(d=[q,L])[0],p=d[1])}}function u(i,t,r){return void 0===t&&(t=-1/0),void 0===r&&(r=1/0),Math.min(r,Math.max(t,i))}function o(i,t,r,n,e,a){var o,c,F,v,b;void 0!==n&&void 0!==e?b=r+.01*(r<.5*(n+e)?e-n:n-e):b=Math.abs(r)>1?1.00001*r:r+1e-5;var M=i(r),h=i(b),d=s(M,t),m=s(h,t);if(isFinite(d)&&isFinite(m)){if(d===m)return[r,b];for(m>d&&(r=(o=[b,r])[0],b=o[1],M=(c=[h,M])[0],h=c[1],d=(F=[m,d])[0],m=F[1]);isFinite(r)&&isFinite(b)&&r!==b;){if(void 0!==e&&b>e)return[e,e];if(void 0!==n&&b<n)return[n,n];var l=r+3*(b-r),P=s(i(l),t);if(!isFinite(P))return[r,b];if(P===m)return[r,b];if(P>m){var C=b>r?f(r,b,l,t,a,i):f(l,b,r,t,a,i);return C?[u(C[0],n,e),u(C[1],n,e)]:C}r=(v=[b,m,l,P])[0],d=v[1],b=v[2],m=v[3]}return[r,b]}}function c(i,t,r,n){return!r||!!n&&Math.min(s(i(n[0]),t),s(i(n[1]),t))<Math.min(s(i(r[0]),t),s(i(r[1]),t))}function F(i,t,r,n,e,a,s,f){var u=Math.abs(n-t),o=Math.abs(a-n),c=Math.abs(f-a);return u>o&&u>c?[[i,t],[r,n]]:c>o&&c>u?[[e,a],[s,f]]:[[r,n],[e,a]]}Object.defineProperty(i,"__esModule",{value:!0}),i.bisectJump=i.findLocalClosestPointOnParametric=i.bisectClosestPointOnParametric=i.bisectExtremum=i.bisectFinite=i.flatCenter=i.bisectZero=i.floatMiddle=void 0,i.floatMiddle=r,i.bisectZero=function(i,t,e,a,s){if(!isNaN(t)&&!isNaN(a)&&t<0!=a<0)for(;;){var f=r(i,e),u=s(f);if(!isFinite(u))return;if(f===i||f===e)return Math.abs(t)<=Math.abs(a)?[i,t]:[e,a];if(0===u)return n(i,t,f,u,e,a,s);t<0!=u<0?(e=f,a=u):(i=f,t=u)}},i.flatCenter=n,i.bisectFinite=e,i.bisectExtremum=function(i,t,e,a,s,f,u){if(i<e&&e<s&&isFinite(t)&&isFinite(a)&&isFinite(f)&&t!==a&&a!==f&&a>t==a>f)for(;;){var o=r(i,e),c=u(o),F=r(e,s),v=u(F);if(!isFinite(c)||!isFinite(v))return;if(o===i||o===e||F===e||F===s)return c>a==a>t?[o,c]:v>a==a>t?[F,v]:[e,a];if(c===a||v===a)return n(i,t,e,a,s,f,u);c>t==a>t&&c>t==c>a?(s=e,f=a,e=o,a=c):v>f==a>f&&v>a==v>f?(i=e,t=a,e=F,a=v):(i=o,t=c,s=F,f=v)}},i.bisectClosestPointOnParametric=f,i.findLocalClosestPointOnParametric=function(i,t,r,n,e,a){var s=o(i,t,r,n,e,a);if(void 0!==n){var f=o(i,t,n,n,e,a);c(i,t,s,f)&&(s=f)}if(void 0!==e){var u=o(i,t,e,n,e,a);c(i,t,s,u)&&(s=u)}return s},i.bisectJump=function(i,n,a,s,f,u,o,c){if(c||(c=0),!((a-i)*(f-a)<=0)&&isFinite(i)&&isFinite(a)&&isFinite(f)&&isFinite(n)&&isFinite(u)){if(!isFinite(s)){var v=e(i,n,a,s,o),b=e(a,s,f,u,o);if(!v||!b)return;return[v,b]}if(!(Math.abs(s-((f-a)*n+(a-i)*u)/(f-i))<c))for(;;){var M=r(i,a),h=o(M),d=r(a,f),m=o(d),l=Math.abs(h-t.mean(n,s)),P=Math.abs(s-t.mean(h,m)),C=Math.abs(m-t.mean(s,u));if(l<=c&&P<=c&&C<=c)return;if(!isFinite(h)){v=e(i,n,M,h,o),b=e(M,h,f,u,o);if(!v||!b)return;return[v,b]}if(!isFinite(m)){v=e(i,n,d,m,o),b=e(d,m,f,u,o);if(!v||!b)return;return[v,b]}if(!(M!==i&&M!==a||d!==a&&d!==f))return Math.abs(s-n)>Math.abs(u-s)?[[i,n],[a,s]]:[[a,s],[f,u]];if(M===i||M===a)return F(i,n,a,s,d,m,f,u);if(d===a||d===f)return F(i,n,M,h,a,s,f,u);l>C&&l>=P?(f=a,u=s,a=M,s=h):C>l&&C>=P?(i=a,n=s,a=d,s=m):(i=M,n=h,f=d,u=m)}}}});\ndefine(\'core/math/quadrature\',[\'require\',\'core/math/mathshim\',\'core/math/poi\'],function(require){"use strict";var a=require("core/math/mathshim"),r=require("core/math/poi"),t=r.bisectJump,i=r.bisectFinite,n=Math.pow(2,-13),e=n*n,o=e*e,s=e,u=[],h=[];!function(r,t){for(var i=32;i>0;i--){var n=.09856311095410075*i,e=a.sinh(n),o=a.cosh(Math.PI/2*e),s=1/(Math.exp(Math.PI/2*e)*o),u=a.cosh(n)/(o*o);r.push(s),t.push(u)}}(u,h);for(var N=0,f=0;f<h.length;f++)N+=h[f];var m=1/(1+2*N);function x(a,r,t){return.5*(r*(2-t)+a*t)}function M(a,r,i){var n=.5*(r+i),e=t(r,a(r),n,a(n),i,a(i),a,0);return e?.5*(e[0][0]+e[1][0]):n}function v(a,r,t,i,n){return{x1:a,x2:r,value:t,error:i,minerror:n}}function b(a,r,t){var i=Math.abs(a(x(r,t,e))),n=Math.abs(a(x(r,t,2*e))),o=Math.abs(a(x(r,t,4*e)));return!(i<e||n<e)&&(i>1.95*n&&n>1.95*o)}function c(a,r,t){var n,e,o=x(t,r,u[0]),N=x(r,t,u[0]),f=a(o),M=a(N),c=x(r,t,1),l=a(c);if(isFinite(l)&&!isFinite(f)){if(n=i(o,f,c,l,a),Math.abs((n[0]-r)/(t-r))>s)return v(r,t,NaN,NaN,NaN);r=n[0],f=n[1]}if(isFinite(l)&&!isFinite(M)){if(e=i(c,l,N,M,a),Math.abs((e[0]-t)/(t-r))>s)return v(r,t,NaN,NaN,NaN);t=e[0],M=e[1]}if(isFinite(f)&&isFinite(M)&&!isFinite(l)){if(n=i(o,f,c,l,a),e=i(c,l,N,M,a),Math.abs((e[0]-n[0])/(t-r))>s)return v(r,t,NaN,NaN,NaN);l=.5*(n[1]+e[1])}if(b(a,r,t)||b(a,t,r))return v(r,t,NaN,NaN,NaN);for(var F=l,p=0,d=0,g=0,I=0,P=0,q=0,w=0;w<32;w+=4)P=a(x(r,t,u[w])),q=a(x(t,r,u[w])),I=Math.max(I,Math.abs(P),Math.abs(q)),p+=h[w]*(P+q),P=a(x(r,t,u[w+1])),q=a(x(t,r,u[w+1])),I=Math.max(I,Math.abs(P),Math.abs(q)),g+=h[w+1]*(P+q),P=a(x(r,t,u[w+2])),q=a(x(t,r,u[w+2])),I=Math.max(I,Math.abs(P),Math.abs(q)),d+=h[w+2]*(P+q),P=a(x(r,t,u[w+3])),q=a(x(t,r,u[w+3])),I=Math.max(I,Math.abs(P),Math.abs(q)),g+=h[w+3]*(P+q);var J,j=F+p,k=j+d,y=k+g,z=Math.abs(d-j),A=Math.abs(g-k),B=m*(t-r)*y,C=m*Math.abs(t-r)*I*h[0];return J=0===z?m*Math.abs(t-r)*A:m*Math.abs(t-r)*A*(A/z)*(A/z),v(r,t,B,J=Math.max(J,C),C)}function l(a){for(var r=-1/0,t=-1/0,i=-1,n=0,e=0;e<a.length;e++){var o=a[e];n+=o.value,o.error>r&&(r=o.error,i=e),o.minerror>t&&(t=o.minerror)}return{maxerror:r,maxminerror:t,maxindex:i,totalvalue:n}}return{quad:function a(r,t,i,n){if(void 0===n&&(n=32),isNaN(t)||isNaN(i))return NaN;var e=1;if(t>i){var s=t;t=i,i=s,e=-1}if(t===1/0&&i===1/0)return NaN;if(t===-1/0&&i===-1/0)return NaN;if(t===-1/0&&i===1/0)return e*a(function(a){return r(a/((1+a)*(1-a)))*(1+a*a)/((1+a)*(1+a)*(1-a)*(1-a))},-1,1,n);if(t===-1/0)return e*a(function(a){return-r(i-a/(1-a))/((1-a)*(1-a))},1,0,n);if(i===1/0)return e*a(function(a){return r(t+a/(1-a))/((1-a)*(1-a))},0,1,n);for(var u=[c(r,t,i)],h=l(u),N=1;N<n&&(!(Math.abs(h.maxerror/h.totalvalue)<=32*o||h.maxerror<=32*o||h.maxerror<=32*h.maxminerror)&&isFinite(h.maxerror)&&isFinite(h.maxminerror));N++){var f=u[u.length-1];u[u.length-1]=u[h.maxindex],u[h.maxindex]=f;var m=u.pop(),v=M(r,x(m.x2,m.x1,.125),x(m.x1,m.x2,.125));u.push(c(r,m.x1,v)),u.push(c(r,v,m.x2)),h=l(u)}return isFinite(h.maxerror)&&isFinite(h.maxminerror)?Math.abs(h.totalvalue)<=10*h.maxminerror?0:e*h.totalvalue:NaN}}});\ndefine(\'core/math/builtin\',["require","exports","core/lib/md5","core/vendor/d3-color","core/math/quadrature","core/math/mathshim","core/math/mathshim","core/math/distance","core/math/distance","core/math/tofraction","core/math/poi","./maybe-rational","./builtin-common"],function(require,t,r,n,e,a,o,u,i,f,h,c,s){"use strict";function l(t,r,n){return Math.max(r,Math.min(n,t))}function M(r,n){r=Math.round(r),n=Math.round(n);var e=t.gcd(r,n);return Math.abs(r/e*n)}function v(t){return p(t+1)}function p(t){if(t<0)return Math.PI/(P(Math.PI*t)*p(1-t));if(t>170)return 1/0;var r,n=Math.round(t)===t;return r=t<15?g(t):t<120?function(t){var r=t-1;return Math.pow(r,r)*Math.exp(T(r)-r)*Math.sqrt(2*Math.PI*r)}(t):Math.exp(m(t)),n?Math.round(r):r}function g(t){var r=1+t*(4.077131788261185+t*(7.024675027156382+t*(6.657107767450176+t*(3.766266976716022+t*(1.2792371666711133+t*(.24304596436338005+.020049769312165774*t)))))),n=1+t*(4.154347453162709+t*(7.270007565107539+t*(6.97805297331391+t*(3.989651532924167+t*(1.367176195613119+t*(.26175627691546965+.021742722739397567*t))))));return Math.E*Math.pow((1+t)/Math.E,1+t)/(t*Math.sqrt(1+t))*(r/n)}function m(t){var r=t-1;return r*(Math.log(r)-1)+.5*Math.log(2*Math.PI*r)+T(r)}function d(t,r){if(t!==Math.floor(t))return NaN;if(t<0)return NaN;if(0===t)return 1/I(r);var n=P(r);if(1===t)return-1/(n*n);var e=w(r);if(2===t)return 2*e/(n*n*n);for(var a=[0,2],o=[],u=3;u<=t;u++){o=[];for(var i=0;i<u;i++){var f=0,h=0;i>0&&(f=(u-i+1)*a[i-1]),i+2<u&&(h=(i+1)*a[i+1]),o.push(-(f+h))}a=o}var c=0;for(i=t-1;i>=0;i--)c=o[i]+e*c;return c/Math.pow(n,t+1)}function N(t,r){return 0===r?NaN:(n=r===Math.E?Math.log(t):2===r&&Math.log2?Math.log2(t):10===r&&Math.log10?Math.log10(t):Math.log(t)/Math.log(r),Math.pow(r,Math.round(n))===t?Math.round(n):n);var n}Object.defineProperty(t,"__esModule",{value:!0}),t.uniquePerm=t.elementsAt=t.select=t.polygon=t.hsv=t.rgb=t.distance=t.quad=t.stdevp=t.stdev=t.spearman=t.rank=t.validateSampleCount=t.validateRangeLength=t.corr=t.cov=t.covp=t.variance=t.mad=t.varp=t.argMax=t.argMin=t.median=t.lowerQuartileIndex=t.upperQuartileIndex=t.lowerQuantileIndex=t.upperQuantileIndex=t.quartileIndex=t.sortPerm=t.quartile=t.quantile=t.listMax=t.listMin=t.length=t.stats=t.ittest=t.ttest=t.itscore=t.tscore=t.invUniform=t.invT=t.invBinom=t.invPoisson=t.invNorm=t.erfcx=t.erf=t.uniformcdf=t.uniformpdf=t.poissoncdf=t.poissonpdf=t.binompdf=t.binomcdf=t.poissonSample=t.binomSample=t.tSample=t.normalSample=t.uniformSample=t.randomPerm=t.shuffle=t.random=t.normalpdf=t.normalcdf=t.tcdf=t.tpdf=t.total=t.mean=t.acoth=t.acsch=t.asech=t.coth=t.csch=t.sech=t.asec=t.acsc=t.acot=t.cot=t.csc=t.sec=t.tan=t.cos=t.sin=t.nthroot=t.common_log=t.log_base=t.log=t.polyGamma=t.cotDerivative=t.bernoulliTable=t.lnGamma=t.gamma=t.factorial=t.nPr=t.nCr=t.listLCM=t.listGCD=t.lcm=t.mod=t.pow=t.gcd=t.toFraction=t.hypot=t.sign=t.sqrtxsqm1=t.sqrtxsqp1=t.log1p=t.expm1=t.atanh=t.asinh=t.acosh=t.tanh=t.sinh=t.cosh=t.md5Spyable=void 0,t.md5Spyable=r,Object.defineProperty(t,"cosh",{enumerable:!0,get:function(){return o.cosh}}),Object.defineProperty(t,"sinh",{enumerable:!0,get:function(){return o.sinh}}),Object.defineProperty(t,"tanh",{enumerable:!0,get:function(){return o.tanh}}),Object.defineProperty(t,"acosh",{enumerable:!0,get:function(){return o.acosh}}),Object.defineProperty(t,"asinh",{enumerable:!0,get:function(){return o.asinh}}),Object.defineProperty(t,"atanh",{enumerable:!0,get:function(){return o.atanh}}),Object.defineProperty(t,"expm1",{enumerable:!0,get:function(){return o.expm1}}),Object.defineProperty(t,"log1p",{enumerable:!0,get:function(){return o.log1p}}),Object.defineProperty(t,"sqrtxsqp1",{enumerable:!0,get:function(){return o.sqrtxsqp1}}),Object.defineProperty(t,"sqrtxsqm1",{enumerable:!0,get:function(){return o.sqrtxsqm1}}),Object.defineProperty(t,"sign",{enumerable:!0,get:function(){return o.sign}}),Object.defineProperty(t,"hypot",{enumerable:!0,get:function(){return i.hypot}}),t.toFraction=f.default,t.gcd=s.gcd,t.pow=s.pow,t.mod=function(t,r){var n=t%r;return t*r<0&&0!==n?n+r:n},t.lcm=M,t.listGCD=function(r){if(0===r.length)return NaN;for(var n=r[0],e=1;e<r.length;e++)n=t.gcd(n,r[e]);return n},t.listLCM=function(t){if(0===t.length)return NaN;for(var r=t[0],n=1;n<t.length;n++)r=M(r,t[n]);return r},t.nCr=function(t,r){if(t=Math.round(t),(r=Math.round(r))>t||t<0||r<0)return 0;if(r===1/0||t===1/0)return NaN;r>t-r&&(r=t-r);for(var n=1,e=0;e<r;e++)n*=(t-e)/(e+1);return Math.round(n)},t.nPr=function(t,r){if(t=Math.round(t),(r=Math.round(r))>t||t<0||r<0)return 0;if(r===1/0||t===1/0)return NaN;for(var n=1,e=0;e<r;e++)n*=t-e;return n},t.factorial=v,t.gamma=p,t.lnGamma=function(t){return t<0?NaN:t<15?Math.log(g(t)):m(t)},t.bernoulliTable=[1/6,-1/30,1/42,-1/30,5/66,-691/2730,7/6,-3617/510,43867/798,-174611/330,854513/138,-236364091/2730,8553103/6,-23749461029/870],t.cotDerivative=d,t.polyGamma=function r(n,e){if(n<0)return NaN;if(n!==Math.floor(n))return NaN;var a=n%2==0?-1:1;if(e<0)return-a*r(n,1-e)-Math.pow(Math.PI,n+1)*d(n,Math.PI*e);for(var o=v(n),u=0,i=Math.pow(e,-(n+1));e<10;)u+=i,e++,i=Math.pow(e,-(n+1));u+=0===n?-Math.log(e):i*e/n,u+=.5*i;for(var f=t.bernoulliTable,h=n+1,c=2,s=i*e*h/c,l=1/(e*e),M=1;M<=14;M++)u+=(s*=l)*f[M-1],s*=++h/++c,s*=++h/++c;return o*a*u},t.log=function(t){var r=Math.log(t);return Math.exp(Math.round(r))===t?Math.round(r):r},t.log_base=N,t.common_log=function(t){return N(t,10)},t.nthroot=function(r,n){return t.pow(r,1/n)};var b=1/Math.PI;function q(t){return!(t>1e12)&&Math.round(b*t)*Math.PI===t}function x(t){if(t>1e12)return!1;var r=Math.round(2*b*t);return r%2==1&&r*Math.PI==2*t}function P(t){return q(Math.abs(t))?0:Math.sin(t)}function w(t){return x(Math.abs(t))?0:Math.cos(t)}function I(t){var r=Math.abs(t);return q(r)?0:x(r)?1/0:Math.tan(t)}function y(t){for(var r=0,n=0;n<t.length;n++)r+=t[n];return r/t.length}function S(t){return t>50?Math.exp(.5*((1-t)*a.log1p(-1/(t-1))-1)+O(.5*(t-1))-O(.5*(t-2)))*Math.sqrt((1-1/t)/(2*Math.PI)):p((t+1)/2)/(p(t/2)*Math.sqrt(t*Math.PI))}function j(t,r,n){if(void 0===n&&(n=t-r),Math.abs(n)<.1*(t+r))for(var e=n/(t+r),a=n*n/(t+r),o=2*t*e,u=1;u<10;u++){var i=a+(o*=e*e)/(2*u+1);if(i==a)return i;a=i}return t*Math.log(t/r)+r-t}t.sin=P,t.cos=w,t.tan=I,t.sec=function(t){return x(Math.abs(t))?1/0:1/Math.cos(t)},t.csc=function(t){return q(Math.abs(t))?1/0:1/Math.sin(t)},t.cot=function(t){var r=Math.abs(t);return q(r)?1/0:x(r)?0:1/Math.tan(t)},t.acot=function(t){return Math.PI/2-Math.atan(t)},t.acsc=function(t){return Math.asin(1/t)},t.asec=function(t){return Math.acos(1/t)},t.sech=function(t){return 1/a.cosh(t)},t.csch=function(t){return 1/a.sinh(t)},t.coth=function(t){return 1/a.tanh(t)},t.asech=function(t){return a.acosh(1/t)},t.acsch=function(t){return a.asinh(1/t)},t.acoth=function(t){return a.atanh(1/t)},t.mean=y,t.total=function(t){for(var r=0,n=0;n<t.length;n++)r+=t[n];return r};var F=[0,.08106146679532726,.0413406959554093,.02767792568499834,.020790672103765093,.016644691189821193,.013876128823070748,.01189670994589177,.010411265261972096,.009255462182712733,.00833056343336287,.007573675487951841,.00694284010720953,.006408994188004207,.0059513701127588475,.005554733551962801];function O(t){return t>15?T(t):t<0?NaN:t===Math.floor(t)?F[t]:Math.log(v(t)/(Math.pow(t,t)*Math.exp(-t)*Math.sqrt(2*Math.PI*t)))}function T(t){var r=t*t;return(.08333333333333333-(.002777777777777778-(.0007936507936507937-(.0005952380952380953-.0008417508417508417/r)/r)/r)/r)/t}function Q(t,r){return r<=0?NaN:S(r)*Math.pow(1+t*t/r,-(r+1)/2)}function C(t,r){if(r>0)return 1-C(t,-r);if(r===-1/0)return 0;if(0===r)return.5;if(t>=40&&r>-1)return.5+S(t)*function(t,r){for(var n=r*r/t,e=r,a=e,o=1;o<=15;o++)a+=e*=-(2*o-1)/(2*o+1)*(.5*(t+1)+o-1)/o*n;return a}(t,r);if(r/t<-1e3){var n=r*r;return S(t)*Math.pow(t,.5*(t-1))*Math.pow(Math.abs(r),-t)*(1-t*t*(t+1)*(1/(2+t)+t*(t+3)/(4*(4+t)*n))/(2*n))}var e=Math.sqrt(r*r+t);return function(t,r,n){if(t<0||t>1)throw new RangeError("First argument must be between 0 and 1.");if(1===r&&1===n)return t;if(0===t)return 0;if(1===t)return 1;if(0===r)return 1;if(0===n)return 0;var e=O(r+n)-O(r)-O(n)-j(r,(r+n)*t)-j(n,(r+n)*(1-t),(r+n)*t-r),a=Math.exp(e)*Math.sqrt(r*n/(2*Math.PI*(r+n)));return t<(r+1)/(r+n+2)?a*R(t,r,n)/r:1-a*R(1-t,n,r)/n}((r+e)/(2*e),t/2,t/2)}function E(t,r,n){return n<=0?NaN:t===-1/0?C(n,r):t>0&&r>0?C(n,-t)-C(n,-r):C(n,r)-C(n,t)}function R(t,r,n){var e=Math.pow(2,-52),a=1e-300,o=r+n,u=r+1,i=r-1,f=1,h=1-o*t/u;Math.abs(h)<a&&(h=a);for(var c=h=1/h,s=1;s<=100;s++){var l=2*s,M=s*(n-s)*t/((i+l)*(r+l));h=1+M*h,Math.abs(h)<a&&(h=a),f=1+M/f,Math.abs(f)<a&&(f=a),c*=(h=1/h)*f,h=1+(M=-(r+s)*(o+s)*t/((r+l)*(u+l)))*h,Math.abs(h)<a&&(h=a),f=1+M/f,Math.abs(f)<a&&(f=a);var v=(h=1/h)*f;if(c*=v,Math.abs(v-1)<=e)return c}return c}function _(t,r,n){return(t-r)/(Math.SQRT2*Math.abs(n))}function G(t){return t<0?.5*Math.exp(-t*t)*K(-t):1-.5*Math.exp(-t*t)*K(t)}function A(r){var n=t.md5Spyable(r);return(4294967296*(2097151&parseInt(n.slice(0,8),16))+parseInt(n.slice(8,16),16))/9007199254740992}function D(t,r){for(var n=r.length-1;n>0;n--){var e=t+"::sc"+n,a=Math.floor(A(e)*(n+1)),o=r[n];r[n]=r[a],r[a]=o}}function L(t,r,n){return A(t)*(n-r)+r}function k(t,r,n){return t>=r?1:t<0?0:t<Math.floor((r+1)*n)?B(t,r,n):1-B(r-t-1,r,1-n)}function B(t,r,n){for(var e=(1-n)/n,a=U(t,r,n),o=a;t>0&&o+(a*=t/(r-t+1)*e)!==o;t--)o+=a;return o}function U(t,r,n){if(t=Math.round(t),(r=l(Math.round(r),0,1/0))===1/0)return NaN;if(n=l(n,0,1),t<0||t>r)return 0;if(0===n)return 0===t?1:0;if(1===n)return t===r?1:0;if(0===t)return Math.exp(r*a.log1p(-n));if(t===r)return Math.pow(n,r);var e=O(r)-O(t)-O(r-t)-j(t,r*n)-j(r-t,r*(1-n),r*n-t);return Math.exp(e)*Math.sqrt(r/(2*Math.PI*t*(r-t)))}function z(t,r){return r<0?NaN:(t=Math.round(t))<0?0:0===r?0===t?1:0:0===t?Math.exp(-r):Math.exp(-O(t)-j(t,r))/Math.sqrt(2*Math.PI*t)}function H(t,r){if(isNaN(t)||isNaN(r))return NaN;if(t===1/0)return 1;if((t=Math.floor(t))<0)return 0;if(0===r)return 1;if(t+1>12&&2.35*(t+1)>r&&.3*(t+1)<r)return function(t,r){for(var n=r/t,e=a.sign(r-t)*Math.sqrt(2*j(1,n)),o=[1,-.3333333333333333,.08333333333333333,-.014814814814814815,.0011574074074074073,.0003527336860670194,-.0001787551440329218,3919263178522438e-20,-2185448510679992e-21,-185406221071516e-20,8.296711340953087e-7,-1.7665952736826078e-7,6.707853543401498e-9,1.0261809784240309e-8,-4.382036018453353e-9,9.14769958223679e-10,-25514193994946248e-27,-5830772132550426e-26,24361948020667415e-27,-50276692801141755e-28,11004392031956135e-29,3371763262400985e-28,-1392388722418162e-28,28534893807047445e-30,-5139111834242572e-31,-19752288294349442e-31,8099521156704561e-31],u=o.length-2,i=0,f=0,h=0,c=0;u>=0;u--)c=e*c+(h=(u+2)*i/t+o[u+1]),i=f,f=h;if(c*=t/(t+i),r<t){var s=Math.exp(-.5*t*e*e)*(.5*K(-e*Math.sqrt(t/2))-c/Math.sqrt(2*Math.PI*t));return isFinite(s)?1-s:1}var l=Math.exp(-.5*t*e*e)*(.5*K(e*Math.sqrt(t/2))+c/Math.sqrt(2*Math.PI*t));return isFinite(l)?l:0}(t+1,r);if(t+1>=r){var n=function(t,r){var n=Math.pow(2,-52),e=1e-300,a=1/t,o=1/e,u=1/t,i=2,f=0,h=t,c=-(t-1),s=0;do{0===(u=u*(c-=1)*r+(h+=1))&&(u=e),0===(o=h+c*r/o)&&(o=e),a*=f=o*(u=1/u),0===(u=u*(s+=1)*r+(h+=1))&&(u=e),0===(o=h+s*r/o)&&(o=e),a*=f=o*(u=1/u),i+=2}while(i<100&&Math.abs(f-1)>n);return a}(t+1,r);return isFinite(n)?1-r*z(t,r)*n:1}n=function(t,r){var n=Math.pow(2,-52),e=1e-300,a=r+1-t,o=1/a,u=1/e,i=1/a,f=2,h=0,c=a;do{var s=-(f-1)*(f-t-1);0===(i=i*s+(c+=2))&&(i=e),0===(u=c+s/u)&&(u=e),o*=h=u*(i=1/i),f+=1}while(f<100&&Math.abs(h-1)>n);return o}(t+1,r);return isFinite(n)?r*z(t,r)*n:0}function J(t,r,n){return n<=r?NaN:t<r?0:t>n?1:(t-r)/(n-r)}function K(t){if(t<0)return t<-6.1?2*Math.exp(t*t):2*Math.exp(t*t)-K(-t);if(t>50){var r=.5641895835477563,n=t*t;return t>5e7?r/t:r*(n*(n+4.5)+2)/(t*(n*(n+5)+3.75))}return(.9999999999999999+t*(2.224574423459406+t*(2.444115549920689+t*(1.7057986861852539+t*(.8257463703357973+t*(.28647031042892007+t*(.07124513844341643+t*(.012296749268608364+t*(.001347817214557592+7263959403471071e-20*t)))))))))/(1+t*(3.352953590554884+t*(5.227518529742423+t*(5.003720878235473+t*(3.266590890998987+t*(1.5255421920765353+t*(.5185887413188858+t*(.12747319185915415+t*(.02185979575963238+t*(.0023889438122503674+.00012875032817508128*t))))))))))}function V(t){var r,n,e;return t>.5?-V(1-t):.5===t?0:t<0?NaN:0===t?-1/0:(e=t<.02425?(((((-.00778489400243029*(r=Math.sqrt(-2*Math.log(t)))-.322396458041136)*r-2.40075827716184)*r-2.54973253934373)*r+4.37466414146497)*r+2.93816398269878)/((((.00778469570904146*r+.32246712907004)*r+2.445134137143)*r+3.75440866190742)*r+1):(((((-39.6968302866538*(n=(r=t-.5)*r)+220.946098424521)*n-275.928510446969)*n+138.357751867269)*n-30.6647980661472)*n+2.50662827745924)*r/(((((-54.4760987982241*n+161.585836858041)*n-155.698979859887)*n+66.8013118877197)*n-13.2806815528857)*n+1))-Math.sqrt(2*Math.PI)*(.5*K(-e/Math.SQRT2)-Math.exp(.5*e*e)*t)}function W(t,r){if(r<=0||t<0||t>1)return NaN;if(0===t)return 0;if(1===t)return 1/0;for(var n=1,e=1,a=1;Math.exp(-r)*e<t;){if(e+(n*=r/a)===e)return 1/0;e+=n,a+=1}return a-1}function X(t,r,n){if(r!==Math.round(r))return NaN;if(n<0||n>1)return NaN;if(t<0||t>1)return NaN;if(0===t)return 0;if(1===t)return r;if(0===r)return 0;if(1===n)return r;if(0===n)return 0;for(var e=n/(1-n),a=Math.pow(1-n,r),o=a,u=1;o<t;){if(o+(a*=(r-u+1)/u*e)===o)return r;if(u>r)return r;o+=a,u+=1}return u-1}function Y(t,r){var n=4*r*(1-r);switch(t){case 1:return Math.tan(Math.PI*(r-.5));case 2:return 2*(r-.5)*Math.sqrt(2/n);case 4:var e=Math.cos(Math.acos(Math.sqrt(n))/3)/Math.sqrt(n);return 2*a.sign(r-.5)*Math.sqrt(e-1);default:throw new Error("_invTSimple() must be called with 1, 2, or 4 df.")}}function Z(t,r){var n=Mt(t);return(y(t)-r)*Math.sqrt(t.length)/n}function $(t,r){var n=t.length,e=y(t),a=Mt(t),o=r.length,u=y(r),i=Mt(r);return(e-u)/(Math.sqrt(((n-1)*a*a+(o-1)*i*i)/(n+o-2))*Math.sqrt(1/n+1/o))}function tt(t,r,n){return n<0?E(-1/0,t,r):n>0?E(-1/0,-t,r):2*E(-1/0,-Math.abs(t),r)}function rt(t){if(t.length<1)return NaN;var r=t[0];if(isNaN(r))return NaN;for(var n=1;n<t.length;n++){if(isNaN(t[n]))return NaN;t[n]<r&&(r=t[n])}return r}function nt(t){if(t.length<1)return NaN;var r=t[0];if(isNaN(r))return NaN;for(var n=1;n<t.length;n++){if(isNaN(t[n]))return NaN;t[n]>=r&&(r=t[n])}return r}function et(t,r){if(!isFinite(r)||r<0||r>1)return NaN;if(t.some(isNaN))return NaN;if(0===t.length)return NaN;var n=t.length,e=ot(t),a=r*(n-1);return Math.floor(a)===a?t[e[a]]:(Math.ceil(a)-a)*t[e[Math.floor(a)]]+(a-Math.floor(a))*t[e[Math.ceil(a)]]}function at(t,r){if(!isFinite(r)||r<0||r>4)return NaN;if(t.some(isNaN))return NaN;var n=ot(t),e=ut(t,r),a=Math.floor(e),o=Math.ceil(e);return(t[n[a]]+t[n[o]])/2}function ot(t){for(var r=t.length,n=[],e=0;e<r;e++)n.push(e);return n.sort(function(r,n){return c.asFloat(c.sub(t[r],t[n]))}),n}function ut(t,r){r=Math.round(r);var n,e=t.length,a=e%2==1;return 1===e?0:(0===r&&(n=0),2===r&&(n=(e-1)/2),4===r&&(n=e-1),1===r&&(n=a?(e+1)/4-1:(e+2)/4-1),3===r&&(n=a?(3*e+3)/4-1:(3*e+2)/4-1),void 0===n?NaN:n)}function it(t){return et(t,.5)}function ft(t){for(var r=y(t),n=0,e=0;e<t.length;e++){var a=t[e]-r;n+=a*a}return n/t.length}function ht(t){var r=t.length;return ft(t)*r/(r-1)}function ct(t,r){var n=Math.min(t.length,r.length);t.length!==n&&(t=t.slice(0,n)),r.length!==n&&(r=r.slice(0,n));for(var e=y(t),a=y(r),o=0,u=0;u<n;u++)o+=(t[u]-e)*(r[u]-a);return o/n}function st(t,r){var n=Math.min(t.length,r.length);t.length!==n&&(t=t.slice(0,n)),r.length!==n&&(r=r.slice(0,n));for(var e=y(t),a=y(r),o=0,u=0,i=0,f=0;f<n;f++){var h=t[f]-e,c=r[f]-a;o+=h*h,u+=c*c,i+=h*c}return i/Math.sqrt(o*u)}function lt(t){var r=t.length;if(0===r)return[];for(var n=[],e=[],a=0;a<r;a++)e.push([t[a],a]);e.sort(function(t,r){var n=t[0],e=r[0];return n===1/0&&e===1/0||n===-1/0&&e===-1/0?0:n-e});for(var o=0,u=1,i=1;o<r;){for(var f=o;f<r-1&&e[f][0]===e[f+1][0];)f+=1;i=f-o+1;var h=void 0;for(f=0;f<i;f++)n[h=e[o+f][1]]=isNaN(t[h])?NaN:u+.5*(i-1);u+=i,o+=i}return n}function Mt(t){return Math.sqrt(ht(t))}function vt(t,r,n){return[l(Math.round(t),0,255),l(Math.round(r),0,255),l(Math.round(n),0,255)]}function pt(t){if(Array.isArray(t))return"["+t.map(pt).join(",")+"]";switch(typeof t){case"string":return t;case"boolean":case"number":return t.toString();case"object":if("object"==typeof(e=t)&&e&&"Action"===e.type){var r=[];for(var n in t.updateRules)r.push(\'"\'+n+\'": \'+pt(t.updateRules[n].value));return"{"+r.join(",")+"}"}return t.n+"/"+t.d;default:return t}var e}t.tpdf=Q,t.tcdf=E,t.normalcdf=function(t,r,n,e){var a=_(r,n,e);if(t===-1/0)return G(a);var o=_(t,n,e);return t>0&&r>0?G(-o)-G(-a):G(a)-G(o)},t.normalpdf=function(t,r,n){return 1/Math.sqrt(2*Math.PI*n*n)*Math.exp(-(t-r)*(t-r)/(2*n*n))},t.random=A,t.shuffle=function(t,r){var n=r.slice();return D(t,n),n},t.randomPerm=function(t,r){for(var n=[],e=0;e<r;e++)n.push(e);return D(t,n),n},t.uniformSample=L,t.normalSample=function(t,r,n){var e,a,o,u,i=0;do{e=t+"::sc"+i,i+=1,a=2*L(e,0,1)-1,e=t+"::sc"+i,i+=1,u=a*a+(o=2*L(e,0,1)-1)*o}while(u>=1||0===u);return r+n*a*Math.sqrt(-2*Math.log(u)/u)},t.tSample=function(t,r){if(r<=0)return NaN;var n,e,a,o,u=0;do{n=t+"::sc"+u,u+=1,e=2*L(n,0,1)-1,n=t+"::sc"+u,u+=1,o=e*e+(a=2*L(n,0,1)-1)*a}while(o>1);var i=e*e/o,f=r*(Math.pow(o,-2/r)-1);return n=t+"::sc"+u,u+=1,(L(n,0,1)<.5?-1:1)*Math.sqrt(i*f)},t.binomSample=function(t,r,n){return(r=l(Math.round(r),0,1/0))===1/0?NaN:(n=l(n,0,1),X(L(t,0,1),r,n))},t.poissonSample=function(t,r){return r<=0?NaN:W(L(t,0,1),r)},t.binomcdf=function(t,r,n,e){return(n=l(Math.round(n),0,1/0))===1/0?NaN:(e=l(e,0,1),r<0?0:(t=Math.ceil(t),r=Math.floor(r),t===-1/0?k(r,n,e):k(r,n,e)-k(t-1,n,e)))},t.binompdf=U,t.poissonpdf=z,t.poissoncdf=function(t,r,n){return n<=0?NaN:(t=Math.ceil(t),(r=Math.floor(r))<0?0:t===-1/0?H(r,n):H(r,n)-H(t-1,n))},t.uniformpdf=function(t,r,n){return n<=r?NaN:t<r||t>n?0:1/(n-r)},t.uniformcdf=function(t,r,n,e){return J(r,n,e)-J(t,n,e)},t.erf=function(t){var r=-t*t;return r<-750?t>=0?1:-1:t>=.065?1-Math.exp(r)*K(t):t<=-.065?Math.exp(r)*K(-t)-1:t*(1.1283791670955126+r*(.37612638903183754+r*(.11283791670955126+r*(.026866170645131252+.005223977625442188*r))))},t.erfcx=K,t.invNorm=V,t.invPoisson=W,t.invBinom=X,t.invT=function t(r,n){return isNaN(n)||n<=0||r<0||r>1?NaN:0===r?-1/0:1===r?1/0:1===n||2===n||4===n?Y(n,r):.5===r?0:r>.5?function(t,r,n,e){if(!isFinite(n)||!isFinite(e))return NaN;var a=n,o=e;for(;;){var u=h.floatMiddle(a,o),i=C(t,u);if(u===a||u===o)return i>r?a:o;i<r?a=u:o=u}}(n,r,n>1?V(r):Y(1,r),n>1?Y(1,r):Math.pow(Q(0,n)*Math.pow(n,(n-1)/2)/(1-r),1/n)):-t(1-r,n)},t.invUniform=function(t,r,n){return t<0||t>1||n<=r?NaN:0===t?r:1===t?n:r+t*(n-r)},t.tscore=Z,t.itscore=$,t.ttest=function(t,r){1===arguments.length&&(r=0);var n=Z(t,r),e=t.length-1;return{lessThan:tt(n,e,-1),greaterThan:tt(n,e,1),notEqual:tt(n,e,0)}},t.ittest=function(t,r){var n=$(t,r),e=t.length+r.length-2;return{lessThan:tt(n,e,-1),greaterThan:tt(n,e,1),notEqual:tt(n,e,0)}},t.stats=function(t){return{min:rt(t),q1:at(t,1),median:it(t),q3:at(t,3),max:nt(t)}},t.length=function(t){return t.length},t.listMin=rt,t.listMax=nt,t.quantile=et,t.quartile=at,t.sortPerm=ot,t.quartileIndex=ut,t.upperQuantileIndex=function(t,r){return ot(t)[Math.ceil(r*(t.length-1))]+1},t.lowerQuantileIndex=function(t,r){return ot(t)[Math.floor(r*(t.length-1))]+1},t.upperQuartileIndex=function(t,r){return ot(t)[Math.ceil(ut(t,r))]+1},t.lowerQuartileIndex=function(t,r){return ot(t)[Math.floor(ut(t,r))]+1},t.median=it,t.argMin=function(t){if(t.length<1)return 0;var r=t[0];if(isNaN(r))return 0;for(var n=0,e=1;e<t.length;e++){if(isNaN(t[e]))return 0;t[e]<r&&(n=e,r=t[e])}return n+1},t.argMax=function(t){if(t.length<1)return 0;var r=t[0];if(isNaN(r))return 0;for(var n=0,e=1;e<t.length;e++)if(t[e]>=r){if(isNaN(t[e]))return 0;n=e,r=t[e]}return n+1},t.varp=ft,t.mad=function(t){for(var r=y(t),n=0,e=0;e<t.length;e++)n+=Math.abs(t[e]-r);return n/t.length},t.variance=ht,t.covp=ct,t.cov=function(t,r){var n=Math.min(t.length,r.length);return ct(t,r)*n/(n-1)},t.corr=st,t.validateRangeLength=function(t,r,n,e){for(var a=t[0],o=2;o<t.length;o++){var i=c.asFloat(c.div(c.sub(t[o],a),n));if(!u.approx(i,o,10))return 0}var f=c.asFloat(e);for(o=0;o<r.length-1;o++){i=c.asFloat(c.div(c.sub(r[o],a),n));if(!u.approx(i,f-r.length+o,10))return 0}return!isFinite(f)||f<t.length||f<r.length?0:f},t.validateSampleCount=function(t){return t<0||!isFinite(t)?0:t},t.rank=lt,t.spearman=function(t,r){var n=Math.min(t.length,r.length);return t.length!==n&&(t=t.slice(0,n)),r.length!==n&&(r=r.slice(0,n)),st(lt(t),lt(r))},t.stdev=Mt,t.stdevp=function(t){return Math.sqrt(ft(t))},t.quad=e.quad,t.distance=function(t,r){return u.hypot(r[0]-t[0],r[1]-t[1])},t.rgb=vt,t.hsv=function(t,r,e){t=l(t,0,360),r=l(r,0,1);var a=(e=l(e,0,1))*(1-r/2);r=0===a||1===a?0:(e-a)/Math.min(a,1-a);var o=n.hsl(t,r,a).rgb();return vt(o.r,o.g,o.b)},t.polygon=function(t){return t},t.select=function(t,r){for(var n=[],e=0;e<t.length;e++)r[e]&&n.push(t[e]);return n},t.elementsAt=function(t,r){for(var n=[],e=0,a=r;e<a.length;e++){var o=a[e];n.push(t[o])}return n},t.uniquePerm=function(t){for(var r=[],n={},e=0;e<t.length;e++){var a=pt(t[e]);n.hasOwnProperty(a)||(n[a]=!0,r.push(e))}return r}});\ndefine(\'core/math/functions\',["require","exports","core/math/builtin"],function(require,e,t){"use strict";function n(e){delete e.fn}function r(e){e.fn=i(e.args,e.source,e.constants)}function i(e,n,r){var i=e.join(",");return new Function("BuiltIn","_C","return (function("+i+\'){"use strict"; \'+n+"})")(t,r)}Object.defineProperty(e,"__esModule",{value:!0}),e.closureFunctionWithBuiltIn=e.rehydrateCompiledFunction=e.dehydrateCompiledFunction=e.rehydrateGraphData=e.dehydrateGraphData=void 0,e.dehydrateGraphData=function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t].compiled;i&&n(i)}},e.rehydrateGraphData=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t].compiled;i&&r(i)}},e.dehydrateCompiledFunction=n,e.rehydrateCompiledFunction=r,e.closureFunctionWithBuiltIn=i});\ndefine(\'core/math/ir/instructions\',["require","exports","./opcodes"],function(require,e,n){"use strict";function t(e){return e.type<=n.MAX_LEAF_OPCODE}Object.defineProperty(e,"__esModule",{value:!0}),e.endsBlock=e.beginsBlock=e.isInternalInstruction=e.isLeafInstruction=void 0,e.isLeafInstruction=t,e.isInternalInstruction=function(e){return!t(e)},e.beginsBlock=function(e){switch(e.type){case n.BeginIntegral:case n.BeginBroadcast:case n.BeginLoop:return!0;default:return!1}},e.endsBlock=function(e){switch(e.type){case n.EndLoop:case n.EndIntegral:case n.EndBroadcast:return!0;default:return!1}}});\ndefine(\'core/math/ir/features/print\',["require","exports","../instructions","../opcodes","core/math/types","../../context-types"],function(require,e,r,t,n,s){"use strict";function a(e,r){var s=e.getInstruction(r);switch(s.type===t.Noop&&s.removedInstructionForDebuggingOnly&&(s=s.removedInstructionForDebuggingOnly),s.type){case t.Noop:return c(s.type);case t.LoadArg:return c(s.type)+" "+n.repr(s.valueType)+" "+e.argNames[r];case t.SymbolicVar:return c(s.type)+" "+n.repr(s.valueType);case t.Constant:return c(s.type)+" "+n.repr(s.valueType)+" "+o(s.value);case t.NativeFunction:case t.Distribution:return c(s.type)+" "+n.repr(s.valueType)+" "+s.symbol+" "+s.args.join(" ");case t.ExtendSeed:return c(s.type)+" "+n.repr(s.valueType)+" "+s.tag+" "+s.args.join(" ");case t.BroadcastResult:return c(s.type)+" "+n.repr(s.valueType)+" "+s.args.join(" ")+(s.isConstantBroadcast?" (constant)":"");case t.Add:case t.Subtract:case t.Multiply:case t.Divide:case t.RawExponent:case t.Exponent:case t.Negative:case t.OrderedPair:case t.OrderedPairAccess:case t.BeginLoop:case t.EndLoop:case t.BeginIntegral:case t.EndIntegral:case t.BeginBroadcast:case t.EndBroadcast:case t.Equal:case t.Less:case t.Greater:case t.LessEqual:case t.GreaterEqual:case t.And:case t.Piecewise:case t.List:case t.ListAccess:case t.DeferredListAccess:case t.InboundsListAccess:case t.BlockVar:case t.Action:return c(s.type)+" "+n.repr(s.valueType)+" "+s.args.join(" ");default:throw new Error("Unexpected opcode "+s.type)}}function c(e){switch(e){case t.Noop:return"Noop";case t.Constant:return"Constant";case t.Add:return"Add";case t.Subtract:return"Subtract";case t.Multiply:return"Multiply";case t.Divide:return"Divide";case t.Exponent:return"Exponent";case t.RawExponent:return"RawExponent";case t.Negative:return"Negative";case t.OrderedPair:return"OrderedPair";case t.OrderedPairAccess:return"OrderedPairAccess";case t.BeginLoop:return"BeginLoop";case t.EndLoop:return"EndLoop";case t.BeginIntegral:return"BeginIntegral";case t.EndIntegral:return"EndIntegral";case t.BeginBroadcast:return"BeginBroadcast";case t.EndBroadcast:return"EndBroadcast";case t.Equal:return"Equal";case t.Less:return"Less";case t.Greater:return"Greater";case t.LessEqual:return"LessEqual";case t.GreaterEqual:return"GreaterEqual";case t.And:return"And";case t.Piecewise:return"Piecewise";case t.List:return"List";case t.ListAccess:return"ListAccess";case t.DeferredListAccess:return"DeferredListAccess";case t.InboundsListAccess:return"InboundsListAccess";case t.NativeFunction:return"NativeFunction";case t.Distribution:return"Distribution";case t.LoadArg:return"LoadArg";case t.BlockVar:return"BlockVar";case t.BroadcastResult:return"BroadcastResult";case t.SymbolicVar:return"SymbolicVar";case t.ExtendSeed:return"ExtendSeed";case t.Action:return"Action";default:throw new Error("Unexpected opcode "+e.type)}}function o(e){if(Array.isArray(e))return"["+e.map(o).join(",")+"]";switch(typeof e){case"string":return e;case"boolean":case"number":return e.toString();case"object":if(s.isActionCompilerValue(e)){var r=[];for(var t in e.updateRules)r.push(\'"\'+t+\'": \'+o(e.updateRules[t].value));return"{"+r.join(", ")+"}"}return e.n+"/"+e.d;default:throw new Error("Unexpected value: "+e)}}function i(e,r){var t=e.toString();return u(r-t.length)+t}function u(e){for(var r="",t=0;t<e;t++)r+=" ";return r}Object.defineProperty(e,"__esModule",{value:!0}),e.printValue=e.printOp=e.printInstruction=e.print=void 0,e.print=function(e){for(var n="",s=(e.instructionsLength()-1).toString().length,c=0,o=!1,d=0;d<e.instructionsLength();d++){var p=e.getInstruction(d),l=e.comments[d]||"",g=p.type===t.Noop&&p.removedInstructionForDebuggingOnly;if((r.endsBlock(p)||g&&r.endsBlock(g))&&(c-=1),p.type!==t.Noop||g){o=!1;var y=g?" [X]":"    ";n+=i(d,s)+":"+y+" "+u(2*c)+a(e,d)+(l?"\\t\\t# "+l:"")+"\\n"}else o||(n+=i(d,s)+": "+u(2*c)+"...\\n"),o=!0;(r.beginsBlock(p)||g&&r.beginsBlock(g))&&(c+=1)}return n},e.printInstruction=a,e.printOp=c,e.printValue=o});\ndefine(\'core/math/ir/features/is-constant\',["require","exports","../opcodes","./print"],function(require,t,n,s){"use strict";function o(t){return t.type===n.Constant}function r(t){return t.type===n.BroadcastResult&&t.isConstantBroadcast}Object.defineProperty(t,"__esModule",{value:!0}),t.isConstantOrConstantBroadcast=t.isConstantBroadcast=t.assertConstant=t.isConstant=void 0,t.isConstant=o,t.assertConstant=function(t){if(!o(t))throw new Error("Programming error: expected constant instruction but found "+s.printOp(t.type)+" instead.")},t.isConstantBroadcast=r,t.isConstantOrConstantBroadcast=function(t){return o(t)||r(t)}});\ndefine(\'core/math/ir/features/depends-on-outer-variable\',["require","exports","../instructions","./is-constant"],function(require,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dependsOnOuterVariable=void 0,t.dependsOnOuterVariable=function(t,e,s){var i=t.getInstruction(s);if(!n.isLeafInstruction(i))for(var a=0,o=i.args;a<o.length;a++){var u=o[a];if(!r.isConstantOrConstantBroadcast(t.getInstruction(u)))return!0}if(e<s)return!r.isConstantOrConstantBroadcast(t.getInstruction(e));for(var f=[!0],c=s+1;c<=e;c++)f.push(!1);for(var d=[e];d.length;){if(!f[(c=d.pop())-s]){f[c-s]=!0;var g=t.getInstruction(c);if(!n.isLeafInstruction(g))for(var v=0,l=g.args;v<l.length;v++){if((u=l[v])<s){if(!r.isConstantOrConstantBroadcast(t.getInstruction(u)))return!0}else f[u-s]||d.push(u)}}}return!1}});\ndefine(\'core/math/ir/features/reconstitute-ir\',["require","exports","core/math/types"],function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reconstituteIR=void 0,e.reconstituteIR=function e(r,n,o){if(t.isList(n)){for(var s=[],i=0;i<o.length;i++)s.push(e(r,t.elementType(n),o[i]));return r.ConstantOfType(n,s)}switch(n){case t.Number:return r.Constant(o);case t.Bool:case t.Point:case t.RGBColor:return r.ConstantOfType(n,o);default:throw new Error("Cannot reconstitute value of a "+t.prettyPrint(n)+".")}}});\ndefine(\'core/math/ir/features/list-length\',["require","exports","../opcodes","core/math/types","./print"],function(require,t,n,e,r){"use strict";function s(t,n){var e=i(t,n);if(!(e<0))return e}function i(t,s,a){var o,u=a&&a[s];if(u)return u;var c,g=t.getInstruction(s);switch(g.type){case n.List:c=g.args.length;break;case n.Constant:c=g.value.length;break;case n.BroadcastResult:c=null!==(o=g.constantLength)&&void 0!==o?o:-1}return void 0===c&&(c=function(t,s,a){switch(s.type){case n.Piecewise:var o=i(t,s.args[1],a);return o===i(t,s.args[2],a)?o:-1;case n.NativeFunction:switch(s.symbol){case"elementsAt":return i(t,s.args[1],a);case"sortPerm":return i(t,s.args[0],a);case"shuffle":return i(t,s.args[1],a);default:return-1}default:if(e.isList(s.valueType))return-1;throw new Error("Programming Error: cannot find the list length of "+r.printOp(s.type)+" "+e.prettyPrint(s.valueType)+".")}}(t,g,a=a||{})),a&&(a[s]=c),c}function a(t,r){var s=t.getInstruction(r);if(!e.isList(s.valueType))throw new Error("Programming Error: cannot find the list length of "+t.printInstruction(r));switch(s.type){case n.List:return t.Constant(s.args.length);case n.Constant:return t.Constant(s.value.length);case n.BroadcastResult:var i=t.getInstruction(s.args[0]);return t.getInstruction(i.args[0]).args[0];case n.NativeFunction:switch(s.symbol){case"elementsAt":return a(t,s.args[1]);case"sortPerm":return a(t,s.args[0]);case"shuffle":return a(t,s.args[1])}}return t.SyntheticNativeFunction("length",[r])}Object.defineProperty(t,"__esModule",{value:!0}),t.minListLengthIndex=t.listLengthIndex=t.getConstantListLength=t.assertConstantListLength=void 0,t.assertConstantListLength=function(t,n,e){var i=s(t,n);if(void 0===i)throw new Error(e+\'\\nNon-constant instruction: "\'+r.printInstruction(t,a(t,n))+\'"\');return i},t.getConstantListLength=s,t.listLengthIndex=a,t.minListLengthIndex=function(t,n){for(var r=[],i=0,o=n;i<o.length;i++){var u=o[i];e.isList(t.getInstruction(u).valueType)&&r.push(u)}if(0!==r.length){if(1===r.length)return a(t,r[0]);for(var c,g=[],h=0,l=r;h<l.length;h++){var f=l[h];g.push(s(t,f))}for(var v=1/0,p=0;p<g.length;p++){var L=r[p],d=g[p];if(void 0===d)return t.SyntheticNativeFunction("min",[t.List(r.map(function(n){return a(t,n)}))]);d<v&&(c=L,v=d)}return void 0!==c?a(t,c):t.Constant(v)}}});\ndefine(\'core/math/ir/features/contains-nan-value\',["require","exports","core/math/types","core/math/maybe-rational"],function(require,e,t,n){"use strict";function a(e,a){switch(e){case t.Number:return n.isNanFloat(a);case t.Point:var r=a,o=r[0],i=r[1];return n.isNanFloat(o)||n.isNanFloat(i);case t.RGBColor:var s=a,u=s[0],c=s[1],l=s[2];return n.isNanFloat(u)||n.isNanFloat(c)||n.isNanFloat(l);case t.Action:return 0===Object.keys(a.updateRules).length;case t.Bool:return!1;default:throw new Error("Type cannot contain a NaN value: "+t.prettyPrint(e)+".")}}Object.defineProperty(e,"__esModule",{value:!0}),e.containsNanValue=void 0,e.containsNanValue=function(e,n){if(t.isList(e)){for(var r=t.elementType(e),o=0;o<n.length;o++)if(a(r,n[o]))return!0;return!1}return a(e,n)}});\ndefine(\'core/math/ir/features/interpret\',["require","exports","tslib","core/math/maybe-rational","../opcodes","core/math/types","../instructions","../builtin-table","./as-value","./nan-of-type","../../builtin","../../errormsg"],function(require,r,e,t,a,n,s,u,o,c,i,l){"use strict";function g(r,e){return t.add(r,e)}function d(r,e){return t.sub(r,e)}function p(r,e){return t.mul(r,e)}function f(r,e){return t.div(r,e)}function v(r,e){return t.pow(r,e)}function h(r,e){return v(r,e)}function y(r){return t.neg(r)}function m(r,e){return[r,e]}function E(r,e){return r[t.asFloat(e)-1]}function L(r,e){return t.asFloat(r)===t.asFloat(e)}function A(r,e){return t.asFloat(r)<t.asFloat(e)}function I(r,e){return t.asFloat(r)>t.asFloat(e)}function b(r,e){return t.asFloat(r)<=t.asFloat(e)}function F(r,e){return t.asFloat(r)>=t.asFloat(e)}function B(r){return r}function w(r,e,a){var n=Math.floor(t.asFloat(a))-1;return!isFinite(n)||n<0||n>=e.length?c.nanOfType(r):e[n]}function R(r,e){return r[Math.floor(t.asFloat(e))-1]}function q(r,e,a){return t.isRational(a)&&(a=t.asFloat(a)),e+"::"+r+a}function P(r,e){switch(r){case"mod":return t.mod(e[0],e[1]);case"abs":return t.abs(e[0]);case"sqrt":return t.sqrt(e[0]);case"nthroot":return t.nthroot(e[0],e[1]);case"total":return t.total(e[0]);case"length":return e[0].length;case"validateRangeLength":var a=e[0],n=e[1],s=e[2],c=e[3];if(0===(g=i.validateRangeLength(a,n,s,c)))throw l.nonArithmeticRange();return g;case"validateSampleCount":var g;c=o.compilerValueToRuntimeValue(e[0]);if(0===(g=i.validateSampleCount(c))&&0!==c)throw l.badSampleSize();return g;case"select":case"elementsAt":case"uniquePerm":case"sortPerm":var d=u.BuiltInTable[r];return i[d.symbol].apply(null,e);default:return("Math"===(d=u.BuiltInTable[r]).module?Math:i)[d.symbol].apply(null,o.compilerValueToRuntimeValue(e))}}function T(r,e,a){if(e.constantLength)return e.constantLength;var n=e.args[0],s=r.getInstruction(n).args[0],u=r.getInstruction(s);return t.asFloat(M(r,u.args[0],a))}function x(r,e,t,a){var s=r.getInstruction(e),u=T(r,s,a);if(!isFinite(t)||t<0||t>=u)return c.nanOfType(n.elementType(s.valueType));var o=s.args[0],i=e-o,l=r.getInstruction(o),g=l.args[0],d=l.args[i];a[g]=t+1;for(var p=M(r,d,a),f=g;f<=o;f++)a[f]=void 0;return p}function S(r,n,s){var u=M(r,n.args[1],s),o=n.args[0],c=r.getInstruction(o);if(c.type===a.BroadcastResult)return x(r,o,t.asFloat(u)-1,s);if(c.type===a.Piecewise){var i=M(r,c.args[0],s);return S(r,e.__assign(e.__assign({},n),{args:[i?c.args[1]:c.args[2],n.args[1]]}),s)}var l=M(r,n.args[0],s);return w(n.valueType,l,u)}function M(r,e,a){var n=a[e];if(void 0!==n)return n;var s=O(r,e,a);return"number"==typeof s&&s===Math.floor(s)&&(s=t.maybeRational(s,1)),a[e]=s,s}function O(r,e,t){var n=r.getInstruction(e);switch(n.type){case a.Constant:return n.value;case a.Add:return g(M(r,n.args[0],t),M(r,n.args[1],t));case a.Subtract:return d(M(r,n.args[0],t),M(r,n.args[1],t));case a.Multiply:return p(M(r,n.args[0],t),M(r,n.args[1],t));case a.Divide:return f(M(r,n.args[0],t),M(r,n.args[1],t));case a.Exponent:return v(M(r,n.args[0],t),M(r,n.args[1],t));case a.RawExponent:return h(M(r,n.args[0],t),M(r,n.args[1],t));case a.Negative:return y(M(r,n.args[0],t));case a.OrderedPair:return m(M(r,n.args[0],t),M(r,n.args[1],t));case a.OrderedPairAccess:return E(M(r,n.args[0],t),M(r,n.args[1],t));case a.Equal:return L(M(r,n.args[0],t),M(r,n.args[1],t));case a.Less:return A(M(r,n.args[0],t),M(r,n.args[1],t));case a.Greater:return I(M(r,n.args[0],t),M(r,n.args[1],t));case a.LessEqual:return b(M(r,n.args[0],t),M(r,n.args[1],t));case a.GreaterEqual:return F(M(r,n.args[0],t),M(r,n.args[1],t));case a.And:return M(r,n.args[0],t)&&M(r,n.args[1],t);case a.ExtendSeed:return q(n.tag,M(r,n.args[0],t),M(r,n.args[1],t));case a.Piecewise:var u=M(r,n.args[0],t);return M(r,u?n.args[1]:n.args[2],t);case a.NativeFunction:for(var o=[],c=0,i=n.args;c<i.length;c++){var l=i[c];o.push(M(r,l,t))}return P(n.symbol,o);case a.List:o=[];for(var B=0,w=n.args;B<w.length;B++){l=w[B];o.push(M(r,l,t))}return o;case a.ListAccess:case a.DeferredListAccess:case a.InboundsListAccess:return S(r,n,t);case a.BroadcastResult:return function(r,e,t){for(var a=r.getInstruction(e),n=[],s=T(r,a,t)-1;s>=0;s--)n[s]=x(r,e,s,t);return n}(r,e,t);case a.BlockVar:var R=n.args[0],O=r.getInstruction(R).args[0],D=e-R,N=r.getInstruction(R).args[D],V=[];V[N]=!0;for(var _=N;_>=O;_--)if(V[_]){var C=r.getInstruction(_);if(!s.isLeafInstruction(C))for(var G=0,k=C.args;G<k.length;G++){(l=k[G])<O?M(r,l,t):V[l]=!0}}var W=r.copy();W.truncate(O);for(_=0;_<O;_++){var j=t[_],z=r.getInstruction(_);if(void 0!==j){var H=z.valueType;W.replaceInstructionWithConstant(_,{type:a.Constant,valueType:H,value:j})}}var J=[];for(_=O;_<e;_++){var K=r.getInstruction(_);if(s.isLeafInstruction(K))J.push(W.copyInstruction(K));else{for(var Q=[],U=0,X=K.args;U<X.length;U++){l=X[U];Q.push(l<O?l:J[l-O])}K.type===a.DeferredListAccess?J.push(W.InboundsListAccess(Q)):J.push(W.copyInstructionWithArgs(K,Q))}}return W.Noop(),W.replaceInstructionWithBlockVar(W.returnIndex,{type:a.BlockVar,valueType:n.valueType,args:[R<O?R:J[R-O]]}),W.close().getCompiledFunction().fn();case a.BeginLoop:case a.EndLoop:case a.BeginIntegral:case a.EndIntegral:case a.BeginBroadcast:case a.EndBroadcast:case a.Distribution:case a.Noop:case a.LoadArg:case a.SymbolicVar:case a.Action:throw new Error("Programming Error: cannot interpret opcode "+n.type);default:throw new Error("Programming Error: unexpected opcode "+n.type)}}Object.defineProperty(r,"__esModule",{value:!0}),r._interpretRecursive=r.interpretBroadcastElements=r.interpretBroadcastElement=r.interpret=r.NativeFunction=r.ExtendSeed=r.InboundsListAccess=r.DeferredListAccess=r.ListAccess=r.List=r.And=r.GreaterEqual=r.LessEqual=r.Greater=r.Less=r.Equal=r.OrderedPairAccess=r.OrderedPair=r.Negative=r.RawExponent=r.Exponent=r.Divide=r.Multiply=r.Subtract=r.Add=void 0,r.Add=g,r.Subtract=d,r.Multiply=p,r.Divide=f,r.Exponent=v,r.RawExponent=h,r.Negative=y,r.OrderedPair=m,r.OrderedPairAccess=E,r.Equal=L,r.Less=A,r.Greater=I,r.LessEqual=b,r.GreaterEqual=F,r.And=function(r,e){return r&&e},r.List=B,r.ListAccess=w,r.DeferredListAccess=function(r,e){return R(r,e)},r.InboundsListAccess=R,r.ExtendSeed=q,r.NativeFunction=P,r.interpret=function(r,e){return M(r,e,Array(e+1))},r.interpretBroadcastElement=function(r,e,t){return x(r,e,t,Array(e+1))},r.interpretBroadcastElements=function(r,e,t){for(var a=Array(e+1),n=[],s=0,u=t;s<u.length;s++){var o=u[s];n.push(x(r,e,o,a))}return n},r._interpretRecursive=O});\ndefine(\'core/math/ir/features/find-dependency-symbols\',["require","exports","../instructions","../opcodes"],function(require,e,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findDependencySymbols=void 0,e.findDependencySymbols=function(e,r){for(var n=[],a=[],t=0;t<r;t++)a.push(!1);for(a.push(!0),t=r;t>=0;t--)if(a[t]){var i=e.getInstruction(t);if(i.type===s.LoadArg)n.push({symbol:e.argNames[t],scope:"free"});else if(o.beginsBlock(i))switch(i.type){case s.BeginIntegral:n.push({symbol:i.callData.indexSymbol,scope:"integral"});break;case s.BeginLoop:n.push({symbol:i.callData.indexSymbol,scope:i.callData.type});break;case s.BeginBroadcast:if(i.listComprehensionCallData)for(var l=0,c=i.listComprehensionCallData.inputListSymbols;l<c.length;l++){var p=c[l];n.push({symbol:p,scope:"comprehension"})}break;default:throw new Error("Programming Error: unexpected loop instruction "+i.type)}else i.type===s.SymbolicVar&&i.symbol&&n.push({symbol:i.symbol,scope:"symbolic-var"});if(!o.isLeafInstruction(i))for(var y=0,u=i.args;y<u.length;y++){a[u[y]]=!0}}return n.reverse()}});\ndefine(\'core/math/ir/features/fuse-broadcast\',["require","exports","../opcodes","core/math/types","../instructions","./interpret","./list-length","../../errormsg","./find-dependency-symbols"],function(require,t,r,e,n,s,i,o,u){"use strict";function a(t,r,n){if(n.valueType===e.ListOfDistribution){var a=i.getConstantListLength(t,r);if(null==a)throw o.variableLengthDistributionList(u.findDependencySymbols(t,r));for(var c=[],f=0;f<a;f++){var d=t.InboundsListAccess([r,t.Constant(f+1)]);c.push(d)}return t.List(c)}var p=s.interpret(t,r);return r===t.returnIndex&&t.popInstruction(),t.ConstantOfType(n.valueType,p)}Object.defineProperty(t,"__esModule",{value:!0}),t.fuseBroadcast=void 0,t.fuseBroadcast=function(t,e){var s=t.getInstruction(e);if(s.type!==r.BroadcastResult)return e;if(s.isConstantBroadcast)return a(t,e,s);for(var i=s.args[0],o=t.getInstruction(i),u=o.args[0],c=!1,f=u+1;f<i;f++){var d=t.getInstruction(f);if(d.type===r.DeferredListAccess&&d.args[1]===u){c=!0;break}}if(!c)return e;for(var p=[],g=u;g<=i+o.args.length-1;g++){var v=t.getInstruction(g);if(n.isLeafInstruction(v))p.push(t.copyInstruction(v));else{for(var l=[],y=0,I=v.args;y<I.length;y++){var h=I[y];l.push(h>=u?p[h-u]:h)}v.type===r.DeferredListAccess?p.push(t.InboundsListAccess(l)):p.push(t.copyInstructionWithArgs(v,l))}}var L=t.getInstruction(t.returnIndex);return L.type===r.BroadcastResult&&L.isConstantBroadcast?a(t,t.returnIndex,L):t.returnIndex}});\ndefine(\'core/math/ir/features/element-at\',["require","exports","./list-length","./interpret","../opcodes","core/math/types","./nan-of-type"],function(require,t,e,n,s,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementsAt=t.elementAt=void 0,t.elementAt=function(t,r,o){var i=t.getInstruction(r);if(a.isList(i.valueType)){var p=e.getConstantListLength(t,r);if(o=Math.floor(o),isNaN(o)||o<0||void 0!==p&&o>=p){var l=a.elementType(i.valueType);return t.NanOfType(l)}return i.type===s.List?i.args[o]:i.type===s.Constant&&a.isList(i.valueType)?t.ConstantOfType(a.elementType(i.valueType),i.value[o]):i.type===s.BroadcastResult&&i.isConstantBroadcast?t.ConstantOfType(a.elementType(i.valueType),n.interpretBroadcastElement(t,r,o)):void 0!==p?t.InboundsListAccess([r,t.Constant(o+1)]):t.ListAccess([r,t.Constant(o+1)])}if(i.valueType===a.Point)return isNaN(o)||o<0||o>2?t.Constant(NaN):i.type===s.OrderedPair?i.args[o]:i.type===s.Constant?t.Constant(i.value[o]):t.OrderedPairAccess([r,t.Constant(o+1)]);throw new Error("Cannot access elements of "+a.prettyPrint(i.valueType))},t.elementsAt=function(t,o,i){var p=t.getInstruction(o);if(0===i.length)return t.ConstantOfType(p.valueType,[]);if(p.type===s.Constant&&a.isList(p.valueType)){for(var l=[],u=a.elementType(p.valueType),y=0,c=i;y<c.length;y++){var v=c[y],f=Math.floor(v);isNaN(f)||f<0||f>=e.assertConstantListLength(t,o,"Programming error: expected Constant list instruction to have constant length.")?l.push(r.nanOfType(u)):l.push(p.value[f])}return t.ConstantOfType(p.valueType,l)}if(p.type===s.List){l=[];for(var T=0,h=i;T<h.length;T++){v=h[T],f=Math.floor(v);if(isNaN(f)||f<0||f>=e.assertConstantListLength(t,o,"Programming error: expected List instruction to have constant length.")){var d=a.elementType(p.valueType);l.push(t.NanOfType(d))}else l.push(p.args[f])}return t.List(l)}if(p.type===s.BroadcastResult&&p.isConstantBroadcast)return t.ConstantOfType(p.valueType,n.interpretBroadcastElements(t,o,i));for(var g=[],C=!0,L=e.getConstantListLength(t,o),m=0,N=i;m<N.length;m++){v=N[m],f=Math.floor(v);g.push(t.Constant(f+1)),(isNaN(f)||f<0||void 0===L||f>=L)&&(C=!1)}var O=[o,t.List(g)];return C?t.InboundsListAccess(O):t.ListAccess(O)}});\ndefine(\'core/math/ir/features/constant-collapse\',["require","exports","../opcodes","../instructions","core/math/types","core/math/maybe-rational","./depends-on-outer-variable","./is-constant","./as-value","./reconstitute-ir","./list-length","./contains-nan-value","./interpret","./fuse-broadcast","./element-at","../../builtin"],function(require,t,n,e,r,s,a,o,u,i,c,p,l,g,I,v){"use strict";function y(t,n){for(var e=[],r=0,s=n;r<s.length;r++){var a=s[r],u=t.getInstruction(a);if(!o.isConstant(u))return;e.push(u.value)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.constantCollapse=void 0,t.constantCollapse=function(t){if(t.instructionsLength()-1!==t.returnIndex)throw new Error("Programming Error: only the final instruction in a chunk can be constant collapsed");var d=t.getInstruction(t.returnIndex);if(e.isLeafInstruction(d))return t.returnIndex;switch(d.type){case n.Add:var C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.Constant(l.Add(C.value,f.value))):C.type===n.Constant&&0===s.asFloat(C.value)?(t.popInstruction(),d.args[1]):f.type===n.Constant&&0===s.asFloat(f.value)?(t.popInstruction(),d.args[0]):t.returnIndex;case n.Subtract:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.Constant(l.Subtract(C.value,f.value))):C.type===n.Constant&&0===s.asFloat(C.value)?(t.popInstruction(),t.Negative([d.args[1]])):f.type===n.Constant&&0===s.asFloat(f.value)?(t.popInstruction(),d.args[0]):t.returnIndex;case n.Multiply:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.Constant(l.Multiply(C.value,f.value))):C.type===n.Constant&&1===s.asFloat(C.value)?(t.popInstruction(),d.args[1]):f.type===n.Constant&&1===s.asFloat(f.value)?(t.popInstruction(),d.args[0]):t.returnIndex;case n.Divide:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.Constant(l.Divide(C.value,f.value))):f.type===n.Constant&&1===s.asFloat(f.value)?(t.popInstruction(),d.args[0]):t.returnIndex;case n.Exponent:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);if(C.type===n.Constant&&f.type===n.Constant)return t.popInstruction(),t.Constant(l.Exponent(C.value,f.value));if(C.type===n.Constant&&C.valueType===r.Number){if((x=s.asFloat(C.value))===Math.E)return t.popInstruction(),t.SyntheticNativeFunction("exp",[d.args[1]]);if(x>0)return t.popInstruction(),t.RawExponent(d.args)}if(f.type===n.Constant&&f.valueType===r.Number){var x;if(1===(x=s.asFloat(f.value)))return t.popInstruction(),d.args[0];if(x===Math.floor(x))return t.popInstruction(),t.RawExponent(d.args);if(s.isRational(f.value)){var h=f.value,T=h.n;if(h.d%2==1){t.popInstruction();var L=t.RawExponent([t.SyntheticNativeFunction("abs",[d.args[0]]),d.args[1]]);return T%2==0?L:t.Multiply([t.SyntheticNativeFunction("sign",[d.args[0]]),L])}}}return t.returnIndex;case n.RawExponent:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.Constant(l.Exponent(C.value,f.value))):f.type===n.Constant&&1===s.asFloat(f.value)?(t.popInstruction(),d.args[0]):t.returnIndex;case n.Negative:return(C=t.getInstruction(d.args[0])).type===n.Constant?(t.popInstruction(),t.Constant(l.Negative(C.value))):t.returnIndex;case n.Equal:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.Equal(C.value,f.value))):t.returnIndex;case n.Less:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.Less(C.value,f.value))):t.returnIndex;case n.Greater:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.Greater(C.value,f.value))):t.returnIndex;case n.LessEqual:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.LessEqual(C.value,f.value))):t.returnIndex;case n.GreaterEqual:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.GreaterEqual(C.value,f.value))):t.returnIndex;case n.And:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&f.type===n.Constant?(t.popInstruction(),t.ConstantOfType(r.Bool,l.And(C.value,f.value))):t.returnIndex;case n.Piecewise:return(C=t.getInstruction(d.args[0])).type===n.Constant?(t.popInstruction(),C.value?d.args[1]:d.args[2]):t.returnIndex;case n.OrderedPairAccess:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.OrderedPair&&f.type===n.Constant?(t.popInstruction(),C.args[s.asFloat(f.value)-1]):C.type===n.Constant&&C.valueType===r.Point&&f.type===n.Constant?(t.popInstruction(),t.Constant(C.value[s.asFloat(f.value)-1])):t.returnIndex;case n.List:if(function(t,n){for(var e=0,r=n;e<r.length;e++){var s=r[e],a=t.getInstruction(s);if(!o.isConstant(a))return!1}return!0}(t,d.args)){t.popInstruction();for(var E=[],b=0,A=d.args;b<A.length;b++){var m=A[b];E.push(t.getInstruction(m).value)}return t.ConstantOfType(d.valueType,E)}return t.returnIndex;case n.ListAccess:case n.InboundsListAccess:var O=d.args[0],N=t.getInstruction(O),F=t.getInstruction(d.args[1]);if(N.type===n.Piecewise&&F.type===n.Constant){var B=d.type===n.ListAccess?t.ListAccess([N.args[1],d.args[1]]):t.InboundsListAccess([N.args[1],d.args[1]]),w=d.type===n.ListAccess?t.ListAccess([N.args[2],d.args[1]]):t.InboundsListAccess([N.args[2],d.args[1]]);return t.Piecewise([N.args[0],B,w])}if(N.type===n.BroadcastResult){if(F.type===n.Constant&&N.isConstantBroadcast&&N.valueType!==r.ListOfDistribution)return t.ConstantOfType(d.valueType,l.interpret(t,t.returnIndex));t.popInstruction();var q=N.args[0],P=O-q,R=(et=t.getInstruction(q)).args[0],M=void 0,S=void 0;if(d.type===n.InboundsListAccess)M=d.args[1];else{var V=c.getConstantListLength(t,O);if(F.type===n.Constant&&F.valueType===r.Number&&void 0!==V){var D=s.asFloat(F.value),G=Math.floor(D);if(G<1||G>V)return t.NanOfType(d.valueType);M=D===G?d.args[1]:t.Constant(G)}else{var k=t.Constant(1),_=t.getInstruction(R).args[0],j=t.SyntheticNativeFunction("floor",[d.args[1]]),U=t.GreaterEqual([j,k]),W=t.LessEqual([j,_]);M=t.Piecewise([U,t.Piecewise([W,j,_]),k]),S={one:k,lengthIndex:_,roundedIndex:j,greaterEqualIndex:U,lessEqualIndex:W}}}if(et.args[P]<R)return et.args[P];for(var z=[M],H=R+1;H<=et.args[P];H++){var J=t.getInstruction(H);if(e.isLeafInstruction(J))z.push(t.copyInstruction(J));else{for(var K=[],Q=0,X=J.args;Q<X.length;Q++){m=X[Q];K.push(m>=R?z[m-R]:m)}J.type===n.DeferredListAccess?z.push(t.InboundsListAccess(K)):z.push(t.copyInstructionWithArgs(J,K))}}if(S){U=S.greaterEqualIndex,W=S.lessEqualIndex,_=S.lengthIndex,k=S.one;var Y=r.elementType(N.valueType),Z=t.NanOfType(Y),$=z[z.length-1],tt=t.And([t.And([U,W]),t.GreaterEqual([_,k])]);return t.Piecewise([tt,$,Z])}return z[z.length-1]}if(F.type===n.Constant&&F.valueType===r.Number){if(N.type===n.List){t.popInstruction();var nt=Math.floor(s.asFloat(F.value))-1;return isNaN(nt)||nt<0||nt>=N.args.length?t.NanOfType(d.valueType):N.args[nt]}if(N.type===n.Constant){t.popInstruction();nt=Math.floor(s.asFloat(F.value))-1;return isNaN(nt)||nt<0||nt>=N.value.length?t.NanOfType(d.valueType):t.ConstantOfType(r.elementType(N.valueType),N.value[nt])}return t.returnIndex}return t.returnIndex;case n.BlockVar:var et=t.getInstruction(d.args[0]);if(!e.endsBlock(et))return t.returnIndex;P=t.returnIndex-d.args[0];if(a.dependsOnOuterVariable(t,et.args[P],et.args[0]))return t.returnIndex;var rt=t.copy();rt.close();E=rt.getCompiledFunction().fn();return t.popInstruction(),i.reconstituteIR(t,d.valueType,E);case n.NativeFunction:switch(d.symbol){case"nthroot":if(void 0!==(gt=y(t,d.args)))return t.Constant(s.nthroot(gt[0],gt[1]));var st=t.getInstruction(d.args[1]);return st.type===n.Constant&&st.valueType===r.Number?t.Exponent([d.args[0],t.Constant(s.reciprocal(st.value))]):t.returnIndex;case"length":return void 0!==(V=c.getConstantListLength(t,d.args[0]))?(t.popInstruction(),t.Constant(V)):t.returnIndex;case"select":if(o.isConstant(t.getInstruction(d.args[1]))){t.popInstruction();var at=u.asValue(t,d.args[1]),ot=[];for(H=0;H<at.length;H++)at[H]&&ot.push(H);return I.elementsAt(t,d.args[0],ot)}return t.returnIndex;case"shuffle":var ut=d.args[0];N=d.args[1];if(void 0!==(V=c.getConstantListLength(t,N))&&o.isConstant(t.getInstruction(ut))){t.popInstruction();var it=v.randomPerm(u.asValue(t,ut),V);return I.elementsAt(t,N,it)}return t.returnIndex;case"elementsAt":var ct=d.args[0],pt=d.args[1];if(o.isConstant(t.getInstruction(pt))){t.popInstruction();var lt=u.asValue(t,pt);return I.elementsAt(t,ct,lt)}return t.returnIndex;default:var gt;return void 0===(gt=y(t,d.args))?t.returnIndex:(t.popInstruction(),t.ConstantOfType(d.valueType,l.NativeFunction(d.symbol,gt)))}case n.ExtendSeed:var It=t.getInstruction(d.args[0]),vt=t.getInstruction(d.args[1]);return o.isConstant(It)&&o.isConstant(vt)?t.ConstantOfType(r.SeedType,l.ExtendSeed(d.tag,u.asValue(t,d.args[0]),u.asValue(t,d.args[1]))):t.returnIndex;case n.OrderedPair:C=t.getInstruction(d.args[0]),f=t.getInstruction(d.args[1]);return C.type===n.Constant&&C.valueType===r.Number&&f.type===n.Constant&&f.valueType===r.Number?t.ConstantOfType(r.Point,[C.value,f.value]):t.returnIndex;case n.BroadcastResult:return void 0!==(V=c.getConstantListLength(t,t.returnIndex))&&0===V?(t.popInstruction(),t.ConstantOfType(d.valueType,[])):t.returnIndex;case n.Action:for(var yt=0,dt=d.args;yt<dt.length;yt++){m=dt[yt];if(!o.isConstantOrConstantBroadcast(t.getInstruction(m)))return t.returnIndex}t.popInstruction();var Ct={};for(H=0;H<d.symbols.length;H++){var ft=d.symbols[H],xt=t.getInstruction(d.args[H]);if(xt.type===n.BroadcastResult&&(xt=t.getInstruction(g.fuseBroadcast(t,d.args[H]))),xt.type!==n.Constant)throw new Error("Expected instruction to be constant");var ht=xt.valueType;E=xt.value;p.containsNanValue(ht,E)||(Ct[ft]={value:E,valueType:ht})}return t.ConstantOfType(r.Action,{type:"Action",updateRules:Ct});case n.EndLoop:case n.EndIntegral:case n.BeginBroadcast:case n.EndBroadcast:case n.DeferredListAccess:case n.Distribution:case n.BeginIntegral:case n.BeginLoop:return t.returnIndex;default:throw new Error("Unexpected opcode "+d.type)}}});\ndefine(\'core/math/ir/features/type-check\',["require","exports","core/math/errormsg","../opcodes","core/math/types","../builtin-table","../instructions"],function(require,e,r,t,a,s,n){"use strict";function i(e,r){for(var t=[],s=0,n=r;s<n.length;s++){var i=n[s];t.push(a.prettyPrint(e.getInstruction(i).valueType))}return t}function u(e,r,t){for(var s=0;s<r.length;s++){var n=e.getInstruction(r[s]).valueType,i=t[s];if(!a.isSubType(n,i))return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.typeCheck=e.argIsTypeOrListOfType=e.argTypesMatch=e.extractScalarValueTypes=e.extractValueTypes=void 0,e.extractValueTypes=i,e.extractScalarValueTypes=function(e,r){for(var t=[],s=0,n=r;s<n.length;s++){var i=n[s],u=e.getInstruction(i).valueType,o=a.isList(u)?a.elementType(u):u;t.push(a.prettyPrint(o))}return t},e.argTypesMatch=u,e.argIsTypeOrListOfType=function(e,r,t){return a.isTypeOrListOfType(e.getInstruction(r).valueType,t)},e.typeCheck=function(e,o){var c=e.getInstruction(o);if(!n.isLeafInstruction(c))switch(c.type){case t.Add:var p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.addTypeError(i(e,c.args));return;case t.Subtract:p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.subtractTypeError(i(e,c.args));return;case t.Multiply:p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.multiplyTypeError(i(e,c.args));return;case t.Divide:p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.divideTypeError(i(e,c.args));return;case t.Exponent:case t.RawExponent:p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.exponentTypeError(i(e,c.args));return;case t.Negative:p=[a.Number];if(!u(e,c.args,p))throw r.negativeTypeError(i(e,c.args));return;case t.Equal:case t.Less:case t.Greater:case t.LessEqual:case t.GreaterEqual:p=[a.Number,a.Number];if(!u(e,c.args,p))throw r.comparatorTypeError(i(e,c.args));return;case t.And:p=[a.Bool,a.Bool];if(!u(e,c.args,p))throw r.andTypeError(i(e,c.args));return;case t.Piecewise:if(e.getInstruction(c.args[0]).valueType!==a.Bool)throw r.piecewiseConditionTypeError(i(e,c.args));if(!a.isSubType(e.getInstruction(c.args[1]).valueType,c.valueType)||!a.isSubType(e.getInstruction(c.args[2]).valueType,c.valueType))throw r.piecewiseBranchTypeError([a.prettyPrint(e.getInstruction(c.args[1]).valueType),a.prettyPrint(e.getInstruction(c.args[2]).valueType)]);return;case t.OrderedPair:for(var g=0,y=c.args;g<y.length;g++){var l=y[g];if((m=e.getInstruction(l).valueType)!==a.Number)throw r.pointTypeError(a.prettyPrint(m))}return;case t.OrderedPairAccess:p=[a.Point,a.Number];if(!u(e,c.args,p))throw r.orderedPairAccessTypeError(i(e,c.args));return;case t.BeginIntegral:var T=e.getInstruction(c.args[0]).valueType,v=e.getInstruction(c.args[1]).valueType;if(T!==a.Number)throw r.integralLowerBoundTypeError([a.prettyPrint(T)]);if(v!==a.Number)throw r.integralUpperBoundTypeError([a.prettyPrint(v)]);return;case t.EndIntegral:var f=e.getInstruction(c.args[1]).valueType;if(f!==a.Number)throw r.integralArgumentTypeError([a.prettyPrint(f)]);return;case t.List:if(0===c.args.length)return;var d=e.getInstruction(c.args[0]).valueType;if(!a.hasListType(d))throw r.listTypeError([a.prettyPrint(d)]);for(var h=0,b=c.args;h<b.length;h++){l=b[h];var m=e.getInstruction(l).valueType;if(!a.hasListType(m))throw r.listTypeError([a.prettyPrint(m)]);if(m!==d)throw r.heterogeneousList()}return;case t.ListAccess:case t.DeferredListAccess:case t.InboundsListAccess:var w=e.getInstruction(c.args[0]).valueType,I=a.isList(w),E=e.getInstruction(c.args[1]).valueType===a.Number;if(!I||!E)throw r.indexTypeError(i(e,c.args));return;case t.NativeFunction:var L=c.args,N=c.symbol,P=s.BuiltInTable[N],B=(p=P.argumentTypes,c.callData.errorSymbol);if(!u(e,c.args,p)){if("doubleReducer"===P.tag){if(!a.isList(e.getInstruction(L[0]).valueType)||!a.isList(e.getInstruction(L[1]).valueType))throw r.nonListDoubleReducer(B)}else if("parameterizedReducer"===P.tag&&!a.isList(e.getInstruction(L[0]).valueType))throw r.nonListParameterizedReducer(B);var O=L;throw r.functionTypeError(B,i(e,O))}return;case t.ExtendSeed:if(e.getInstruction(c.args[0]).valueType!==a.SeedType||e.getInstruction(c.args[1]).valueType!==a.SeedType&&e.getInstruction(c.args[1]).valueType!==a.Number)throw r.parseError();return;case t.Action:for(var x=0,S=c.args;x<S.length;x++){l=S[x];var A=e.getInstruction(l).valueType;if(!a.isTypeOrListOfType(A,a.Number)&&!a.isTypeOrListOfType(A,a.Point))throw r.updateRuleTypeError(a.prettyPrint(A))}for(var R={},D=0,V=c.symbols;D<V.length;D++){if(R[N=V[D]])throw r.duplicateUpdateRules(N);R[N]=!0}return;case t.BroadcastResult:case t.BlockVar:case t.BeginBroadcast:case t.EndBroadcast:case t.BeginLoop:case t.EndLoop:case t.Distribution:return;default:throw new Error("Unexpected opcode: "+c.type)}}});\ndefine(\'core/math/ir/features/count-references\',["require","exports","../opcodes","../instructions"],function(require,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countReferences=void 0,e.countReferences=function(e){for(var t=[],s=0;s<e.instructionsLength();s++){t.push(0);var o=e.getInstruction(s);if(!r.isLeafInstruction(o))if(r.endsBlock(o)&&o.type!==n.EndIntegral)for(var i=0,c=o.args;i<c.length;i++){t[c[i]]=1/0}else for(var u=0,f=o.args;u<f.length;u++){t[f[u]]+=1}}return t}});\ndefine(\'core/math/ir/features/emit-js\',["require","exports","../opcodes","./print","../instructions","core/math/maybe-rational","core/math/types","../builtin-table","./count-references","core/math/context-types","./as-value","./nan-of-type"],function(require,e,r,n,t,a,s,o,c,u,i,g){"use strict";function d(e){return"_"+e}function l(e,r){var n=r[e];return void 0!==n?n:d(e)}function p(e,t,a,c,u,p){var v=a+1;switch(t.type){case r.Noop:case r.BlockVar:case r.BroadcastResult:case r.EndIntegral:case r.Action:return{source:"",nextIdx:v};case r.BeginIntegral:return{source:f(e,t,a,c,u,p),nextIdx:t.endIndex};case r.LoadArg:return u[a]=e.argNames[a],{source:"",nextIdx:v};case r.BeginBroadcast:return{source:x(e,t,a,u),nextIdx:v};case r.EndBroadcast:return{source:I(e,t,a,u),nextIdx:v};case r.BeginLoop:return{source:y(e,t,a,u),nextIdx:v};case r.EndLoop:return{source:h(e,t,a,u),nextIdx:v};default:var m=function(e,t,a){switch(e.type){case r.Constant:return e.valueType===s.Number||e.valueType===s.Bool||e.valueType===s.Point?B(e.value):(a.push(i.compilerValueToRuntimeValue(e.value)),"_C["+(a.length-1)+"]");case r.Add:return l(e.args[0],t)+"+"+l(e.args[1],t);case r.Subtract:return l(e.args[0],t)+"-"+l(e.args[1],t);case r.Multiply:return l(e.args[0],t)+"*"+l(e.args[1],t);case r.Divide:return l(e.args[0],t)+"/"+l(e.args[1],t);case r.Exponent:return"BuiltIn.pow("+l(e.args[0],t)+","+l(e.args[1],t)+")";case r.RawExponent:return"Math.pow("+l(e.args[0],t)+","+l(e.args[1],t)+")";case r.Negative:return"-"+l(e.args[0],t);case r.Equal:return l(e.args[0],t)+"==="+l(e.args[1],t);case r.Less:return l(e.args[0],t)+"<"+l(e.args[1],t);case r.Greater:return l(e.args[0],t)+">"+l(e.args[1],t);case r.LessEqual:return l(e.args[0],t)+"<="+l(e.args[1],t);case r.GreaterEqual:return l(e.args[0],t)+">="+l(e.args[1],t);case r.And:return l(e.args[0],t)+"&&"+l(e.args[1],t);case r.Piecewise:return l(e.args[0],t)+"?"+l(e.args[1],t)+":"+l(e.args[2],t);case r.OrderedPair:return"["+l(e.args[0],t)+","+l(e.args[1],t)+"]";case r.OrderedPairAccess:return l(e.args[0],t)+"["+l(e.args[1],t)+"-1]";case r.List:return"["+e.args.map(function(e){return l(e,t)}).join(",")+"]";case r.DeferredListAccess:case r.Distribution:case r.SymbolicVar:throw new Error("Programming Error: expect "+n.printOp(e.type)+" to be removed before emitting code.");case r.ListAccess:var c=l(e.args[0],t);return"(Math.floor("+(u=l(e.args[1],t))+")>=1&&Math.floor("+u+")<="+c+".length)?"+c+"[Math.floor("+u+")-1]:"+B(g.nanOfType(e.valueType));case r.InboundsListAccess:var u;return(c=l(e.args[0],t))+"["+(u=l(e.args[1],t))+"-1]";case r.NativeFunction:var d=o.BuiltInTable[e.symbol],p=e.args.map(function(e){return l(e,t)}).join(",");return d.module+"."+d.symbol+"("+p+")";case r.ExtendSeed:return l(e.args[0],t)+"+\'::"+e.tag+"\'+"+l(e.args[1],t);case r.LoadArg:case r.Noop:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.BeginBroadcast:case r.EndBroadcast:case r.BlockVar:case r.BroadcastResult:case r.Action:throw new Error("Unexpected opcode "+e.type);default:throw new Error("Unexpected opcode "+e.type)}}(t,u,p);return c[a]<=1?(u[a]="("+m+")",{source:"",nextIdx:v}):{source:d(a)+"="+m+";\\n",nextIdx:v}}}function f(e,r,n,t,a,s){var o="BuiltIn.quad(";o+=function(e,r,n,t,a,s){var o=r.endIndex,c="function("+d(n)+") {\\n";c+=v(e,n+1,o-1,t);for(var u=n+1;u<o;){var i=e.getInstruction(u),g=p(e,i,u,t,a,s);c+=g.source,u=g.nextIdx}return c+"return "+l(e.getInstruction(o).args[1],a)+";\\n}"}(e,r,n,t,a,s),o+=","+l(r.args[0],a)+","+l(r.args[1],a)+")";var c=r.endIndex;return t[c+1]<=1?(a[c+1]=o,""):d(c+1)+"="+o+";"}function v(e,n,a,s){for(var o="",c=!1,u=n;u<=a;u++){var i=e.getInstruction(u);if(i.type!==r.Noop&&i.type!==r.EndBroadcast&&i.type!==r.EndLoop)if(i.type!==r.BeginIntegral)s[u]<=1&&!t.beginsBlock(i)&&!t.endsBlock(i)&&i.type!==r.BlockVar&&i.type!==r.BroadcastResult||(c?o+=",":(o+="var ",c=!0),o+=d(u));else{var g=i.endIndex;u=s[g+1]<=1?g+1:g}}return c&&(o+=";\\n"),o}function x(e,n,t,a){for(var s=d(t),o=e.getInstruction(n.endIndex),c=l(n.args[0],a),u="",i=1;i<o.args.length;i++){var g=n.endIndex+i;if(e.getInstruction(g).type===r.BroadcastResult)u+=d(g)+"=[];\\n"}return u+="for("+s+"=1;"+s+"<="+c+";"+s+"++){\\n"}function I(e,n,t,a){for(var s="",o=1;o<n.args.length;o++){var c=t+o;if(!(c>=e.instructionsLength()))if(e.getInstruction(c).type===r.BroadcastResult)s+=d(t+o)+".push("+l(n.args[o],a)+");\\n"}return s+="}\\n"}function y(e,n,t,a){for(var s=d(t),o=""+l(n.args[0],a),c=""+l(n.args[1],a),u="if(!isFinite("+c+"-"+o+")){\\n",i=2;i<n.args.length;i++){var p=n.endIndex+i-1;if(!(p>=e.instructionsLength())){var f=e.getInstruction(p);if(f.type===r.BlockVar)u+=d(p)+"="+B(g.nanOfType(f.valueType))+";\\n"}}u+="}else{\\n";for(i=2;i<n.args.length;i++){var v=t+i-1;if(e.getInstruction(v).type===r.BlockVar)u+=d(v)+"="+l(n.args[i],a)+";\\n"}return u+="for("+s+"="+o+";"+s+"<="+c+";"+s+"++){\\n"}function h(e,n,t,a){for(var s="",o=1;o<n.args.length;o++){var c=n.args[0]+o;if(e.getInstruction(c).type===r.BlockVar)s+=d(c)+"="+l(n.args[o],a)+";\\n"}s+="}\\n";for(o=1;o<n.args.length;o++){var u=t+o;if(!(u>=e.instructionsLength()))if(e.getInstruction(u).type===r.BlockVar)s+=d(u)+"="+l(n.args[0]+o,a)+";\\n"}return s+="}\\n"}function B(e){if(Array.isArray(e))return"["+e.map(B).join(",")+"]";switch(typeof e){case"boolean":case"number":return e.toString();case"string":return""+JSON.stringify(e);case"object":if(u.isActionCompilerValue(e))throw new Error("Action values cannot be compiled");return a.asFloat(e).toString();default:throw new Error("Unexpected value: "+e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.emitJS=void 0,e.emitJS=function(e){for(var r=c.countReferences(e),n=[],t=[],a=v(e,e.argNames.length,e.instructionsLength()-1,r),s=0;s<e.instructionsLength();){var o=e.getInstruction(s),u=p(e,o,s,r,n,t);a+=u.source,s=u.nextIdx}return{source:a+="return "+l(e.returnIndex,n)+";",constants:t}}});\ndefine(\'core/math/ir/features/get-value-type\',["require","exports","../opcodes","core/math/types"],function(require,e,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getValueType=void 0,e.getValueType=function(e,a,c){switch(a){case s.Add:case s.Subtract:case s.Multiply:case s.Divide:case s.Exponent:case s.RawExponent:case s.Negative:case s.OrderedPairAccess:case s.BeginIntegral:case s.BeginLoop:case s.BeginBroadcast:return t.Number;case s.Equal:case s.Less:case s.Greater:case s.LessEqual:case s.GreaterEqual:case s.And:return t.Bool;case s.Piecewise:var r=e.getInstruction(c[1]).valueType,n=e.getInstruction(c[2]).valueType;return r===t.EmptyList&&t.isList(n)?n:r;case s.OrderedPair:return t.Point;case s.List:if(0===c.length)return t.EmptyList;var i=e.getInstruction(c[0]).valueType;return t.hasListType(i)?t.listType(i):t.ListOfAny;case s.ListAccess:case s.DeferredListAccess:case s.InboundsListAccess:var o=e.getInstruction(c[0]).valueType;return t.isList(o)?t.elementType(o):t.Any;case s.ExtendSeed:return t.SeedType;case s.Action:return t.Action;case s.Constant:case s.LoadArg:case s.NativeFunction:case s.Distribution:case s.BlockVar:case s.BroadcastResult:case s.SymbolicVar:case s.Noop:case s.EndIntegral:case s.EndBroadcast:case s.EndLoop:return t.Any;default:throw new Error("Unexpected opcode "+a)}}});\ndefine(\'core/math/ir/features/drop-unreferenced-instructions\',["require","exports","../instructions"],function(require,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dropUnreferencedInstructions=void 0,e.dropUnreferencedInstructions=function(e){for(var r=[],t=0;t<e.instructionsLength();t++)r.push(!1);for(r[e.returnIndex]=!0,t=e.instructionsLength()-1;t>=0;t--)if(r[t]){var i=e.getInstruction(t);if(!n.isLeafInstruction(i))for(var o=0,s=i.args;o<s.length;o++){r[s[o]]=!0}}else e.replaceInstructionWithNoop(t)}});\ndefine(\'core/math/ir/features/copy-instruction\',["require","exports","../opcodes"],function(require,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.copyInstructionWithArgs=e.copyInstruction=void 0,e.copyInstruction=function(e,r){return e.pushLeafInstruction(r)},e.copyInstructionWithArgs=function(e,t,s){switch(t.type){case r.Add:return e.Add(s);case r.Subtract:return e.Subtract(s);case r.Multiply:return e.Multiply(s);case r.Divide:return e.Divide(s);case r.Exponent:return e.Exponent(s);case r.RawExponent:return e.RawExponent(s);case r.Negative:return e.Negative(s);case r.Equal:return e.Equal(s);case r.Less:return e.Less(s);case r.Greater:return e.Greater(s);case r.LessEqual:return e.LessEqual(s);case r.GreaterEqual:return e.GreaterEqual(s);case r.And:return e.And(s);case r.Piecewise:return e.Piecewise(s);case r.BlockVar:return e.BlockVar(t.valueType,s);case r.BroadcastResult:return e.BroadcastResult(t.valueType,s);case r.OrderedPair:return e.OrderedPair(s);case r.OrderedPairAccess:return e.OrderedPairAccess(s);case r.NativeFunction:return e.NativeFunction(t.symbol,t.callData,s);case r.Distribution:return e.Distribution(t.symbol,s);case r.BeginIntegral:return e.BeginIntegral(t.callData,s);case r.EndIntegral:return e.EndIntegral(s);case r.BeginBroadcast:return e.BeginBroadcast(s);case r.EndBroadcast:return e.EndBroadcast(s);case r.BeginLoop:return e.BeginLoop(t.callData,s);case r.EndLoop:return e.EndLoop(s);case r.List:return e.List(s);case r.ListAccess:return e.ListAccess(s);case r.DeferredListAccess:return e.DeferredListAccess(s);case r.InboundsListAccess:return e.InboundsListAccess(s);case r.ExtendSeed:return e.ExtendSeed(t.tag,s);case r.Action:return e.Action(t.symbols,s);default:throw new Error("Unexpected opcode "+t.type)}}});\ndefine(\'core/math/ir/features/convert-to-broadcast\',["require","exports","core/math/errormsg","../opcodes","core/math/types","./list-length","../instructions","../builtin-table","./fuse-broadcast","./is-constant","./as-value","./copy-instruction"],function(require,r,e,t,s,n,a,c,o,i,u,d){"use strict";function g(r,e,a){for(var c=e.args,g=!1,l=[],p=0;p<c.length;p++)if(!a||a[p]){var h=c[p],v=r.getInstruction(h).valueType;s.isList(v)&&-1===l.indexOf(h)&&l.push(h),v===s.EmptyList&&(g=!0)}if(0===l.length)return r.returnIndex;if(e.type===t.Piecewise&&-1==l.indexOf(e.args[0])&&l.indexOf(e.args[1])>=0&&l.indexOf(e.args[2])>=0){var I=o.fuseBroadcast(r,e.args[1]),y=o.fuseBroadcast(r,e.args[2]);return I!==e.args[1]||y!==e.args[2]?d.copyInstructionWithArgs(r,e,[e.args[0],I,y]):r.returnIndex}r.popInstruction();var m=n.minListLengthIndex(r,l);if(void 0===m)throw new Error("Programming Error: expected minListLength to be defined for "+l.length+" lists");var L=m;if(i.isConstant(r.getInstruction(L))&&0===u.asValue(r,L)&&g)return r.ConstantOfType(s.EmptyList,[]);for(var x=r.BeginBroadcast([L]),B=[],E=0,b=l;E<b.length;E++){var w=b[E];B.push(f(r,w,x))}var A=[];for(p=0;p<c.length;p++){h=c[p];if(a&&!a[p])A.push(h);else{var T=l.indexOf(h);A.push(-1===T?h:B[T])}}var O=r.copyInstructionWithArgs(e,A),P=r.EndBroadcast([x,O]);return r.BroadcastResult(s.listType(r.getInstruction(O).valueType),[P])}function f(r,e,s){return r.getInstruction(e).type==t.BroadcastResult?r.DeferredListAccess([e,s]):r.InboundsListAccess([e,s])}Object.defineProperty(r,"__esModule",{value:!0}),r.deferredOrInboundsAccess=r.convertToBroadcast=void 0,r.convertToBroadcast=function(r){if(r.instructionsLength()-1!==r.returnIndex)throw new Error("Programming Error: only the final instruction in a chunk can be converted to broadcast");var n=r.getInstruction(r.returnIndex);if(a.isLeafInstruction(n))return r.returnIndex;switch(n.type){case t.Add:case t.Subtract:case t.Multiply:case t.Divide:case t.Exponent:case t.RawExponent:case t.Equal:case t.Less:case t.Greater:case t.LessEqual:case t.GreaterEqual:case t.And:case t.OrderedPair:case t.Negative:case t.Piecewise:case t.OrderedPairAccess:return g(r,n);case t.Distribution:return o.fuseBroadcast(r,g(r,n));case t.NativeFunction:var i=c.BuiltInTable[n.symbol];switch(i.tag){case"default":case"trig":case"inverseTrig":case"color":return g(r,n);case"never-broadcast":for(var u=[],d=!1,f=0,l=n.args;f<l.length;f++){var p=l[f],h=o.fuseBroadcast(r,p);h!==p?(d=!0,u.push(h)):u.push(p)}return d?r.copyInstructionWithArgs(n,u):r.returnIndex;case"reducer":if(function(r,e){for(var t=0,n=e;t<n.length;t++){var a=n[t];if(s.isList(r.getInstruction(a).valueType))return!0}return!1}(r,n.args)){if(1===n.args.length){var v=n.args[0],I=o.fuseBroadcast(r,v);return I!==v?r.copyInstructionWithArgs(n,[I]):r.returnIndex}return g(r,n)}r.popInstruction();var y=function(r,e){var t=r.getInstruction(e[0]).valueType;if(!s.hasListType(t))return s.ListOfAny;for(var n=0,a=e;n<a.length;n++){var c=a[n];if(r.getInstruction(c).valueType!==t)return s.ListOfAny}return s.listType(t)}(r,n.args);if(!s.isSubType(y,i.argumentTypes[0]))throw e.functionTypeError(n.callData.errorSymbol,[s.prettyPrint(y)]);var m=r.List(n.args);return r.copyInstructionWithArgs(n,[m]);case"doubleReducer":if(2!==n.args.length)throw new Error("Programming error: double reducers must have two arguments");var L=o.fuseBroadcast(r,n.args[0]),x=o.fuseBroadcast(r,n.args[1]);return L!==n.args[0]&&x!==n.args[1]?r.copyInstructionWithArgs(n,[L,x]):r.returnIndex;case"parameterizedReducer":if(2!==n.args.length)throw new Error("Programming error: double reducers must have two arguments");return(L=o.fuseBroadcast(r,n.args[0]))===n.args[0]?g(r,n,[!1,!0]):r.copyInstructionWithArgs(n,[L,n.args[1]]);default:var B=i.tag;throw new Error("Programming Error: unexpected tag "+B)}case t.ListAccess:case t.DeferredListAccess:case t.InboundsListAccess:return g(r,n,[!1,!0]);case t.BeginIntegral:case t.EndIntegral:case t.BeginLoop:case t.EndLoop:return r.returnIndex;case t.List:case t.BlockVar:case t.BeginBroadcast:case t.EndBroadcast:case t.BroadcastResult:case t.ExtendSeed:case t.Action:return r.returnIndex;default:throw new Error("Unexpected opcode "+n.type)}},r.deferredOrInboundsAccess=f});\ndefine(\'core/math/ir/features/to-dot\',["require","exports","../instructions","./print","../opcodes"],function(require,t,n,r,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var i=[];i.push("digraph {");for(var s=0;s<t.instructionsLength();s++){(o=t.getInstruction(s)).type!==e.Noop&&i.push(s+\' [label="\'+s+": "+r.printInstruction(t,s)+\'"];\')}for(s=0;s<t.instructionsLength();s++){var o=t.getInstruction(s);if(n.isInternalInstruction(o))for(var u=0,c=o.args;u<c.length;u++){var p=c[u];i.push(s+" -> "+p+";")}}return i.push("}"),i.join("\\n")}});\ndefine(\'core/math/ir/features/get-dependency-mask\',["require","exports","../instructions"],function(require,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDependencyMask=void 0,e.getDependencyMask=function(e,n){for(var t=[],s=0;s<e.instructionsLength();s++)t.push(!1);t[n]=!0;for(var i=0;i<=1;i++){var o=!1;for(s=n+1;s<e.instructionsLength();s++){var a=e.getInstruction(s);if(!r.isLeafInstruction(a)&&!t[s]){for(var u=!1,c=0,f=a.args;c<f.length;c++){if(t[f[c]]){u=!0;break}}t[s]=u,u&&r.endsBlock(a)&&!t[a.args[0]]&&(t[a.args[0]]=!0,o=!0)}}if(!o)break}return t}});\ndefine(\'core/math/ir/features/polynomial-order\',["require","exports","../opcodes","core/math/maybe-rational","./get-dependency-mask","../instructions"],function(require,e,r,a,s,t){"use strict";function n(e,r,a){var t=a.allowRestriction,n=a.allowClosedBlockReferences;return{chunk:e,argIndex:r,orderTable:[],mask:s.getDependencyMask(e,r),allowRestriction:t,allowClosedBlockReferences:n}}function c(e,s){var n=e.orderTable[s];if(void 0!==n)return n;var o=function(e,s){var n=e.chunk,o=e.mask,i=e.argIndex,l=e.allowRestriction;if(!e.allowClosedBlockReferences&&n.isInClosedBlock(s))return 1/0;if(s===i)return 1;var u=n.getInstruction(s);if(t.beginsBlock(u)||t.endsBlock(u))return 1/0;switch(u.type){case r.Add:case r.Subtract:case r.Less:case r.LessEqual:case r.Greater:case r.GreaterEqual:var d=u.args,f=d[0],v=d[1];return Math.max(c(e,f),c(e,v));case r.Multiply:var p=u.args;f=p[0],v=p[1];return c(e,f)+c(e,v);case r.Negative:return c(e,u.args[0]);case r.Divide:var g=u.args;f=g[0];return c(e,v=g[1])>0?1/0:c(e,f);case r.Exponent:case r.RawExponent:var y=u.args,k=(f=y[0],v=y[1],n.getInstruction(v));if(0===c(e,f)&&0===c(e,v))return 0;if(k.type===r.Constant){var m=a.asFloat(k.value);return m===Math.round(m)&&m>0?c(e,f)*m:1/0}return 1/0;case r.Piecewise:if(!o[s])return 0;var x=n.getInstruction(u.args[2]);return l&&x.type===r.Constant&&isNaN(a.asFloat(x.value))?c(e,u.args[1]):1/0;case r.LoadArg:case r.Noop:case r.Constant:case r.Equal:case r.And:case r.OrderedPair:case r.OrderedPairAccess:case r.List:case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:case r.NativeFunction:case r.Distribution:case r.BroadcastResult:case r.BlockVar:case r.SymbolicVar:case r.ExtendSeed:case r.Action:return o[s]?1/0:0;default:throw new Error("Unexpected opcode "+u.type)}}(e,s);return e.orderTable[s]=o,o}Object.defineProperty(e,"__esModule",{value:!0}),e.instructionOrder=e.polynomialOrderContext=e.polynomialOrder=void 0,e.polynomialOrder=function(e,r,a){var s=e.argNames.indexOf(r);return-1===s?0:c(n(e,s,a),e.returnIndex)},e.polynomialOrderContext=n,e.instructionOrder=c});\ndefine(\'core/math/ir/features/get-polynomial-coefficients\',["require","exports","../chunk","../opcodes","core/math/maybe-rational","./polynomial-order","../instructions","./copy-instruction"],function(require,e,n,r,t,a,s,o){"use strict";function i(e){var t,a,i=e.chunk,c=e.argIndex;if(i.isInClosedBlock(c))throw new Error("Programming Error: cannot find polynomial coefficients of an instruction in a closed block");c>=0&&c<i.argNames.length?(t=i.argNames.slice(),a=i.argTypes.slice(),t.splice(c,1),a.splice(c,1)):(t=i.argNames,a=i.argTypes);for(var u=new n.Chunk({argNames:t,argTypes:a}),l=[],p=0;p<i.instructionsLength();p++){var d=i.getInstruction(p);if(d.type===r.LoadArg)p<c||c<0?l.push(p):p===c?l.push(u.SymbolicVar(i.argTypes[p])):l.push(p-1);else if(s.isLeafInstruction(d))l.push(o.copyInstruction(u,d));else{for(var f=[],g=0,h=d.args;g<h.length;g++){var y=h[g];f.push(l[y])}l.push(o.copyInstructionWithArgs(u,d,f))}}var m=u.Constant(0),v=u.Constant(1),C=u.Constant(NaN);return{chunk:i,newChunk:u,orderCtx:e,coefficientTable:[],mask:e.mask,valueMap:l,argIndex:c,zero:m,one:v,nan:C}}function c(e,n){var s,o=e.newChunk,i=e.orderCtx,u=e.coefficientTable,l=e.mask,p=e.valueMap,d=e.argIndex,f=e.zero,g=e.one,h=e.nan,y=u[n];if(void 0!==y)return y;for(s=l[n]?n===d?[f,g]:a.instructionOrder(i,n)>2?[h]:function(e,n){var a,s=e.chunk.getInstruction(n),o=e.newChunk;switch(s.type){case r.Add:for(var i=s.args,u=i[0],l=i[1],p=c(e,u),d=c(e,l),f=p.length-1,g=d.length-1,h=[],y=0;y<=Math.max(f,g);y++)f>=y&&g>=y?h.push(o.Add([p[y],d[y]])):h.push(f>g?p[y]:d[y]);return h;case r.Subtract:case r.Less:case r.LessEqual:case r.Greater:case r.GreaterEqual:var m=s.args;u=m[0],l=m[1];s.type!==r.Less&&s.type!=r.LessEqual||(u=(a=[l,u])[0],l=a[1]);p=c(e,u),d=c(e,l),f=p.length-1,g=d.length-1,h=[];for(var v=0;v<=Math.max(f,g);v++)f>=v&&g>=v?h.push(o.Subtract([p[v],d[v]])):h.push(f>g?p[v]:o.Negative([d[v]]));return h;case r.Negative:p=c(e,u=s.args[0]),h=[];for(var C=0;C<p.length;C++)h.push(o.Negative([p[C]]));return h;case r.Multiply:for(var w=s.args,x=(u=w[0],l=w[1],p=c(e,u),d=c(e,l),f=p.length-1,g=d.length-1,h=[],0);x<=f;x++)for(var I=0;I<=g;I++)if(!(x+I>2)){var k=o.Multiply([p[x],d[I]]),E=h[x+I];h[x+I]=void 0===E?k:o.Add([E,k])}return h;case r.Divide:for(var L=s.args,b=(u=L[0],l=L[1],p=c(e,u),d=c(e,l),h=[],0);b<p.length;b++)h.push(o.Divide([p[b],d[0]]));return h;case r.Exponent:case r.RawExponent:var A=s.args;u=A[0],l=A[1],p=c(e,u),d=c(e,l);if(0===(f=p.length-1))return[o.RawExponent([p[0],d[0]])];var M=o.getInstruction(d[0]);switch(t.asFloat(M.value)){case 0:return[o.Constant(0)];case 1:return p;case 2:return[o.Multiply([p[0],p[0]]),o.Multiply([o.Constant(2),o.Multiply([p[0],p[1]])]),o.Multiply([p[1],p[1]])]}case r.Piecewise:return c(e,s.args[1]);case r.Noop:case r.BeginBroadcast:case r.LoadArg:case r.Constant:case r.Equal:case r.And:case r.OrderedPair:case r.OrderedPairAccess:case r.List:case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:case r.NativeFunction:case r.Distribution:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.EndBroadcast:case r.BroadcastResult:case r.BlockVar:case r.SymbolicVar:case r.ExtendSeed:case r.Action:throw new Error("Cannot find polynomial coefficients of opcode "+s.type+" that depends on symbol.");default:throw new Error("Unexpected opcode "+s.type)}}(e,n):[p[n]];s.length>1;){var m=o.getInstruction(s[s.length-1]);if(m.type!==r.Constant||0!==t.asFloat(m.value))break;s.pop()}if(0===s.length)throw new Error("Programming Error: coefficients cannot be empty");return u[n]=s,s}Object.defineProperty(e,"__esModule",{value:!0}),e.instructionCoefficients=e.polynomialCoefficientContext=e.getPolynomialCoefficients=void 0,e.getPolynomialCoefficients=function(e,n){var t=e.argNames.indexOf(n),s=i(a.polynomialOrderContext(e,t,{allowRestriction:!0,allowClosedBlockReferences:!1}));if(a.instructionOrder(s.orderCtx,e.returnIndex)>2)throw new Error("Programming Error: cannot compute polynomial coefficients for polynomials of order greater than 2");for(var o=c(s,e.returnIndex),u=!1,l=0;l<e.instructionsLength();l++)e.getInstruction(l).type===r.Piecewise&&s.mask[l]&&(u=!0);return{chunk:s.newChunk,coefficients:o,mappedArgIndex:s.valueMap[t],mappedReturnIndex:s.valueMap[e.returnIndex],isRestrictedPolynomial:u}},e.polynomialCoefficientContext=i,e.instructionCoefficients=c});\ndefine(\'core/math/ir/features/lift-point-operations\',["require","exports","../opcodes","core/math/types","../instructions"],function(require,e,r,s,a){"use strict";function t(e,r){return e.getInstruction(r).valueType===s.Point}function n(e,r){return e.getInstruction(r).valueType===s.Number}Object.defineProperty(e,"__esModule",{value:!0}),e.liftPointOperations=void 0,e.liftPointOperations=function(e){if(e.instructionsLength()-1!==e.returnIndex)throw new Error("Programming Error: only the final instruction in a chunk can be converted to broadcast");var s=e.getInstruction(e.returnIndex);if(a.isLeafInstruction(s))return e.returnIndex;switch(s.type){case r.Add:if(t(e,s.args[0])&&t(e,s.args[1])){var c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Add([e.OrderedPairAccess([s.args[0],c]),e.OrderedPairAccess([s.args[1],c])]),e.Add([e.OrderedPairAccess([s.args[0],i]),e.OrderedPairAccess([s.args[1],i])])])}return e.returnIndex;case r.Subtract:if(t(e,s.args[0])&&t(e,s.args[1])){c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Subtract([e.OrderedPairAccess([s.args[0],c]),e.OrderedPairAccess([s.args[1],c])]),e.Subtract([e.OrderedPairAccess([s.args[0],i]),e.OrderedPairAccess([s.args[1],i])])])}return e.returnIndex;case r.Negative:if(t(e,s.args[0])){c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Negative([e.OrderedPairAccess([s.args[0],c])]),e.Negative([e.OrderedPairAccess([s.args[0],i])])])}return e.returnIndex;case r.Multiply:if(t(e,s.args[0])&&n(e,s.args[1])){c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Multiply([e.OrderedPairAccess([s.args[0],c]),s.args[1]]),e.Multiply([e.OrderedPairAccess([s.args[0],i]),s.args[1]])])}if(n(e,s.args[0])&&t(e,s.args[1])){c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Multiply([s.args[0],e.OrderedPairAccess([s.args[1],c])]),e.Multiply([s.args[0],e.OrderedPairAccess([s.args[1],i])])])}return e.returnIndex;case r.Divide:if(t(e,s.args[0])&&n(e,s.args[1])){c=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Divide([e.OrderedPairAccess([s.args[0],c]),s.args[1]]),e.Divide([e.OrderedPairAccess([s.args[0],i]),s.args[1]])])}return e.returnIndex;case r.Exponent:case r.RawExponent:case r.Equal:case r.Less:case r.Greater:case r.LessEqual:case r.GreaterEqual:case r.And:case r.OrderedPair:case r.Piecewise:case r.OrderedPairAccess:case r.NativeFunction:case r.Distribution:case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.List:case r.BlockVar:case r.BeginBroadcast:case r.EndBroadcast:case r.BroadcastResult:case r.ExtendSeed:case r.Action:return e.returnIndex;default:throw new Error("Unexpected opcode "+s.type)}}});\ndefine(\'core/math/policy\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultPolicy=void 0;var n=["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf","FunctionDefinition","UpdateRule"];e.defaultPolicy={assignmentForbidden:function(e){return!0},graphingEnabled:function(){return!1},isValidSlider:function(e){return!1},sliderVariables:function(e){return[]},ansEnabled:function(){return!1},disabledFeatures:function(){return n}}});\ndefine(\'core/math/ir/features/substitute\',["require","exports","../instructions","./copy-instruction","../opcodes"],function(require,r,t,n,e){"use strict";function s(r,n){var o=r.chunk,a=r.argMap,u=r.start;if(n<u)return n;var c=a[n-u];if(void 0!==c)return c;var g=i(r,n);r.argMap[n-u]=g;var f=o.getInstruction(n);if(t.beginsBlock(f))switch(f.type){case e.BeginBroadcast:case e.BeginIntegral:break;case e.BeginLoop:for(var p=f.args.length-2,v=0;v<p;v++)s(r,n+1+v);break;default:throw new Error("Programming Error. Unexpected OpCode: "+f.type)}else if(t.endsBlock(f))for(p=f.args.length-1,v=0;v<p;v++)s(r,n+1+v);return g}function i(r,e){var i=r.chunk,o=r.start,a=i.getInstruction(e);if(t.endsBlock(a))for(var u=a.args[0],c=u;c<=e;c++){var g=i.getInstruction(c);if(!t.isLeafInstruction(g))for(var f=0,p=g.args;f<p.length;f++){(h=p[f])<u&&s(r,h)}}if(t.isLeafInstruction(a))return n.copyInstruction(i,a);for(var v=[],d=0,l=a.args;d<l.length;d++){var h=l[d];v.push(s(r,h))}var I=r.argMap[e-o];return void 0!==I?I:n.copyInstructionWithArgs(i,a,v)}Object.defineProperty(r,"__esModule",{value:!0}),r._substituteInstruction=r.substitute=void 0,r.substitute=function(r,t,n,e){return s(function(r,t,n){return{chunk:r,argMap:t,start:n}}(r,[t],n),e)},r._substituteInstruction=i});\ndefine(\'core/math/ir/dependencies\',["require","exports","core/math/builtinframe"],function(require,e,n){"use strict";function r(e,n){return"FunctionDefinition"===n.type&&(n=n._expression),i(e,n,{})}function t(e,n,r){for(var i=[],p=[],f=0,o=n.scopes;f<o.length;f++){for(var d=t(e,o[f],r),u=0,a=d.freeDependencies;u<a.length;u++){var c=a[u];-1===i.indexOf(c)&&-1===n.definitions.indexOf(c)&&i.push(c)}for(var l=0,y=d.updateSymbols;l<y.length;l++){c=y[l];-1===p.indexOf(c)&&p.push(c)}}for(var h=0,g=n.dependencies;h<g.length;h++){for(var v=s(e,g[h],r),D=0,S=v.freeDependencies;D<S.length;D++){c=S[D];-1===i.indexOf(c)&&-1===n.definitions.indexOf(c)&&i.push(c)}for(var m=0,b=v.updateSymbols;m<b.length;m++){c=b[m];-1===p.indexOf(c)&&p.push(c)}}return{freeDependencies:i,updateSymbols:p}}function i(e,n,r){if("Slider"===n.type||"Assignment"===n.type)return i(e,n._expression,r);var s=t(e,n.getScope(),r),p=s.freeDependencies,f=s.updateSymbols,o=n.getUpdateSymbols();if(o.length>0){f=f.slice();for(var d=0,u=o;d<u.length;d++){var a=u[d];-1===f.indexOf(a)&&f.push(a)}}return{freeDependencies:p,updateSymbols:f}}function s(e,r,t){if(t[r])return t[r];if(n[r])return t[r]={freeDependencies:[],updateSymbols:[]},t[r];var s=e[r];return s?(t[r]={freeDependencies:[r],updateSymbols:[]},t[r]=i(e,s,t),t[r]):(t[r]={freeDependencies:[r],updateSymbols:[]},t[r])}Object.defineProperty(e,"__esModule",{value:!0}),e.getCacheKeys=e.analyzeDependencies=e.getFreeDependencies=e.FRAME_SENTINEL=void 0,e.FRAME_SENTINEL={},e.getFreeDependencies=function(e,n){return r(e,n).freeDependencies},e.analyzeDependencies=r,e.getCacheKeys=function(n,r){for(var t={},i=r.getDependencies().slice();i.length;){var s=i.pop();if(!t.hasOwnProperty(s)){var p=n[s];if(p===e.FRAME_SENTINEL)return;t[s]=p,p&&p.getDependencies&&Array.prototype.push.apply(i,p.getDependencies())}}return function(e){var n=[];for(var r in e)n.push([r,e[r]]);return n}(t)}});\ndefine(\'core/math/ir/features/take-derivative\',["require","exports","core/math/builtinframe","tslib","core/math/errormsg","../scope","../instructions","../opcodes","./get-dependency-mask","core/math/policy","core/math/baseparser","../build-ir","./copy-instruction","core/math/types","./substitute","./list-length","../dependencies","core/math/maybe-rational"],function(require,t,e,r,n,a,s,x,i,o,u,c,p,y,l,d,f,g){"use strict";function v(t,e,r){for(var n=t.chunk,a=t.valueMap,i=t.derivativeMap,o=t.backwardMask,u=e;u<=r;u++){var c=n.getInstruction(u);if(o[u]&&s.beginsBlock(c)&&-1!==c.endIndex)switch(c.type){case x.BeginIntegral:u=_(t,u);continue;case x.BeginLoop:case x.BeginBroadcast:u=h(t,u);continue}a.push(m(t,u)),i.push(I(t,u))}return r}function _(t,e){var n=t.chunk,a=t.forwardMask,x=t.valueMap,i=t.derivativeMap,o=t.ZERO,u=n.getInstruction(e),c=u.endIndex,y=n.getInstruction(c),d=o;if(a[u.args[1]]){var f=x[u.args[1]];d=n.Add([d,n.Multiply([i[u.args[1]],l.substitute(n,f,e,y.args[1])])])}if(a[u.args[0]]){f=x[u.args[0]];d=n.Subtract([d,n.Multiply([i[u.args[0]],l.substitute(n,f,e,y.args[1])])])}if(function(t,e,r){var n=t.getInstruction(e),a=t.getInstruction(n.endIndex);if(a.args[1]<e+1)return r[a.args[1]];for(var x=e+1;x<=a.args[1];x++){var i=t.getInstruction(x);if(!s.isLeafInstruction(i))for(var o=0,u=i.args;o<u.length;o++){var c=u[o];if(c<e&&r[c])return!0}}return!1}(n,e,a)){var g=x.slice();g.push(p.copyInstructionWithArgs(n,u,[g[u.args[0]],g[u.args[1]]])),i.push(o),v(r.__assign(r.__assign({},t),{valueMap:g,mustCopy:!0}),e+1,c-1);var _=p.copyInstructionWithArgs(n,y,[g[y.args[0]],i[y.args[1]]]);i.push(_),d=n.Add([d,p.copyInstructionWithArgs(n,n.getInstruction(c+1),[_])])}else for(var h=e;h<=c;h++)i.push(o);if(function(t,e,r){for(var n=t.getInstruction(e),a=e;a<=n.endIndex;a++){var x=t.getInstruction(a);if(!s.isLeafInstruction(x))for(var i=0,o=x.args;i<o.length;i++){var u=o[i];if(r[u]!==u)return!0}}return!1}(n,e,x)){var I=r.__assign(r.__assign({},t),{mustCopy:!0});for(h=e;h<=c+1;h++)x.push(m(I,h))}else for(h=e;h<=c+1;h++)x.push(h);return i.push(d),c+y.args.length-1}function h(t,e){var n=t.chunk,a=t.derivativeMap,s=t.valueMap,i=t.ZERO,o=n.getInstruction(e),u=o.endIndex,c=n.getInstruction(u);if(o.type===x.BeginBroadcast)s.push(p.copyInstructionWithArgs(n,o,o.args)),a.push(i);else{var y=[];y.push(s[o.args[0]],s[o.args[1]]);for(var l=2;l<o.args.length;l++)y.push(s[o.args[l]],a[o.args[l]]);s.push(p.copyInstructionWithArgs(n,o,y)),a.push(i);for(l=2;l<o.args.length;l++)s.push(p.copyInstructionWithArgs(n,n.getInstruction(e+l-1),[s[e]])),a.push(p.copyInstructionWithArgs(n,n.getInstruction(e+l-1),[s[e]]))}v(r.__assign(r.__assign({},t),{mustCopy:!0}),a.length,u-1);var d=[];d.push(s[c.args[0]]);for(l=1;l<c.args.length;l++)d.push(s[c.args[l]],a[c.args[l]]);s.push(p.copyInstructionWithArgs(n,c,d)),a.push(i);for(l=1;l<c.args.length;l++)s.push(p.copyInstructionWithArgs(n,n.getInstruction(u+l),[s[u]])),a.push(p.copyInstructionWithArgs(n,n.getInstruction(u+l),[s[u]]));return u+c.args.length-1}function m(t,e){var r=t.chunk,n=t.valueMap,a=t.mustCopy,x=r.getInstruction(e);if(s.isLeafInstruction(x))return a?p.copyInstruction(r,x):e;for(var i=[],o=!1,u=0,c=x.args;u<c.length;u++){var y=c[u];i.push(n[y]),n[y]!==y&&(o=!0)}return o||a?p.copyInstructionWithArgs(r,x,i):e}function I(t,e){var r=t.chunk,n=t.derivativeVarIndex,a=t.forwardMask,i=t.backwardMask,o=t.valueMap,u=t.derivativeMap,c=t.ZERO,l=t.ONE,f=t.NAN,v=r.getInstruction(e);if(!i[e])return c;if(e===n){if(y.isList(v.valueType)){var _=d.listLengthIndex(r,e),h=r.BeginBroadcast([_]),m=r.EndBroadcast([h,l]);return r.BroadcastResult(y.ListOfNumber,[m])}return l}if(s.beginsBlock(v)||s.endsBlock(v)||v.type===x.BlockVar||v.type===x.BroadcastResult||v.type===x.Equal||v.type===x.Greater||v.type===x.Less||v.type===x.GreaterEqual||v.type===x.LessEqual||v.type===x.And||v.type===x.Distribution||v.type===x.ExtendSeed||v.type===x.Action)return c;if(!a[e]||s.isLeafInstruction(v))return v.valueType!==y.Number?r.Multiply([c,o[e]]):v.type!==x.Constant||isFinite(g.asFloat(v.value))?c:f;if(v.type===x.List||v.type===x.OrderedPair){for(var I=[],b=0,M=v.args;b<M.length;b++){var A=M[b];I.push(u[A])}return p.copyInstructionWithArgs(r,v,I)}if(v.type===x.Piecewise)return p.copyInstructionWithArgs(r,v,[o[v.args[0]],u[v.args[1]],u[v.args[2]]]);for(var q=c,w=[],E=0,N=v.args;E<N.length;E++){var k=N[E];w.push(o[k])}for(var L=0;L<v.args.length;L++)if(a[v.args[L]]){var O=u[v.args[L]];if(O!==c){var T=z(t,v,L,w,O);T!==c&&(q=q===c?T:r.Add([T,q]))}}return q}function z(t,r,n,s,i){var u=t.chunk,y=t.ZERO,l=t.ONE,d=t.NAN;switch(r.type){case x.Add:return i;case x.Subtract:switch(n){case 0:return i;default:return u.Negative([i])}case x.Multiply:switch(n){case 0:return u.Multiply([i,s[1]]);default:return u.Multiply([s[0],i])}case x.Divide:switch(n){case 0:return u.Divide([i,s[1]]);default:return u.Multiply([s[0],u.Divide([u.Negative([i]),u.Multiply([s[1],s[1]])])])}case x.Negative:return u.Negative([i]);case x.Exponent:case x.RawExponent:switch(n){case 0:return u.Multiply([u.Multiply([s[1],u.Exponent([s[0],u.Subtract([s[1],l])])]),i]);default:return u.Multiply([u.Piecewise([u.Equal([s[0],y]),u.Piecewise([u.GreaterEqual([s[1],y]),y,d]),u.Multiply([u.SyntheticNativeFunction("ln",[s[0]]),u.Exponent([s[0],s[1]])])]),i])}case x.NativeFunction:return function(t,r,n,s){for(var x=Object.create(e),i=a.Scope({},-1),u=0;u<n.length;u++){var p=b[u];a.setSymbol(i,p,n[u]),x[p]=f.FRAME_SENTINEL}return a.setSymbol(i,"x_1",s),x.x_1=f.FRAME_SENTINEL,c.addToIR(c.Ctx(o.defaultPolicy,x,t,i,void 0),r)}(u,A[r.symbol][n],s,i);case x.ListAccess:case x.DeferredListAccess:case x.InboundsListAccess:case x.OrderedPairAccess:switch(n){case 0:return p.copyInstructionWithArgs(u,r,[i,s[1]]);default:return y}default:throw new Error("Unimplemented derivative for opcode "+r.type)}}Object.defineProperty(t,"__esModule",{value:!0}),t.takeDerivative=void 0,t.takeDerivative=function(t,e,r){var a=t.getInstruction(e);if(!y.isTypeOrListOfType(a.valueType,y.Number)&&!y.isTypeOrListOfType(a.valueType,y.Point))throw n.derivativeTypeError([y.prettyPrint(a.valueType)]);var o=t.getInstruction(r);if(!y.isTypeOrListOfType(o.valueType,y.Number)&&o.type!==x.Noop)throw n.parseError();var u=t.Constant(0);if(e<r)return u;for(var c=t.Constant(1),p=t.Constant(NaN),l=i.getDependencyMask(t,r),d=function(t,e){for(var r=[],n=0;n<e;n++)r.push(!1);r.push(!0);for(n=e;n>=0;n--)if(r[n]){var a=t.getInstruction(n);if(!s.isLeafInstruction(a))if(a.type===x.Piecewise)r[a.args[1]]=!0,r[a.args[2]]=!0;else for(var i=0,o=a.args;i<o.length;i++){r[o[i]]=!0}}return r}(t,e),f=[],g=[],_=0;_<r;_++)g.push(_),f.push(u);return v({chunk:t,derivativeVarIndex:r,forwardMask:l,backwardMask:d,valueMap:g,derivativeMap:f,mustCopy:!1,ZERO:u,ONE:c,NAN:p},r,e),f[e]};var b=["x","y","z","u"],M={exp:["\\\\exp(x)*x_1"],ln:["\\\\{x >= 0: x_1/x \\\\}"],log:["\\\\{x >= 0: x_1/(x*\\\\ln(10)) \\\\}"],sqrt:["x_1/(2*\\\\sqrt{x})"],rtxsqpone:["x*x_1/\\\\rtxsqpone(x)"],rtxsqmone:["x*x_1/\\\\rtxsqmone(x)"],sin:["\\\\cos(x)*x_1"],cos:["-\\\\sin(x)*x_1"],tan:["\\\\sec(x)^2*x_1"],arcsin:["x_1/\\\\sqrt{1 - x^2}"],arccos:["-x_1/\\\\sqrt{1 - x^2}"],sinh:["\\\\cosh(x)*x_1"],cosh:["\\\\sinh(x)*x_1"],tanh:["(\\\\sech(x))^2*x_1"],arcsinh:["x_1/\\\\sqrt{x^2 + 1}"],arccosh:["\\\\{ x > 0: x_1/\\\\rtxsqmone(x) \\\\}"],arctanh:["\\\\{ \\\\abs(x) < 1: x_1/(1 - x^2) \\\\}"],csc:["-\\\\cot(x)*\\\\csc(x)*x_1"],sec:["\\\\tan(x)*\\\\sec(x)*x_1"],cot:["-\\\\csc(x)^2*x_1"],arccsc:["-x_1/(\\\\abs(x)*\\\\rtxsqmone(x))"],arcsec:["x_1/(\\\\abs(x)*\\\\rtxsqmone(x))"],arccot:["-x_1/(1+x^2)"],csch:["-\\\\coth(x)*\\\\csch(x)*x_1"],sech:["-\\\\tanh(x)*\\\\sech(x)*x_1"],coth:["-(\\\\csch(x))^2*x_1"],arccsch:["-x_1/(\\\\abs(x)*\\\\rtxsqpone(x))"],arcsech:["\\\\{ x >= 0: -x_1/(x*\\\\sqrt{1 - x^2}) \\\\}"],arccoth:["\\\\{ \\\\abs(x) > 1 : x_1/(1 - x^2) \\\\}"],factorial:["(x)!*\\\\polyGamma(0, x + 1)*x_1"],floor:["\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}"],ceil:["\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}"],round:["\\\\{ \\\\abs(\\\\mod(x, 1) - 0.5) > 0: 0*x_1 \\\\}"],abs:["\\\\{ \\\\abs(x) > 0: \\\\sign(x)*x_1 \\\\}"],sign:["\\\\{ \\\\abs(x) > 0: 0*x_1 \\\\}"],distance:["-((y.x-x.x)*x_1.x+(y.y-x.y)*x_1.y)/\\\\distance(x,y)","((y.x-x.x)*x_1.x+(y.y-x.y)*x_1.y)/\\\\distance(x,y)"],mean:["\\\\mean(x_1)"],total:["\\\\total(x_1)"],length:["0"],var:["2*\\\\cov(x, x_1)"],varp:["2*\\\\cov(x, x_1)*(\\\\length(x)-1)/\\\\length(x)"],stdev:["\\\\cov(x, x_1)/\\\\stdev(x)"],stdevp:["\\\\covp(x, x_1)/\\\\stdevp(x)"],mad:["\\\\mean(\\\\sign(x-\\\\mean(x))*(x_1 - \\\\mean(x_1)))"],min:["x_1[\\\\argmin(x)]"],max:["x_1[\\\\argmax(x)]"],median:["0.5*(x_1[\\\\lowerQuantileIndex(x, 0.5)] + x_1[\\\\upperQuantileIndex(x, 0.5)])"],argmin:["0/0"],argmax:["0/0"],gcd:["0/0"],lcm:["0/0"],erf:["\\\\frac{2x_1}{\\\\sqrt{\\\\pi }}e^{-x^2}"],invNorm:["\\\\frac{x_1}{\\\\pdf(\\\\normaldist(0,1),\\\\invNorm(x))}"],logbase:["\\\\{x > 0: \\\\frac{x_1}{x*\\\\ln(y)} \\\\}","\\\\frac{-\\\\log_{y}(x)*x_1}{y*\\\\ln(y)}"],nthroot:["x^{1/y - 1}/y*x_1","-\\\\frac{x^{1/y}*\\\\ln(x)*x_1}{y^2}"],hypot:["x_1*x/\\\\hypot(x,y)","x_1*y/\\\\hypot(x,y)"],polyGamma:["0/0","\\\\polyGamma(1 + x, y)*x_1"],mod:["\\\\{ \\\\abs(\\\\mod(x, y)) > 0: x_1 \\\\}","\\\\{ \\\\mod(x/y, 1) > 0: -\\\\floor(x/y)*x_1 \\\\}"],cov:["\\\\cov(x_1, y)","\\\\cov(x, x_1)"],covp:["\\\\covp(x_1, y)","\\\\covp(x, x_1)"],corr:["(\\\\cov(x_1, y) - (\\\\cov(x, y)*\\\\cov(x, x_1)/\\\\var(x)))/(\\\\stdevp(x)\\\\stdevp(y))","(\\\\cov(x, x_1) - (\\\\cov(x, y)*\\\\cov(y, x_1)/\\\\var(y)))/(\\\\stdevp(x)\\\\stdevp(y))"],spearman:["0/0","0/0"],quantile:["\\\\{ \\\\floor(y*(\\\\length(x)-1)) = y*(\\\\length(x)-1) :   x_1[\\\\upperQuantileIndex(x, y)],  (\\\\ceil(y*(\\\\length(x)-1)) - y*(\\\\length(x)-1))*x_1[\\\\lowerQuantileIndex(x, y)] +   (y*(\\\\length(x)-1) - \\\\floor(y*(\\\\length(x)-1)))*x_1[\\\\upperQuantileIndex(x, y)]\\\\}","\\\\{ \\\\floor(y*(\\\\length(x)-1)) < y*(\\\\length(x)-1) :   (x[\\\\upperQuantileIndex(x, y)] - x[\\\\lowerQuantileIndex(x, y)])*x_1\\\\}"],quartile:["0.5*(x_1[\\\\lowerQuartileIndex(x, y)] + x_1[\\\\upperQuartileIndex(x, y)])","0/0"],tscore:["\\\\frac{\\\\sqrt{\\\\length(x)}(\\\\stdev(x)*\\\\mean(x_1)-(\\\\mean(x)-y)*\\\\frac{\\\\cov(x,x_1)}{\\\\stdev(x)})}{\\\\stdev(x)^2}","-x_1*\\\\sqrt{\\\\length(x)}/\\\\stdev(x)"],quartileIndex:["0/0","0/0"],upperQuartileIndex:["0/0","0/0"],lowerQuartileIndex:["0/0","0/0"],upperQuantileIndex:["0/0","0/0"],lowerQuantileIndex:["0/0","0/0"],nCr:["0/0","0/0"],nPr:["0/0","0/0"],arctan:["x_1*y/(y^2+x^2)","-x_1*x/(y^2+x^2)"],poissonpdf:["0/0","x_1\\\\frac{e^{-y}(\\\\floor(x)-y)y^{(\\\\floor(x)-1)}}{(\\\\floor(x))!}"],invPoisson:["0/0","0/0"],tpdf:["x_1*\\\\pdf(\\\\tdist(y),x)*\\\\frac{-(y+1)*x}{y+x^2}","x_1*\\\\frac{1}{2}\\\\pdf(\\\\tdist(y),x)(  \\\\frac{x^2-1}{y + x^2} + \\\\ln(\\\\frac{y}{y + x^2}) +   \\\\polyGamma(0, \\\\frac{1+y}{2}) - \\\\polyGamma(0, y/2))"],invT:["x_1/\\\\pdf(\\\\tdist(y),\\\\invT(x, y))","0/0"],tcdf:["-x_1*\\\\pdf(\\\\tdist(z),x)","x_1*\\\\pdf(\\\\tdist(z),y)","0/0"],poissoncdf:["0/0","0/0","x_1\\\\sum _{n=\\\\max(0,\\\\floor(\\\\min(x,y)))}^{\\\\floor(\\\\max(x,y))}\\\\frac{e^{-z}(n-z)z^{(n-1)}}{n!}"],normalpdf:["-x_1*\\\\frac{x-y}{z^2} \\\\pdf(\\\\normaldist(y,z),x)","x_1*\\\\frac{x-y}{z^2} \\\\pdf(\\\\normaldist(y,z),x)","x_1*(\\\\frac{(x-y-z)*(x-y+z)}{z^3}) \\\\pdf(\\\\normaldist(y,z),x)"],binompdf:["0/0","0/0","\\\\{0<=z<=1: x_1*\\\\pdf(\\\\binomialdist(y,z),x)*(\\\\frac{\\\\round(x)}{z}-\\\\frac{\\\\round(y)-\\\\round(x)}{1-z}), 0 \\\\}"],invBinom:["0/0","0/0","0/0"],uniformpdf:["0","\\\\{y<=x: \\\\frac{x_1}{(z-y)^2}, 0\\\\}","\\\\{z>=x: -\\\\frac{x_1}{(z-y)^2}, 0\\\\}"],invUniform:["\\\\{y<=x<=z: x_1*(z-y), 0\\\\}","\\\\{y<=x<=z: x_1*(1-x), 0\\\\}","\\\\{y<=x<=z: x_1*x, 0\\\\}"],normalcdf:["-x_1\\\\pdf(\\\\normaldist(z,u), x)","x_1\\\\pdf(\\\\normaldist(z,u), y)","-x_1*(\\\\pdf(\\\\normaldist(z,u), y) - \\\\pdf(\\\\normaldist(z,u), x))","x_1*(  \\\\{\\\\abs(y)=1/0:0,\\\\frac{z-y}{u}\\\\pdf(\\\\normaldist(z,u),y)\\\\} -   \\\\{\\\\abs(x)=1/0:0,\\\\frac{z-x}{u}\\\\pdf(\\\\normaldist(z,u),x)\\\\})"],binomcdf:["0/0","0/0","0/0","\\\\{0<=u<=1: x_1*\\\\sum _{n=\\\\max(0,\\\\round(\\\\min(x,y)))}^{\\\\round(\\\\max(x,y))}(  \\\\pdf(\\\\binomialdist(z,u),n)*(\\\\frac{n}{u}-\\\\frac{\\\\round(z)-n}{1-u})), 0 \\\\}"],uniformcdf:["\\\\{z>u: 0/0, -x_1\\\\pdf(\\\\uniformdist(z,u), x)\\\\}","\\\\{z>u: 0/0, x_1\\\\pdf(\\\\uniformdist(z,u), y)\\\\}","\\\\{z>u: 0/0, x_1*(\\\\frac{\\\\{z<x<u:u-x,0\\\\} + \\\\{z<y<u:y-u,0\\\\}}{(u-z)^2})\\\\}","\\\\{z>u: 0/0, x_1*(\\\\frac{\\\\{z<x<u:x-z,0\\\\} + \\\\{z<y<u:z-y,0\\\\}}{(u-z)^2})\\\\}"],normalSample:["0/0","0/0","0/0"],uniformSample:["0/0","0/0","0/0"],tSample:["0/0","0/0"],poissonSample:["0/0","0/0"],binomSample:["0/0","0/0","0/0"],rgb:["0/0","0/0","0/0"],hsv:["0/0","0/0","0/0"],polygon:["\\\\polygon(x_1)"],validateRangeLength:["0","0","0","\\\\{\\\\validateRangeLength(x,y,z,u) \\\\ge 1: x_1, 0\\\\}"],validateSampleCount:["\\\\{x<0:0,1\\\\}*x_1"],select:["\\\\select(x_1, y)","0*\\\\select(x,y)"],shuffle:["0*y","\\\\shuffle(x, x_1)"],sortPerm:["0*x"],elementsAt:["\\\\elementsAt(x_1, y)","0*\\\\elementsAt(x,y)"],uniquePerm:["0*\\\\uniquePerm(x)"]},A={};for(var q in M){for(var w=q,E=M[w],N=[],k=0;k<E.length;k++){var L=E[k];N.push(u.parse(L,{}))}A[w]=N}});\ndefine(\'core/math/ir/features/bound-domain\',["require","exports","core/math/domaintypes","core/math/types","core/math/maybe-rational","../opcodes","./polynomial-order","./get-polynomial-coefficients","../instructions","./is-constant","./as-value"],function(require,e,a,n,t,r,s,i,o,c,u){"use strict";function l(e,m){var f=e.domainTable,d=f[m];if(void 0!==d)return d;var v=function(e,m){var f=e.chunk,d=e.mask,v=e.orderCtx,p=f.getInstruction(m);if(o.isLeafInstruction(p)){if(p.type===r.Constant)if(p.valueType==n.Number){if(isNaN(t.asFloat(p.value)))return a.emptyDomain()}else if(p.valueType===n.ListOfNumber)for(var y=0,g=p.value;y<g.length;y++){var D=g[y];if(isNaN(t.asFloat(D)))return a.unknownDomain()}return a.allReals()}switch(p.type){case r.And:case r.Add:case r.Subtract:case r.Multiply:case r.Divide:case r.Exponent:case r.RawExponent:case r.Negative:case r.BlockVar:case r.BroadcastResult:case r.OrderedPair:case r.OrderedPairAccess:case r.NativeFunction:case r.Distribution:case r.BeginIntegral:case r.EndIntegral:case r.BeginBroadcast:case r.EndBroadcast:case r.BeginLoop:case r.EndLoop:case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:case r.ExtendSeed:case r.Action:for(var k=a.allReals(),b=0,N=p.args;b<N.length;b++){var w=N[b];k=a.intersectDomains(k,l(e,w))}return k;case r.List:if(!d[m])return a.allReals();var C=l(e,p.args[0]);if("known"!==C.type)return a.unknownDomain();for(var h=1;h<p.args.length;h++){if("known"!==(k=l(e,p.args[h])).type)return a.unknownDomain();if(k.bounds[0]!==C.bounds[0]||k.bounds[1]!==C.bounds[1])return a.unknownDomain()}return C;case r.Equal:return d[m]?a.unknownDomain():a.allReals();case r.Piecewise:var x=f.getInstruction(p.args[2]);return x.type===r.Constant&&x.valueType===n.Number&&isNaN(t.asFloat(x.value))?a.intersectDomains(l(e,p.args[0]),l(e,p.args[1])):a.unknownDomain();case r.Less:case r.Greater:case r.LessEqual:case r.GreaterEqual:if(!d[m])return a.allReals();if(s.instructionOrder(v,m)>1)return a.unknownDomain();var E=e.coefficientCtx;void 0===E&&(E=i.polynomialCoefficientContext(v),e.coefficientCtx=E);var L=E.newChunk,R=i.instructionCoefficients(E,m),B=R[0],I=R[1];if(!c.isConstant(L.getInstruction(B)))return a.unknownDomain();var A=u.asValue(L,B);if(isNaN(A))return a.emptyDomain();for(var O=a.allReals(),q=0,T=p.args;q<T.length;q++){w=T[q];O=a.intersectDomains(O,l(e,w))}if(void 0===I)return p.type===r.LessEqual||p.type===r.GreaterEqual?A>=0?O:a.emptyDomain():A>0?O:a.emptyDomain();var F=u.asValue(L,I);return a.intersectDomains(O,a.linearPositiveDomain(A,F))}}(e,m);return f[m]=v,v}Object.defineProperty(e,"__esModule",{value:!0}),e.boundDomain=void 0,e.boundDomain=function(e,i,o){var c=e.argNames.indexOf(i);if(-1===c){var u=e.getInstruction(o);return u.type===r.Constant&&u.valueType===n.Number&&isNaN(t.asFloat(u.value))?a.emptyDomain():a.allReals()}return l(function(e){var a=e.chunk,n=e.mask;return{chunk:a,mask:n,orderCtx:e,domainTable:[]}}(s.polynomialOrderContext(e,c,{allowRestriction:!0,allowClosedBlockReferences:!1})),o)}});\ndefine(\'core/math/ir/features/find-linear-subset\',["require","exports","../opcodes","core/math/types","../instructions"],function(require,e,r,s,a){"use strict";function t(e,r,s){var t=e.getInstruction(s),n=function(e){for(var r=[],s=0;s<e;s++)r.push(!1);return r}(e.argNames.length);if(a.isLeafInstruction(t))return n;for(var c=0,u=t.args;c<u.length;c++)for(var o=r[u[c]],i=0;i<o.length;i++)n[i]=n[i]||o[i];return n}function n(e,s,t,n){var u=e.getInstruction(n);if(a.isLeafInstruction(u))return c(e.argNames.length);switch(u.type){case r.Add:case r.Subtract:case r.Negative:case r.List:for(var o=c(e.argNames.length),i=0;i<u.args.length;i++)for(var g=t[u.args[i]],d=0;d<g.length;d++)o[d]=o[d]&&g[d];return o;case r.Divide:for(var f=[],h=t[u.args[0]],l=s[u.args[1]],p=0;p<h.length;p++)f.push(h[p]&&!l[p]);return f;case r.Multiply:for(var v=t[u.args[0]].slice(),L=t[u.args[1]].slice(),E=s[u.args[0]],I=s[u.args[1]],N=0,m=0,b=0;b<v.length;b++){var x=v[b]&&!I[b],A=L[b]&&!E[b];v[b]=x,L[b]=A,x&&(N+=1),A&&(m+=1)}return N>=m?v:L;case r.Piecewise:var B=s[u.args[0]],y=t[u.args[1]],w=t[u.args[2]],q=[];for(n=0;n<B.length;n++)q.push(!B[n]&&y[n]&&w[n]);return q;case r.ListAccess:case r.DeferredListAccess:case r.InboundsListAccess:var P=t[u.args[0]],S=s[u.args[1]],D=[];for(n=0;n<S.length;n++)D.push(P[n]&&!S[n]);return D;case r.BroadcastResult:var O=u.args[0],G=n-O;return t[e.getInstruction(O).args[G]];case r.OrderedPair:case r.OrderedPairAccess:case r.Exponent:case r.RawExponent:case r.Less:case r.LessEqual:case r.Greater:case r.GreaterEqual:case r.Equal:case r.And:case r.NativeFunction:case r.Distribution:case r.BeginIntegral:case r.EndIntegral:case r.BeginLoop:case r.EndLoop:case r.BeginBroadcast:case r.EndBroadcast:case r.BlockVar:case r.ExtendSeed:case r.Action:for(var M=[],R=0,_=s[n];R<_.length;R++){var j=_[R];M.push(!j)}return M;default:throw new Error("Unexpected opcode "+u.type)}}function c(e){for(var r=[],s=0;s<e;s++)r.push(!0);return r}Object.defineProperty(e,"__esModule",{value:!0}),e.findLinearSubset=void 0,e.findLinearSubset=function(e){for(var r=[],a=[],c=0;c<e.argNames.length;c++){for(var u=[],o=[],i=0;i<e.argNames.length;i++)u.push(e.argTypes[i]===s.Number),o.push(c===i);a.push(o),r.push(u)}for(c=e.argNames.length;c<=e.returnIndex;c++)a.push(t(e,a,c)),r.push(n(e,a,r,c));return r[e.returnIndex]}});\ndefine(\'core/math/ir/features/derive-regression-restrictions\',["require","exports","../opcodes","core/math/types","../instructions","./is-constant","./as-value","./polynomial-order","./get-polynomial-coefficients","core/math/domaintypes","./list-length"],function(require,n,e,t,i,o,r,s,a,u,c){"use strict";function l(n,e,t,i,o,r){if("known"!==e.type)return t;if(e.bounds[0]===-1/0&&e.bounds[1]===1/0)return t;var s=n.And([n.LessEqual([n.Constant(e.bounds[0]),i]),n.LessEqual([i,n.Constant(e.bounds[1])])]);return n.Multiply([t,n.Piecewise([s,o,r])])}function f(n,e){for(var t=[],i=0;i<n.argNames.length;i++)t.push(i);var o=[];for(i=0;i<=e;i++)o.push(p(n,t,o,i));return o[e]}function g(n){return n.type===e.NativeFunction&&("sin"===n.symbol||"cos"===n.symbol)}function v(n){for(var e=1/0,t=-1/0,i=n.length,o=0,r=n;o<r.length;o++){var s=r[o];e=Math.min(e,s),t=Math.max(t,s)}return{min:e,max:t,length:i}}function p(n,e,t,o){for(var r=n.getInstruction(o),s=function(n){for(var e=[],t=0;t<n;t++)e.push(!1);return e}(e.length),a=0;a<e.length;a++)if(e[a]===o)return s[a]=!0,s;if(i.isLeafInstruction(r))return s;for(var u=0,c=r.args;u<c.length;u++)for(var l=t[c[u]],f=0;f<l.length;f++)s[f]=s[f]||l[f];return s}Object.defineProperty(n,"__esModule",{value:!0}),n.deriveRegressionRestrictions=void 0,n.deriveRegressionRestrictions=function(n){var i=n.getInstruction(n.returnIndex);if(i.type!==e.BroadcastResult)return n;var h=i.args[0],d=n.returnIndex-h,m=n.getInstruction(h),C=m.args[0],y=m.args[d],w=[],x=[];w.push(C);var I=c.assertConstantListLength(n,n.returnIndex,"Programming error: cannot optimize regression on non-constant-length list");x.push({min:1,max:I,length:I});for(var k=!1,R=!1,b=C+1;b<=y;b++){if((W=n.getInstruction(b)).type===e.ListAccess||W.type===e.InboundsListAccess||W.type===e.DeferredListAccess){if(W.args[1]!==C)continue;var L=W.args[0];if(n.getInstruction(L).valueType!==t.ListOfNumber)continue;if(!o.isConstant(n.getInstruction(L)))continue;var D=v(r.asValue(n,L));if(!isFinite(D.min)||!isFinite(D.max))continue;w.push(b),x.push(D)}else g(W)?k=!0:W.type!==e.Exponent&&W.type!==e.RawExponent||(R=!0)}if(0===w.length)return n;if(!R&&!k)return n;var O=[],P=[];for(b=0;b<n.argNames.length;b++)P.push(b),O.push(u.allReals());var N=[],B=[];for(b=0;b<=y;b++)N.push(p(n,P,N,b)),B.push(p(n,w,B,b));for(b=0;b<=y;b++){if((W=n.getInstruction(b)).type===e.Piecewise)for(var E=N[b],F=0;F<E.length;F++)E[F]&&(O[F]=u.unknownDomain());else if(W.type===e.Exponent||W.type===e.RawExponent){var M=!1,V=!1;for(F=0;F<w.length;F++)B[W.args[0]][F]&&(M=!0),B[W.args[1]][F]&&(V=!0);if(M)continue;if(!V)continue;E=N[W.args[0]];var A=0,q=void 0;for(F=0;F<E.length;F++)E[F]&&(q=F,A+=1);if(1!==A)continue;if(void 0===q)continue;var _=P[q],j=s.polynomialOrderContext(n.copy().reopenFinalBlock(),_,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1!==s.instructionOrder(j,W.args[0]))continue;var z=a.polynomialCoefficientContext(j),T=a.instructionCoefficients(z,W.args[0]),G=T[0];if(void 0===(en=T[1]))continue;var H=r.asValue(z.newChunk,en),J=r.asValue(z.newChunk,G);O[q]=u.intersectDomains(O[q],u.linearPositiveDomain(J,H))}}if(k)for(var K=n.copy().reopenFinalBlock(),Q=0;Q<w.length;Q++){var S=s.polynomialOrderContext(K,w[Q],{allowRestriction:!1,allowClosedBlockReferences:!1}),U=a.polynomialCoefficientContext(S);for(b=C+1;b<=y;b++){var W;if(g(W=K.getInstruction(b))){var X=W.args[0];if(1!==s.instructionOrder(S,X))continue;var Y=a.instructionCoefficients(U,X)[1];if(void 0===Y)continue;var Z=f(U.newChunk,Y),$=(q=void 0,0);for(F=0;F<Z.length;F++)Z[F]&&(q=F,$+=1);if(1!==$)continue;if(void 0===q)continue;var nn=s.polynomialOrderContext(U.newChunk,q,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1!==s.instructionOrder(nn,Y))continue;var en,tn=a.polynomialCoefficientContext(nn),on=a.instructionCoefficients(tn,Y);G=on[0];if(void 0===(en=on[1])||!o.isConstant(tn.newChunk.getInstruction(G))||!o.isConstant(tn.newChunk.getInstruction(en)))continue;J=r.asValue(tn.newChunk,G),H=r.asValue(tn.newChunk,en);var rn=(x[Q].max-x[Q].min)/Math.min(x[Q].length-1,31),sn=Math.PI/rn;if(!isFinite(sn))continue;if(sn<=0)continue;O[q]=u.intersectDomains(O[q],u.linearPositiveDomain(J,H)),O[q]=u.intersectDomains(O[q],u.linearPositiveDomain(sn-J,-H))}}}for(var an=!1,un=0,cn=O;un<cn.length;un++){var ln=cn[un];if("known"!==ln.type)return n;ln.bounds[0]===-1/0&&ln.bounds[1]===1/0||(an=!0)}if(!an)return n;var fn=n.copy(),gn=n.returnIndex,vn=fn.Constant(1),pn=fn.Constant(NaN);for(F=0;F<fn.argNames.length;F++)gn=l(fn,O[F],gn,F,vn,pn);return fn.close(),fn}});\ndefine(\'core/math/ir/chunk\',["require","exports","core/math/errormsg","core/math/types","core/math/maybe-rational","core/math/functions","./opcodes","./builtin-table","./features/constant-collapse","./features/type-check","./features/emit-js","./features/get-value-type","./features/is-constant","./features/list-length","./features/drop-unreferenced-instructions","./features/convert-to-broadcast","./features/print","./features/to-dot","./features/fuse-broadcast","./features/polynomial-order","./features/get-polynomial-coefficients","./features/copy-instruction","./features/lift-point-operations","./features/element-at","./features/take-derivative","./features/bound-domain","./features/find-linear-subset","./features/derive-regression-restrictions","./features/as-value","./features/depends-on-outer-variable","./features/nan-of-type","./features/find-dependency-symbols"],function(require,t,e,n,r,s,i,o,u,a,p,c,h,y,l,g,f,d,v,I,T,m,b,L,x,k,V,C,A,B,N,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chunk=void 0;var E=1e4,S=function(){function t(t){if(this.instructions=[],this.blockMask=[],this.comments=[],t.argNames.length!==t.argTypes.length)throw new Error("Programming Error: length of argNames must match length of argTypes");this.argNames=t.argNames,this.argTypes=t.argTypes;for(var e=0;e<this.argTypes.length;e++){var n=this.argTypes[e];this.LoadArg(n)}this.returnIndex=-1}return t.prototype.addComments=function(t){for(var e in t){var n=this.comments[e]||"";this.comments[e]=n+t[e]}return this},t.prototype.instructionsLength=function(){return this.instructions.length},t.prototype.getInstruction=function(t){return this.instructions[t]},t.prototype.popInstruction=function(){return this.instructions.pop()},t.prototype.truncate=function(t){this.instructions.length=t,this.blockMask.length=t,this.comments.length=t},t.prototype.pushInstructionChecked=function(t){if(this.instructions.length>=32768)throw e.deeplyNested();this.instructions.push(t),this.returnIndex=this.instructions.length-1},t.prototype.pushLeafInstruction=function(t){return this.pushInstructionChecked(t),this.returnIndex},t.prototype.pushInstruction=function(t){return this.checkInstructionArguments(t),this.pushInstructionChecked(t),this.returnIndex=g.convertToBroadcast(this),this.returnIndex=b.liftPointOperations(this),a.typeCheck(this,this.returnIndex),this.returnIndex=u.constantCollapse(this),this.returnIndex},t.prototype.checkInstructionArguments=function(t){for(var e=0,n=t.args;e<n.length;e++){var r=n[e];if(this.blockMask[r])throw new Error("Programming Error: cannot reference an instruction in a closed block")}},t.prototype.markClosedBlock=function(t,e){for(var n=t;n<e;n++)this.blockMask[n]=!0},t.prototype.LoadArg=function(t){return this.pushLeafInstruction({type:i.LoadArg,valueType:t})},t.prototype.BlockVar=function(t,e){return this.pushInstruction({type:i.BlockVar,valueType:t,args:e})},t.prototype.SymbolicVar=function(t,e){return this.pushLeafInstruction({type:i.SymbolicVar,valueType:t,symbol:e})},t.prototype.BroadcastResult=function(t,e){var n=e[0],r=this.instructions[n],s=r.args[0],o=this.instructions.length-n,u=r.args[o],a=!B.dependsOnOuterVariable(this,u,s),p=this.getInstruction(s).args[0],c=this.getInstruction(p);return this.pushInstruction({type:i.BroadcastResult,valueType:t,args:e,isConstantBroadcast:a,constantLength:h.isConstant(c)?A.asValue(this,p):void 0})},t.prototype.Constant=function(t){return this.ConstantOfType(n.Number,t)},t.prototype.ConstantOfType=function(t,s){if("number"==typeof s&&(s=r.maybeRational(s,1)),n.isList(t)&&s.length>E)throw e.maxListSize(E.toLocaleString());return this.pushLeafInstruction({type:i.Constant,valueType:t,value:s})},t.prototype.NanOfType=function(t){if(t===n.Distribution){var e=this.Constant(NaN);return this.Distribution("uniformdist",[e,e])}return this.ConstantOfType(t,N.nanOfType(t))},t.prototype.Add=function(t){var e=i.Add,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Subtract=function(t){var e=i.Subtract,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Multiply=function(t){var e=i.Multiply,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Divide=function(t){var e=i.Divide,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Exponent=function(t){var e=i.Exponent,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.RawExponent=function(t){var e=i.RawExponent,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Negative=function(t){var e=i.Negative,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Equal=function(t){var e=i.Equal,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Less=function(t){var e=i.Less,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Greater=function(t){var e=i.Greater,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.LessEqual=function(t){var e=i.LessEqual,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.GreaterEqual=function(t){var e=i.GreaterEqual,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.And=function(t){var e=i.And,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.Piecewise=function(t){var e=i.Piecewise,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.OrderedPair=function(t){var e=i.OrderedPair,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.OrderedPairAccess=function(t){var e=i.OrderedPairAccess,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.List=function(t){var n=i.List,r=c.getValueType(this,n,t);if(t.length>E)throw e.maxListSize(E.toLocaleString());return this.pushInstruction({type:n,valueType:r,args:t})},t.prototype.ListAccess=function(t){var e=i.ListAccess,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.DeferredListAccess=function(t){var e=i.DeferredListAccess,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.InboundsListAccess=function(t){var e=i.InboundsListAccess,n=c.getValueType(this,e,t);return this.pushInstruction({type:e,valueType:n,args:t})},t.prototype.NativeFunction=function(t,e,n){var r=this,s=i.NativeFunction,u=o.BuiltInTable[t].returnType,a="function"==typeof u?u(n.map(function(t){return r.getInstruction(t).valueType})):u;return this.pushInstruction({type:s,valueType:a,args:n,symbol:t,callData:e})},t.prototype.SyntheticNativeFunction=function(t,e){var n=this,r=i.NativeFunction,s=o.BuiltInTable[t].returnType,u="function"==typeof s?s(e.map(function(t){return n.getInstruction(t).valueType})):s,a={errorSymbol:t,providedArity:e.length,isDotCall:!1};return this.pushInstruction({type:r,valueType:u,args:e,symbol:t,callData:a})},t.prototype.Distribution=function(t,e){var r=i.Distribution,s=n.Distribution;return this.pushInstruction({type:r,valueType:s,args:e,symbol:t})},t.prototype.BeginIntegral=function(t,e){var n=i.BeginIntegral,r=c.getValueType(this,n,[]);return this.pushInstruction({type:n,valueType:r,args:e,endIndex:-1,callData:t})},t.prototype.EndIntegral=function(t){var e=i.EndIntegral,n=c.getValueType(this,e,t),r=t[0],s=this.getInstruction(r);this.instructions[r]={type:s.type,valueType:s.valueType,args:s.args,endIndex:this.instructionsLength(),callData:s.callData};var o=this.pushInstruction({type:e,valueType:n,args:t});return this.markClosedBlock(r,o),o},t.prototype.BeginBroadcast=function(t,n){var r=i.BeginBroadcast,s=c.getValueType(this,r,[]),o=this.getInstruction(t[0]);if(h.isConstant(o)&&A.asValue(this,t[0])>E)throw e.maxListSize(E.toLocaleString());return this.pushInstruction({type:r,valueType:s,endIndex:-1,args:t,listComprehensionCallData:n})},t.prototype.EndBroadcast=function(t){var e=i.EndBroadcast,n=c.getValueType(this,e,t),r=t[0],s=this.getInstruction(r),o={type:s.type,valueType:s.valueType,args:s.args,endIndex:this.instructionsLength()};this.instructions[r]=o;var u=this.pushInstruction({type:e,valueType:n,args:t});return this.markClosedBlock(r,u),u},t.prototype.BeginLoop=function(t,e){var n=i.BeginLoop,r=c.getValueType(this,n,e);return this.pushInstruction({type:n,valueType:r,args:e,endIndex:-1,callData:t})},t.prototype.EndLoop=function(t){var e=i.EndLoop,n=c.getValueType(this,e,t),r=t[0],s=this.getInstruction(r);this.instructions[r]={type:s.type,valueType:s.valueType,args:s.args,endIndex:this.instructionsLength(),callData:s.callData};var o=this.pushInstruction({type:e,valueType:n,args:t});return this.markClosedBlock(r,o),o},t.prototype.ExtendSeed=function(t,e){var r=i.ExtendSeed,s=n.SeedType;return this.pushInstruction({type:r,valueType:s,args:e,tag:t})},t.prototype.Noop=function(){var t=i.Noop,e=n.Any;return this.pushLeafInstruction({type:t,valueType:e})},t.prototype.Action=function(t,e){return this.pushInstruction({type:i.Action,valueType:n.Action,args:e,symbols:t})},t.prototype.replaceInstructionWithConstant=function(t,e){this.instructions[t]=e,this.blockMask[t]=void 0},t.prototype.replaceInstructionWithBlockVar=function(t,e){this.instructions[t]=e},t.prototype.reopenFinalBlock=function(){var t=this.getInstruction(this.returnIndex);if(t.type!==i.BroadcastResult)return this;for(var e=t.args[0],n=this.getInstruction(e).args[0];n<e;n++)this.blockMask[n]=void 0;return this.truncate(e),this},t.prototype.isInClosedBlock=function(t){return this.blockMask[t]},t.prototype.copy=function(){var e=new t({argNames:this.argNames,argTypes:this.argTypes});return e.instructions=this.instructions.slice(),e.blockMask=this.blockMask.slice(),e.comments=this.comments.slice(),e.returnIndex=this.returnIndex,e},t.prototype.close=function(){return this.returnIndex=v.fuseBroadcast(this,this.returnIndex),l.dropUnreferencedInstructions(this),this},t.prototype.copyInstruction=function(t){return m.copyInstruction(this,t)},t.prototype.copyInstructionWithArgs=function(t,e){return m.copyInstructionWithArgs(this,t,e)},t.prototype.replaceInstructionWithNoop=function(t){this.instructions[t]={type:i.Noop,valueType:n.Any}},t.prototype.getReturnType=function(){return this.instructions[this.returnIndex].valueType},t.prototype.isConstant=function(){return h.isConstant(this.instructions[this.returnIndex])},t.prototype.asValue=function(){return A.asValue(this,this.returnIndex)},t.prototype.asCompilerValue=function(){var t=this.instructions[this.returnIndex];switch(t.type){case i.Constant:return t.value;default:throw new Error("Unexpected opcode "+t.type+".")}},t.prototype.getConstantListLength=function(){return y.getConstantListLength(this,this.returnIndex)},t.prototype.getListLengthDependencies=function(){var t=this.copy(),e=y.listLengthIndex(t,t.returnIndex);return D.findDependencySymbols(t,e)},t.prototype.elementAt=function(t){var e=this.copy(),n=e.returnIndex;return e.returnIndex=L.elementAt(e,n,t),e.close(),e},t.prototype.getCompiledFunction=function(t){var e;if(t){e=t.slice();for(var n=0,r=this.argNames;n<r.length;n++){var i=r[n];-1===e.indexOf(i)&&e.push(i)}}else e=this.argNames;var o=p.emitJS(this),u=o.source,a=o.constants;return{args:e,source:u,constants:a,fn:s.closureFunctionWithBuiltIn(e,u,a)}},t.prototype.polynomialOrder=function(t,e){return I.polynomialOrder(this,t,e)},t.prototype.getPolynomialCoefficients=function(t){return T.getPolynomialCoefficients(this,t)},t.prototype.takeDerivative=function(t){var e=this.copy(),n=this.argNames.indexOf(t);return-1===n?(e.Constant(0),e.close(),e):(e.returnIndex=x.takeDerivative(e,e.returnIndex,n),e.close(),e)},t.prototype.deriveRegressionRestrictions=function(){return C.deriveRegressionRestrictions(this)},t.prototype.boundDomain=function(t){return k.boundDomain(this,t,this.returnIndex)},t.prototype.findLinearSubset=function(t){for(var e=V.findLinearSubset(this),n=[],r=0,s=t;r<s.length;r++){var i=s[r],o=this.argNames.indexOf(i);if(-1===o)throw new Error("Programming Error: findLinearSubset called with a non-dependency");n.push(e[o])}return n},t.prototype.print=function(){return f.print(this)},t.prototype.printInstruction=function(t){return f.printInstruction(this,t)},t.prototype.toDot=function(){return d.default(this)},t.prototype.getLiveArgNames=function(){for(var t=[],e=0;e<this.argNames.length;e++){this.instructions[e].type===i.LoadArg&&t.push(this.argNames[e])}return t},t}();t.Chunk=S});\ndefine(\'core/math/ir/distribution-table\',["require","exports","./features/list-length"],function(require,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomSampleFromList=t.DistributionTable=void 0,t.DistributionTable={normaldist:{pdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("normalpdf",i.concat(r.args))},cdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("normalcdf",i.concat(r.args))},mean:function(t,n,i){return t.getInstruction(n).args[0]},median:function(n,i,r){return t.DistributionTable.normaldist.mean(n,i,r)},stdev:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("abs",[r.args[1]])},var:function(t,n,i){var r=t.getInstruction(n);return t.Multiply([r.args[1],r.args[1]])},quantile:function(t,n,i){var r=t.getInstruction(n);return t.Add([t.Multiply([t.SyntheticNativeFunction("invNorm",i),t.SyntheticNativeFunction("abs",[r.args[1]])]),r.args[0]])},random:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("normalSample",[i[0],r.args[0],r.args[1]])}},tdist:{pdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("tpdf",i.concat(r.args))},cdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("tcdf",i.concat(r.args))},mean:function(t,n,i){return t.Constant(0)},median:function(t,n,i){return t.Constant(0)},stdev:function(n,i,r){return n.SyntheticNativeFunction("sqrt",[t.DistributionTable.tdist.var(n,i,r)])},var:function(t,n,i){var r=t.getInstruction(n),e=t.Constant(2),a=r.args[0];return t.Piecewise([t.GreaterEqual([a,e]),t.Divide([a,t.Subtract([a,e])]),t.Constant(NaN)])},quantile:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invT",[i[0],r.args[0]])},random:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("tSample",[i[0],r.args[0]])}},poissondist:{pdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("poissonpdf",i.concat(r.args))},cdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("poissoncdf",i.concat(r.args))},mean:function(t,n,i){return t.getInstruction(n).args[0]},median:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invPoisson",[t.Constant(.5),r.args[0]])},stdev:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("sqrt",[r.args[0]])},var:function(n,i,r){return t.DistributionTable.poissondist.mean(n,i,r)},quantile:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invPoisson",[i[0],r.args[0]])},random:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("poissonSample",[i[0],r.args[0]])}},binomialdist:{pdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("binompdf",i.concat(r.args))},cdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("binomcdf",i.concat(r.args))},mean:function(t,n,i){var r=t.getInstruction(n);return t.Multiply([r.args[0],r.args[1]])},median:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invBinom",[t.Constant(.5),r.args[0],r.args[1]])},stdev:function(n,i,r){return n.SyntheticNativeFunction("sqrt",[t.DistributionTable.binomialdist.var(n,i,r)])},var:function(t,n,i){var r=t.getInstruction(n).args,e=r[0],a=r[1];return t.Multiply([e,t.Multiply([a,t.Subtract([t.Constant(1),a])])])},quantile:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invBinom",[i[0],r.args[0],r.args[1]])},random:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("binomSample",[i[0],r.args[0],r.args[1]])}},uniformdist:{pdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("uniformpdf",i.concat(r.args))},cdf:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("uniformcdf",i.concat(r.args))},mean:function(t,n,i){var r=t.getInstruction(n);return t.Divide([t.Add([r.args[0],r.args[1]]),t.Constant(2)])},median:function(n,i,r){return t.DistributionTable.uniformdist.mean(n,i,r)},stdev:function(n,i,r){return n.SyntheticNativeFunction("sqrt",[t.DistributionTable.uniformdist.var(n,i,r)])},var:function(t,n,i){var r=t.getInstruction(n),e=t.Subtract([r.args[1],r.args[0]]);return t.Divide([t.Multiply([e,e]),t.Constant(12)])},quantile:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("invUniform",[i[0],r.args[0],r.args[1]])},random:function(t,n,i){var r=t.getInstruction(n);return t.SyntheticNativeFunction("uniformSample",[i[0],r.args[0],r.args[1]])}}},t.randomSampleFromList=function(t,i,r){var e=r[0],a=t.Constant(0),o=t.Constant(1);if(0===n.getConstantListLength(t,i))return t.Constant(NaN);var u=n.listLengthIndex(t,i);return t.InboundsListAccess([i,t.Add([t.SyntheticNativeFunction("floor",[t.Multiply([t.SyntheticNativeFunction("uniformSample",[e,a,o]),u])]),o])])}});\ndefine(\'core/math/ir/features/depends-on-instruction\',["require","exports","../instructions"],function(require,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.dependsOnInstruction=void 0,r.dependsOnInstruction=function(r,e,t){if(e===t)return!0;if(e<t)return!1;for(var i=[!0],u=t+1;u<=e;u++)i.push(!1);for(var s=[e];s.length;){if(!i[(u=s.pop())-t]){i[u-t]=!0;var o=r.getInstruction(u);if(!n.isLeafInstruction(o))for(var f=0,c=o.args;f<c.length;f++){var a=c[f];if(a===t)return!0;a<t||(i[a-t]||s.push(a))}}}return!1}});\ndefine(\'core/math/cache-stats\',["require","exports"],function(require,e){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.markCacheRead=e.markCacheWrite=e.markCacheMiss=e.markCacheHit=e.setCacheStatStore=void 0,e.setCacheStatStore=function(e){a=e},e.markCacheHit=function(){a&&(a.cacheHits+=1)},e.markCacheMiss=function(){a&&(a.cacheMisses+=1)},e.markCacheWrite=function(){a&&(a.cacheWrites+=1)},e.markCacheRead=function(){a&&(a.cacheReads+=1)}});\ndefine(\'core/math/ir/build-ir\',["require","exports","parsenodes","core/math/builtinframe","core/math/errormsg","./scope","./chunk","core/math/types","core/math/maybe-rational","./opcodes","./builtin-table","./features/list-length","./features/is-constant","./features/type-check","./distribution-table","./features/fuse-broadcast","./features/find-dependency-symbols","./features/element-at","./features/take-derivative","./features/substitute","./features/convert-to-broadcast","./features/copy-instruction","./features/depends-on-instruction","./dependencies","../cache-stats","./features/nan-of-type"],function(require,e,t,r,n,i,a,s,o,u,c,l,d,p,y,f,g,v,m,h,b,T,L,S,I,w){"use strict";function A(e,t,r,n,i){return{policy:e,frame:t,chunk:r,scope:n,parentNode:i}}function E(e){var t=e.policy,r=e.frame,n=e.argNames,s=e.argTypes,o=new a.Chunk({argNames:n,argTypes:s});return A(t,r,o,function(e){for(var t=i.Scope({},-1),r=0;r<e.argNames.length;r++)i.setSymbol(t,e.argNames[r],r);return t}(o),void 0)}function x(e,t,r){if("FunctionDefinition"===t.type)for(var i=0,a=r;i<a.length;i++){var o=a[i];if(-1!==t._argSymbols.indexOf(o)||t._symbol===o)throw n.updateRuleLocalLHS(o);if(t._sybmol===o)throw n.updateRuleFunctionLHS(o)}for(var u=[],c=0,l=r;c<l.length;c++){o=l[c];e.frame[o]||u.push(o)}if(u.length){var d=U(e,u[0]).setDependencies(e.chunk.argNames.concat(u));throw e.chunk.isConstant()&&e.chunk.getReturnType()===s.Action&&d.setActionValue(e.chunk.asValue()),d}}function C(e,a){var c;if(I.markCacheRead(),_(e.frame,a))I.markCacheHit(),c=e.chunk.copyInstruction(a.__IRCache.instruction);else{I.markCacheMiss();var y=e.chunk.instructionsLength(),g=e.policy,v=e.frame,T=e.chunk,E=e.scope,x=e.parentNode;if(c=function(e,a){var c=e.policy,y=e.frame,g=e.chunk,v=e.scope,T=e.parentNode;switch(a.type){case"Constant":var I=a._constantValue,E="boolean"==typeof I?s.Bool:s.Number;return g.ConstantOfType(E,I);case"MixedNumber":return g.Constant(a._constantValue);case"Negative":return g.Negative(function(e,t){return[C(e,t[0])]}(e,a.args));case"Add":return g.Add(D(e,a.args));case"Subtract":return g.Subtract(D(e,a.args));case"Multiply":return g.Multiply(D(e,a.args));case"Divide":return g.Divide(D(e,a.args));case"Exponent":return g.Exponent(D(e,a.args));case"Comparator[\'=\']":return g.Equal(D(e,a.args));case"Comparator[\'>\']":return g.Greater(D(e,a.args));case"Comparator[\'<\']":return g.Less(D(e,a.args));case"Comparator[\'>=\']":return g.GreaterEqual(D(e,a.args));case"Comparator[\'<=\']":return g.LessEqual(D(e,a.args));case"And":return g.And(D(e,a.args));case"PercentOf":return g.Divide([g.Multiply(D(e,a.args)),g.Constant(100)]);case"ParenSeq":return function(e,t){for(var r,i,a,o,u=e.chunk,c=e.policy,l=B(e,t.args),d=!1,p=0;p<l.length;p++){var y=u.getInstruction(l[p]).valueType;if(y===s.Action){if(d=!0,void 0!==o)throw n.combineTypeError([s.prettyPrint(o),s.prettyPrint(s.Action)])}else{if(d)throw n.combineTypeError([s.prettyPrint(s.Action),s.prettyPrint(y)]);o=y}}if(d)return V(e,l);var f=null!==(a=null===(i=(r=c).dimensions)||void 0===i?void 0:i.call(r))&&void 0!==a?a:2;if(2!==f)throw new Error("3D points not implemented.");if(l.length!==f)throw n.badTupleDimensions(f);return u.OrderedPair(l)}(e,a);case"BareSeq":return function(e,t){var r=e.chunk,i=B(e,t.args);if(i.length<2)throw n.unexpectedSymbol(",");for(var a=r.getInstruction(i[0]).valueType,o=1;o<i.length;o++){var u=r.getInstruction(i[o]).valueType;if(a!==u)throw n.combineTypeError([s.prettyPrint(a),s.prettyPrint(u)])}if(a===s.Number)throw 2===i.length?n.malformedPoint():n.malformedList();return a===s.Action?V(e,i):r.List(i)}(e,a);case"OrderedPairAccess":return g.OrderedPairAccess(D(e,a.args));case"UpdateRule":var x=y[ne=a._symbol];if(x){if(x.isError)throw x;if("Assignment"!==x.type&&"Slider"!==x.type)throw U(e,ne)}return g.Action([ne],[C(e,a.args[1])]);case"List":if(a.getDependencies().length>0)return g.List(B(e,a.args));if(0===a.args.length)return g.ConstantOfType(s.EmptyList,[]);for(var N=g.instructionsLength(),F=[],O=void 0,_=void 0,R=0,k=a.args;R<k.length;R++){var M=C(e,k[R]),H=g.getInstruction(M);if(void 0===O){if(O=H.valueType,!s.hasListType(O))throw n.listTypeError([s.prettyPrint(O)]);_=s.listType(O)}else if(H.valueType!==O)throw n.heterogeneousList();if(H.type!==u.Constant)throw new Error("Programming error: expected list with no dependencies to constant collapse.");F.push(H.value),g.truncate(N)}return g.ConstantOfType(_,F);case"ListAccess":var j=C(e,a.args[0]),z=g.getInstruction(j);if("Range"===a.args[1].type&&0===a.args[1].args[1].length){if(!s.isList(z.valueType))throw n.indexTypeError([s.prettyPrint(z.valueType),s.prettyPrint(s.Number)]);var W=l.listLengthIndex(g,j),G=q(e,C(e,a.args[1].args[0]),g.List([W]),{stepMustBePositive:!0});return g.ListAccess([j,G])}G=C(e,a.args[1]);var K=g.getInstruction(G);if(!s.isList(z.valueType))throw n.indexTypeError([s.prettyPrint(z.valueType),s.prettyPrint(K.valueType)]);return K.valueType===s.ListOfBool?g.SyntheticNativeFunction("select",[j,G]):g.ListAccess([j,G]);case"Range":var J=D(e,a.args);return q(e,J[0],J[1],{stepMustBePositive:!1});case"ListComprehension":return function(e,t){for(var r=e.policy,a=e.frame,o=e.chunk,c=e.scope,d=e.parentNode,p=t._body,y=[],f=o.Constant(1),g=Object.create(a),v=0,m=t._inputLists;v<m.length;v++){var h=m[v]._symbol;g[h]=n.badListComprehensionInputDependency(h)}for(var b=i.childScope(c),T=t._inputLists.length-1;T>=0;T--){var L=t._inputLists[T],I=L._symbol,w=C(A(r,g,o,b,d),L.args[1]),E=o.getInstruction(w);if(!s.isList(E.valueType))throw n.listComprehensionInputListTypeError(I,s.prettyPrint(E.valueType));var x=l.listLengthIndex(o,w);y.push({symbol:I,assignedList:w,lengthIndex:x}),f=o.Multiply([f,x])}var N=o.Constant(1),F=o.BeginBroadcast([f],{inputListSymbols:y.map(function(e){return e.symbol})}),O=i.childScope(c);i.setSymbol(O,t._index._symbol,F);var _=N;for(T=y.length-1;T>=0;T--){var D=y[T],B=(I=D.symbol,w=D.assignedList,x=D.lengthIndex,void 0);if(1===y.length)B=F;else{var P=o.SyntheticNativeFunction("floor",[o.Divide([o.Subtract([F,N]),_])]);B=o.Add([o.SyntheticNativeFunction("mod",[P,x]),N]),T>0&&(_=o.Multiply([_,x]))}var R=i.getSymbol(O,I);if(void 0!==a[I]||void 0!==R&&o.getInstruction(R).type!==u.LoadArg)throw n.shadowedListComprehensionInput(I);i.setSymbol(O,I,o.ListAccess([w,B]))}for(var k=Object.create(a),M=0,V=y;M<V.length;M++){k[V[M].symbol]=S.FRAME_SENTINEL}var U=C(A(r,k,o,O,d),p),q=o.getInstruction(U);if(!s.hasListType(q.valueType))throw n.listTypeError([s.prettyPrint(q.valueType)]);var H=o.EndBroadcast([F,U]);return o.BroadcastResult(s.listType(q.valueType),[H])}(e,a);case"Piecewise":var Q=function(e,t){return[C(e,t[0]),C(e,t[1]),C(e,t[2])]}(e,a.args),X=g.getInstruction(Q[0]),Y=g.getInstruction(Q[1]),Z=g.getInstruction(Q[2]);if(X.type===u.Constant&&X.valueType===s.Bool&&s.typesMatch(Y.valueType,Z.valueType)){var $=Q[X.value?1:2],ee=g.getInstruction($),te=Y.valueType!==s.EmptyList?Y.valueType:Z.valueType;return ee.valueType===s.EmptyList&&te!==s.EmptyList?g.ConstantOfType(te,[]):$}if(!s.typesMatch(Y.valueType,Z.valueType)&&d.isConstant(Z)&&Z.valueType===s.Number&&o.isNanFloat(Z.value)&&w.isNanableValueType(Y.valueType)){var re=g.NanOfType(Y.valueType);Q=[Q[0],Q[1],re]}return g.Piecewise(Q);case"Ans":case"Identifier":var ne=a._symbol,ie=a._errorSymbol;if("Ans"===a.type&&-1!==g.argNames.indexOf(ne))throw n.ansUndefined();G=i.getSymbol(v,ne);var ae=y[ne];if(void 0!==G){if(v.symbolMap.hasOwnProperty(ne))return G;if(void 0===ae||ae===S.FRAME_SENTINEL)return G}if(void 0===ae){if(r[a._symbol])throw r[a._symbol].isFunction?n.functionUnsupported(ie):n.constantUnsupported(ie);throw new Error("Programming Error: reached undefined symbol "+ne)}if(ae.isError)throw ae;if(ae.isFunction)throw n.identifierAsFunction(ie);var se=C(A(c,y,g,v,void 0),ae);return i.setSymbol(v,ne,se),se;case"FunctionCall":case"SeededFunctionCall":Q=B(e,a.args);return P(e,a._symbol,a._errorSymbol,Q);case"FunctionExponent":return y[tt=a.args[0]._symbol]&&y[tt].isFunction?C(e,t.Exponent([t.FunctionCall(tt,[a.args[1]]),a.args[2]])):C(e,t.Multiply([a.args[0],t.Exponent([a.args[1],a.args[2]])]));case"FunctionFactorial":return y[tt=a.args[0]._symbol]&&y[tt].isFunction?C(e,t.FunctionCall("\\\\factorial",[t.FunctionCall(tt,[a.args[1]])])):C(e,t.Multiply([a.args[0],t.FunctionCall("\\\\factorial",[a.args[1]])]));case"DotAccess":var oe=a.args[0],ue=a.args[1];if(("Identifier"===ue.type||"FunctionCall"===ue.type)&&y[ue._symbol]&&y[ue._symbol].isFunction)return P(e,ne=ue._symbol,ie=ue._errorSymbol,Q=B(e,"Identifier"===ue.type?[oe]:[oe].concat(ue.args)),{dotLHSIndex:Q[0]});if("SeededFunctionCall"===ue.type)return P(e,ne=ue._symbol,ie=ue._errorSymbol,Q=B(e,[ue.seed,oe].concat(ue.args.slice(1))),{dotLHSIndex:Q[1]});throw n.unexpectedSymbol(".");case"Seed":return g.ConstantOfType(s.SeedType,a._stringValue);case"ExtendSeed":return g.ExtendSeed(a.tag,D(e,a.args));case"Integral":var ce=a._differential._symbol,le=i.getSymbol(v,ce);if(void 0!==y[ce]||void 0!==le&&g.getInstruction(le).type!==u.LoadArg)throw n.shadowedIntegrationVariable(ce);(xe=Object.create(y))[ce]=n.badIntegralBoundDependency(ce);var de=C(Ne=A(c,xe,g,i.childScope(v),T),a.args[1]),pe=C(Ne,a.args[2]),ye=g.getInstruction(de),fe=g.getInstruction(pe),ge=g.SymbolicVar(s.Number,ce),ve=i.childScope(v);i.setSymbol(ve,ce,ge);var me=Object.create(y);me[ce]=S.FRAME_SENTINEL;var he=C(A(c,me,g,ve,T),a.args[3]);if(!L.dependsOnInstruction(g,he,ge))return g.Multiply([he,g.Subtract([pe,de])]);var be=de;void 0!==(Ue=void 0!==(Re=l.minListLengthIndex(g,[de,pe,he]))?g.BeginBroadcast([Re]):void 0)&&s.isList(ye.valueType)&&(be=b.deferredOrInboundsAccess(g,de,Ue));var Te=pe;void 0!==Ue&&s.isList(fe.valueType)&&(Te=b.deferredOrInboundsAccess(g,pe,Ue));var Le=g.BeginIntegral({indexSymbol:ce},[be,Te]),Se=h.substitute(g,Le,ge,he),Ie=g.getInstruction(Se);void 0!==Ue&&s.isList(Ie.valueType)&&(Se=b.deferredOrInboundsAccess(g,Se,Ue));var we=g.EndIntegral([Le,Se]),Ae=g.BlockVar(s.Number,[we]);if(void 0!==Ue){var Ee=g.EndBroadcast([Ue,Ae]);return g.BroadcastResult(s.ListOfNumber,[Ee])}return Ae;case"Sum":case"Product":ce=a._index._symbol,le=i.getSymbol(v,ce);if(void 0!==y[ce]||void 0!==le&&g.getInstruction(le).type!==u.LoadArg)throw n.shadowedIndex(ce);var xe,Ce="Sum"===a.type;(xe=Object.create(y))[ce]=Ce?n.badSumBoundDependency(ce):n.badProductBoundDependency(ce);var Ne,Fe=C(Ne=A(c,xe,g,i.childScope(v),T),a.args[1]),Oe=C(Ne,a.args[2]);if(!p.argIsTypeOrListOfType(g,Fe,s.Number)){var _e=p.extractScalarValueTypes(g,[Fe]);throw Ce?n.sumLowerBoundTypeError(_e):n.productLowerBoundTypeError(_e)}if(!p.argIsTypeOrListOfType(g,Oe,s.Number)){_e=p.extractScalarValueTypes(g,[Oe]);throw Ce?n.sumUpperBoundTypeError(_e):n.productUpperBoundTypeError(_e)}de=g.SyntheticNativeFunction("round",[Fe]),pe=g.SyntheticNativeFunction("round",[Oe]),ye=g.getInstruction(de),fe=g.getInstruction(pe);if(ye.type===u.Constant&&ye.valueType===s.Number&&!isFinite(o.asFloat(ye.value)))throw Ce?n.sumInfiniteBoundError():n.productInfiniteBoundError();if(fe.type===u.Constant&&fe.valueType===s.Number&&!isFinite(o.asFloat(fe.value)))throw Ce?n.sumInfiniteBoundError():n.productInfiniteBoundError();var De=g.SymbolicVar(s.Number,ce),Be=i.childScope(v);i.setSymbol(Be,ce,De);var Pe=Object.create(y);Pe[ce]=S.FRAME_SENTINEL;var Re,ke=C(A(c,Pe,g,Be,T),a.args[3]);if(!L.dependsOnInstruction(g,ke,De)){var Me=g.Add([g.Subtract([pe,de]),g.Constant(1)]);Me=g.SyntheticNativeFunction("max",[Me,g.Constant(0)]);var Ve=Ce?g.Multiply([ke,Me]):g.Exponent([ke,Me]);return g.Piecewise([g.Less([Me,g.Constant(1/0)]),Ve,g.Constant(NaN)])}if(!p.argIsTypeOrListOfType(g,ke,s.Number)){_e=p.extractScalarValueTypes(g,[ke]);throw Ce?n.sumArgumentTypeError(_e):n.productArgumentTypeError(_e)}if(void 0!==(Re=l.minListLengthIndex(g,[de,pe,ke]))&&L.dependsOnInstruction(g,Re,De))throw Ce?n.variableLengthSumBodyDependsOnIndex(ce):n.variableLengthProductBodyDependsOnIndex(ce);var Ue;be=de;void 0!==(Ue=void 0!==Re?g.BeginBroadcast([Re]):void 0)&&s.isList(ye.valueType)&&(be=b.deferredOrInboundsAccess(g,de,Ue));Te=pe;null!=Ue&&s.isList(fe.valueType)&&(Te=b.deferredOrInboundsAccess(g,pe,Ue));var qe=g.Constant(Ce?0:1),He=(Le=g.BeginLoop({type:Ce?"sum":"product",indexSymbol:ce},[be,Te,qe]),g.BlockVar(s.Number,[Le])),je=h.substitute(g,Le,De,ke),ze=g.getInstruction(je);void 0!==Ue&&s.isList(ze.valueType)&&(je=b.deferredOrInboundsAccess(g,je,Ue));var We=Ce?g.Add([He,je]):g.Multiply([He,je]),Ge=(we=g.EndLoop([Le,We]),g.BlockVar(s.Number,[we]));if(void 0!==Ue){Ee=g.EndBroadcast([Ue,Ge]);return g.BroadcastResult(s.ListOfNumber,[Ee])}return Ge;case"Derivative":var Ke=C(e,t.Identifier(a._symbol));if(!p.argIsTypeOrListOfType(g,Ke,s.Number))throw n.derivativeVariableTypeError(a._symbol,p.extractScalarValueTypes(g,[Ke]));var Je=void 0,Qe=void 0;if((rt=g.getInstruction(Ke)).type===u.LoadArg&&rt.valueType===s.Number)Je=e,Qe=Ke;else{var Xe=i.childScope(v);Qe=g.SymbolicVar(rt.valueType),i.setSymbol(Xe,a._symbol,Qe);var Ye=Object.create(y);Ye[a._symbol]=S.FRAME_SENTINEL,Je=A(c,Ye,g,Xe,T)}for(var Ze=1;"Derivative"===a.args[0].type&&a.args[0]._symbol===a._symbol;)Ze+=1,a=a.args[0];for(var $e=f.fuseBroadcast(g,C(Je,a.args[0])),et=0;et<Ze;et++)$e=m.takeDerivative(g,$e,Qe);return Qe===Ke?$e:h.substitute(g,Ke,Qe,$e);case"Prime":var tt;if(!y[(tt=a.args[0])._symbol])throw n.functionNotDefined(tt._symbol);var rt;Ke=C(e,tt.args[0]),Qe=void 0;Qe=(rt=g.getInstruction(Ke)).type===u.LoadArg&&rt.valueType===s.Number?Ke:g.SymbolicVar(rt.valueType);Q=void 0;if("logbase"===tt._symbol){if(2!==tt.args.length)throw n.primedFunctionArity();Q=[Qe,C(e,tt.args[1])]}else{if(1!==tt.args.length)throw n.primedFunctionArity();Q=[Qe]}$e=f.fuseBroadcast(g,P(e,tt._symbol,tt._errorSymbol,Q));for(var nt=0;nt<a.order;nt++)$e=m.takeDerivative(g,$e,Qe);return Qe===Ke?$e:h.substitute(g,Ke,Qe,$e);case"Slider":return e.chunk.Constant(a.getConcreteTree(c,y).asCompilerValue());case"Assignment":return C(e,a._expression);case"FunctionDefinition":for(var it=0;it<a._argSymbols.length;it++){if(y[a._argSymbols[it]])throw n.parameterAlreadyDefined(a._argSymbols[it]);if(a._argSymbols[it]===a._symbol)throw n.parameterAlreadyDefined(a._argSymbols[it])}return C(e,a._expression);default:throw new Error("Programming error, unimplemented node type "+a.type)}}(A(g,v,T,E,a),a),!F(a,x)){var R=T.getInstruction(c);R.type===u.BroadcastResult&&R.isConstantBroadcast&&(c=f.fuseBroadcast(T,c))}O(e,a,c=N(e,y,c))}return e.chunk.returnIndex=c,c}function N(e,t,r){var n=e.chunk,i=e.scope;if(r<=t)return r;var a=n.getInstruction(r);return d.isConstant(a)?(n.truncate(Math.max(t,i.maxIndex+1)),T.copyInstruction(n,a)):r}function F(e,t){if(!t)return!1;if(!e.getScope||!t.getScope)return!1;var n=t.getScope().dependencies,i=e.getScope().dependencies;if(i.length===n.length)return!0;for(var a=0,s=0,o=i;s<o.length;s++){var u=o[s];r[u]||(a+=1)}for(var c=0,l=0,d=n;l<d.length;l++){u=d[l];r[u]||(c+=1)}return a===c}function O(e,t,r){var n=e.frame,i=e.chunk,a=e.parentNode,s=i.getInstruction(r);if(d.isConstant(s)&&!F(t,a)){var o=S.getCacheKeys(n,t);o&&(I.markCacheWrite(),t.__IRCache={keys:o,instruction:s})}}function _(e,t){if(!t.__IRCache)return!1;for(var r=0,n=t.__IRCache.keys;r<n.length;r++){var i=n[r],a=i[0],s=i[1];if(e[a]!==s)return!1}return!0}function D(e,t){return[C(e,t[0]),C(e,t[1])]}function B(e,t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];r.push(C(e,a))}return r}function P(e,a,m,h,b){var T=e.policy,L=e.frame,I=e.chunk,w=e.scope,E=e.parentNode,x=i.getSymbol(w,a);if(void 0!==x){if(1==h.length)return I.Multiply([x,h[0]]);throw I.getInstruction(x).type===u.LoadArg?n.functionNotDefined(m):I.getInstruction(x).valueType===s.Distribution?n.distributionAsFunction(m):n.variableAsFunction(m)}var N=L[a];if(N&&N.isError)throw N;if(void 0===N||!N.isFunction){if(r[a]&&r[a].isFunction){if("logbase"===a&&L.ln&&L.log)throw n.logbaseUnsupported();throw n.functionUnsupported(m)}if(N){var F=C(e,N);if(I.getInstruction(F).valueType===s.Distribution)throw n.distributionAsFunction(m)}if(1==h.length)return I.Multiply([C(e,t.Identifier(a)),h[0]]);throw N?n.variableAsFunction(m):new Error("Programming Error: reached undefined symbol "+a)}if("FunctionDefinition"===N.type){if(b&&void 0!==b.dotLHSIndex)throw n.illegalDotCall(m);if(h.length!==N._argSymbols.length)throw n.wrongArity(m,N._argSymbols.length,h.length);for(var O=i.childScope(w),_=Object.create(L),D=0;D<N._argSymbols.length;D++)i.setSymbol(O,N._argSymbols[D],h[D]),_[N._argSymbols[D]]=S.FRAME_SENTINEL;return C(A(T,_,I,O,E),N._expression)}if(c.CompilerFunctionTable.hasOwnProperty(a))return function(e,t,r,i,a){var m=e.chunk,h=!(!a||void 0===a.dotLHSIndex),b=c.CompilerFunctionTable[t];if(b.fallthroughUnlessDistribution&&(0===i.length||m.getInstruction(i[0]).valueType===s.EmptyList||!s.isTypeOrListOfType(m.getInstruction(i[0]).valueType,s.Distribution)))return k(e,t,r,i,a);var T=b.minArity,L=b.maxArity,S=b.allowDotCall;if(a&&void 0!==a.dotLHSIndex){if(!S)throw n.illegalDotCall(r);R(m,a.dotLHSIndex,"."+r)}var I,w=i.length;if(w<T)throw function(e,t,r,i,a){var s=a.isDotCall;s&&(r-=1,i-=1,t="."+t);var o=c.CompilerFunctionTable[e];o.isSeeded&&(r-=1,i-=1);var u=void 0;s&&o.dotMinArityExampleArgs?u=t+o.dotMinArityExampleArgs:o.minArityExampleArgs&&(u=t+o.minArityExampleArgs);switch(e){case"pdf":return s?n.wrongArity(t,r,i,u):n.pdfWrongArity();case"cdf":return s?n.wrongArity(t,r,i,u):n.cdfRequiresArguments();case"tdist":return n.tdistWrongArity();case"random":return n.randomArity();case"round":case"midpoint":case"normaldist":case"poissondist":case"binomialdist":case"uniformdist":case"mean":case"median":case"stdev":case"var":case"quantile":case"sort":case"shuffle":case"join":case"unique":case"polygon":return n.wrongArity(t,r,i,u);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw n.parseError();default:throw new Error("Unexpected compiler function "+e)}}(t,r,T,w,{isDotCall:h});if(w>L)throw function(e,t,r,i,a){var s=a.isDotCall;s&&(r-=1,i-=1,t="."+t);var o=c.CompilerFunctionTable[e];o.isSeeded&&(r-=1,i-=1);var u=void 0;s&&o.dotMaxArityExampleArgs?u=t+o.dotMaxArityExampleArgs:o.maxArityExampleArgs&&(u=t+o.maxArityExampleArgs);switch(e){case"pdf":return s?n.wrongArity(t,r,i,u):n.pdfWrongArity();case"cdf":return s?n.wrongArity(t,r,i,u):n.cdfTooManyArguments();case"tdist":return n.tdistWrongArity();case"random":return n.randomArity();case"round":case"midpoint":case"normaldist":case"poissondist":case"binomialdist":case"uniformdist":case"mean":case"median":case"stdev":case"var":case"quantile":case"sort":case"shuffle":case"join":case"unique":case"polygon":return n.wrongArity(t,r,i,u);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw n.parseError();default:throw new Error("Unexpected compiler function "+e)}}(t,r,L,w,{isDotCall:h});if("cdf"===t)I=2===w?[i[0],m.Constant(-1/0),i[1]]:i;else if("random"===t)if(1===w||w<4&&!s.isList(m.getInstruction(i[1]).valueType)&&m.getInstruction(i[1]).valueType!==s.Distribution){var A=m.Distribution("uniformdist",[m.Constant(0),m.Constant(1)]);I=[i[0],A].concat(i.slice(1))}else I=i;else I=M(m,i,b);switch(t){case"round":if(1===I.length)return m.SyntheticNativeFunction("round",I);if(!p.argIsTypeOrListOfType(m,I[0],s.Number)||!p.argIsTypeOrListOfType(m,I[1],s.Number))throw n.functionTypeError(r,p.extractScalarValueTypes(m,I));var E=m.SyntheticNativeFunction("round",[I[1]]),x=m.RawExponent([m.Constant(10),E]);return m.Divide([m.SyntheticNativeFunction("round",[m.Multiply([I[0],x])]),x]);case"midpoint":if(!p.argIsTypeOrListOfType(m,I[0],s.Point)||!p.argIsTypeOrListOfType(m,I[1],s.Point))throw n.functionTypeError(r,p.extractScalarValueTypes(m,I));var C=m.Constant(o.maybeRational(1,2));return m.Multiply([C,m.Add(I)]);case"normaldist":case"tdist":case"poissondist":case"binomialdist":case"uniformdist":for(var N=0,F=I;N<F.length;N++){var O=F[N];if(!p.argIsTypeOrListOfType(m,O,s.Number))throw n.functionTypeError(r,p.extractScalarValueTypes(m,i))}return m.Distribution(t,I);case"pdf":case"cdf":case"mean":case"median":case"stdev":case"var":case"quantile":var _=I[0],D=m.getInstruction(_);if(!s.isTypeOrListOfType(D.valueType,s.Distribution))throw n.functionTypeError(r,p.extractScalarValueTypes(m,i));for(var B=I.slice(1),P=0,V=B;P<V.length;P++){O=V[P];if(!s.isTypeOrListOfType(m.getInstruction(O).valueType,s.Number))throw n.functionTypeError(r,p.extractScalarValueTypes(m,i))}if(s.isList(D.valueType)){for(var U=[],H=1/0,j=0,z=I;j<z.length;j++){O=z[j];var W=f.fuseBroadcast(m,O);U.push(W);var G=m.getInstruction(W);if(s.isList(G.valueType)){if(void 0===(se=l.getConstantListLength(m,W)))throw n.variableLengthDistributionList(g.findDependencySymbols(m,W));H=Math.min(H,se)}}for(var K=[],J=0;J<H;J++){var Q=v.elementAt(m,U[0],J),X=m.getInstruction(Q);if(X.type!==u.Distribution)throw n.parseError();for(var Y=[],Z=0,$=U.slice(1);Z<$.length;Z++){O=$[Z];s.isList(m.getInstruction(O).valueType)?Y.push(v.elementAt(m,O,J)):Y.push(O)}K.push(y.DistributionTable[X.symbol][t](m,Q,Y))}return m.List(K)}if(D.type!==u.Distribution)throw n.parseError();return y.DistributionTable[D.symbol][t](m,_,B);case"random":var ee=I[0],te=(_=I[1],m.getInstruction(I[0]));D=m.getInstruction(_);if(te.valueType!==s.SeedType)throw n.parseError();if(D.valueType===s.ListOfDistribution)throw n.randomFromBroadcastDistribution();var re=void 0;if(s.isList(D.valueType))re=y.randomSampleFromList;else{if(D.valueType!==s.Distribution)throw n.randomArity();if(D.type!==u.Distribution)throw n.parseError();re=y.DistributionTable[D.symbol][t]}if(I.length>2){var ne=I[2];if(m.getInstruction(ne).valueType!==s.Number)throw n.randomArity();if(4===I.length){var ie=m.getInstruction(I[3]);if(ie.valueType!==s.Number)throw n.randomArity();if(!d.isConstant(ie))throw n.variableSeed(g.findDependencySymbols(m,I[3]));ee=m.ExtendSeed("us",[ee,I[3]])}var ae=m.Constant(1),se=m.SyntheticNativeFunction("round",[m.SyntheticNativeFunction("validateSampleCount",[ne])]),oe=m.BeginBroadcast([se]);ee=m.ExtendSeed("lc",[ee,m.Subtract([oe,ae])]);var ue=re(m,_,[ee]),ce=m.EndBroadcast([oe,ue]);return m.BroadcastResult(s.listType(m.getInstruction(ue).valueType),[ce])}return re(m,_,[ee]);case"shuffle":ee=I[0];var le=I[1],de=I[2];if(!s.isList(m.getInstruction(le).valueType)||void 0!==de&&m.getInstruction(de).valueType!==s.Number)throw n.functionTypeError(r,p.extractValueTypes(m,i.slice(1)));if(void 0!==de){if(!d.isConstant(m.getInstruction(de)))throw n.variableSeed(g.findDependencySymbols(m,de));ee=m.ExtendSeed("us",[ee,de])}return m.SyntheticNativeFunction("shuffle",[ee,le]);case"sort":var pe=2===I.length?I[1]:I[0],ye=m.getInstruction(pe);if(!s.isList(m.getInstruction(I[0]).valueType)||ye.valueType!==s.ListOfNumber&&ye.valueType!==s.EmptyList)throw n.functionTypeError(r,p.extractValueTypes(m,i));if(0===l.getConstantListLength(m,pe))return pe;var fe=m.SyntheticNativeFunction("min",[l.listLengthIndex(m,I[0]),l.listLengthIndex(m,pe)]);return pe=m.ListAccess([pe,q(e,m.List([m.Constant(1)]),m.List([fe]),{stepMustBePositive:!0})]),m.SyntheticNativeFunction("elementsAt",[I[0],m.SyntheticNativeFunction("sortPerm",[pe])]);case"join":for(var ge=[],ve=!0,me=0,he=I;me<he.length;me++){O=he[me];var be=m.getInstruction(O);d.isConstantOrConstantBroadcast(be)||(ve=!1);var Te=be.valueType;if(Te!==s.EmptyList)if(s.isList(Te))ge.push({isList:!0,index:O,elementType:s.elementType(Te)});else{if(!s.hasListType(Te))throw n.functionTypeError(r,p.extractValueTypes(m,i));ge.push({isList:!1,index:O,elementType:Te})}}if(0===ge.length)return m.ConstantOfType(s.EmptyList,[]);for(var Le=0,Se=ge;Le<Se.length;Le++){if((Ee=Se[Le]).elementType!==ge[0].elementType)throw n.functionTypeError(r,p.extractValueTypes(m,i))}if(ve){for(var Ie=[],we=0,Ae=ge;we<Ae.length;we++){var Ee=Ae[we],xe=m.getInstruction(f.fuseBroadcast(m,Ee.index));d.assertConstant(xe),Ee.isList?Ie.push.apply(Ie,xe.value):Ie.push(xe.value)}return m.ConstantOfType(s.listType(ge[0].elementType),Ie)}for(var Ce=m.Constant(0),Ne=m.Constant(1),Fe={},Oe=0,_e=ge;Oe<_e.length;Oe++){(Ee=_e[Oe]).isList&&void 0===Fe[Ee.index]&&(Fe[Ee.index]=l.listLengthIndex(m,Ee.index))}for(var De=m.SyntheticNativeFunction("total",ge.map(function(e){return e.isList?Fe[e.index]:Ne})),Be=(oe=m.BeginBroadcast([De]),Ce),Pe=[],Re=[],ke=0,Me=ge;ke<Me.length;ke++){var Ve=(Ee=Me[ke]).isList?m.ListAccess([Ee.index,m.Subtract([oe,Be])]):Ee.index;if(Re.push(Ve),Ee!==ge[ge.length-1]){se=Ee.isList?Fe[Ee.index]:Ne;Be=m.Add([Be,se]),Pe.push(m.LessEqual([oe,Be]))}}var Ue=Re[Re.length-1];for(J=Re.length-2;J>=0;J--)Ue=m.Piecewise([Pe[J],Re[J],Ue]);ce=m.EndBroadcast([oe,Ue]);return m.BroadcastResult(s.listType(ge[0].elementType),[ce]);case"unique":var qe=I[0],He=m.getInstruction(qe);if(!s.isList(He.valueType)||He.valueType===s.ListOfDistribution)throw n.functionTypeError("unique",[s.prettyPrint(He.valueType)]);return m.SyntheticNativeFunction("elementsAt",[qe,m.SyntheticNativeFunction("uniquePerm",[qe])]);case"polygon":var je=void 0,ze=I.map(function(e){return m.getInstruction(e)});if(1===ze.length){if((He=ze[0]).valueType!==s.ListOfPoint)throw n.polygonListTypeError([s.prettyPrint(He.valueType)]);je=I[0]}else if(2===ze.length&&s.isTypeOrListOfType(ze[0].valueType,s.Number)&&s.isTypeOrListOfType(ze[1].valueType,s.Number)){if(ze[0].valueType===s.Number&&ze[1].valueType===s.Number)throw n.polygonTwoNumbersError();je=m.OrderedPair(I)}else{if(!ze.every(function(e){return e.valueType===s.Point}))throw n.polygonPointArgsError();je=m.List(I)}return m.SyntheticNativeFunction("polygon",[je]);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw n.unexpectedSymbol(r);default:throw new Error("Programming Error: unexpected compiler function "+t)}}(e,a,m,h,b);if(c.BuiltInTable.hasOwnProperty(a))return k(e,a,m,h,b);throw n.functionUnsupported(m)}function R(e,t,r){var i=e.getInstruction(t).valueType;if(!s.isList(i)&&i!==s.Distribution)throw n.dotLHSTypeError(r,s.prettyPrint(i))}function k(e,r,i,a,s){var o=e.chunk,u=c.BuiltInTable[r],l=!(!s||void 0===s.dotLHSIndex),d=a.length,p=u.minArity,y=u.maxArity,f=u.allowDotCall;if(s&&void 0!==s.dotLHSIndex){if(!f)throw n.illegalDotCall(i);R(o,s.dotLHSIndex,"."+i)}if("logbase"===r&&2!==d)throw n.wrongArity(i,1,d-1);if(d>y)throw l&&(p-=1,y-=1,d-=1,i="."+i),"doubleReducer"===u.tag?n.wrongDoubleReducerArity(i):"parameterizedReducer"===u.tag?n.wrongParameterizedReducerArity(i):"color"===u.tag?n.colorArity(i):n.wrongArity(i,y,d);if(d<p)throw l&&(p-=1,y-=1,d-=1,i="."+i),"reducer"===u.tag&&0===d?n.zeroArgReducer(i):"doubleReducer"===u.tag?n.wrongDoubleReducerArity(i):"parameterizedReducer"===u.tag?n.wrongParameterizedReducerArity(i):"color"===u.tag?n.colorArity(i):n.wrongArity(i,p,d);var g=M(o,a,u),v={errorSymbol:i,providedArity:d,isDotCall:l};switch(u.tag){case"default":case"reducer":case"doubleReducer":case"parameterizedReducer":case"color":case"never-broadcast":return o.NativeFunction(r,v,g);case"trig":var m=C(e,t.Identifier("trigAngleMultiplier")),h=o.Multiply([g[0],m]);return o.NativeFunction(r,v,[h]);case"inverseTrig":m=C(e,t.Identifier("trigAngleMultiplier"));var b=o.NativeFunction(r,v,g);return o.Divide([b,m]);default:var T=u.tag;throw new Error("Programming Error: unexpected tag "+T)}}function M(e,t,r){var n=r.minArity,i=r.defaultArguments;if(!i)return t;if(!(t.length-n<i.length))return t;for(var a=t.slice();a.length-n<i.length;)a.push(e.copyInstruction(i[a.length-n]));return a}function V(e,t){for(var r=e.chunk,i=[],a=[],s=0,o=t;s<o.length;s++){var c=o[s],l=r.getInstruction(c);switch(l.type){case u.Action:Array.prototype.push.apply(i,l.symbols),Array.prototype.push.apply(a,l.args);break;case u.Constant:var d=l.value.updateRules;for(var p in d)i.push(p),a.push(r.ConstantOfType(d[p].valueType,d[p].value));break;default:var y=g.findDependencySymbols(r,c);throw y.length>0?n.actionMergeFreeVariable(y):n.parseError()}}return r.Action(i,a)}function U(e,t){var r=e.frame[t];return e.policy.assignmentForbidden(t)?n.updateRuleIllegalLHS(t):r===S.FRAME_SENTINEL?n.updateRuleLocalLHS(t):r&&"FunctionDefinition"===r.type?n.updateRuleFunctionLHS(t):n.updateRuleUndefinedLHS(t).allowExport()}function q(e,t,r,i){var a,o=i.stepMustBePositive,u=e.chunk,c=u.getInstruction(t),d=u.getInstruction(r),p=l.assertConstantListLength(u,t,"Programming error: expected range start list to have constant length."),y=l.assertConstantListLength(u,r,"Programming error: expected range start list to have constant length.");if(c.valueType!==s.ListOfNumber||d.valueType!==s.ListOfNumber)throw n.nonArithmeticRange();var f=u.Constant(1),g=u.Constant(0),v=u.ListAccess([t,f]),m=u.ListAccess([t,u.Constant(2)]),h=u.ListAccess([r,u.Constant(y)]),b=u.Subtract([h,v]),T=p>1?u.Subtract([m,v]):u.Piecewise([u.GreaterEqual([b,g]),f,u.Constant(-1)]),L=u.Add([f,u.SyntheticNativeFunction("round",[u.Divide([b,T])])]),S=u.SyntheticNativeFunction("validateRangeLength",[t,r,T,L]);o&&(S=u.Piecewise([u.GreaterEqual([T,g]),S,g]));var I=u.BeginBroadcast([S]),w=u.Add([v,u.Multiply([T,u.Subtract([I,f])])]),A=u.EndBroadcast([I,w]);return u.addComments(((a={})[v]="start",a[m]="second",a[h]="last",a[L]="proposedLength",a[T]="step",a[w]="body",a)),u.BroadcastResult(s.listType(u.getInstruction(w).valueType),[A])}Object.defineProperty(e,"__esModule",{value:!0}),e.isCacheValid=e.maybeCacheIR=e.hasSameUserDependenciesAsParent=e.maybeDropIntermediates=e.addToIR=e.checkForUndefinedUpdateSymbols=e.buildIR=e.buildIRContext=e.Ctx=void 0,e.Ctx=A,e.buildIRContext=E,e.buildIR=function(e,t){var r=e.policy,n=e.frame,i=e.argNames,a=e.argTypes,o=S.analyzeDependencies(n,t),u=o.freeDependencies,c=o.updateSymbols;if(i||(i=u),!a){a=[];for(var l=0;l<i.length;l++)a.push(s.Number)}var d=E({policy:r,frame:n,argNames:i,argTypes:a});return C(d,t),e.wrapInList&&!s.isList(d.chunk.getReturnType())&&d.chunk.List([d.chunk.returnIndex]),d.chunk.close(),x(d,t,c),d.chunk},e.checkForUndefinedUpdateSymbols=x,e.addToIR=C,e.maybeDropIntermediates=N,e.hasSameUserDependenciesAsParent=F,e.maybeCacheIR=O,e.isCacheValid=_});\ndefine(\'core/math/features/buildIRExpression\',[\'require\',\'core/math/ir/build-ir\',\'core/math/parsenode/base\',\'core/math/parsenode/irexpression\',\'core/math/errormsg\',\'core/math/parsenode/error\'],function(require){"use strict";var r=require("core/math/ir/build-ir").buildIR,e=require("core/math/parsenode/base"),t=require("core/math/parsenode/irexpression"),o=require("core/math/errormsg"),i=require("core/math/parsenode/error");e.prototype.buildIRExpression=function(i,n,s){try{var a=r({policy:i,frame:n,wrapInList:s&&s.wrapInList},this);return new t(a)}catch(r){return r instanceof e?r:o.parseError()}},i.prototype.buildIRExpression=function(){return this}});\ndefine(\'core/math/features/typeCheck\',[\'require\',\'parsenodes\',\'core/math/types\',\'core/math/errormsg\'],function(require){"use strict";var t=require("parsenodes"),e=require("core/math/types"),i=require("core/math/errormsg"),o=e.isOneOf;function s(t){for(var i=[],o=0;o<t.length;o++)i.push(e.prettyPrint(t[o].valueType));return i}function r(t,s){var r=s.length,h=s[0];if(r<2)throw i.methodRequiresList(this._symbol);if(!o(h.valueType,[e.ListOfNumber,e.EmptyList]))throw i.methodRequiresList(this._symbol);if(r>2)throw i.tooManyArguments(this._symbol,2)}var h={Object3D:function(t,e){if(e.length<3)throw i.wrongArity(this._symbol,3,e.length)},Histogram:r,DotPlot:r,BoxPlot:function(t,s){var r=s.length,h=s[0];if(0===r)throw i.methodRequiresList(this._symbol);if(!o(h.valueType,[e.ListOfNumber,e.EmptyList]))throw i.methodRequiresList(this._symbol);if(r>1)throw i.methodRequiresList(this._symbol)},TTest:function(t,o){var r=this._symbol;if(0===o.length)throw i.methodRequiresList(r);if(o[0].valueType===e.EmptyList)throw i.ttestListTooShort(r);if(o[0].valueType!==e.ListOfNumber)throw i.methodRequiresList(r);if(o.length>2)throw i.tooManyArguments(r,2);if(o[0].length<2)throw i.ttestListTooShort(r);if(o[1]&&o[1].valueType!==e.Number)throw i.functionTypeError(r,s(o))},IndependentTTest:function(t,o){var r=this._symbol;if(2!==o.length)throw i.wrongDoubleReducerArity(r);if(!e.isList(o[0].valueType)||!e.isList(o[1].valueType))throw i.nonListDoubleReducer(r);if(o[0].valueType===e.EmptyList||o[1].valueType===e.EmptyList)throw i.ttestListTooShort("ittest");if(o[0].valueType!==e.ListOfNumber||o[1].valueType!==e.ListOfNumber)throw i.functionTypeError(r,s(o));if(o[0].length<2||o[1].length<2)throw i.ttestListTooShort("ittest")},Stats:function(t,o){var r=o.length,h=o[0];if(0===r)throw i.methodRequiresList(this._symbol);if(h.valueType===e.EmptyList)throw i.functionTypeError(this._symbol,s(o));if(h.valueType!==e.ListOfNumber)throw i.methodRequiresList(this._symbol);if(r>1)throw i.methodRequiresList(this._symbol)}};for(var n in h)t[n].prototype.typeCheck=h[n]});\ndefine(\'core/math/features/repr\',[\'require\',\'parsenodes\'],function(require){"use strict";var r=require("parsenodes"),t=function(r,t,e){e=e||0;var i=Array(e+1).join("  "),n=i+"  ";return"[\\n"+n+r.map(function(r){return r.repr(t,e+1)}).join(",\\n"+n)+"\\n"+i+"]"},e=function(r,t){return""+(t=t||"")+r};r.Expression.prototype.repr=function(r,i){return e(this.type,r)+"("+t(this.args,r,i)+")"},r.IRExpression.prototype.repr=function(r,t){t=t||0;var i=Array(t+1).join("  "),n=i+"  ",s=this._chunk.print().split("\\n");return s.pop(),e(this.type,r)+"(`\\n"+n+s.join("\\n"+n)+"\\n"+i+"`)"},r.DoubleInequality.prototype.repr=function(r,t){t=t||0;var i=Array(t+1).join("  "),n=i+"  ";return e(this.type,r)+"([\\n"+n+this.args[0].repr(r,t+1)+",\\n"+n+"\'"+this.args[1]+"\',\\n"+n+this.args[2].repr(r,t+1)+",\\n"+n+"\'"+this.args[3]+"\',\\n"+n+this.args[4].repr(r,t+1)+"\\n"+i+"])"},r.Identifier.prototype.repr=function(r){return e(this.type,r)+"(\'"+this._symbol+"\')"},r.Constant.prototype.repr=function(r){return e(this.type,r)+"("+this.asValue()+")"},r.ExtendSeed.prototype.repr=function(r,i){return e(this.type,r)+"(\'"+this.tag+"\', "+t(this.args,r,i)+")"},r.Seed.prototype.repr=function(r){return e(this.type,r)+"("+this.asValue()+")"},r.FunctionCall.prototype.repr=function(r,i){return e(this.type,r)+"(\'"+this._symbol+"\', "+t(this.args,r,i)+")"},r.Assignment.prototype.repr=function(t,i){return e(this.type,t)+"("+r.Identifier(this._symbol).repr(t,i)+", "+this._expression.repr(t,i)+")"},r.Regression.prototype.repr=r.Equation.prototype.repr=function(r,t){return e(this.type,r)+"("+this._lhs.repr(r,t)+", "+this._rhs.repr(r,t)+")"},r.FunctionDefinition.prototype.repr=function(i,n){return e(this.type,i)+"("+r.Identifier(this._symbol).repr(i,n)+", "+t(this._argSymbols.map(function(t){return r.Identifier(t)}),i,n)+", "+this._expression.repr(i,n)+")"},r.Error.prototype.repr=function(r,t){return e(this.type,r)+"(\'"+this._msg+"\')"},r.Derivative.prototype.repr=function(r,i){return e(this.type,r)+"(\'"+this._symbol+"\', "+t(this.args,r,i)+")"},r.SolvedEquation.prototype.repr=function(r,t){return e(this.type,r)+"(\'"+this._symbol+"\', "+this._expression.repr(r,t)+")"},r.OptimizedRegression.prototype.repr=function(r,t){return e(this.type,r)+"("+JSON.stringify(this.parameters)+", "+JSON.stringify(this.residuals)+", "+JSON.stringify(this.statistics)+", "+this.model.repr(r,t+1)+", "+JSON.stringify({isModelValid:this.isModelValid,residualVariable:this.residualVariable,residualSuggestionId:this.residualSuggestionId,shouldSuggestLogMode:this.shouldSuggestLogMode,isLinear:this.isLinear,parameterWarning:this.parameterWarning})+")"},r.Table.prototype.repr=function(r,i){return e(this.type,r)+"("+t(this.columns,r,i)+")"},r.TableColumn.prototype.repr=function(r,i){return e(this.type,r)+"("+this.header.repr(r,i)+", "+this.length+", "+t(this.values,r,i)+")"},r.Image.prototype.repr=function(r,t){var i=Array(t+1).join("  "),n=i+"  ";return e(this.type,r)+"({\\n"+n+"center: "+this.center.repr(r,t+1)+",\\n"+n+"radianAngle: "+this.radianAngle.repr(r,t+1)+",\\n"+n+"width: "+this.width.repr(r,t+1)+",\\n"+n+"height: "+this.height.repr(r,t+1)+"},\\n"+n+"opacity: "+this.opacity.repr(r,t+1)+",\\n"+n+JSON.stringify(this.moveStrategy)+"\\n"+i+"})"},r.Ticker.prototype.repr=function(r,t){var i=Array(t+1).join("  "),n=i+"  ";return e(this.type,r)+"({\\n"+n+"handler: "+this.handler.repr(r,t+1)+",\\n"+n+"minStep: "+this.minStep.repr(r,t+1)+"\\n"+i+"})"},r.Slider.prototype.repr=function(r,t){var i=Array(t+1).join("  "),n=i+"  ";return e(this.type,r)+"({\\n"+n+"sliderAssignment: "+this.sliderAssignment.repr(r,t+1)+",\\n"+n+"sliderMin: "+(this.sliderMin&&this.sliderMin.repr(r,t+1))+",\\n"+n+"sliderMax: "+(this.sliderMax&&this.sliderMax.repr(r,t+1))+",\\n"+n+"sliderStep: "+(this.sliderStep&&this.sliderStep.repr(r,t+1))+"},\\n"+i+")"}});\ndefine(\'core/math/features/substitute\',[\'require\',\'parsenodes\'],function(require){"use strict";var t=require("parsenodes"),i=function(t,i){return t.map(function(t){return t.substitute(i)})},r={Identifier:function(t){return t[this._symbol]?t[this._symbol]:this},FunctionCall:function(r){var n=r[this._symbol];if(n){if("Identifier"===n.type)return t.FunctionCall(n,i(this.args,r));if("Constant"===n.type)return t.Multiply([n,1===this.args.length?this.args[0].substitute(r):t.Constant(NaN)])}return t.Expression.prototype.substitute.call(this,r)},Constant:function(t){return this},Expression:function(t){return this.copyWithArgs(i(this.args,t))},Derivative:function(r){var n=r[this._symbol];if(n){if("Identifier"===n.type)return t.Derivative(n,i(this.args,r));throw new Error("Cannot substitute for a derivative variable with a non-Identifier")}return t.Derivative(this._symbol,i(this.args,r))}};for(var n in r)t[n].prototype.substitute=r[n]});\ndefine(\'core/math/features/simpleFunctionExpression\',[\'require\',\'parsenodes\'],function(require){"use strict";var n=require("parsenodes");n.Expression.prototype.simpleFunctionExpression=function(){return this},n.Assignment.prototype.simpleFunctionExpression=function(){return this._expression},n.FunctionDefinition.prototype.simpleFunctionExpression=function(){return this._expression},n.Equation.prototype.simpleFunctionExpression=function(){return this.asComparator().simpleFunctionExpression()}});\ndefine(\'core/types/graphmode\',["require","exports"],function(require,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.POLYGON=O.ERROR=O.PARAMETRIC_CURVE_3D=O.Z_3D=O.OBJECT3D=O.VISUALIZATION=O.NONE=O.IMPLICIT=O.POLYGONFILL=O.POLAR=O.PARAMETRIC=O.XYPOINT_MOVABLE=O.XYPOINT=O.Y=O.X=void 0,O.X=1,O.Y=2,O.XYPOINT=3,O.XYPOINT_MOVABLE=4,O.PARAMETRIC=5,O.POLAR=6,O.POLYGONFILL=7,O.IMPLICIT=8,O.NONE=10,O.VISUALIZATION=11,O.OBJECT3D=12,O.Z_3D=13,O.PARAMETRIC_CURVE_3D=14,O.ERROR=15,O.POLYGON=16});\ndefine(\'core/math/distribution-spec\',["require","exports","core/math/baseparser","tslib"],function(require,t,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionSpecFromTree=t.parseToplevelFunction=t.DistributionParameterDefaultsMap=void 0,t.DistributionParameterDefaultsMap={normaldist:{type:"distribution",symbol:"normaldist",params:["mean","stdev"],defaults:["0","1"],discrete:!1},tdist:{type:"distribution",symbol:"tdist",params:["dof"],defaults:[void 0],discrete:!1},binomialdist:{type:"distribution",symbol:"binomialdist",params:["trials","probsuccess"],defaults:[void 0,"0.5"],discrete:!0},poissondist:{type:"distribution",symbol:"poissondist",params:["mean"],defaults:[void 0],discrete:!0},uniformdist:{type:"distribution",symbol:"uniformdist",params:["min","max"],defaults:["0","1"],discrete:!1}};var e={Histogram:{type:"visualization",symbol:"histogram",params:["data","binwidth"],defaults:[void 0,"1"]},DotPlot:{type:"visualization",symbol:"dotplot",params:["data","binwidth"],defaults:[void 0,"1"]},BoxPlot:{type:"visualization",symbol:"boxplot",params:["data"],defaults:[void 0]}};function a(i){var a=i,o=e[a.type];if(!o)switch("Assignment"===a.type&&(a=a._expression),a.type){case"FunctionCall":o=t.DistributionParameterDefaultsMap[a._symbol];break;default:return}if(o){for(var r={},n=o.params,d=a.args,l=0;l<n.length;l++){var u=d[l];r[n[l]]=u&&u.getInputString()||""}return s.__assign(s.__assign({},o),{span:a.getInputSpan(),values:r})}}t.parseToplevelFunction=function(t){return a(i.parse(t,{trailingComma:!0}))},t.getFunctionSpecFromTree=a});\ndefine(\'core/lib/number-to-latex\',["require","exports"],function(require,e){"use strict";function r(e){var r=e+"";if(/\\d+\\.?\\d*e[\\+\\-]*\\d+/i.test(r)){var t=String(r).toLowerCase().split("e"),n=parseFloat(t[0]),i=parseInt(t[1],10),a=Math.abs(i),o=Math.abs(n).toString().split(".");if(i<0)r="0."+new Array(a).join("0")+o.join("");else{var f=o[1];f&&(a-=f.length),r=o.join("")+new Array(a+1).join("0")}n<0&&(r="-"+r)}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.numberToStatsConfidenceLatex=e.numberToDecimalString=void 0,e.default=function(e){if("string"==typeof e)return e;if(void 0===e)return"";if(isNaN(e))return"\\\\frac{0}{0}";if(e===1/0)return"\\\\infty";if(e===-1/0)return"-\\\\infty";var r=e+"";return r=(r=r.replace(/^1e\\+?([-\\d]+)/,"10^{$1}")).replace(/([-\\d\\.]+)e\\+?([-\\d]+)/,"$1\\\\cdot 10^{$2}")},e.numberToDecimalString=r,e.numberToStatsConfidenceLatex=function(e,t){void 0===t&&(t=2);var n,i=r(e),a=i.indexOf(".");if(-1===a)return i;for(var o=a+1;o<i.length;o++)if(n){if(i[o]!==n)break}else{if("0"!==i[o]&&"9"!==i[o])break;n=i[o]}return i.substr(0,Math.max(a+5,o+t))}});\ndefine(\'core/math/ir/features/value-to-latex\',["require","exports","core/math/types","../../../lib/number-to-latex"],function(require,e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.valueToLatex=void 0,e.valueToLatex=function e(a,i){if(t.isList(a)){for(var u=[],n=0;n<i.length;n++)u.push(e(t.elementType(a),i[n]));return"\\\\left["+u.join(",")+"\\\\right]"}switch(a){case t.Number:return r.default(i);case t.Point:var o=i,l=o[0],f=o[1];return"\\\\left("+r.default(l)+","+r.default(f)+"\\\\right)";default:throw new Error("Cannot serialize a value of type "+t.prettyPrint(a)+".")}}});\ndefine(\'core/math/ir/features/action-to-latex\',["require","exports","../../../lib/label","./value-to-latex"],function(require,e,t,a){"use strict";function o(e,o){var i=e.updateRules[o],r=i.valueType,u=i.value;return t.identifierToLatex(o)+"="+a.valueToLatex(r,u)}Object.defineProperty(e,"__esModule",{value:!0}),e.actionLatexForSymbol=e.actionToLatex=void 0,e.actionToLatex=function(e){var t={};for(var a in e.updateRules)t[a]=o(e,a);return t},e.actionLatexForSymbol=o});\ndefine(\'core/math/evaluationstate\',["require","exports","core/vendor/d3-color","parsenodes","tslib","core/math/errormsg","core/types/graphmode","core/lib/label","core/math/distribution-spec","./types","./ir/features/action-to-latex"],function(require,e,r,i,a,t,n,s,o,l,u){"use strict";function d(e){return e.isError?e.getError():void 0===e.asValue()?"":+e.asValue()}function c(){return{operator:"=",variables:[]}}function p(e,r,i){var a=e.variables;if(a&&a.length){for(var t={},n=0,s=a;n<s.length;n++){t[o=s[n]]=!0}for(var o in i)t[o]=!0;i=t}e.variables=r.sliderVariables(Object.keys(i))}function g(e,r){if(r.blocksExport)return!1;var i=r.getDependencies();if(0===i.length)return!1;for(var a=0,t=i;a<t.length;a++){var n=t[a];if(!e.validActionVariable(n))return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.isErrorExportableActionDefinition=e.addSliderPrompts=e.EvaluationState=e.defaultEvaluationState=void 0,e.defaultEvaluationState=c,e.EvaluationState=function(e,c,v){if(c.isTable)return function(e,r,i){for(var a=[],t=0;t<r.columns.length;t++){var n=i.columns[t],s=n.isError?[]:n.values.map(d),o={dependent:!n.isIndependent,discrete:!!n.isIndependent,values:s};n.isError&&(o.error=n.getError()),a.push(o)}return{column_data:a}}(0,c,v);if(c.isImage)return function(e,r,a){var t={variables:[],errorMap:{},dimensions:{}};if(a.center.isError&&(t.errorMap.center=!0),a.radianAngle.isError&&(t.errorMap.angle=!0),a.width.isError&&(t.errorMap.width=!0),a.height.isError&&(t.errorMap.height=!0),a.opacity.isError&&(t.errorMap.opacity=!0),a.center.isError||a.radianAngle.isError||a.width.isError||a.height.isError||a.opacity.isError)return t.variables=r.getSliderVariables(e,a),t;t.dimensions.x=[],t.dimensions.y=[],t.dimensions.radianAngle=[],t.dimensions.width=[],t.dimensions.height=[],t.dimensions.opacity=[];var s=[a.center,a.radianAngle,a.width,a.height,a.opacity];return s.some(function(e){return e&&e.valueType&&l.isList(e.valueType)})&&(t.is_concrete_list=!0),i.List.eachArgs(s,function(e){var r=e[0].asValue(),i=+e[1].asValue(),a=Math.atan2(Math.sin(i),Math.cos(i));t.dimensions.x.push(+r[0]),t.dimensions.y.push(+r[1]),t.dimensions.radianAngle.push(a),t.dimensions.width.push(+e[2].asValue()),t.dimensions.height.push(+e[3].asValue()),t.dimensions.opacity.push(Math.max(0,Math.min(1,+e[4].asValue())))}),(e.graphingEnabled()?r.getGraphMode(e,a):n.NONE)!==n.NONE&&(t.is_graphable=!0),a.moveStrategy&&(t.move_strategy=a.moveStrategy),r.center&&("Identifier"===r.center.type?(t.center_reference_id=r.center.referencedStatementId,t.center_reference_symbol=r.center._symbol):"ParenSeq"===r.center.type&&a.center.valueType===l.Point&&(t.center_is_point_literal=!0)),t}(e,c,v);if(c instanceof i.Ticker)return function(e,r,i){for(var n,s=i.handler,o=i.minStep,l={},u={},d=0,c=s.getDependencies();d<c.length;d++){var v=c[d];e.validActionVariable(v)||(l[v]=!0)}for(var f=0,m=o.getDependencies();f<m.length;f++)u[v=m[f]]=!0;if(o.isError)n={status:"error",error:o.getError()};else{var h=o.asValue();n="number"==typeof h&&!isNaN(h)&&h>=0?{status:"valid",value:h}:{status:"error",error:t.tickerMinStepNonNegativeNumber().getError()}}var b=Object.keys(l);b.length>0&&(s=t.tooManyVariables(b).setDependencies(s.getDependencies()));var _={handler:s.isError&&!g(e,s)?{status:"error",error:s.getError()}:s.isEmptyAction?{status:"empty"}:{status:"maybe-valid"},minStep:n,variables:[]};return p(_,e,a.__assign(a.__assign({},l),u)),_}(e,0,v);var f={operator:"=",variables:[]};if(v.isError&&(!(c instanceof i.FunctionDefinition)||v.blocksExport))return f.error=v.getError(),f.variables=c.getSliderVariables(e,v),f.is_single_identifier=c instanceof i.Identifier,v.actionValue&&(f.action_value=u.actionToLatex(v.actionValue)),f;if(v.valueType===l.RGBColor&&0===v.getDependencies().length){var m=v.asValue();f.rgb_value=r.rgb(m[0],m[1],m[2]).formatHex()}v.valueType===l.Action&&0===v.getDependencies().length&&(f.action_value=u.actionToLatex(v.asValue())),v.moveStrategy&&(f.move_strategy=v.moveStrategy,f.default_drag_mode=v.defaultDragMode),c.isInequality()&&(f.is_inequality=!0),f.operator=c.getOperator(),v instanceof i.SolvedEquation?!0!==v._expression.asValue()&&!1!==v._expression.asValue()&&(f.assignment=v._symbol):c instanceof i.Assignment&&(f.assignment=c._symbol);var h=e.graphingEnabled()?c.getGraphMode(e,v):n.NONE;if(h!==n.NONE){f.is_graphable=!0,f.expression_type=c.getExpressionType(h,v.valueType),v.isShadeBetween()&&(f.is_shade_between=!0);var b=c.tableInfo(e,v);b&&(f.is_tableable=!0,f.table_info=b)}if(void 0!==v.valueType&&l.isList(v.valueType)&&(f.is_concrete_list=!0,v.valueType===l.ListOfColor&&0===v.getDependencies().length)){var _=v.asValue();_&&(f.rgb_value=_.map(function(e){return r.rgb(e[0],e[1],e[2]).formatHex()}))}f.variables=f.is_graphable?[]:c.getSliderVariables(e,v),f.is_single_identifier=c instanceof i.Identifier,v.isConstant&&(f.constant_value=v.asValue());var y=v.getEvaluationInfo();if(!y||"="!==f.operator||c.isConstant||c.isFunction||v.valueType===l.Bool||v.valueType===l.ListOfBool||c instanceof i.Equation||c instanceof i.And||(f.is_evaluable=!0,f.zero_values=y),v instanceof i.OptimizedRegression){var E=v,V={};for(var S in E.parameters)E.parameters.hasOwnProperty(S)&&(V[s.identifierToLatex(S)]=+E.parameters[S].asValue());f.is_regression=!0,f.regression={parameters:V,residualVariable:s.identifierToLatex(E.residualVariable),residualSuggestionId:E.residualSuggestionId,shouldSuggestLogMode:E.shouldSuggestLogMode,isLinear:E.isLinear,statistics:E.statistics,parameterWarning:E.parameterWarning}}var x=o.getFunctionSpecFromTree(c);return x&&x.discrete&&(f.is_discrete_distribution=!0),f},e.addSliderPrompts=p,e.isErrorExportableActionDefinition=g});\ndefine(\'core/math/workerconfig\',[],function(){"use strict";return{pointsOfInterest:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,sliders:!0}});\ndefine(\'core/math/statementanalysis\',[\'require\',\'core/math/evaluationstate\',\'pjs\',\'core/types/graphmode\',\'core/math/workerconfig\'],function(require){"use strict";var e=require("core/math/evaluationstate").EvaluationState,t=require("pjs"),r=require("core/types/graphmode"),i=require("core/math/workerconfig");return t(function(t){t.init=function(t,r,i){this.policy=t,this.rawTree=r,this.concreteTree=i,this.evaluationState=e(t,r,i)},t.exportTo=function(e,t){this.rawTree.exportTo(e,this.concreteTree,t)},t.graph=function(e){return this.rawTree.tryGraph(this.policy,this.concreteTree,e)},t.getGraphMode=function(){return this.rawTree.getGraphMode(this.policy,this.concreteTree)},t.getGraphInfo=function(){return this.rawTree.getGraphInfo(this.policy,this.concreteTree)},t.shouldIntersect=function(){if(!this.evaluationState.is_graphable)return!1;if(!this.rawTree.userData.shouldGraph)return!1;if(!i.pointsOfInterest)return!1;var e=this.getGraphMode();return e===r.X||e===r.Y}})});\ndefine(\'core/math/expression-types\',["require","exports"],function(require,i){"use strict";var s;Object.defineProperty(i,"__esModule",{value:!0}),i.isClickableExpressionType=i.getReconciledExpressionProps=i.EXPRESSION_PROP_DEFAULTS=i.ExpressionType=void 0,function(i){i.X_OR_Y="X_OR_Y",i.SINGLE_POINT="SINGLE_POINT",i.POINT_LIST="POINT_LIST",i.PARAMETRIC="PARAMETRIC",i.POLAR="POLAR",i.IMPLICIT="IMPLICIT",i.POLYGON="POLYGON",i.HISTOGRAM="HISTOGRAM",i.DOTPLOT="DOTPLOT",i.BOXPLOT="BOXPLOT",i.TTEST="TTEST",i.STATS="STATS",i.CUBE="CUBE",i.SPHERE="SPHERE"}(s=i.ExpressionType||(i.ExpressionType={})),i.EXPRESSION_PROP_DEFAULTS={X_OR_Y:{points:!1,lines:!0,fill:!1},SINGLE_POINT:{points:!0,lines:!1,fill:!1},POINT_LIST:{points:!0,lines:!1,fill:!1},PARAMETRIC:{points:!1,lines:!0,fill:!1},POLAR:{points:!1,lines:!0,fill:!1},IMPLICIT:{points:!1,lines:!0,fill:!1},POLYGON:{points:!1,lines:!0,fill:!0},HISTOGRAM:{points:!1,lines:!0,fill:!0},DOTPLOT:{points:!0,lines:!1,fill:!1},BOXPLOT:{points:!1,lines:!0,fill:!1},TTEST:{points:!1,lines:!1,fill:!1},STATS:{points:!1,lines:!1,fill:!1},CUBE:{points:!1,lines:!1,fill:!0},SPHERE:{points:!1,lines:!1,fill:!0}},i.getReconciledExpressionProps=function(e,T){if(void 0===e)return{points:!1,lines:!1,fill:!1};var l=i.EXPRESSION_PROP_DEFAULTS[e];switch(e){case s.SINGLE_POINT:return{points:!0,lines:!1,fill:!1};case s.POINT_LIST:case s.DOTPLOT:return{points:void 0===T.points?l.points:T.points,lines:void 0===T.lines?l.lines:T.lines,fill:!1};case s.PARAMETRIC:case s.POLYGON:case s.X_OR_Y:case s.POLAR:case s.IMPLICIT:case s.HISTOGRAM:case s.BOXPLOT:case s.TTEST:case s.STATS:case s.CUBE:case s.SPHERE:return{points:!1,lines:void 0===T.lines?l.lines:T.lines,fill:void 0===T.fill?l.fill:T.fill};default:return e}},i.isClickableExpressionType=function(i){if(void 0===i)return!1;switch(i){case s.SINGLE_POINT:case s.POINT_LIST:case s.PARAMETRIC:case s.POLYGON:case s.X_OR_Y:case s.POLAR:case s.IMPLICIT:return!0;case s.HISTOGRAM:case s.BOXPLOT:case s.DOTPLOT:case s.TTEST:case s.STATS:case s.CUBE:case s.SPHERE:return!1;default:return i}}});\ndefine(\'core/math/ir/features/reapply-restrictions\',["require","exports","../instructions","../opcodes","./get-dependency-mask"],function(require,e,r,n,t){"use strict";function s(e,r){for(var n=[],t=0,s=r;t<s.length;t++){var i=s[t];n.push(e[i])}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.reapplyRestrictions=void 0,e.reapplyRestrictions=function(e,i){for(var p=[],o=e.returnIndex,u=t.getDependencyMask(e,i.mappedArgIndex),c=function(e,t,s){for(var i=[],p=0;p<s;p++)i.push(!1);i[s]=t[s];for(p=s;p>=0;p--)if(i[p]&&t[p]){var o=e.getInstruction(p);if(o.type===n.Piecewise)i[o.args[1]]=!0;else if(!r.isLeafInstruction(o))for(var u=0,c=o.args;u<c.length;u++){i[c[u]]=!0}}return i}(e,u,i.mappedReturnIndex),a=o,f=e.NanOfType(e.getReturnType()),d=0;d<i.mappedReturnIndex;d++){var g=e.getInstruction(d);if(d!==i.mappedArgIndex)if(u[d]||e.isInClosedBlock(d))if(r.isLeafInstruction(g))p.push(e.copyInstruction(g));else{var l=s(p,g.args);p.push(e.copyInstructionWithArgs(g,l)),g.type===n.Piecewise&&c[d]&&(a=e.Piecewise([l[0],a,f]))}else p.push(d);else p.push(o)}return a}});\ndefine(\'core/math/ir/features/solve\',["require","exports","parsenodes","core/math/workerconfig","core/math/parsenode/irexpression","core/math/errormsg","../build-ir","../dependencies","core/math/comparators","../opcodes","./fuse-broadcast","./reapply-restrictions","core/math/types","core/math/maybe-rational"],function(require,e,i,r,t,a,n,s,c,l,o,u,d,v){"use strict";function f(e,i){return i?function(e){var i=e.chunk,r=e.coefficients,t=r[0],a=r[1],n=r[2],s=i.Constant(v.maybeRational(0,1));void 0===n&&(n=s);void 0===a&&(a=s);void 0===t&&(t=s);var c=i.Constant(v.maybeRational(2,1)),l=i.Constant(NaN),o=i.Constant(v.maybeRational(1e305,1)),u=i.Negative([o]),d=i.Multiply([c,n]),f=i.Negative([a]),p=i.Subtract([i.Multiply([a,a]),i.Multiply([c,i.Multiply([d,t])])]),g=i.SyntheticNativeFunction("sqrt",[p]),m=i.Divide([i.Add([f,g]),d]),y=i.Divide([i.Subtract([f,g]),d]),b=i.Negative([i.Divide([t,a])]),h=i.Equal([n,s]),w=i.Greater([n,s]),P=i.Equal([a,s]),I=i.Greater([a,s]),N=i.Less([a,s]),O=i.Greater([t,s]),q=i.Less([p,s]);return[i.Piecewise([h,i.Piecewise([N,b,l]),i.Piecewise([w,y,l])]),i.Piecewise([h,i.Piecewise([P,i.Piecewise([O,u,l]),l]),i.Piecewise([w,i.Piecewise([q,u,l]),m])]),i.Piecewise([h,i.Piecewise([P,i.Piecewise([O,o,l]),l]),i.Piecewise([w,i.Piecewise([q,o,l]),y])]),i.Piecewise([h,i.Piecewise([I,b,l]),i.Piecewise([w,m,l])])]}(e):function(e){var i=e.chunk,r=e.coefficients,t=r[0],a=r[1],n=r[2],s=i.Constant(v.maybeRational(0,1)),c=i.Constant(NaN);if(void 0===n){void 0===a&&(a=s);var o=i.Negative([i.Divide([t,a])]),u=i.Equal([a,s]);return[i.Piecewise([u,c,o])]}var d=i.Constant(v.maybeRational(2,1)),f=i.Multiply([d,n]),p=i.Negative([a]),g=i.Subtract([i.Multiply([a,a]),i.Multiply([d,i.Multiply([f,t])])]),m=i.Equal([n,s]),y=i.getInstruction(g);if(y.type===l.Constant&&0===v.asFloat(y.value))return[i.Piecewise([m,c,i.Divide([p,f])])];var b=i.SyntheticNativeFunction("sqrt",[g]),h=i.Less([a,s]),w=i.Greater([a,s]),P=i.Divide([i.Add([p,b]),f]),I=i.Divide([i.Subtract([p,b]),f]);o=i.Negative([i.Divide([t,a])]);return[i.Piecewise([m,i.Piecewise([h,o,c]),I]),i.Piecewise([m,i.Piecewise([w,o,c]),P])]}(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.trySolve=void 0,e.trySolve=function(e,v){try{return function(e,v){for(var p=e.policy,g=e.frame,m=s.getFreeDependencies(g,v),y=[],b=0;b<m.length;b++)y.push(d.Number);var h=n.buildIRContext({policy:p,frame:g,argNames:m,argTypes:y}),w=h.chunk,P=n.addToIR(h,v.args[0]),I=n.addToIR(h,v.args[1]),N=v.getOperator(),O="="!==N;switch(N){case"<":w.Less([P,I]);break;case">":w.Greater([P,I]);break;case"<=":w.LessEqual([P,I]);break;case">=":w.GreaterEqual([P,I]);break;case"=":w.Equal([P,I])}if(w.returnIndex=o.fuseBroadcast(w,w.returnIndex),w.isConstant())return new t(w.close());var q=w.getInstruction(P).type!==l.LoadArg||-1!==s.getFreeDependencies(g,v.args[1]).indexOf(w.argNames[P]);if(!r.plotImplicits&&q)throw a.implicitsDisabled();-1===c.table[N].direction?w.Subtract([I,P]):w.Subtract([P,I]);w.close();var D=w.getLiveArgNames();if(0===D.length)throw a.parseError();if(1===D.length&&!O&&!r.plotSingleVariableImplicitEquations)return a.singleVariableImplicitEquationsDisabled();if(D.length>2)return a.tooManyVariables(p.sliderVariables(D)).setDependencies(D);if(O&&!p.validInequalityVariables(D))return a.invalidInequalityVariables().setDependencies(D);var C=function(e,i){var r=e.chunk,t=e.policy,a=r.argNames,n=d.isList(r.getReturnType()),s=[];e:for(var c=0;c<a.length;c++){var l=a[c],o=a.length>1&&!t.validSolvedVariable(l);s[c]={localFrames:[],effectiveOrder:0,variableOfInterest:l};var u=!i;if(o)s[c].effectiveOrder=1/0;else{var v=n?r.getConstantListLength():1;if(null==v)throw new Error("Programming error: cannot solve a variable-length list expression");for(var f=0;f<v;f++){var p=n?r.elementAt(f):r;if(p.polynomialOrder(l,{allowRestriction:u,allowClosedBlockReferences:!1})>2){s[c].effectiveOrder=1/0;continue e}var g=p.getPolynomialCoefficients(l);s[c].localFrames.push(g),s[c].effectiveOrder=Math.max(s[c].effectiveOrder,g.coefficients.length-1)}}}return 1===a.length?s[0]:("y"===a[0]&&(s=[s[1],s[0]]),0===s[0].effectiveOrder?s[1]:0===s[1].effectiveOrder?s[0]:s[s[0].effectiveOrder<s[1].effectiveOrder?0:1])}(h,O),E=C.localFrames,R=C.effectiveOrder,S=C.variableOfInterest;if(p.complicatedPolarImplicit(S,R))return a.complicatedPolarImplicit().setDependencies(D);if(!p.validImplicitVariables(D))return a.invalidImplicitVariables();if(R>2)return new t(w.close());for(var k=[],L=1,M=0,x=E;M<x.length;M++){var V=x[M],F=f(V,O);L=F.length;for(var G=0,A=F;G<A.length;G++){var T=A[G],B=V.chunk.copy();B.returnIndex=T,V.isRestrictedPolynomial&&(B.returnIndex=u.reapplyRestrictions(B,V)),B.close(),k.push(new t(B))}}return i.SolvedEquation(S,i.List(k),L)}(e,v)}catch(e){return e instanceof i.Base?e:a.parseError()}}});\ndefine(\'numeric\',[],function(){"use strict";var r="undefined"==typeof exports?function(){}:exports;return"undefined"!=typeof global&&(global.numeric=r),r.version="1.2.6",r._myIndexOf=function(r){var n,e=this.length;for(n=0;n<e;++n)if(this[n]===r)return n;return-1},r.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:r._myIndexOf,r.precision=4,r.largeArray=50,r.compile=function(){var n=Array.prototype.slice.call(arguments),e=n.pop();return e="return function ("+n.join(",")+") {"+e+"}",new Function(["numeric"],e)(r)},r._dim=function(r){for(var n=[];"object"==typeof r;)n.push(r.length),r=r[0];return n},r.dim=function(n){var e;return"object"==typeof n?"object"==typeof(e=n[0])?"object"==typeof e[0]?r._dim(n):[n.length,e.length]:[n.length]:[]},r.mapreduce=function(n,e){return r.compile("x","accum","_s","_k",\'if(typeof accum === "undefined") accum = \'+e+\';\\nif(typeof x === "number") { var xi = x; \'+n+\'; return accum; }\\nif(typeof _s === "undefined") _s = numeric.dim(x);\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i,xi;\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) {\\n        accum = arguments.callee(x[i],accum,_s,_k+1);\\n    }    return accum;\\n}\\nfor(i=_n-1;i>=1;i-=2) { \\n    xi = x[i];\\n    \'+n+";\\n    xi = x[i-1];\\n    "+n+";\\n}\\nif(i === 0) {\\n    xi = x[i];\\n    "+n+"\\n}\\nreturn accum;")},r.mapreduce2=function(n,e){return r.compile("x","var n = x.length;\\nvar i,xi;\\n"+e+"\\nfor(i=n-1;i!==-1;--i) { \\n    xi = x[i];\\n    "+n+"\\n}\\nreturn accum;")},r.rep=function(n,e,t){void 0===t&&(t=0);var i,o=n[t],a=Array(o);if(t===n.length-1){for(i=o-2;i>=0;i-=2)a[i+1]=e,a[i]=e;return-1===i&&(a[0]=e),a}for(i=o-1;i>=0;i--)a[i]=r.rep(n,e,t+1);return a},r.dotMMsmall=function(r,n){var e,t,i,o,a,f,u,c,s,m,l;for(o=r.length,a=n.length,f=n[0].length,u=Array(o),e=o-1;e>=0;e--){for(c=Array(f),s=r[e],i=f-1;i>=0;i--){for(m=s[a-1]*n[a-1][i],t=a-2;t>=1;t-=2)l=t-1,m+=s[t]*n[t][i]+s[l]*n[l][i];0===t&&(m+=s[0]*n[0][i]),c[i]=m}u[e]=c}return u},r._getCol=function(r,n,e){var t;for(t=r.length-1;t>0;--t)e[t]=r[t][n],e[--t]=r[t][n];0===t&&(e[0]=r[0][n])},r.dotMMbig=function(n,e){var t,i,o,a=r._getCol,f=e.length,u=Array(f),c=n.length,s=e[0].length,m=new Array(c),l=r.dotVV;for(--f,i=--c;-1!==i;--i)m[i]=Array(s);for(i=--s;-1!==i;--i)for(a(e,i,u),o=c;-1!==o;--o)0,t=n[o],m[o][i]=l(t,u);return m},r.dotMV=function(n,e){var t,i=n.length,o=(e.length,Array(i)),a=r.dotVV;for(t=i-1;t>=0;t--)o[t]=a(n[t],e);return o},r.dotVM=function(r,n){var e,t,i,o,a,f,u;for(i=r.length,o=n[0].length,a=Array(o),t=o-1;t>=0;t--){for(f=r[i-1]*n[i-1][t],e=i-2;e>=1;e-=2)u=e-1,f+=r[e]*n[e][t]+r[u]*n[u][t];0===e&&(f+=r[0]*n[0][t]),a[t]=f}return a},r.dotVV=function(r,n){var e,t,i=r.length,o=r[i-1]*n[i-1];for(e=i-2;e>=1;e-=2)t=e-1,o+=r[e]*n[e]+r[t]*n[t];return 0===e&&(o+=r[0]*n[0]),o},r.dot=function(n,e){var t=r.dim;switch(1e3*t(n).length+t(e).length){case 2002:return e.length<10?r.dotMMsmall(n,e):r.dotMMbig(n,e);case 2001:return r.dotMV(n,e);case 1002:return r.dotVM(n,e);case 1001:return r.dotVV(n,e);case 1e3:return r.mulVS(n,e);case 1:return r.mulSV(n,e);case 0:return n*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},r.diag=function(r){var n,e,t,i,o=r.length,a=Array(o);for(n=o-1;n>=0;n--){for(i=Array(o),e=n+2,t=o-1;t>=e;t-=2)i[t]=0,i[t-1]=0;for(t>n&&(i[t]=0),i[n]=r[n],t=n-1;t>=1;t-=2)i[t]=0,i[t-1]=0;0===t&&(i[0]=0),a[n]=i}return a},r.getDiag=function(r){var n,e=Math.min(r.length,r[0].length),t=Array(e);for(n=e-1;n>=1;--n)t[n]=r[n][n],t[--n]=r[n][n];return 0===n&&(t[0]=r[0][0]),t},r.identity=function(n){return r.diag(r.rep([n],1))},r.pointwise=function(n,e,t){void 0===t&&(t="");var i,o,a=[],f=/\\[i\\]$/,u="",c=!1;for(i=0;i<n.length;i++)f.test(n[i])?u=o=n[i].substring(0,n[i].length-3):o=n[i],"ret"===o&&(c=!0),a.push(o);return a[n.length]="_s",a[n.length+1]="_k",a[n.length+2]=\'if(typeof _s === "undefined") _s = numeric.dim(\'+u+\');\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i\'+(c?"":", ret = Array(_n)")+";\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+n.join(",")+",_s,_k+1);\\n    return ret;\\n}\\n"+t+"\\nfor(i=_n-1;i!==-1;--i) {\\n    "+e+"\\n}\\nreturn ret;",r.compile.apply(null,a)},r.pointwise2=function(n,e,t){void 0===t&&(t="");var i,o,a=[],f=/\\[i\\]$/,u="",c=!1;for(i=0;i<n.length;i++)f.test(n[i])?u=o=n[i].substring(0,n[i].length-3):o=n[i],"ret"===o&&(c=!0),a.push(o);return a[n.length]="var _n = "+u+".length;\\nvar i"+(c?"":", ret = Array(_n)")+";\\n"+t+"\\nfor(i=_n-1;i!==-1;--i) {\\n"+e+"\\n}\\nreturn ret;",r.compile.apply(null,a)},r._biforeach=function r(n,e,t,i,o){var a;if(i!==t.length-1)for(a=t[i]-1;a>=0;a--)r("object"==typeof n?n[a]:n,"object"==typeof e?e[a]:e,t,i+1,o);else o(n,e)},r._biforeach2=function r(n,e,t,i,o){if(i===t.length-1)return o(n,e);var a,f=t[i],u=Array(f);for(a=f-1;a>=0;--a)u[a]=r("object"==typeof n?n[a]:n,"object"==typeof e?e[a]:e,t,i+1,o);return u},r._foreach=function r(n,e,t,i){var o;if(t!==e.length-1)for(o=e[t]-1;o>=0;o--)r(n[o],e,t+1,i);else i(n)},r._foreach2=function r(n,e,t,i){if(t===e.length-1)return i(n);var o,a=e[t],f=Array(a);for(o=a-1;o>=0;o--)f[o]=r(n[o],e,t+1,i);return f},r.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},r.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},r.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],r.mathfuns2=["atan2","pow","max","min"],r.ops1={neg:"-",not:"!",bnot:"~",clone:""},r.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi);","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var n,e;for(n=0;n<r.mathfuns2.length;++n)e=r.mathfuns2[n],r.ops2[e]=e;for(n in r.ops2)if(r.ops2.hasOwnProperty(n)){e=r.ops2[n];var t,i,o="";-1!==r.myIndexOf.call(r.mathfuns2,n)?(o="var "+e+" = Math."+e+";\\n",t=function(r,n,t){return r+" = "+e+"("+n+","+t+")"},i=function(r,n){return r+" = "+e+"("+r+","+n+")"}):(t=function(r,n,t){return r+" = "+n+" "+e+" "+t},i=r.opseq.hasOwnProperty(n+"eq")?function(r,n){return r+" "+e+"= "+n}:function(r,n){return r+" = "+r+" "+e+" "+n}),r[n+"VV"]=r.pointwise2(["x[i]","y[i]"],t("ret[i]","x[i]","y[i]"),o),r[n+"SV"]=r.pointwise2(["x","y[i]"],t("ret[i]","x","y[i]"),o),r[n+"VS"]=r.pointwise2(["x[i]","y"],t("ret[i]","x[i]","y"),o),r[n]=r.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar VV = numeric."+n+"VV, VS = numeric."+n+"VS, SV = numeric."+n+\'SV;\\nvar dim = numeric.dim;\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof x === "object") {\\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n  else \'+i("x","y")+"\\n}\\nreturn x;\\n"),r[e]=r[n],r[n+"eqV"]=r.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),o),r[n+"eqS"]=r.pointwise2(["ret[i]","x"],i("ret[i]","x"),o),r[n+"eq"]=r.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar V = numeric."+n+"eqV, S = numeric."+n+\'eqS\\nvar s = numeric.dim(x);\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\\n  else numeric._biforeach(x,y,s,0,S);\\n}\\nreturn x;\\n\')}for(n=0;n<r.mathfuns2.length;++n)e=r.mathfuns2[n],delete r.ops2[e];for(n=0;n<r.mathfuns.length;++n)e=r.mathfuns[n],r.ops1[e]=e;for(n in r.ops1)r.ops1.hasOwnProperty(n)&&(o="",e=r.ops1[n],-1!==r.myIndexOf.call(r.mathfuns,n)&&Math.hasOwnProperty(e)&&(o="var "+e+" = Math."+e+";\\n"),r[n+"eqV"]=r.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",o),r[n+"eq"]=r.compile("x",\'if(typeof x !== "object") return \'+e+"x\\nvar i;\\nvar V = numeric."+n+"eqV;\\nvar s = numeric.dim(x);\\nnumeric._foreach(x,s,0,V);\\nreturn x;\\n"),r[n+"V"]=r.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",o),r[n]=r.compile("x",\'if(typeof x !== "object") return \'+e+"(x)\\nvar i;\\nvar V = numeric."+n+"V;\\nvar s = numeric.dim(x);\\nreturn numeric._foreach2(x,s,0,V);\\n"));for(n=0;n<r.mathfuns.length;++n)e=r.mathfuns[n],delete r.ops1[e];for(n in r.mapreducers)r.mapreducers.hasOwnProperty(n)&&(e=r.mapreducers[n],r[n+"V"]=r.mapreduce2(e[0],e[1]),r[n]=r.compile("x","s","k",e[1]+\'if(typeof x !== "object") {    xi = x;\\n\'+e[0]+\'\\n    return accum;\\n}if(typeof s === "undefined") s = numeric.dim(x);\\nif(typeof k === "undefined") k = 0;\\nif(k === s.length-1) return numeric.\'+n+"V(x);\\nvar xi;\\nvar n = x.length, i;\\nfor(i=n-1;i!==-1;--i) {\\n   xi = arguments.callee(x[i]);\\n"+e[0]+"\\n}\\nreturn accum;\\n"))}(),r.inv=function(n){var e,t,i,o,a,f,u,c=r.dim(n),s=Math.abs,m=c[0],l=c[1],h=r.clone(n),d=r.identity(m);for(f=0;f<l;++f){var p=-1,y=-1;for(a=f;a!==m;++a)(u=s(h[a][f]))>y&&(p=a,y=u);for(t=h[p],h[p]=h[f],h[f]=t,o=d[p],d[p]=d[f],d[f]=o,n=t[f],u=f;u!==l;++u)t[u]/=n;for(u=l-1;-1!==u;--u)o[u]/=n;for(a=m-1;-1!==a;--a)if(a!==f){for(e=h[a],i=d[a],n=e[f],u=f+1;u!==l;++u)e[u]-=t[u]*n;for(u=l-1;u>0;--u)i[u]-=o[u]*n,i[--u]-=o[u]*n;0===u&&(i[0]-=o[0]*n)}}return d},r.det=function(n){var e=r.dim(n);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var t,i,o,a,f,u,c,s,m=e[0],l=1,h=r.clone(n);for(i=0;i<m-1;i++){for(o=i,t=i+1;t<m;t++)Math.abs(h[t][i])>Math.abs(h[o][i])&&(o=t);for(o!==i&&(c=h[o],h[o]=h[i],h[i]=c,l*=-1),a=h[i],t=i+1;t<m;t++){for(u=(f=h[t])[i]/a[i],o=i+1;o<m-1;o+=2)s=o+1,f[o]-=a[o]*u,f[s]-=a[s]*u;o!==m&&(f[o]-=a[o]*u)}if(0===a[i])return 0;l*=a[i]}return l*h[i][i]},r.transpose=function(r){var n,e,t,i,o,a=r.length,f=r[0].length,u=Array(f);for(e=0;e<f;e++)u[e]=Array(a);for(n=a-1;n>=1;n-=2){for(i=r[n],t=r[n-1],e=f-1;e>=1;--e)(o=u[e])[n]=i[e],o[n-1]=t[e],(o=u[--e])[n]=i[e],o[n-1]=t[e];0===e&&((o=u[0])[n]=i[0],o[n-1]=t[0])}if(0===n){for(t=r[0],e=f-1;e>=1;--e)u[e][0]=t[e],u[--e][0]=t[e];0===e&&(u[0][0]=t[0])}return u},r.negtranspose=function(r){var n,e,t,i,o,a=r.length,f=r[0].length,u=Array(f);for(e=0;e<f;e++)u[e]=Array(a);for(n=a-1;n>=1;n-=2){for(i=r[n],t=r[n-1],e=f-1;e>=1;--e)(o=u[e])[n]=-i[e],o[n-1]=-t[e],(o=u[--e])[n]=-i[e],o[n-1]=-t[e];0===e&&((o=u[0])[n]=-i[0],o[n-1]=-t[0])}if(0===n){for(t=r[0],e=f-1;e>=1;--e)u[e][0]=-t[e],u[--e][0]=-t[e];0===e&&(u[0][0]=-t[0])}return u},r.norm2=function(n){return Math.sqrt(r.norm2Squared(n))},r.linspace=function(r,n,e){if(void 0===e&&(e=Math.max(Math.round(n-r)+1,1)),e<2)return 1===e?[r]:[];var t,i=Array(e);for(t=--e;t>=0;t--)i[t]=(t*n+(e-t)*r)/e;return i},r.getBlock=function(n,e,t){var i=r.dim(n);return function r(n,o){var a,f=e[o],u=t[o]-f,c=Array(u);if(o===i.length-1){for(a=u;a>=0;a--)c[a]=n[a+f];return c}for(a=u;a>=0;a--)c[a]=r(n[a+f],o+1);return c}(n,0)},r.setBlock=function(n,e,t,i){var o=r.dim(n);return function r(n,i,a){var f,u=e[a],c=t[a]-u;if(a===o.length-1)for(f=c;f>=0;f--)n[f+u]=i[f];for(f=c;f>=0;f--)r(n[f+u],i[f],a+1)}(n,i,0),n},r.getRange=function(r,n,e){var t,i,o,a,f=n.length,u=e.length,c=Array(f);for(t=f-1;-1!==t;--t)for(c[t]=Array(u),o=c[t],a=r[n[t]],i=u-1;-1!==i;--i)o[i]=a[e[i]];return c},r.blockMatrix=function(n){var e=r.dim(n);if(e.length<4)return r.blockMatrix([n]);var t,i,o,a,f,u=e[0],c=e[1];for(t=0,i=0,o=0;o<u;++o)t+=n[o][0].length;for(a=0;a<c;++a)i+=n[0][a][0].length;var s=Array(t);for(o=0;o<t;++o)s[o]=Array(i);var m,l,h,d,p,y=0;for(o=0;o<u;++o){for(m=i,a=c-1;-1!==a;--a)for(m-=(f=n[o][a])[0].length,h=f.length-1;-1!==h;--h)for(p=f[h],l=s[y+h],d=p.length-1;-1!==d;--d)l[m+d]=p[d];y+=n[o][0].length}return s},r.tensor=function(n,e){if("number"==typeof n||"number"==typeof e)return r.mul(n,e);var t=r.dim(n),i=r.dim(e);if(1!==t.length||1!==i.length)throw new Error("numeric: tensor product is only defined for vectors");var o,a,f,u,c=t[0],s=i[0],m=Array(c);for(a=c-1;a>=0;a--){for(o=Array(s),u=n[a],f=s-1;f>=3;--f)o[f]=u*e[f],o[--f]=u*e[f],o[--f]=u*e[f],o[--f]=u*e[f];for(;f>=0;)o[f]=u*e[f],--f;m[a]=o}return m},r.epsilon=2220446049250313e-31,r.LU=function(n,e){e=e||!1;var t,i,o,a,f,u,c,s,m,l=Math.abs,h=n.length,d=h-1,p=new Array(h);for(e||(n=r.clone(n)),o=0;o<h;++o){for(c=o,m=l((u=n[o])[o]),i=o+1;i<h;++i)m<(a=l(n[i][o]))&&(m=a,c=i);for(p[o]=c,c!=o&&(n[o]=n[c],n[c]=u,u=n[o]),f=u[o],t=o+1;t<h;++t)n[t][o]/=f;for(t=o+1;t<h;++t){for(s=n[t],i=o+1;i<d;++i)s[i]-=s[o]*u[i],s[++i]-=s[o]*u[i];i===d&&(s[i]-=s[o]*u[i])}}return{LU:n,P:p}},r.LUsolve=function(n,e){var t,i,o,a,f,u=n.LU,c=u.length,s=r.clone(e),m=n.P;for(t=c-1;-1!==t;--t)s[t]=e[t];for(t=0;t<c;++t)for(o=m[t],m[t]!==t&&(f=s[t],s[t]=s[o],s[o]=f),a=u[t],i=0;i<t;++i)s[t]-=s[i]*a[i];for(t=c-1;t>=0;--t){for(a=u[t],i=t+1;i<c;++i)s[t]-=s[i]*a[i];s[t]/=a[t]}return s},r.solve=function(n,e,t){return r.LUsolve(r.LU(n,t),e)},r});\ndefine(\'core/math/qr\',["require","exports"],function(require,r){"use strict";function t(r,t){for(var n=r.length,e=t.length,a=0,l=0,h=e-n;h<e;h++)a+=r[h+n-e]*t[h],l+=r[h+n-e]*r[h+n-e];var o=a/l;for(h=e-n;h<e;h++)t[h]=2*o*r[h+n-e]-t[h]}function n(r,t,n){for(var e=r.length,a=t.length,l=0,h=0,o=a-e;o<a;o++)l+=r[o+e-a]*t[o][n],h+=r[o+e-a]*r[o+e-a];var f=l/h;for(o=a-e;o<a;o++)t[o][n]=2*f*r[o+e-a]-t[o][n]}function e(r,t,n,e){var a=Array(r.length-t);if(1===a.length)return a[0]=1,a;if(0===e){a[0]=1;for(var l=1;l<a.length;l++)a[l]=0;return a}var h=r[t][n]<0?-1:1;a[0]=r[t][n]+h*Math.sqrt(e);for(var o=t+1;o<r.length;o++)a[o-t]=r[o][n];return a}function a(r,t,n){for(var e=0;t<r.length;t++)e+=r[t][n]*r[t][n];return e}function l(r,n,e){for(var a=r.reflectors,l=r.r,h=r.p,o=n.slice(),f=0;f<a.length;f++)t(a[f],o);for(f=a.length;f<l[0].length;f++)o[f]=0;o.length=l[0].length;var g=Math.pow(2,-52),i=e.regularize?g*Math.abs(l[0][0])*Math.max(l.length,l[0].length):0;for(f=a.length-1;f>=0;f--){var u=l[f];if(Math.abs(u[f])<=i)o[f]=0;else{for(var v=f+1;v<a.length;v++)o[f]-=o[v]*u[v];o[f]/=u[f]}}for(f=h.length-1;f>=0;f--)if(h[f]!==f){var c=o[f];o[f]=o[h[f]],o[h[f]]=c}return o}function h(r){var t=r.r,n=Math.min(t.length,t[0].length),e=t[0][0],a=t[n-1][n-1];return 0===e?1/0:Math.abs(e/a)}Object.defineProperty(r,"__esModule",{value:!0}),r.isNumericallyFullRank=r.conditionNumber=r.qrSolve=r.qr=void 0,r.qr=function(r,t){if(!t||!t.mutateInput){var l=r;r=Array(r.length);for(var h=0;h<l.length;h++)r[h]=l[h].slice()}for(var o=Math.min(r.length,r[0].length),f=Array(o),g=[],i=0;i<o;i++){for(var u=-1/0,v=i,c=i;c<r[i].length;c++){var s=a(r,i,c);s>u&&(u=s,v=c)}if(f[i]=v,v!==i)for(h=0;h<r.length;h++){var y=r[h][v];r[h][v]=r[h][i],r[h][i]=y}var M=e(r,i,i,u);for(c=i;c<r[i].length;c++)n(M,r,c);g.push(M)}return{reflectors:g,r:r,p:f}},r.qrSolve=function(r,t,n){return Array.isArray(t[0])?function(r,t,n){for(var e=Array(r.r[0].length),a=0;a<e.length;a++)e[a]=Array(t[0].length);for(var h=Array(t.length),o=0;o<t[0].length;o++){for(a=0;a<t.length;a++)h[a]=t[a][o];var f=l(r,h,n);for(a=0;a<f.length;a++)e[a][o]=f[a]}return e}(r,t,n):l(r,t,n)},r.conditionNumber=h,r.isNumericallyFullRank=function(r){var t=Math.pow(2,-52);return Math.max(r.r.length,r.r[0].length)*t*h(r)<1}});\ndefine(\'core/math/least-squares\',["require","exports","numeric","core/math/distance","./qr"],function(require,r,e,n,t){"use strict";function a(r,e){for(var n=[],t=0;t<e;t++)n.push(r);return n}function i(r,e){for(var n=o(r,e),t=0,a=0,i=n;a<i.length;a++){var u=i[a];t+=u*u}return t/n.length}function o(r,e){return r.apply(void 0,e)}function u(r,e){for(var n=[],t=0,a=r;t<a.length;t++){var i=a[t].apply(void 0,e);n.push(i)}return n}function s(r,e){for(var n=[],t=0;t<r.length;t++)e[t]&&n.push(r[t]);return n}function l(r,e,n){for(var t=[],a=0,i=0;a<r.length;a++){var o=0;n[a]&&(o=e[i],i+=1),t.push(r[a]+o)}return t}function v(r,n,v,f){var S,p=f.maxIterations,g=f.linearSubset||a(!1,v.length),h=e.not(g),d=s(n,g),M=s(n,h),c=v,E=0,m=.001;if(e.any(g)){S={Jv:G=e.transpose(u(d,c)),F:N=t.qr(G)};var q=o(r,c);c=l(c,e.neg(t.qrSolve(N,q,{regularize:!0})),g)}for(var b=!1,x=i(r,c);E<p&&!b&&isFinite(x);){q=o(r,c);var y=u(M,c),z=e.transpose(y),I=void 0,F=void 0;if(S){var N=S.F,G=S.Jv;I=e.dot(y,e.sub(q,e.dot(G,t.qrSolve(N,q,{regularize:!0})))),F=e.dot(y,e.sub(z,e.dot(G,t.qrSolve(N,z,{regularize:!0}))))}else I=e.dot(y,q),F=e.dot(y,z);for(var L=c,J=!1;E<p&&!b&&!J;){E+=1;var O=e.add(F,e.diag(a(m,M.length)));L=l(c,e.neg(e.solve(O,I,!0)),h),b=e.all(e.eq(L,c));var P=void 0;if(S){P={Jv:G=e.transpose(u(d,L)),F:N=t.qr(G)};var R=o(r,L);L=l(L,e.neg(t.qrSolve(N,R,{regularize:!0})),g)}var k=i(r,L);(J=k<x)?(c=L,x=k,S=P,m*=.1):(m=Math.max(m,1e-64),m*=2)}}return{solution:c,MSE:x}}Object.defineProperty(r,"__esModule",{value:!0}),r.testOnlyExports=r.optimizeNonLinear=r.optimizeLinear=r.tryRoundingSmallParametersToZero=r.evaluateMeanSquare=void 0,r.evaluateMeanSquare=i,r.tryRoundingSmallParametersToZero=function(r,e){var n=e.solution.map(function(r){return Math.abs(r)<1e-6?0:r}),t=i(r,n);return isFinite(e.MSE)&&!isFinite(e.MSE)||t<e.MSE||e.MSE!==e.MSE+Math.pow(.5,8)*(t-e.MSE)?e:{solution:n,MSE:t}},r.optimizeLinear=function(r,n){for(var s=a(0,n.length),l=u(n,s),v=t.qr(e.transpose(l),{mutateInput:!0}),f=0;f<2;f++){var S=o(r,s),p=e.neg(t.qrSolve(v,S,{regularize:!1}));s=e.add(s,p)}var g=i(r,s);if(t.isNumericallyFullRank(v))return{solution:s,MSE:g};var h=a(0,n.length);for(f=0;f<2;f++){S=o(r,h),p=e.neg(t.qrSolve(v,S,{regularize:!0}));h=e.add(h,p)}var d=i(r,h);return.999*d<=g?{solution:h,MSE:d}:{solution:s,MSE:g}};var f=[18.9,.105,.0113,.089,4.414,.373,.06,.149,1.84,9.26,5,.7,.2,1.13,2.61,1,.007,30,120,1500,4e-4,7.23,-1,-.0081,-.03,-28.6,-1.71,-.4,-6.94,-.777,-500],S=function(r){for(var e=[],n=0;n<f.length;n++){for(var t=[],a=0;a<r;a++)t[a]=0===n&&1!==r?0:1===n&&1!==r?1:f[503*(n*r+a)%f.length];e.push(t)}return e},p=function(r,e,n,t,a){for(var i=[],o=0,u=n;o<u.length;o++){var s=u[o];i.push({soln:v(r,e,s,a),initialGuess:s})}i.sort(function(r,e){return isNaN(r.soln.MSE)?1:isNaN(e.soln.MSE)?-1:r.soln.MSE-e.soln.MSE});for(var l=[],f=0;f<t;f++)l.push(i[f].initialGuess);return l};function g(r,e,n,t){if(!e)return r;if("known"!==e.type)return r;var a=e.bounds;return a[0]===-1/0&&a[1]===1/0?r:a[0]===-1/0?a[1]-Math.exp(-r):a[1]===1/0?a[0]+Math.exp(r):n/(t-1)*a[1]+(t-1-n)/(t-1)*a[0]}var h=[3,5,7,11,13,17,19];function d(r,e){for(var n=[],t=0;t<r.length;t++){for(var a=r[t],i=[],o=0;o<a.length;o++){var u=h[o%h.length]*t%r.length;i.push(g(a[o],e[o],u,r.length))}n.push(i)}return n}r.optimizeNonLinear=function(r,e,t){t||(t={});var a=t.linearSubset,i=t.bounds,o=t.preferredInitialGuess,u=S(e.length);i&&(u=d(u,i));var s=p(r,e,u,5,{maxIterations:3,linearSubset:a}),l=v(r,e,p(r,e,s,1,{maxIterations:60,linearSubset:a})[0],{maxIterations:250,linearSubset:a});if(!o)return l;var f=v(r,e,o,{maxIterations:100,linearSubset:a});return isFinite(f.MSE)&&(f.MSE<l.MSE||n.approx(f.MSE,l.MSE,8))?f:l},r.testOnlyExports={generateInitialGuesses:S,mapInitialGuesses:d}});\ndefine(\'core/math/ir/features/reparameterize-regression\',["require","exports","core/math/builtin","../opcodes","core/math/types","../instructions","./is-constant","./as-value","./polynomial-order","./get-polynomial-coefficients","./copy-instruction","core/math/maybe-rational","./list-length"],function(require,e,r,t,a,n,i,s,o,u,c,l,v){"use strict";function p(e){return{chunk:e,isLazy:!0}}function f(e){return e.slice()}function h(e){if(!e.isLazy)return e;var r=e.chunk.copy();return r.reopenFinalBlock(),{chunk:r,forwardParameterMap:f,reverseParameterMap:f,isLazy:!1,valueMap:F(e.chunk.instructionsLength()),replacementMask:N(e.chunk.argNames.length)}}function d(e){var r=e.chunk,t=e.forwardParameterMap,a=e.reverseParameterMap,n=e.isLazy,i=e.valueMap,s=e.replacementMask,o=e.didShiftScale;return{chunk:r.copy(),forwardParameterMap:t,reverseParameterMap:a,isLazy:n,valueMap:i.slice(),replacementMask:s.slice(),didShiftScale:o}}function g(e){for(var r=1/0,t=-1/0,a=e.length,n=0,i=e;n<i.length;n++){var s=i[n];r=Math.min(r,s),t=Math.max(t,s)}return{min:r,max:t,length:a}}function m(e,r,t,a){if(void 0!==t){var i=e.getInstruction(a);if(n.isLeafInstruction(i))for(var s=0,o=t;s<o.length;s++){(v=o[s]).valueMap[a]=a}else for(var u=0,l=t;u<l.length;u++){for(var v,p=(v=l[u]).chunk,f=v.valueMap,h=[],d=0,g=0,m=i.args;g<m.length;g++){var M=m[g];if(f[M]!==M){if((d+=1)>1)return void(t.length=0)}else for(var y=r[M],k=0;k<y.length;k++)if(y[k]&&v.replacementMask[k])return void(t.length=0);h.push(f[M])}f[a]=d>0?c.copyInstructionWithArgs(p,i,h):a}}}function M(e,r){for(var t,a=e.listAccessDependencyTable,n=e.listAccesses,i=e.listStatisticsTable,s=a[r],o=0;o<s.length;o++)if(s[o]){if(t)return;t={listAccessIndex:n[o],listStatistics:i[o]}}return t}function y(e,r){for(var t=0,a=e.listAccessDependencyTable[r];t<a.length;t++){if(a[t])return!0}return!1}function k(e,r){for(var a,n=[],i=0;i<=r;i++){if(e.getInstruction(i).type===t.LoadArg){var s=N(e.argNames.length);s[i]=!0,n.push(s)}else n.push(L(e,n,e.argNames.length,i))}var o=n[r];for(i=0;i<o.length;i++)if(o[i]){if(void 0!==a)return;a=i}return a}function x(e,a,n,i,s){var o=e.chunk,u=k(o,n);if(void 0!==u){var c=w(e,n,u);if(void 0!==c){var l=o.getInstruction(i),v=l.args[0];if(void 0!==(c=b(c,v,s))){var p=c.chunk,f=c.valueMap,h=p.getInstruction(f[v]);if(h.type===t.Add){var d=h.args[1],g=p.getInstruction(h.args[0]);if(g.type===t.Multiply){var m=g.args,M=m[0],y=m[1],x=u,P=d,C=M,I=y,L=p.Multiply([C,I]),N=p.SyntheticNativeFunction("cos",[L]),F=p.SyntheticNativeFunction("sin",[L]),S="sin"===l.symbol?p.Add([p.Multiply([x,F]),p.Multiply([P,N])]):p.Subtract([p.Multiply([x,N]),p.Multiply([P,F])]);f[a]=S;var A=c.replacementMask.slice();return A[u]=!0,A[M]=!0,A[d]=!0,{chunk:p,forwardParameterMap:function(e){var r=c.forwardParameterMap(e),t=r[u],a=r[d],n=t*Math.cos(a),i=t*Math.sin(a);return r[u]=n,r[d]=i,r},reverseParameterMap:function(e){var t=e.slice(),a=e[u],n=e[d],i=r.hypot(a,n),s=Math.atan2(n,a);return t[u]=i,t[d]=s,c.reverseParameterMap(t)},valueMap:f,replacementMask:A,isLazy:!1}}}}}}}function P(e,r,n,i){var s=e.chunk,o=s.getInstruction(r).args,u=o[0],c=o[1],v=s.getInstruction(u);if(v.type===t.Constant&&v.valueType===a.Number&&l.asFloat(v.value)>0){var p=h(e),f=p.chunk,d=p.valueMap,g=f.Multiply([f.SyntheticNativeFunction("ln",[d[u]]),d[c]]);return d[c]=g,d[r]=f.SyntheticNativeFunction("exp",[g]),I(p,r,c,n,i)||p}var m=k(s,u);if(void 0!==m){var M=w(e,u,m);if(void 0!==M){var y=M.chunk,x=M.valueMap,P=y.Multiply([x[u],x[c]]);x[c]=P,x[r]=y.SyntheticNativeFunction("exp",[P]);var C=M.replacementMask.slice();C[m]=!0;var b={chunk:y,forwardParameterMap:function(e){var r=M.forwardParameterMap(e),t=r[m],a=Math.log(t);return r[m]=a,r},reverseParameterMap:function(e){var r=e.slice(),t=r[m],a=Math.exp(t);return r[m]=a,M.reverseParameterMap(r)},isLazy:!1,valueMap:x,replacementMask:C};return I(b,r,c,n,i)||b}}}function C(e,r,t,a,n,i){if(e.isLazy||!e.didShiftScale){var s=e.isLazy?e:d(e),o=k(e.chunk,t);if(void 0!==o){var u=w(e,t,o);if(void 0!==u){var c=u.chunk,l=u.valueMap,v=c.getInstruction(l[a]).args[0],p=c.Add([v,l[t]]);l[t]=p,l[r]=c.SyntheticNativeFunction("exp",[p]);var f=u.replacementMask.slice();f[o]=!0;var g=h(s);g.valueMap[r]=g.chunk.Multiply([g.valueMap[t],g.valueMap[a]]);var m={chunk:c,forwardParameterMap:function(e){var r=u.forwardParameterMap(e),t=r[o],a=Math.log(t);return r[o]=a,r},reverseParameterMap:function(e){var r=e.slice(),t=r[o],a=Math.exp(t);return r[o]=a,u.reverseParameterMap(r)},isLazy:!1,valueMap:l,replacementMask:f},M=d(m);return M.forwardParameterMap=function(e){var r=u.forwardParameterMap(e),t=r[o],a=Math.log(-t);return r[o]=a,r},M.reverseParameterMap=function(e){var r=e.slice(),t=r[o],a=-Math.exp(t);return r[o]=a,u.reverseParameterMap(r)},m=I(m,r,t,n,i)||m,(M=I(M,r,t,n,i)||M).valueMap[r]=M.chunk.Negative([M.valueMap[r]]),[g,m,M]}}}}function I(e,r,a,n,i){var s=function(e,r,a,n){var i=b(e,r,a);if(void 0===i)return;var s=i.chunk,o=i.valueMap,u=s.getInstruction(o[r]);if(u.type!==t.Add)return;var c=u.args[1],l=s.getInstruction(u.args[0]);if(l.type!==t.Multiply)return;var v=l.args,p=v[0],f=v[1],h=n.min,d=n.max,g=d-h,m=.5*(d+h),M=s.Divide([s.Subtract([f,s.Constant(m)]),s.Constant(g)]),y=s.Add([s.Multiply([p,M]),c]);function k(e){var r=i.forwardParameterMap(e),t=r[p],a=r[c],n=t*g,s=a+m*t;return r[p]=n,r[c]=s,r}function x(e){var r=e.slice(),t=e[p],a=e[c],n=t/g,s=a-n*m;return r[p]=n,r[c]=s,i.reverseParameterMap(r)}return o[r]=y,{chunk:s,forwardParameterMap:k,reverseParameterMap:x,isLazy:!1,valueMap:o,replacementMask:i.replacementMask,didShiftScale:!0}}(e,a,n,i);if(void 0!==s)return s.valueMap[r]=s.chunk.SyntheticNativeFunction("exp",[s.valueMap[a]]),s}function w(e,r,n){var i=e.chunk,s=o.polynomialOrderContext(i,n,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1===o.instructionOrder(s,r)){var c=u.polynomialCoefficientContext(s),v=u.instructionCoefficients(c,r),p=v[0],f=v[1];if(void 0!==f){var d=c.newChunk.getInstruction(p);if(d.type===t.Constant&&d.valueType===a.Number){var g=c.newChunk.getInstruction(f);if(g.type===t.Constant&&g.valueType===a.Number){var m=h(e),M=m.chunk,y=m.valueMap,k=l.asFloat(d.value),x=l.asFloat(g.value);y[r]=n;var P=m.replacementMask.slice();return P[n]=!0,{chunk:M,forwardParameterMap:function(e){var r=m.forwardParameterMap(e),t=r[n],a=k+x*t;return r[n]=a,r},reverseParameterMap:function(e){var r=e.slice(),t=(r[n]-k)/x;return r[n]=t,m.reverseParameterMap(r)},isLazy:!1,valueMap:y,replacementMask:P}}}}}}function b(e,r,n){var i=e.chunk,s=e.isLazy?r:e.valueMap[r],c=o.polynomialOrderContext(i,n,{allowRestriction:!1,allowClosedBlockReferences:!0});if(1===o.instructionOrder(c,s)){e.isLazy&&(c=o.polynomialOrderContext(i.copy().reopenFinalBlock(),n,{allowRestriction:!1,allowClosedBlockReferences:!1}));var v=u.polynomialCoefficientContext(c),p=u.instructionCoefficients(v,s),f=p[0],d=p[1];if(void 0!==d){for(var g,m,M=v.newChunk,y=Math.max(d,f),k=[],x=0;x<=y;x++){if(M.getInstruction(x).type===t.LoadArg){var P=N(M.argNames.length);P[x]=!0,k.push(P)}else k.push(L(M,k,M.argNames.length,x))}for(x=0;x<i.argNames.length;x++)if(k[d][x]){if(void 0!==g)return;g=x}else if(k[f][x]){if(void 0!==m)return;m=x}if(void 0!==g&&void 0!==m){var C=o.polynomialOrderContext(M,g,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1===o.instructionOrder(C,d)){var I=o.polynomialOrderContext(M,m,{allowRestriction:!1,allowClosedBlockReferences:!1});if(1===o.instructionOrder(I,f)){var w=u.polynomialCoefficientContext(C),b=u.polynomialCoefficientContext(I),F=u.instructionCoefficients(w,d),S=F[0],A=F[1],z=w.newChunk.getInstruction(S);if(z.type===t.Constant&&z.valueType===a.Number){var R=w.newChunk.getInstruction(A);if(R.type===t.Constant&&R.valueType===a.Number){var O=h(e),T=O.chunk,B=O.valueMap,D=T.Add([T.Multiply([g,n]),m]);B[r]=D;var E=M.copy();E.List([d,f]);var _=E.close().getCompiledFunction().fn,j=l.asFloat(z.value),q=l.asFloat(R.value),V=u.instructionCoefficients(b,f),W=V[0],G=V[1],H=b.newChunk.copy();H.List([W,G]);var J=H.close().getCompiledFunction().fn,K=O.replacementMask.slice();return K[g]=!0,K[m]=!0,{chunk:T,forwardParameterMap:function(e){var r=O.forwardParameterMap(e),t=_.apply(null,r),a=t[0],n=t[1];return r[g]=a,r[m]=n,r},reverseParameterMap:function(e){var r=e.slice(),t=e[g],a=e[m],n=(t-j)/q,i=e.slice();i[g]=n,i.splice(m,1);var s=J.apply(null,i),o=(a-s[0])/s[1];return r[g]=n,r[m]=o,O.reverseParameterMap(r)},isLazy:!1,valueMap:B,replacementMask:K}}}}}}}}}function L(e,r,t,a){var i=e.getInstruction(a),s=N(t);if(n.isLeafInstruction(i))return s;for(var o=0,u=i.args;o<u.length;o++)for(var c=r[u[o]],l=0;l<c.length;l++)s[l]=s[l]||c[l];return s}function N(e){for(var r=[],t=0;t<e;t++)r.push(!1);return r}function F(e){for(var r=[],t=0;t<e;t++)r.push(t);return r}function S(e){return e.type===t.NativeFunction&&("sin"===e.symbol||"cos"===e.symbol)}Object.defineProperty(e,"__esModule",{value:!0}),e.reparameterizeRegression=void 0,e.reparameterizeRegression=function(e){var r=e.getInstruction(e.returnIndex);if(r.type===t.BroadcastResult){var o=r.args[0],u=e.returnIndex-o,c=e.getInstruction(o);if(2===c.args.length){var l=c.args[0],f=c.args[u],h=[],d=[];h.push(l),d.push({min:1,max:v.assertConstantListLength(e,e.returnIndex,"Programming error: cannot optimize regression on non-constant-length list"),length:v.assertConstantListLength(e,e.returnIndex,"Programming error: cannot optimize regression on non-constant-length list")});for(var k=!1,w=!1,b=l+1;b<=f;b++){if((D=e.getInstruction(b)).type===t.ListAccess||D.type===t.InboundsListAccess||D.type===t.DeferredListAccess){if(D.args[1]!==l)continue;var F=D.args[0];if(e.getInstruction(F).valueType!==a.ListOfNumber)continue;if(!i.isConstant(e.getInstruction(F)))continue;var A=g(s.asValue(e,F));if(!isFinite(A.min)||!isFinite(A.max))continue;h.push(b),d.push(A)}else if(D.type===t.NativeFunction)"exp"===D.symbol?w=!0:S(D)&&(k=!0);else if(D.type===t.Exponent||D.type===t.RawExponent)w=!0;else if(n.beginsBlock(D)||n.endsBlock(D))return}if(0!==h.length&&(w||k)){var z=[];for(b=0;b<=f;b++){if(-1!==(ie=h.indexOf(b)))(O=N(h.length))[ie]=!0,z.push(O);else z.push(L(e,z,h.length,b))}var R=[];for(b=0;b<=e.returnIndex;b++){var O;if((D=e.getInstruction(b)).type===t.LoadArg)(O=N(e.argNames.length))[b]=!0,R.push(O);else R.push(L(e,R,e.argNames.length,b))}var T={listAccessDependencyTable:z,listAccesses:h,listStatisticsTable:d},B=void 0;for(b=l+1;b<=e.returnIndex;b++){var D;switch((D=e.getInstruction(b)).type){case t.NativeFunction:if("exp"===D.symbol){var E=D.args[0],_=M(T,E);if(void 0===_){m(e,R,B,b);break}var j=_.listStatistics,q=_.listAccessIndex;(ve=I(p(e),b,E,q,j))?B=[ve]:m(e,R,B,b)}break;case t.Exponent:case t.RawExponent:var V=D.args,W=V[0],G=M(T,V[1]);if(void 0===G||y(T,W)){m(e,R,B,b);break}var H=G.listStatistics,J=G.listAccessIndex;(ve=P(p(e),b,J,H))?B=[ve]:m(e,R,B,b);break;case t.Multiply:if(B&&B.length>1){m(e,R,B,b);break}var K=B&&B.length>0?B[0]:p(e),Q=D.args,U=Q[0],X=Q[1],Y=K.isLazy?U:K.valueMap[U],Z=K.isLazy?X:K.valueMap[X],$=K.chunk.getInstruction(Y),ee=K.chunk.getInstruction(Z),re=void 0,te=void 0,ae=void 0;if($.type===t.NativeFunction)re=U,ae=$,te=X;else{if(ee.type!==t.NativeFunction){m(e,R,B,b);break}re=X,ae=ee,te=U}var ne=M(T,re);if(void 0===ne||y(T,te)){m(e,R,B,b);break}var ie=ne.listAccessIndex,se=ne.listStatistics;if("exp"===ae.symbol){var oe=C(K,b,te,re,ie,se);if(oe){B=oe;break}}else if(S(ae)){if(ve=x(K,b,te,re,ie)){B=[ve];break}}m(e,R,B,b);break;default:m(e,R,B,b)}}if(void 0!==B&&0!==B.length){for(var ue=[],ce=0,le=B;ce<le.length;ce++){var ve=le[ce];ue.push({chunk:ve.chunk.close(),forwardParameterMap:ve.forwardParameterMap,reverseParameterMap:ve.reverseParameterMap})}return ue}}}}}});\ndefine(\'core/math/parsenode-from-value\',["require","exports","parsenodes","core/math/types"],function(require,e,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseNodeFromValue=void 0,e.parseNodeFromValue=function e(t,s){switch(t){case o.Number:case o.Bool:return r.Constant(s);case o.SeedType:return r.Seed(s);case o.Point:return r.ParenSeq([e(o.Number,s[0]),e(o.Number,s[1])]);case o.RGBColor:return r.FunctionCall("rgb",[e(o.Number,s[0]),e(o.Number,s[1]),e(o.Number,s[2])]);case o.EmptyList:case o.ListOfNumber:case o.ListOfBool:case o.ListOfPoint:case o.ListOfColor:case o.ListOfPolygon:case o.ErrorType:for(var n=[],a=o.elementType(t),i=0,c=s;i<c.length;i++){var u=c[i];n.push(e(a,u))}return r.List(n);case o.Polygon:return r.FunctionCall("\\\\polygon",[e(o.ListOfPoint,s)]);case o.Any:case o.Distribution:case o.ListOfAny:case o.ListOfDistribution:case o.Action:throw new Error("Programming error: cannot create parse node from valueType: "+o.repr(t));default:var l=t;throw new Error("Programming error: unexpected valueType: "+o.repr(l))}}});\ndefine(\'core/math/ir/features/optimize-regression\',["require","exports","parsenodes","core/math/builtin","core/math/parsenode/irexpression","tslib","core/math/errormsg","core/math/distance","core/lib/label","core/math/types","core/math/least-squares","./reparameterize-regression","core/math/ir/build-ir","../../parsenode-from-value"],function(require,e,r,i,n,t,a,s,o,u,l,f,p,d){"use strict";function v(e,r,i){for(var n,t,a=e.policy,s=e.frame,o=0,l=r._rhs.getDependencies();o<l.length;o++){var f=l[o];if(!i.hasOwnProperty(f)){var p=s[f];if(p&&("Assignment"===p.type&&(p=p._expression),p.buildIRExpression)){var d=p.buildIRExpression(a,s);if(!d.isError&&d.valueType===u.ListOfNumber){if(void 0!==n){n=void 0,t=void 0;break}0===d.getDependencies().length&&(n=f,t=d)}}}}var v=Object.create(s);void 0!==n&&(v[n]=void 0);var c=r._rhs.buildIRExpression(a,v),g=Object.create(v);for(var m in i)g[m]=i[m];var h=r._rhs.buildIRExpression(a,g);return t?{node:c,substituted:h,listNode:t,isValid:!0}:{node:c,substituted:h,listNode:t,isValid:!1}}function c(e,r){var i=r.getDependencies(),n=r.getCompiledFunction(i).fn;if(i.length){for(var a=r.findLinearSubset(i),s=a.every(function(e){return e}),o=[],u=0,f=i;u<f.length;u++){var p=f[u];o.push(r.takeDerivative(p).getCompiledFunction(i).fn)}if(s)return t.__assign(t.__assign({},l.tryRoundingSmallParametersToZero(n,l.optimizeLinear(n,o))),{isLinear:s});for(var d=[],v=0,c=i;v<c.length;v++){p=c[v];d.push(r.boundDomain(p))}var g={linearSubset:a,bounds:d,preferredInitialGuess:e};return t.__assign(t.__assign({},l.tryRoundingSmallParametersToZero(n,l.optimizeNonLinear(n,o,g))),{isLinear:s})}return{solution:[],MSE:l.evaluateMeanSquare(n,[]),isLinear:!0}}function g(e,i){for(var n={},t=i.getDependencies(),a=0;a<t.length;a++)n[t[a]]=r.Constant(e[a]);return n}function m(e,n,t,o,f,p){if(o.getDependencies().length)throw a.optimizationError();var d=function(e){var r=0;return e.eachElement(function(e){var i=+e.asValue();r+=i*i}),r/e.length}(o);if(!isFinite(d))throw a.optimizationError();if(n.getDependencies().length>0)return{RMSE:Math.sqrt(d)};var v=u.isList(n.valueType)?i.varp(n.asValue()):0;if(n.getDependencies().length||!isFinite(v)||v<=0||!e.isLhsSimple)return{RMSE:Math.sqrt(d)};var c=1-d/v;if(t.isValid){var g=[],m=[],h=f&&(p===L.LINLOG||p===L.LOGLOG);r.List.eachArgs([t.listNode,n],function(e){g.push(h?Math.log(+e[0].asValue()):+e[0].asValue()),m.push(+e[1].asValue())});var E=i.corr(g,m);if(s.approx(function(e,r){function i(i,n){for(var t=[],a=0;a<e.length;a++)t.push(r[a]-(i*e[a]+n));return t}var n=[function(){return e.map(function(e){return-e})},function(){return e.map(function(){return-1})}];return l.optimizeLinear(i,n)}(g,m).MSE,d,8))return{r:E,rsquared:E*E}}return{Rsquared:c}}function h(e,r){var i=e.length,n=e[0],t=r[0],a=e[i-1],o=r[i-1];if(!(isFinite(n)&&isFinite(a)&&isFinite(t)&&isFinite(o)))return!1;if(o-t==0)return!1;var u=a-n;if(0===u)return!1;for(var l=1;l<i-1;l++){var f=e[l],p=r[l],d=(o*(f-n)+t*(a-f))/u;if(!s.approx(p,d,5))return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.tryOptimize=void 0,e.tryOptimize=function(e,i){try{return function(e,i){var n,t=e.policy,s=e.frame,l=e.exportFrame,f=e.lastExportFrame,p=e.priorAnalysis,d=i._lhs.buildIRExpression(t,s),c=i._rhs.buildIRExpression(t,s);if(d.isError)throw d;if(c.isError)throw c;if(d.valueType!==u.Number&&d.valueType!==u.ListOfNumber||c.valueType!==u.Number&&c.valueType!==u.ListOfNumber)throw a.regressionTypeError([u.prettyPrint(d.valueType),u.prettyPrint(c.valueType)]);var g=i._difference.buildIRExpression(t,s,{wrapInList:!0});if(g.isError)throw g;for(var N=0,b=g.getDependencies();N<b.length;N++){var y=b[N];if(!t.validRegressionParameter(y))throw a.invalidRegressionParameter(y)}var R,_=function(e,r,i){var n=[];r||(r={});i||(i={});for(var t=0,a=e;t<a.length;t++){var s=a[t],u=o.identifierToLatex(s);i[s]&&isFinite(i[s].asValue())?n.push(+i[s].asValue()):r.hasOwnProperty(u)&&isFinite(+r[u])?n.push(+r[u]):n.push(1)}return n}(g.getDependencies(),i.userData.regressionParameters,f),D=O(_,g),I=D.parameters,x=D.isLinear,M=D.parameterWarning,w={policy:t,frame:s},V=v(w,i,I),T=E(w,i._difference,I),F=function(e,i,n){if(!e.isLhsSimple)return L.NONE;if(!n.isValid)return L.NONE;var t=n.substituted;if(t.isError)return L.NONE;if(t.valueType!==u.Number)return L.NONE;var a=t.getDependencies();if(1!==a.length)return L.NONE;if(isFinite(n.node.polynomialOrder(a[0])))return L.NONE;var s=t.getCompiledFunction(a).fn,o=n.listNode;if(t.valueType!==u.Number)return L.NONE;var l=o.mapElements(function(e){return+e.asValue()});if(l.length<3)return L.NONE;l.sort(function(e,r){return e-r});var f=l.map(s),p=f.map(Math.log),d=l.map(Math.log),v=!0;return r.List.wrap(i).eachElement(function(e){isFinite(Math.log(+e.asValue()))||(v=!1)}),h(l,p)&&v?L.LOGLIN:h(d,p)&&v?L.LOGLOG:h(d,f)?L.LINLOG:L.NONE}(i,d,V);if(!i.userData.isLogModeRegression||F!==L.LOGLIN&&F!==L.LOGLOG)R=m(i,d,V,T,i.userData.isLogModeRegression,F);else{var S=i._logDifference.buildIRExpression(t,s,{wrapInList:!0});if(S.isError)throw S;var G=i._logLhs.buildIRExpression(t,s,{wrapInList:!0});if(G.isError)throw G;I=(n=O(_,S)).parameters,x=n.isLinear,M=n.parameterWarning,V=v(w,i,I),T=E(w,i._difference,I),R=m(i,G,V,E(w,i._logDifference,I),i.userData.isLogModeRegression,F)}var P=function(e,r){if(e.userData&&e.userData.residualVariable){var i=o.latexToIdentifier(e.userData.residualVariable);if(!r[i])return i}for(var n,t=e.getDependencies(),a=0,s=t;a<s.length;a++){var u=s[a].match(/_(.*)/);if(u&&!r[n="e_"+u[1]])return n}var l=1;for(;;){if(!r[n="e_"+l])return n;l++}}(i,l),z=function(e,r,i){var n,t=e._rhs.getDependencies();for(var a in i)if(i.hasOwnProperty(a)){var s=i[a].concreteTree;if(s.isTable&&s.columns[0]){var o=i[a].rawTree.columns;if(o&&o.length){var u=o[0].getExports();if(1===u.length&&-1!==t.indexOf(u[0])){for(var l=1;l<o.length;l++)if(-1!==o[l].getDependencies().indexOf(r))return;n=n||a}}}}return n||void 0}(i,P,p);return i.userData.residualVariable=o.identifierToLatex(P),r.OptimizedRegression(I,T,R,V.substituted,{isModelValid:V.isValid,residualVariable:P,residualSuggestionId:z,shouldSuggestLogMode:F!==L.NONE,isLinear:x,parameterWarning:M})}(e,i)}catch(e){return e instanceof r.Error?e:a.parseError()}};var L={NONE:0,LOGLIN:1,LOGLOG:2,LINLOG:3};function E(e,r,i){var n=e.policy,t=e.frame,a=Object.create(t);for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s]);var o=p.buildIR({policy:n,frame:a,wrapInList:!0},r);return d.parseNodeFromValue(o.getReturnType(),o.asCompilerValue())}function O(e,r){var i,t,a=r._chunk;if(a&&(t=f.reparameterizeRegression(a)),!t||0===t.length)return{parameters:g((i=c(e,r=r.deriveRegressionRestrictions())).solution,r),isLinear:i.isLinear,parameterWarning:!1};for(var s=r.getDependencies(),o=r.getCompiledFunction(s).fn,u=1/0,p={},d=!1,v=0,m=t;v<m.length;v++){var h=m[v],L=new n(h.chunk);if(L=L.deriveRegressionRestrictions(),(i=c(h.forwardParameterMap(e),L)).MSE<u){var E=h.reverseParameterMap(i.solution),O=l.evaluateMeanSquare(o,E);if(p&&(!isFinite(O)||O>=u)){isFinite(O)||(d=!0);continue}u=i.MSE,p=g(E,r)}}return{parameters:p,isLinear:!1,parameterWarning:d}}});\ndefine(\'core/math/features/analyze\',[\'require\',\'underscore\',\'parsenodes\',\'core/math/statementanalysis\',\'core/math/builtin\',\'core/math/builtinframe\',\'core/math/errormsg\',\'core/math/comparators\',\'core/math/types\',\'core/types/graphmode\',\'core/math/expression-types\',\'core/math/distribution-spec\',\'core/math/workerconfig\',\'core/math/ir/features/solve\',\'core/math/ir/features/optimize-regression\',\'core/math/ir/dependencies\'],function(require){"use strict";var e=require("underscore"),t=require("parsenodes"),i=require("core/math/statementanalysis"),r=require("core/math/builtin"),n=require("core/math/builtinframe"),a=require("core/math/errormsg"),s=require("core/math/comparators"),o=require("core/math/types"),l=require("core/types/graphmode"),c=require("core/math/expression-types").ExpressionType,u=require("core/math/distribution-spec").DistributionParameterDefaultsMap,h=require("core/math/workerconfig"),p=require("core/math/ir/features/solve").trySolve,d=require("core/math/ir/features/optimize-regression").tryOptimize,y=require("core/math/ir/dependencies").getFreeDependencies;function v(e,t,r,n){if(n.isError)return i(e,r,n);var s=n.getDependencies();switch(n.valueType){case o.Distribution:case o.ListOfDistribution:case o.EmptyList:return i(e,r,n);case o.RGBColor:case o.ListOfColor:case o.Action:case o.Polygon:case o.ListOfPolygon:return s.length?i(e,r,a.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(s)):i(e,r,n);case o.Point:case o.ListOfPoint:if(s.length){if(!e.validParametricVariables(s)){var l=r.getSliderVariables(e,n);return i(e,r,a.tooManyVariables(l).setDependencies(l))}return i(e,r,n)}return i(e,r,n);case o.Number:case o.ListOfNumber:return 0===s.length?i(e,r,n):s.length<=e.dimensions()-1?e.validExpressionVariables(s)?i(e,r,n):i(e,r,a.equationRequired(e.implicitDependency(s)).setDependencies(s)):e.validImplicitVariables(s)?i(e,r,a.equationRequired().setDependencies(s)):i(e,r,a.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(s));default:return i(e,r,a.parseError())}}function f(e){return t.FunctionCall("pdf",[e,t.Identifier("x")])}function g(e,t){var r=this.tryGetConcreteTree(e,t),n=r.getDependencies();return n.length?i(e,this,a.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):i(e,this,this.tryGetConcreteTree(e,t))}function b(e){return function(t,r){var n=this.tryGetConcreteTree(t,r),s=n.getDependencies();if(s.length)return i(t,this,a.tooManyVariables(this.getSliderVariables(t,n)).setDependencies(s));var o=i(t,this,this.tryGetConcreteTree(t,r));if(!n.isError){o.evaluationState.expression_type=c.TTEST;var l=n.args.map(function(e){return e.asValue()});o.evaluationState.ttest_results=e.apply(null,l)}return o}}function m(e,t){return e.filter(function(e){return!t[e]})}t.Base.prototype.analyze=function(e,t){return i(e,this,this.tryGetConcreteTree(e,t))},t.FunctionCall.prototype.analyze=function(e,t){return v(e,0,this,u[this._symbol]&&0===y(t,this).length?f(this).tryGetConcreteTree(e,t):this.tryGetConcreteTree(e,t))},t.Expression.prototype.analyze=function(e,t){return v(e,0,this,this.tryGetConcreteTree(e,t))},t.FunctionDefinition.prototype.analyze=function(e,t){if(n[this._symbol])return this.asEquation().analyze(e,t);var r=this._symbol.split("_")[0];if(n[r]&&n[r].isFunction)return i(e,this,a.cannotRedefine(this._symbol,r));var s=this.tryGetConcreteTree(e,t);if(s.isError)return i(e,this,s);var o=this._argSymbols,l=s.getDependencies();if(-1!==l.indexOf(this._symbol))return i(e,this,a.selfReferentialFunction(this._symbol));var c=l.filter(function(e){return-1===o.indexOf(e)});if(e.unplottablePolarFunction(this._symbol,l))return i(e,this,a.unplottablePolarFunction());if(c.some(e.assignmentForbidden))return i(e,this,a.addArgumentsToDefinition(c,this._symbol,o).setDependencies(l));if(c.length){var u=this.getSliderVariables(e,s);return i(e,this,a.tooManyVariables(u).setDependencies(u))}return i(e,this,s)},t.Assignment.prototype.analyze=function(e,r,s){var l,c=this._symbol;if(!e.validLHS(c))return i(e,this,a.invalidLHS(c));if(n[c])return this.asEquation().analyze(e,r);if(this._expression instanceof t.FunctionCall&&u[this._expression._symbol]&&0===y(r,this).length)l=f(this._expression).tryGetConcreteTree(e,r);else{var h=Object.create(r);h[c]=e.validSolvedVariable(c)?void 0:a.invalidImplicitVariables(),l=this.tryGetConcreteTree(e,h)}if(l.isError)return i(e,this,l);var p=l.getDependencies();if(this.isEquation(l))return this.asEquation().analyze(e,r);var d=l.valueType===o.RGBColor||l.valueType===o.ListOfColor;if(p.length>1||d&&p.length){var v=this.getSliderVariables(e,l);return d||v.length?i(e,this,a.tooManyVariables(v).allowExport().setDependencies(v)):i(e,this,l)}var g=this.getMoveStrategy(e,r,l,s,this.userData);if(g){var b=this.getDefaultDragMode(g);return i(e,this,t.MovablePoint([l.elementAt(0),l.elementAt(1)],g,b))}return i(e,this,l)},t.Regression.prototype.analyze=function(e,t,r,n,a){return i(e,this,d({policy:e,frame:t,exportFrame:r,lastExportFrame:n,priorAnalysis:a},this))},t.Histogram.prototype.analyze=g,t.Object3D.prototype.analyze=g,t.DotPlot.prototype.analyze=g,t.BoxPlot.prototype.analyze=g,t.TTest.prototype.analyze=b(r.ttest),t.IndependentTTest.prototype.analyze=b(r.ittest),t.Stats.prototype.analyze=function(e,t){var n=this.tryGetConcreteTree(e,t),s=n.getDependencies();if(s.length)return i(e,this,a.tooManyVariables(this.getSliderVariables(e,n)).setDependencies(s));var o=i(e,this,this.tryGetConcreteTree(e,t));if(!n.isError){o.evaluationState.expression_type=c.STATS;var l=n.args.map(function(e){return e.asValue()});o.evaluationState.stats_results=r.stats.apply(null,l)}return o},t.Equation.prototype.analyze=t.BaseComparator.prototype.analyze=function(e,r){var n="="!==this.getOperator();if(!h.plotInequalities&&n)return i(e,this,a.inequalitiesDisabled());var s=p({policy:e,frame:r},this.asComparator());if(s.isError)return i(e,this,s);if(s instanceof t.SolvedEquation&&s.getDependencies().length){var o=s.getDependencies().concat(s._symbol);if(!e.validImplicitVariables(o))return i(e,this,a.invalidImplicitVariables().setDependencies(o))}return this.getGraphMode(e,s)!==l.IMPLICIT||e.validImplicitVariables(s.getDependencies())?i(e,this,s):i(e,this,a.invalidImplicitVariables().setDependencies(s.getDependencies()))},t.DoubleInequality.prototype.analyze=function(e,t){if(!h.plotInequalities)return i(e,this,a.inequalitiesDisabled());var r=this.tryGetConcreteTree(e,t);if(r.isError)return i(e,this,r);var n=r.getDependencies();return s.table[this._operators[0]].direction!==s.table[this._operators[1]].direction?i(e,this,a.mismatchedDoubleInequality()):e.validDoubleInequalitySymbol(r._symbol)&&e.validDoubleInequalityVariables(n)?n.length>2?i(e,this,a.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):-1!==r._expressions[0].getDependencies().indexOf(r._symbol)||-1!==r._expressions[1].getDependencies().indexOf(r._symbol)?i(e,this,a.complicatedDoubleInequality().setDependencies(n)):i(e,this,r):i(e,this,a.invalidDoubleInequalityVariables().setDependencies(n))},t.And.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return i(e,this,r);var n=r.getDependencies();return n.length?e.validDoubleInequalityVariables(n)?i(e,this,a.complicatedDoubleInequality().setDependencies(n)):i(e,this,a.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):i(e,this,r)},t.ParenSeq.prototype.analyze=function(e,r,n){var a=this.tryGetConcreteTree(e,r);if(a.isError)return i(e,this,a);var s=this.getMoveStrategy(e,r,a,n,this.userData);if(s){var o=this.getDefaultDragMode(s),l=a.asCompilerValue(),c=[t.Constant(l[0]),t.Constant(l[1])];return i(e,this,t.MovablePoint(c,s,o))}return v(e,0,this,a)},t.Table.prototype.analyze=function(e,r){for(var n=Object.create(r),s=Object.create(n),o=[],l=function(e){for(var i={},r=0;r<e.length;r++){var n=e[r];if(n.header instanceof t.Identifier){var a=n.header._symbol;void 0===i[a]&&(i[a]=0),i[a]+=1}}return i}(this.columns),c=0;c<this.columns.length;c++){var u=this.columns[c];if(u.header instanceof t.Identifier){var h=u.header._symbol,p=n[h],d=l[h]>1;p&&p.isError&&p.isMultiplyDefinedByTables&&!d&&(n[h]=void 0)}var y=u.analyze(e,n,s);if(0===c)if(y.concreteTree.isIndependent){var v=y.concreteTree.getDependencies()[0];e.validFirstColumnVariable(v)?s[v]=void 0:y=i(e,u,a.invalidFirstTableColumn())}else y=i(e,u,a.invalidDependentFirstTableColumn());if(y.concreteTree.isIndependent)y.rawTree.exportToLocal(y.concreteTree,n);else if(!y.concreteTree.isError){var f=m(y.concreteTree.header.getDependencies(),n);f.length&&(y=i(e,u,a.tooManyVariables(f).setDependencies(f)))}o.push(y.concreteTree)}var g=t.Table(o),b=i(e,this,g);return b.evaluationState.is_graphable=!0,b},t.TableColumn.prototype.analyze=function(e,t,r){var n=this.header.tableError();if(n)return i(e,this,a.invalidTableHeader(n));var s=this.tryGetConcreteTree(e,t,r);if(s.isError)return i(e,this,s);if(s.header.isError)return i(e,this,s.header);if(s.values.isError)return i(e,this,s.values);for(var o=0;o<s.values.length;o++)if(!s.values[o].isError){var l=this.values[o]&&this.values[o].tableError();if(l)s.values[o]=a.invalidTableEntry(l);else{var c=s.values[o].getDependencies();c.length&&(s.values[o]=a.tooManyVariables(c).setDependencies(c))}}return i(e,this,s)},t.Image.prototype.analyze=function(e,r,n){var s=this.tryGetConcreteTree(e,r);if(s.radianAngle.isError||s.center.isError||s.width.isError||s.height.isError||s.opacity.isError)return i(e,this,s);var o=s.center.getDependencies(),l=s.radianAngle.getDependencies(),c=s.width.getDependencies(),u=s.height.getDependencies(),h=s.opacity.getDependencies();return o.length||l.length||c.length||u.length||h.length?i(e,this,t.Image({center:o.length?a.tooManyVariables(l).setDependencies(o):s.center,radianAngle:l.length?a.tooManyVariables(l).setDependencies(l):s.radianAngle,width:c.length?a.tooManyVariables(c).setDependencies(c):s.width,height:u.length?a.tooManyVariables(u).setDependencies(u):s.height,opacity:h.length?a.tooManyVariables(h).setDependencies(h):s.opacity})):(s.moveStrategy=this.getMoveStrategy(e,r,s,n,this.userData),i(e,this,s))},t.Slider.prototype.analyze=function(t,r){var n,s=this.tryGetConcreteTree(t,r),o=s.sliderInfo;if(o.missingVars.length){var l=e.unique(o.missingVars);n=i(t,this,a.tooManyVariables(t.sliderVariables(l)).setDependencies(l).allowExport())}else n=i(t,this,s);var c=n.evaluationState;if(h.sliders){c.assignment=o.exportedSymbol,c.slider_min_number=o.values.min,c.slider_max_number=o.values.max,c.slider_step_number=o.values.step,c.slider_min_valid=o.valids.min,c.slider_max_valid=o.valids.max,c.slider_step_valid=o.valids.step;var u=c.slider_min_valid&&c.slider_max_valid&&c.slider_step_valid;c.is_slider=!0,c.raw_slider_latex=this.getInputString(),c.is_slidable=u,c.is_animatable=c.is_slidable&&!c.is_graphable,o.errMsg&&(c.error=o.errMsg.getError())}return delete c.is_evaluable,delete c.zero_values,n}});\ndefine(\'core/math/features/analyzeFourFunction\',[\'require\',\'parsenodes\',\'core/math/statementanalysis\',\'core/math/errormsg\',\'core/math/builtinframe\'],function(require){"use strict";var n=require("parsenodes"),t=require("core/math/statementanalysis"),e=require("core/math/errormsg"),r=require("core/math/builtinframe");function o(n,r){return t(n,this,e.inequalitiesUnsupported())}n.Base.prototype.analyzeFourFunction=function(n,r){var o=this.tryGetConcreteTree(n,r);return o.isError?t(n,this,o):t(n,this,e.parseError())},n.Expression.prototype.analyzeFourFunction=function(n,o){var i=this.tryGetConcreteTree(n,o);if(i.isError)return t(n,this,i);var u=i.getDependencies();if(u.length>0){var s,a=u[0],p=r[a];return s=p?p.isFunction?e.functionUnsupported(a):e.constantUnsupported(a):e.variablesUnsupported(a),t(n,this,s)}return t(n,this,i)},n.Assignment.prototype.analyzeFourFunction=function(n,r){return t(n,this,e.assignmentsUnsupported())},n.FunctionDefinition.prototype.analyzeFourFunction=function(n,r){return t(n,this,e.functionDefinitionsUnsupported())},n.Equation.prototype.analyzeFourFunction=function(n,r){return t(n,this,e.equationsUnsupported())},n.And.prototype.analyzeFourFunction=o,n.DoubleInequality.prototype.analyzeFourFunction=o,n.BaseComparator.prototype.analyzeFourFunction=o,n.Regression.prototype.analyzeFourFunction=function(n,r){return t(n,this,e.regressionsUnsupported())},n.ParenSeq.prototype.analyzeFourFunction=function(n,r){return t(n,this,e.pointsUnsupported())}});\ndefine(\'core/math/features/analyzeScientific\',[\'require\',\'parsenodes\',\'core/math/statementanalysis\',\'core/math/errormsg\',\'core/math/builtinframe\'],function(require){"use strict";var t=require("parsenodes"),e=require("core/math/statementanalysis"),i=require("core/math/errormsg"),n=require("core/math/builtinframe");function r(t,n){return e(t,this,i.inequalitiesUnsupported())}t.Base.prototype.analyzeScientific=function(t,n){var r=this.tryGetConcreteTree(t,n);return r.isError?e(t,this,r):e(t,this,i.parseError())},t.Expression.prototype.analyzeScientific=function(t,n){var r=this.tryGetConcreteTree(t,n);if(r.isError)return e(t,this,r);var s=r.getDependencies();return s.length>0?e(t,this,i.tooManyVariables(s)):e(t,this,r)},t.Assignment.prototype.analyzeScientific=function(t,r){var s=this._symbol;if(n[s])return e(t,this,i.cannotRedefine(s));var o=Object.create(r);o[s]=i.equationsUnsupported();var a=this.tryGetConcreteTree(t,o);if(a.isError)return e(t,this,a);var c=a.getDependencies();return this.isEquation(a)?e(t,this,i.equationsUnsupported()):c.length>0?e(t,this,i.tooManyVariables(c)):e(t,this,a)},t.FunctionDefinition.prototype.analyzeScientific=function(t,r){if(n[this._symbol])return e(t,this,i.cannotRedefine(this._symbol));var s=this.tryGetConcreteTree(t,r);if(s.isError)return e(t,this,s);var o=this._argSymbols,a=s.getDependencies();if(-1!==a.indexOf(this._symbol))return e(t,this,i.selfReferentialFunction(this._symbol));var c=a.filter(function(t){return-1===o.indexOf(t)});return c.length?e(t,this,i.addArgumentsToDefinition(c,this._symbol,o)):e(t,this,s)},t.Equation.prototype.analyzeScientific=function(t,n){return e(t,this,i.equationsUnsupported())},t.And.prototype.analyzeScientific=r,t.DoubleInequality.prototype.analyzeScientific=r,t.BaseComparator.prototype.analyzeScientific=r,t.Regression.prototype.analyzeScientific=function(t,n){return e(t,this,i.regressionsUnsupported())},t.ParenSeq.prototype.analyzeScientific=function(t,n){return e(t,this,i.pointsUnsupported())}});\ndefine(\'core/math/features/analyzeSingleExpressionScientific\',[\'require\',\'parsenodes\',\'core/math/statementanalysis\',\'core/math/errormsg\',\'core/math/builtinframe\'],function(require){"use strict";var e=require("parsenodes"),n=require("core/math/statementanalysis"),i=require("core/math/errormsg"),t=require("core/math/builtinframe");function r(e,t){return n(e,this,i.inequalitiesUnsupported())}e.Base.prototype.analyzeSingleExpressionScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?n(e,this,r):n(e,this,i.parseError())},e.Expression.prototype.analyzeSingleExpressionScientific=function(e,r){var s=this.tryGetConcreteTree(e,r);if(s.isError)return n(e,this,s);var o=s.getDependencies();if(o.length>0){var p,a=o[0],c=t[a];return p=c?c.isFunction?i.functionUnsupported(a):i.constantUnsupported(a):i.variablesUnsupported(a),n(e,this,p)}return n(e,this,s)},e.Assignment.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.assignmentsUnsupported())},e.FunctionDefinition.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.functionDefinitionsUnsupported())},e.Equation.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.equationsUnsupported())},e.And.prototype.analyzeSingleExpressionScientific=r,e.DoubleInequality.prototype.analyzeSingleExpressionScientific=r,e.BaseComparator.prototype.analyzeSingleExpressionScientific=r,e.Regression.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.regressionsUnsupported())},e.ParenSeq.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.pointsUnsupported())}});\ndefine(\'core/lib/dragmode\',["require","exports"],function(require,e){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.reconcileDragMode=e.DragMode=void 0,function(e){e.NONE="NONE",e.X="X",e.Y="Y",e.XY="XY",e.AUTO="AUTO"}(r=e.DragMode||(e.DragMode={})),e.reconcileDragMode=function(e,n){var t=function(e){return e?"none"===e[0].type&&"none"===e[1].type?r.NONE:"none"===e[1].type?r.X:"none"===e[0].type?r.Y:r.XY:r.NONE}(n);switch(e){case r.NONE:return r.NONE;case r.AUTO:case r.XY:return t;case r.X:return t===r.X||t===r.XY?r.X:r.NONE;case r.Y:return t===r.Y||t===r.XY?r.Y:r.NONE;default:return r.NONE}}});\ndefine(\'core/math/features/getgraphmode\',[\'require\',\'parsenodes\',\'core/types/graphmode\',\'core/lib/dragmode\',\'core/lib/dragmode\',\'core/math/types\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/types/graphmode"),r=require("core/lib/dragmode").reconcileDragMode,o=require("core/lib/dragmode").DragMode,n=require("core/math/types");function s(e,s){if(s.isMovablePoint&&function(e,t){var n;return n=e&&e.hasOwnProperty("dragMode")?e.dragMode===o.AUTO?t.defaultDragMode:e.dragMode:t.defaultDragMode,r(n,t.moveStrategy)}(this.userData,s)!==o.NONE)return t.XYPOINT_MOVABLE;var i=s.getDependencies();switch(s.valueType){case n.Point:case n.ListOfPoint:return 0===i.length?t.XYPOINT:e.validParametricVariables(i)?2===e.dimensions()?t.PARAMETRIC:t.PARAMETRIC_CURVE_3D:t.NONE;case n.Number:case n.ListOfNumber:return 2===e.dimensions()&&1===i.length?t.Y:3===e.dimensions()&&2===i.length?t.Z_3D:t.NONE;case n.Polygon:case n.ListOfPolygon:return t.POLYGON;default:return t.NONE}}function i(e,r){var o=r._expression.getDependencies();if(o.length>1)return t.NONE;if(r._expression.isList&&0===r._expression.length)return t.NONE;var n=r._symbol;return e.graphMode(n,o)}function a(e,r){return r.isError?t.NONE:t.VISUALIZATION}e.Base.prototype.getGraphMode=function(e,r){return t.NONE},e.Expression.prototype.getGraphMode=s,e.Equation.prototype.getGraphMode=e.BaseComparator.prototype.getGraphMode=function(r,o){var n=o.getDependencies();return o.isConstant?t.NONE:o instanceof e.SolvedEquation?0===n.length?r.graphableAsConstant(o._symbol)?r.constantGraphMode(o._symbol):t.NONE:i(r,o):1===n.length||2===n.length?t.IMPLICIT:t.NONE},e.DoubleInequality.prototype.getGraphMode=function(e,t){return e.constantGraphMode(t._symbol)},e.Assignment.prototype.getGraphMode=function(r,o){if(o instanceof e.SolvedEquation)return i(r,o);if(this.isEquation(o))return this.asEquation().getGraphMode(r,o);var a=o.getDependencies();switch(o.valueType){case n.Number:case n.ListOfNumber:case n.EmptyList:switch(a.length){case 0:return r.graphableAsConstant(this._symbol)?r.constantGraphMode(this._symbol):t.NONE;case 1:return o.valueType!==n.ListOfNumber||r.graphableListVariables(this._symbol,a[0])?this.isSlider?t.NONE:r.graphMode(this._symbol,a):t.NONE;case 2:return 3===r.dimensions()&&"z"===this._symbol?t.Z_3D:t.NONE;default:return t.NONE}break;default:return s.call(this,r,o)}},e.FunctionDefinition.prototype.getGraphMode=function(e,r){if(1!==this._argSymbols.length)return t.NONE;var o=e.graphMode(this._symbol,this._argSymbols),s=r.getDependencies();switch(r.valueType){case n.Number:case n.ListOfNumber:switch(s.length){case 0:return o;case 1:return s[0]!==this._argSymbols[0]?t.NONE:o;default:return t.NONE}break;default:return t.NONE}},e.Regression.prototype.getGraphMode=function(e,r){return this.isLhsSimple&&r.isModelValid?1!==r.model.getDependencies().length?t.NONE:t.Y:t.NONE},e.Object3D.prototype.getGraphMode=function(e,r){return r.isError?t.NONE:t.OBJECT3D},e.Histogram.prototype.getGraphMode=a,e.DotPlot.prototype.getGraphMode=a,e.BoxPlot.prototype.getGraphMode=a,e.Image.prototype.getGraphMode=function(e,r){return this.userData.showPoints?this.center.isError||this.radianAngle.isError||this.width.isError||this.height.isError||this.opacity.isError?t.NONE:t.XYPOINT:t.NONE}});\ndefine(\'core/lib/color-helpers\',["require","exports"],function(require,e){"use strict";function r(e){return t(e)?(e.match(/^#([A-Fa-f0-9]{3})$/g)&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),e.toLowerCase()):e}function t(e){return"string"==typeof e&&(e.match(/^#([A-Fa-f0-9]{3})$/g)||e.match(/^#([A-Fa-f0-9]{6})$/g))}Object.defineProperty(e,"__esModule",{value:!0}),e.colors=e.getDisplayColor=e.mutateOpacity=e.parseHex=e.invertColor=e.shadeColor=e.isValidHexColor=e.normalizeColor=void 0,e.normalizeColor=r,e.isValidHexColor=t,e.shadeColor=function(e,a){if(!t(e=r(e)))return e;a>1&&(a=1),a<-1&&(a=-1);var o=parseInt(e.slice(1),16),n=a<0?0:255,i=a<0?-1*a:a,l=o>>16,c=o>>8&255,s=255&o;return"#"+(16777216+65536*(Math.round((n-l)*i)+l)+256*(Math.round((n-c)*i)+c)+(Math.round((n-s)*i)+s)).toString(16).slice(1)},e.invertColor=function(e){if(!t(e=r(e)))return e;var a="0123456789abcdef";return"#"+e.slice(1).split("").map(function(e){return a[15-a.indexOf(e)]}).join("")},e.parseHex=function(e){if(3===(e=e.replace(/#/,"")).length)var r=parseInt(e.slice(0,1)+e.slice(0,1),16),t=parseInt(e.slice(1,2)+e.slice(1,2),16),a=parseInt(e.slice(2,3)+e.slice(2,3),16);else if(6===e.length)r=parseInt(e.slice(0,2),16),t=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);else r=0,t=0,a=0;return{r:r,g:t,b:a}},e.mutateOpacity=function(e,r){var t=/(rgba\\([\\d]+\\,\\ ?[\\d]+\\,\\ ?[\\d]+\\,\\ ?)[\\d.]+(\\))/;return e.match(t)?e.replace(t,"$1"+r+"$2"):e},e.getDisplayColor=function(e,r){if(r&&r.colorLatexValue){var t=r.colorLatexValue;return Array.isArray(t)?t[0]:t}return e.color},e.colors={RED:"#c74440",BLUE:"#2d70b3",GREEN:"#388c46",PURPLE:"#6042a6",ORANGE:"#fa7e19",BLACK:"#000000",GRAY:"#aaaaaa"}});\ndefine(\'core/math/features/getgraphinfo\',[\'require\',\'parsenodes\',\'core/math/domaintypes\',\'core/math/types\',\'core/lib/color-helpers\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/math/domaintypes"),n=require("core/math/types"),a=require("core/lib/color-helpers").getDisplayColor;function r(e){switch(e.valueType){case n.Number:return o(e);case n.Point:var t=o(e.elementAt(0)),a=o(e.elementAt(1));if(!t||!a)return;return[t,a];default:return}}function o(e){var t=e.getDependencies();switch(t.length){case 0:return[+e.asValue(),0];case 1:if(e.polynomialOrder(t[0])>1)return;var n=e.getPolynomialCoefficients(t[0]);return[n[0]?+n[0].asValue():0,n[1]?+n[1].asValue():0];default:return}}e.Base.prototype.getGraphInfo=function(e,n){var o,i,s=n.getDependencies();switch(s.length){case 0:o=r(n),i=n.boundDomain("x");break;case 1:"known"===(i=n.boundDomain(s[0])).type&&(o=r(n));break;case 2:i=t.unknownDomain()}return{graphMode:this.getGraphMode(e,n),color:a(this.userData,this.metaData),pointStyle:this.userData.pointStyle,lineStyle:this.userData.lineStyle,operator:this.getOperator(),isLinear:!!o,linearCoefficients:o,domainBound:i}}});\ndefine(\'core/math/features/getMoveStrategy\',[\'require\',\'parsenodes\',\'core/math/types\',\'core/math/maybe-rational\',\'core/math/functions\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/math/types"),n=require("core/math/maybe-rational").maybeRational,r=require("core/math/functions"),i=e.Constant(n(0,1));function a(e){return{type:"none",inputString:e}}function o(e){return{type:"updateCoordinate",inputString:e}}function s(e,t,n){return{type:"updateSlider",inputString:e,id:t,coefficients:n}}function u(e,t,n,r){return{type:"updateSliderNonlinear",inputString:e,id:t,initialValue:n.constant_value,min:n.slider_min_number,max:n.slider_max_number,compiled:r}}function c(e,t,n,r,a,o){for(var s=t.getDependencies(),u=0;u<s.length;u++)if(a[s[u]])return!1;for(var c=s.length-1;c>=0;c--){var f=s[c];if(!o[f]){var g=r[f];if(void 0!==g){var l=n[f];if(1===l.order){var p=l.tree.getPolynomialCoefficients(f),v=p[1]||i,d=p[0]||i;if(d.isConstant&&v.isConstant)if(isFinite(d.asValue())&&isFinite(v.asValue()))if(0!==v.asValue())return{symbol:f,id:g,coefficients:[-d.asValue()/v.asValue(),1/v.asValue()]}}}}}return!1}function f(e,t){var n=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}(e),r={};for(var i in t){var a=t[i].evaluationState.assignment;t[i].evaluationState.is_slidable&&n[a]&&(r[a]=i)}return r}function g(e,t,n,r){for(var i=[],a=0;a<n.length;a++){var o=n[a],s={};i.push(s);for(var u=0;u<r.length;u++){var c=r[u],f=Object.create(t);f[c]=void 0;var g=o.tryGetConcreteTree(e,f);g.isError?s[c]={tree:g,order:1/0}:s[c]={tree:g,order:g.polynomialOrder(c)}}}return i}function l(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];0!==t[i].order&&(n[i]=!0)}}e.Base.prototype.getMoveStrategy=function(){},e.Assignment.prototype.getMoveStrategy=function(t,n,r,i,a){if(this._expression instanceof e.ParenSeq)return this._expression.getMoveStrategy(t,n,r,i,a)},e.ParenSeq.prototype.getMoveStrategy=function(e,n,i,p,v){if(i.valueType===t.Point&&0===i.getDependencies().length){for(var d=f(this.getDependencies(),p),y=Object.keys(d),h=this.args,m=g(e,n,h,y),S=[],C={},b={},_=0;_<2;_++){var I=h[_],V=I.getInputString();if(I.isConstant)S[_]=o(V);else{var P=c(0,I,m[_],d,C,b);P&&(S[_]=s(V,P.id,P.coefficients),C[P.symbol]=!0,l(y,m[_],b)),S[_]||(S[_]=a(V))}}if("none"!==S[0].type||"none"!==S[1].type)return S;if(1===y.length){var D,M=y[0],O=d[M];try{var j=Object.create(n);j[M]=void 0,D=this.getConcreteTree(e,j).getCompiledFunction()}catch(e){return}return r.dehydrateCompiledFunction(D),[u(h[0].getInputString(),O,p[O].evaluationState,D),a(h[1].getInputString())]}}},e.Image.prototype.getMoveStrategy=function(e,n,r,i,u){if(r.center.valueType===t.Point&&0===r.center.getDependencies().length&&r.width.isConstant&&r.height.isConstant&&r.radianAngle.isConstant&&r.opacity.isConstant){var p=f(this.getDependencies(),i),v=Object.keys(p),d=[this.width,this.height];"ParenSeq"===this.center.type?d.push(this.center.args[0],this.center.args[1]):"Identifier"===this.center.type&&(this.center.referencedStatementId=function(e,t){for(var n in t)if(t[n].evaluationState.assignment===e)return n}(this.center._symbol,i));for(var y=[],h={},m={},S=g(e,n,d,v),C=[2,3,0,1],b=0;b<C.length;b++){var _=C[b],I=d[_];if(I){var V=I.getInputString();if(I.isConstant)y[_]=o(V);else{var P=c(0,I,S[_],p,h,m);P&&(y[_]=s(V,P.id,P.coefficients),h[P.symbol]=!0,l(v,S[_],m)),y[_]||(y[_]=a(V))}}else y[_]=a("")}if("none"!==y[0].type||"none"!==y[1].type||"none"!==y[2].type||"none"!==y[3].type)return y}}});\ndefine(\'core/math/features/getDefaultDragMode\',[\'require\',\'parsenodes\',\'core/lib/dragmode\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/lib/dragmode").DragMode;e.Base.prototype.getMoveStrategy=function(){return t.NONE},e.Assignment.prototype.getDefaultDragMode=function(e){return"none"!==e[0].type&&"none"!==e[1].type?t.XY:"none"!==e[0].type?t.X:"none"!==e[1].type?t.Y:t.NONE},e.ParenSeq.prototype.getDefaultDragMode=function(e){return"updateSlider"===e[0].type&&"updateSlider"===e[1].type?t.XY:"updateSlider"===e[0].type?t.X:"updateSlider"===e[1].type?t.Y:t.NONE}});\ndefine(\'core/math/features/tableinfo\',[\'require\',\'parsenodes\',\'core/math/types\',\'core/lib/label\',\'core/math/distribution-spec\'],function(require){"use strict";var e=require("parsenodes"),t=e.List,n=require("core/math/types"),i=require("core/lib/label"),r=require("core/math/distribution-spec").getFunctionSpecFromTree;e.Base.prototype.tableInfo=function(e,t){return!1},e.Identifier.prototype.tableInfo=function(e,t){return!!e.validFirstColumnVariable(this._symbol)&&{independent_variable:this._symbol,dependent_column:this.getInputString(),by_reference:!1}},e.Expression.prototype.tableInfo=function(e,i){var o=i.getDependencies();if(r(this))return!1;switch(i.valueType){case n.Point:case n.ListOfPoint:return 0===o.length&&((!i.isMovablePoint||"updateSlider"!==i.moveStrategy[0].type&&"updateSlider"!==i.moveStrategy[1].type)&&{independent_variable:"x",dependent_column:"y",by_reference:!1,values:t.wrap(i).asValue()});case n.Number:if(1!==o.length)return!1;var a=o[0];return!!e.validFirstColumnVariable(a)&&{independent_variable:a,dependent_column:this.getInputString(),by_reference:!1};default:return!1}},e.Assignment.prototype.tableInfo=function(t,n){if(n instanceof e.SolvedEquation)return!1;if(!this.getInputString().length)return!1;if(r(this))return!1;var o,a=n.getDependencies();if(a.length>1)return!1;if(0===a.length){if(!t.tableableAsConstant(this._symbol))return!1;o=t.implicitIndependent(this._symbol)}else o=a[0];return!!t.validFirstColumnVariable(o)&&{independent_variable:o,dependent_column:t.assignmentForbidden(this._symbol)?i.trimLatex(this.getInputString().replace(/[^=]*=/,"")):i.trimLatex(this.getInputString().split("=")[0]),by_reference:!t.assignmentForbidden(this._symbol)}},e.FunctionDefinition.prototype.tableInfo=function(e,t){if(1!==this._argSymbols.length)return!1;if(!this.getInputString().length)return!1;if(t.getDependencies().length>1)return!1;var n=this._argSymbols[0];if(!e.validFirstColumnVariable(n))return!1;var r=e.assignmentForbidden(this._symbol);return{independent_variable:n,dependent_column:r?i.trimLatex(this.getInputString().replace(/[^=]*=/,"")):i.trimLatex(this.getInputString().split("=")[0]),by_reference:!r}},e.BaseComparator.prototype.tableInfo=function(e,t){return!1},e.DoubleInequality.prototype.tableInfo=function(e,t){return!1},e.Equation.prototype.tableInfo=function(e,t){return!1}});\ndefine(\'core/math/features/tableerror\',[\'require\',\'parsenodes\',\'core/lib/worker-i18n\'],function(require){"use strict";var r=require("parsenodes"),e=require("core/lib/worker-i18n");r.Base.prototype.tableError=function(){return this.isInequality()?e.s("shared-calculator-error-table-inequality-supplement"):!(this instanceof r.Expression||this instanceof r.IRExpression)&&e.s("shared-calculator-error-table-generic-supplement")},r.List.prototype.tableError=function(){return e.s("shared-calculator-error-table-list-supplement")},r.Equation.prototype.tableError=r.Assignment.prototype.tableError=function(){return e.s("shared-calculator-error-table-equation-supplement")},r.FunctionDefinition.prototype.tableError=function(){return e.s("shared-calculator-error-table-function-definition-supplement")},r.Regression.prototype.tableError=function(){return e.s("shared-calculator-error-table-regression-supplement")}});\ndefine(\'core/math/curve-accumulator\',["require","exports","core/math/distance"],function(require,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Accumulator=void 0;var i=function(){function t(t){t?(this.xtolerance=t.xtolerance||t.tolerance||0,this.ytolerance=t.ytolerance||t.tolerance||0,this.ztolerance=t.ztolerance||t.tolerance||0,this.map=t.map):this.xtolerance=this.ytolerance=this.ztolerance=0,this.segments=[],this.segment=[],this.pivotPoint=void 0,this.pendingPoint=void 0}return t.prototype.colinear=function(t,i,n){this.map&&(t=this.map(t),i=this.map(i),n=this.map(n));var s=e.pointToSegmentParameter(n[0],n[1],n[2]||0,t[0],t[1],t[2]||0,i[0],i[1],i[2]||0);if(s<1)return!1;var h=[t[0]+s*(i[0]-t[0]),t[1]+s*(i[1]-t[1]),3===t.length?t[2]+s*(i[2]-t[2]):0];return Math.abs(n[0]-h[0])<=this.xtolerance&&Math.abs(n[1]-h[1])<=this.ytolerance&&(2===t.length||Math.abs(n[2]-h[2])<=this.ztolerance)},t.prototype.addPoint=function(t){if(this.dimensions=t.length,this.xtolerance<0&&this.ytolerance<0&&(2===this.dimensions||this.ztolerance<0))this.segment.push.apply(this.segment,t);else if(this.segment.length){var i=2===this.dimensions?[this.segment[this.segment.length-2],this.segment[this.segment.length-1]]:[this.segment[this.segment.length-3],this.segment[this.segment.length-2],this.segment[this.segment.length-1]];if(t[0]!==i[0]||t[1]!==i[1]||t[2]!==i[2]){if(!this.pivotPoint||!this.pendingPoint)return this.pivotPoint=t,void(this.pendingPoint=t);(!this.colinear(i,this.pivotPoint,t)||e.hypot(i[0]-t[0],i[1]-t[1],(i[2]||0)-(t[2]||0))<e.hypot(i[0]-this.pendingPoint[0],i[1]-this.pendingPoint[1],(i[2]||0)-(this.pendingPoint[2]||0)))&&(this.flushPending(),this.pivotPoint=t),this.pendingPoint=t}}else this.segment.push.apply(this.segment,t)},t.prototype.flushPending=function(){this.pendingPoint&&(this.segment.push.apply(this.segment,this.pendingPoint),this.pivotPoint=void 0,this.pendingPoint=void 0)},t.prototype.breakSegment=function(){this.flushPending(),this.segment.length>(this.dimensions||2)&&this.segments.push(this.segment),this.segment=[]},t.prototype.getSegments=function(){return this.breakSegment(),this.segments},t.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0}},t}();t.Accumulator=i});\ndefine(\'core/math/implicit-plotter\',["require","exports","core/math/distance","./curve-accumulator"],function(require,e,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.displayTriangles=e.traceContours=e.triangulate=e.buildQuadTree=e.sampleImplicitDiagnostic=e.sampleImplicit=void 0;var n=Math.pow(2,14);function t(e,r){var i=Math.pow(2,-5),n=u(r,i),t=u(r,2*i),c=v(e,n,t),a=k(c.root,e,n);return{paddedDomain:n,rootDomain:t,quadTree:c,triangles:a,contours:I(a,e,n)}}function c(e,r,i){return{x:e,y:r,z:i}}function a(e,r,i){return{x:e,y:r,isZero:i}}function s(e,r,i){return{vertices:[e,r,i],visited:!1,next:void 0}}function u(e,r){var i=(1+r)*e.xmin-r*e.xmax,n=(1+r)*e.xmax-r*e.xmin;return{xmin:i,ymin:(1+r)*e.ymin-r*e.ymax,xmax:n,ymax:(1+r)*e.ymax-r*e.ymin,xtolerance:e.xtolerance,ytolerance:e.ytolerance}}function o(e,r){return{depth:e,vertices:r,children:void 0,center:void 0}}function l(e,r,i){e.center=p(e.vertices[0],e.vertices[1],e.vertices[2],e.vertices[3],r,i)}function v(e,r,i){var t=function(e,r){var i=r.xmin,n=r.xmax,t=r.ymin,c=r.ymax;return o(0,[m(i,c,e),m(n,c,e),m(n,t,e),m(i,t,e)])}(e,i),c=[],a=[];a.push(t);var s=1,u=!0;e:for(;a.length;){var v=c;c=a,a=v;for(var h=void 0;h=c.pop();)if(d(h,e,r)){if(f(h,e),!h.children){u=!1;break e}if(a.push(h.children[0]),a.push(h.children[1]),a.push(h.children[2]),a.push(h.children[3]),(s+=3)>=n){u=!1;break e}}else l(h,e,r)}for(var x=0;x<c.length;x++)l(c[x],e,r);for(x=0;x<a.length;x++)l(a[x],e,r);return{root:t,resolved:u}}function f(e,r){var i=e.depth+1,n=e.vertices[0],t=e.vertices[1],c=e.vertices[2],a=e.vertices[3],s=y(n,t,r),u=y(t,c,r),l=y(c,a,r),v=y(a,n,r),f=y(n,c,r);e.children=[o(i,[n,s,f,v]),o(i,[s,t,u,f]),o(i,[f,u,c,l]),o(i,[v,f,l,a])]}function d(e,r,i){if(e.depth<5)return!0;if(function(e,r){return e.vertices[0].x<r.xmin||e.vertices[0].y>r.ymax||e.vertices[2].x>r.xmax||e.vertices[2].y<r.ymin}(e,i))return!1;if(function(e,r){if(e.vertices[1].x-e.vertices[0].x<10*r.xtolerance)return!0;if(e.vertices[0].y-e.vertices[3].y<10*r.ytolerance)return!0;return!1}(e,i))return!1;var n=e.vertices[0],t=e.vertices[1],c=e.vertices[2],a=e.vertices[3];if(isNaN(n.z)&&isNaN(t.z)&&isNaN(c.z)&&isNaN(a.z))return!1;if(isNaN(n.z)||isNaN(t.z)||isNaN(c.z)||isNaN(a.z))return!0;var s=p(n,t,c,a,r,i),u=N(n,t,r,i),o=N(t,c,r,i),l=N(c,a,r,i),v=N(a,n,r,i);return x(n,u,r)||x(t,u,r)||x(t,o,r)||x(c,o,r)||x(c,l,r)||x(a,l,r)||x(a,v,r)||x(n,v,r)||h(n,u,s,r,i)||h(u,t,s,r,i)||h(t,o,s,r,i)||h(o,c,s,r,i)||h(c,l,s,r,i)||h(l,a,s,r,i)||h(a,v,s,r,i)||h(v,n,s,r,i)}function h(e,i,n,t,c){if(e.z>0==i.z>0&&i.z>0==n.z>0)return!1;var a,s,u,o;if(e.z>0==i.z>0){if((a=y(e,i,t)).z>0!=e.z>0)return!0;s=b(e,n,t,c),u=b(i,n,t,c),o=b(a,n,t,c)}else if(i.z>0==n.z>0){if((a=y(i,n,t)).z>0!=i.z>0)return!0;s=b(i,e,t,c),u=b(n,e,t,c),o=b(a,e,t,c)}else{if((a=y(n,e,t)).z>0!=n.z>0)return!0;s=b(n,i,t,c),u=b(e,i,t,c),o=b(a,i,t,c)}var l=c.xtolerance,v=c.ytolerance;return r.pointToSegment(v*o.x,l*o.y,v*s.x,l*s.y,v*u.x,l*u.y)>l*v}function x(e,r,i){if(isNaN(e.z)&&isNaN(r.z))return!1;if(isNaN(e.z)||isNaN(r.z))return e.z>0||r.z>0;var n=4*y(e,r,i).z-r.z-3*e.z,t=1e-4,c=(i(.9999*e.x+t*r.x,.9999*e.y+t*r.y)-e.z)/t,a=Math.max(Math.abs(e.z),Math.abs(r.z));return Math.abs(n-c)>.125*a}function z(e,r){return e.x<r.xmin||e.x>r.xmax||e.y<r.ymin||e.y>r.ymax}function m(e,r,i){return c(e,r,i(e,r))}function y(e,r,i){return m(.5*(e.x+r.x),.5*(e.y+r.y),i)}function N(e,r,i,n){if(z(e,n)||z(r,n))return y(e,r,i);if(isNaN(e.z)||isNaN(r.z))return function(e,r,i,n){if(isNaN(e.z)===isNaN(r.z))return y(e,r,i);if(isNaN(e.z)){var t=e;e=r,r=t}var a=e.x,s=r.x,u=e.y,o=r.y,l=e.z,v=n.xtolerance,f=n.ytolerance;for(;Math.abs(a-s)>v||Math.abs(u-o)>f;){var d=.5*(a+s),h=.5*(u+o),x=i(d,h);isNaN(x)===isNaN(l)?(a=d,u=h,l=x):(s=d,o=h)}return c(a,u,l)}(e,r,i,n);if(e.z>0!=r.z>0)return y(e,r,i);var t=.01,a=i(.99*e.x+t*r.x,.99*e.y+t*r.y)-e.z,s=r.z-i(t*e.x+.99*r.x,t*e.y+.99*r.y);return isNaN(a)||isNaN(s)||a>0==s>0?y(e,r,i):g(c(e.x,e.y,a),c(r.x,r.y,s),i)}function p(e,r,i,n,t,c){var a=N(e,i,t,c);return e.z>0==i.z>0&&a.z>0!=e.z>0?a:(a=N(r,n,t,c),r.z>0==n.z>0&&a.z>0!=r.z>0?a:y(e,i,t))}function g(e,r,i){if(isNaN(e.z))return r;if(isNaN(r.z))return e;if(isFinite(e.z)||isFinite(r.z)){if(isFinite(e.z)){if(isFinite(r.z)){var n=1-e.z/r.z,t=1-r.z/e.z;return m(e.x/n+r.x/t,e.y/n+r.y/t,i)}return e}return r}return y(e,r,i)}function b(e,r,i,n){var t=e.x,s=r.x,u=e.y,o=r.y,l=e.z,v=r.z,f=n.xtolerance,d=n.ytolerance;if(z(e,n)||z(r,n)){var h=y(e,r,i);return a(h.x,h.y,!1)}for(;Math.abs(t-s)>f||Math.abs(u-o)>d;){var x=.5*(t+s),m=.5*(u+o),N=i(x,m);N>0==l>0?(t=x,u=m,l=N):(s=x,o=m,v=N)}if(isNaN(l))return a(s,o,!1);if(isNaN(v))return a(t,u,!1);var p=g(c(t,u,l),c(s,o,v),i),b=0===l||0===v||0===p.z||p.z>=l==v>=p.z&&Math.abs(p.z)<1e250;return a(p.x,p.y,b)}function k(e,r,i){var n={triangles:[],edgeCache:{},domain:i,fn:r};return M(e,n),n.triangles}function M(e,r){e.children&&(M(e.children[0],r),M(e.children[1],r),M(e.children[2],r),M(e.children[3],r),A(e.children[0],e.children[1],r),A(e.children[3],e.children[2],r),S(e.children[1],e.children[2],r),S(e.children[0],e.children[3],r))}function A(e,r,i){e.children&&r.children?(A(e.children[1],r.children[0],i),A(e.children[2],r.children[3],i)):e.children?(A(e.children[1],r,i),A(e.children[2],r,i)):r.children?(A(e,r.children[0],i),A(e,r.children[3],i)):function(e,r,i){if(!e.center||!r.center)return;var n,t;e.depth>=r.depth?(n=N(e.vertices[1],e.vertices[2],i.fn,i.domain),t=T(e.vertices[1],r.center,e.vertices[2],e.center,n)):(n=N(r.vertices[0],r.vertices[3],i.fn,i.domain),t=T(r.vertices[0],r.center,r.vertices[3],e.center,n));D(t,i.edgeCache,i.domain);for(var c=0;c<4;c++)i.triangles.push(t[c])}(e,r,i)}function S(e,r,i){e.children&&r.children?(S(e.children[2],r.children[1],i),S(e.children[3],r.children[0],i)):e.children?(S(e.children[2],r,i),S(e.children[3],r,i)):r.children?(S(e,r.children[1],i),S(e,r.children[0],i)):function(e,r,i){if(!e.center||!r.center)return;var n,t;e.depth>=r.depth?(n=N(e.vertices[3],e.vertices[2],i.fn,i.domain),t=T(e.vertices[2],r.center,e.vertices[3],e.center,n)):(n=N(r.vertices[1],r.vertices[0],i.fn,i.domain),t=T(r.vertices[1],r.center,r.vertices[0],e.center,n));D(t,i.edgeCache,i.domain);for(var c=0;c<4;c++)i.triangles.push(t[c])}(e,r,i)}function T(e,r,i,n,t){return[s(e,t,r),s(r,t,i),s(i,t,n),s(n,t,e)]}function C(e,r,i){return e.z>0&&!z(e,i)&&(!(r.z>0)||z(r,i))}function w(e,r){return e.x+","+e.y+","+r.x+","+r.y}function D(e,r,i){F(e[0],e[1],e[2],w(e[1].vertices[2],e[1].vertices[0]),r,i),F(e[1],e[2],e[3],w(e[2].vertices[0],e[2].vertices[2]),r,i),F(e[2],e[3],e[0],w(e[3].vertices[2],e[3].vertices[0]),r,i),F(e[3],e[0],e[1],w(e[0].vertices[0],e[0].vertices[2]),r,i)}function F(e,r,i,n,t,c){var a=r.vertices[0],s=r.vertices[1],u=r.vertices[2];C(s,u,c)&&(r.next=i),C(a,s,c)&&(r.next=e),C(u,a,c)&&function(e,r,i){i[r]?e.next=i[r]:i[r]=e}(r,n,t),C(a,u,c)&&function(e,r,i){i[r]?i[r].next=e:i[r]=e}(r,n,t)}function I(e,r,n){for(var t={fillAccumulator:new i.Accumulator(n),strokeAccumulator:new i.Accumulator(n),fn:r,domain:n},c=0;c<e.length;c++){var a=e[c];a.next&&!a.visited&&q(a,t)}return{strokeSegments:t.strokeAccumulator.finish().segments,fillSegments:t.fillAccumulator.finish().segments}}function q(e,r){for(;;){var i=e.vertices[0],n=e.vertices[1],t=e.vertices[2];if(P(i,n,r),P(n,t,r),P(t,i,r),e.visited)break;if(!e.next)break;e.visited=!0,e=e.next}r.strokeAccumulator.breakSegment(),r.fillAccumulator.breakSegment()}function P(e,r,i){if(C(e,r,i.domain)){var n=b(e,r,i.fn,i.domain);i.fillAccumulator.addPoint([n.x,n.y]),n.isZero?i.strokeAccumulator.addPoint([n.x,n.y]):i.strokeAccumulator.breakSegment()}}e.sampleImplicit=function(e,r){var i=t(e,r);return{segments:i.contours.strokeSegments,fillSegments:i.contours.fillSegments,resolved:i.quadTree.resolved}},e.sampleImplicitDiagnostic=t,e.buildQuadTree=v,e.triangulate=k,e.traceContours=I,e.displayTriangles=function(e){for(var r=[],i=0;i<e.length;i++){var n=e[i];r.push([n.vertices[0].x,n.vertices[0].y,n.vertices[1].x,n.vertices[1].y,n.vertices[2].x,n.vertices[2].y,n.vertices[0].x,n.vertices[0].y])}return r}});\ndefine(\'core/math/poi-finding-accumulator\',["require","exports","core/math/workerconfig","tslib","./curve-accumulator","./poi"],function(require,e,t,i,r,s){"use strict";function u(e){return Math.abs(e)<5e-8}Object.defineProperty(e,"__esModule",{value:!0});var f=function(e){function r(t,i,r){var s=e.call(this,t)||this;return s.domain=t,s.fn=i,s.derivative=r,s.poiData={zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}},s.zeroBuffer=[],s.extremumBuffer=[],s}return i.__extends(r,e),r.prototype.getPOI=function(){return t.pointsOfInterest?(void 0!==this.fn&&(this.poiData.intercept=this.findIntercept(this.fn)),this.poiData):{zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}}},r.prototype.addLinearZero=function(e){var t=-e[0]/e[1];this.isOutsideDomain(t)||(this.poiData.zeros={x:[t],y:[0]})},r.prototype.addLinearIntercept=function(e){this.isOutsideDomain(0)||(this.poiData.intercept={x:[0],y:[e[0]]})},r.prototype.isOutsideDomain=function(e){return!this.domain||void 0===this.domain.min||void 0===this.domain.max||(e<this.domain.min||e>this.domain.max||isNaN(e))},r.prototype.addPoint=function(t){0===this.segment.length&&u(t[1])&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.updateZeroBuffer(t),this.updateExtremumBuffer(t),e.prototype.addPoint.call(this,t)},r.prototype.updateZeroBuffer=function(e){if(this.fn)if(isFinite(e[0])&&isFinite(e[1]))switch(this.zeroBuffer.length){case 0:if(u(e[1]))return;return void this.zeroBuffer.push(e);case 1:return 0===e[1]?void this.zeroBuffer.push(e):e[1]>0!=this.zeroBuffer[0][1]>0?((t=s.bisectZero(this.zeroBuffer[0][0],this.zeroBuffer[0][1],e[0],e[1],this.fn))&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e)):(this.zeroBuffer.length=0,void this.zeroBuffer.push(e));case 2:if(0===e[1])return;var t;return e[1]>0!=this.zeroBuffer[0][1]>0?((t=s.flatCenter(this.zeroBuffer[0][0],this.zeroBuffer[0][1],this.zeroBuffer[1][0],this.zeroBuffer[1][1],e[0],e[1],this.fn))&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e)):(this.zeroBuffer.length=0,void this.zeroBuffer.push(e))}else this.zeroBuffer.length=0},r.prototype.updateExtremumBuffer=function(e){if(this.fn)if(isFinite(e[0])&&isFinite(e[1]))switch(this.extremumBuffer.length){case 0:return void this.extremumBuffer.push(e);case 1:return e[1]===this.extremumBuffer[0][1]&&(this.extremumBuffer.length=0),void this.extremumBuffer.push(e);case 2:if(e[1]===this.extremumBuffer[1][1])return void this.extremumBuffer.push(e);if(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){if(t=this.bisectExtremumUsingDerivative(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1]))this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1]),!!!s.bisectJump(this.extremumBuffer[0][0],this.extremumBuffer[0][1],t[0],t[1],e[0],e[1],this.fn,this.ytolerance)&&t[0]>this.segment[this.segment.length-2]&&(this.pendingPoint=t);return this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}return this.extremumBuffer.shift(),void this.extremumBuffer.push(e);case 3:if(e[1]===this.extremumBuffer[1][1])return;if(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){var t=void 0,i=.5*(this.extremumBuffer[1][0]+this.extremumBuffer[2][0]),r=this.fn(i);return(t=r===this.extremumBuffer[1][1]?s.flatCenter(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1],this.fn):this.bisectExtremumUsingDerivative(this.extremumBuffer[1][0],this.extremumBuffer[1][1],i,r,this.extremumBuffer[2][0],this.extremumBuffer[2][1]))&&(this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1])),this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}return this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}else this.zeroBuffer.length=0},r.prototype.bisectExtremumUsingDerivative=function(e,t,i,r,u,f){if(this.fn){var h;if(this.derivative){var n=this.derivative(e),m=this.derivative(u);if(!isNaN(n)&&!isNaN(m)&&n<0!=m<0){var o=s.bisectZero(e,n,u,m,this.derivative);o&&(h=[o[0],this.fn(o[0])])}}return h||(h=s.bisectExtremum(e,t,i,r,u,f,this.fn)),h}},r.prototype.breakSegment=function(){this.zeroBuffer.length=0,this.extremumBuffer.length=0,this.flushPending(),this.segment.length>2&&(this.segments.push(this.segment),u(this.segment[this.segment.length-1])&&(this.poiData.zeros.x.push(this.segment[this.segment.length-2]),this.poiData.zeros.y.push(this.segment[this.segment.length-1]))),this.segment=[]},r.prototype.findIntercept=function(e){if(!e)return{x:[],y:[]};var t=e(0);return isFinite(t)?{x:[0],y:[e(0)]}:{x:[],y:[]}},r.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0,poi:this.getPOI()}},r}(r.Accumulator);e.default=f});\ndefine(\'core/math/copy-defined-pois\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){for(var r=[],t=[],u=e.length,n=0;n<u;n++)r.push(e[n][0]),t.push(e[n][1]);return{defined:{x:r,y:t}}}});\ndefine(\'core/math/plotter\',["require","exports","tslib","core/math/distance","./poi","./implicit-plotter","./curve-accumulator","./poi-finding-accumulator","core/types/graphmode","./domaintypes","core/math/copy-defined-pois"],function(require,e,n,i,t,r,a,o,s,m,c){"use strict";function l(e,n){var i=new o.default(n),t=e[0]+n.min*e[1],r=e[0]+n.max*e[1];return isFinite(t)&&isFinite(r)?(i.addPoint([n.min,t]),i.addPoint([n.max,r]),i.addLinearZero(e),i.addLinearIntercept(e),i.finish()):i.finish()}function u(e,i){var t=e(i);return{segments:[n.__spreadArray(n.__spreadArray([],t),t)],resolved:!0}}function d(e,n,r){var a=r.fn,o=r.jumpTolerance,s=e[0],m=e[1],c=n[0],l=n[1],u=i.mean(s,c),d=a(u);return t.bisectJump(s,m,u,d,c,l,a,o)}Object.defineProperty(e,"__esModule",{value:!0}),e.errorBranch=void 0,e.errorBranch=function(e){return{graphMode:s.ERROR,error:e,segments:[]}};var p=function(e,n,i){var t=i.fn,r=i.jumpTolerance,a=i.accumulator;if(!isFinite(r)||r<=0)return n;var o=d(e,n,i);if(!o)return n;for(var s=(n[0]-e[0])/10,m=[-s,s],c=n,l=0;l<m.length;l++){var u=e[0]+m[l],p=t(u);isFinite(p)||(u=e[0],p=e[1],u=e[0],p=e[1]);var f=n[0]+m[l],h=t(f);if(isFinite(h)?c=[f,h]:(f=n[0],h=n[1]),d([u,p],[f,h],i)){var v=o[0],g=o[1];return a.addPoint(v),a.breakSegment(),a.addPoint(g),n}}return c},f=function(e,n,i){this.derivative=i,this.accumulator=new o.default(n,e,i),this.fn=e,this.jumpTolerance=n.ytolerance||n.tolerance||0};function h(e,n,i){var t=n,r=e(t);return isFinite(r)||(r=e(t=n+i)),isFinite(r)||(r=e(t=n-i)),[t,r]}function v(e,n,i){var r,a,o,s,m,c,l,u=new f(e,n,i),d=n.step/10,v=n.min,g=[l=(r=h(e,v,d))[0],c=r[1]];isFinite(c)&&u.accumulator.addPoint([l,c]);for(var x=Math.ceil((n.max-n.min)/n.step),y=1;y<=x;y++)l=(a=h(e,v=(x-y)/x*n.min+y/x*n.max,d))[0],c=a[1],isFinite(c)&&isFinite(g[1])?(l=(o=p(g,[l,c],u))[0],c=o[1],u.accumulator.addPoint([l,c])):isFinite(c)&&!isFinite(g[1])?(m=t.bisectFinite(g[0],g[1],l,c,e))&&(m[0]!==l&&u.accumulator.addPoint(m),l=(s=p(m,[l,c],u))[0],c=s[1],u.accumulator.addPoint([l,c])):!isFinite(c)&&isFinite(g[1])&&(m=t.bisectFinite(g[0],g[1],l,c,e))&&((m=p(g,m,u))[0]!==g[0]&&u.accumulator.addPoint(m),u.accumulator.breakSegment()),g=[l,c];return u.accumulator.finish()}function g(e,n,i,t){var r,a,o,s=n.min,m=n.max-n.min,c=n.xtolerance&&n.ytolerance?Math.min(n.xtolerance,n.ytolerance):n.tolerance?n.tolerance:0,l=Math.floor(m/(Math.PI/i));function u(e,n){var r=n%2==0?1:-1;if(!t&&-1===r)return!1;for(var a=n*(Math.PI/i),o=[s,s+1,s+2,s+3],m=!1,l=0,u=o.length;l<u;l++){var d=e(o[l]),p=e(o[l]+a);if(isFinite(d)&&isFinite(p)&&(m=!0),isFinite(d)!==isFinite(p)||Math.abs(d-r*p)>c)return!1}return!!m}for(r=1;r<=l;r++)if(u(e,r)){for(o=r,a=2;a*r<=l;a++)u(e,a*r)||(o=void 0);if(o)break}return o?o*(Math.PI/i):null}function x(e){return[e[1]*Math.cos(e[0]),e[1]*Math.sin(e[0])]}function y(e,n){return n.map=x,v(e,n)}function F(e,n){if(n.max<n.min)return{segments:[],resolved:!0};var i,t=new a.Accumulator(n),r=n.min,o=e(r);return isFinite(o[0])&&isFinite(o[1])&&t.addPoint(o),function(e,n){for(var i=e.min,t=e.max,r=e.step,a=t-i,o=Math.ceil(a/r),s=a/o,m=0;m<o;m++)n(i+m*s);n(t)}(n,function(n){i=e(n),w(e,r,o,n,i,10,t),r=n,o=i}),t.finish()}function w(e,n,t,r,a,o,s){if(r!==n){var m=s.xtolerance,c=s.ytolerance,l=s.ztolerance,u=i.mean(n,r),d=e(u),p=isFinite(t[0])&&isFinite(t[1])&&(2===t.length||isFinite(t[2])),f=isFinite(a[0])&&isFinite(a[1])&&(2===a.length||isFinite(a[2])),h=isFinite(d[0])&&isFinite(d[1])&&(2===d.length||isFinite(d[2]));if(0===o||u===n||u===r)return s.breakSegment(),void(f&&s.addPoint(a));if(p||f)if(p===f){if(p&&h&&f){var v=i.pointToSegmentParameter(d[0],d[1],d[2]||0,t[0],t[1],t[2]||0,a[0],a[1],a[2]||0);if(v>.2&&v<.8&&Math.abs(d[0]-(t[0]+v*(a[0]-t[0])))<=m&&Math.abs(d[1]-(t[1]+v*(a[1]-t[1])))<=c&&(2===t.length||Math.abs(d[2]-(t[2]+v*(a[2]-t[2])))<=l))return void s.addPoint(a)}t[0]===d[0]&&t[1]===d[1]||w(e,n,t,u,d,o-1,s),a[0]===d[0]&&a[1]===d[1]||w(e,u,d,r,a,o-1,s)}else{for(var g=n,x=r,y=t,F=a;n!==u&&u!==r;)h==p?(n=u,t=d,p=h):(r=u,a=d,f=h),d=e(u=n+(r-n)/2),h=isFinite(d[0])&&isFinite(d[1])&&(2===d.length||isFinite(d[2]));p?(w(e,g,y,n,t,o-1,s),s.breakSegment()):(s.breakSegment(),s.addPoint(a),w(e,r,a,x,F,o-1,s))}}}function P(e,n,i){var t=e.viewport.xmin,r=e.viewport.xmax,a=e.viewport.ymin,o=e.viewport.ymax,c=n.lineWidth;if(c>3){var l=c*(r-t)/e.screen.width,u=c*(o-a)/e.screen.height;t-=l,r+=l,a-=u,o+=u}var d,p,f=e.trigAngleMultiplier||1,h=e.oversample||4,v=1/h*(r-t)/e.screen.width,x=1/h*(o-a)/e.screen.height,y=n.domainBound;switch(n.graphMode){case s.X:switch((d=m.intersectDomains(m.knownDomain([a,o]),y)).type){case"empty":return!1;case"known":a=d.bounds[0],o=d.bounds[1]}p={min:a,max:o,xtolerance:x,ytolerance:v,step:x};break;case s.Y:switch((d=m.intersectDomains(m.knownDomain([t,r]),y)).type){case"empty":return!1;case"known":t=d.bounds[0],r=d.bounds[1]}p={min:t,max:r,xtolerance:v,ytolerance:x,step:v};break;case s.POLAR:if(!n.domain)throw new Error("Expected polar graph to have domain");if(p={min:n.domain.min,max:n.domain.max,step:2*Math.PI/f/1e3,tolerance:Math.min(v,x)},!n.domain.isExplicit){var F=g(i,p,f,"="===n.operator);F&&(p.max=p.min+F)}p.step=Math.max(p.step,(p.max-p.min)/11999);break;case s.PARAMETRIC:case s.PARAMETRIC_CURVE_3D:var w=n.domain?n.domain.min:0,P=n.domain?n.domain.max:1,M=n.domain?n.domain.step:.01;switch((d=m.intersectDomains(m.knownDomain([w,P]),y)).type){case"empty":return!1;case"known":w=d.bounds[0],P=d.bounds[1]}p={min:w,max:P,step:M,xtolerance:v,ytolerance:x,ztolerance:Math.min(v,x)};break;case s.IMPLICIT:p={xmin:t,xmax:r,ymin:a,ymax:o,xtolerance:v,ytolerance:x};break;case s.Z_3D:return{xmin:-10,xmax:10,ymin:-10,ymax:10};default:return!1}return p}function M(e,n,i){var t,r,a,o,m=[],c=null;switch(i){case s.POLAR:c=x;break;case s.X:c=function(e){return[e[1],e[0]]}}for(t=0;t<e.length;t++)for(o=e[t],r=0;r<o.length;r+=2)a=[o[r],o[r+1]],c&&(a=c(a)),m.push(a[0],a[1]);for(t=n.length-1;t>=0;t--)for(r=(o=n[t]).length-2;r>=0;r-=2)a=[o[r],o[r+1]],c&&(a=c(a)),m.push(a[0],a[1]);return m}function b(e){for(var n=[],i={},t=0;t<e.length;t++){var r=e[t],a=r[0],o=r[1];isNaN(a)||isNaN(o)?i[t]=!0:n.push(r)}return{points:n,droppedIndices:i}}e.default={sampleLinear:l,sampleXY:v,findPiPeriod:g,samplePolar:y,sampleParametricRecursive:F,subsampleParametricRecursive:w,validateViewState:function(e){if(!e)return!1;var n=e.viewport.xmin,i=e.viewport.xmax,t=e.viewport.ymin,r=e.viewport.ymax;return!(!isFinite(n)||!isFinite(i)||i<=n)&&(!(!isFinite(t)||!isFinite(r)||r<=t)&&(!(!isFinite(e.screen.width)||e.screen.width<=0)&&!(!isFinite(e.screen.height)||e.screen.height<=0)))},computeDomain:P,computeGraphData:function(e){var n,i,t,a=e.viewState,o=e.graphInfo,m=e.compiled,c=e.derivative,d=m.fn,p=P(a,o,d),f=o.graphMode;if(p){switch(f){case s.X:case s.Y:var h=c?c.fn:void 0;n=o.isLinear?l(o.linearCoefficients,p):v(d,p,h);break;case s.POLAR:n=y(d,p);break;case s.IMPLICIT:n=r.sampleImplicit(d,p);break;case s.PARAMETRIC:p.step||(p.step=(p.max-p.min)/1e3),n=p.max===p.min?u(d,p.min):o.isLinear?function(e,n){var i=l(e[0],n),t=l(e[1],n);return i.segments.length&&t.segments.length&&4===i.segments[0].length&&4===t.segments[0].length?{segments:[[i.segments[0][1],t.segments[0][1],i.segments[0][3],t.segments[0][3]]],resolved:!0}:{segments:[],resolved:!0}}(o.linearCoefficients,p):F(d,p);break;case s.PARAMETRIC_CURVE_3D:return p.step||(p.step=(p.max-p.min)/1e3),n=p.max===p.min?u(d,p.min):F(d,p),{graphMode:s.PARAMETRIC_CURVE_3D,segments:n.segments,cacheKey:m.source+":"+JSON.stringify(p),color:o.color,style:"dummy"};case s.Z_3D:return{meshData:function(e,n){for(var i=e.fn,t=n.xmin,r=n.xmax,a=n.ymin,o=30,s=(r-t)/30,m=(n.ymax-a)/o,c=[],l=[],u=[],d=s/1e3,p=m/1e3,f=0;f<30;f++)for(var h=0;h<o;h++){var v=t+f*s,g=a+h*m,x=i(v,g);c.push(v,g,x);var y=(i(v+d,g)-x)*p,F=(i(v,g+p)-x)*d,w=-d*p,P=Math.sqrt(y*y+F*F+w*w);l.push(y/P,F/P,w/P)}for(f=0;f<29;f++)for(h=0;h<29;h++){var M=h*o+f,b=h*o+f+1,I=(h+1)*o+f,k=(h+1)*o+f+1;u.push(M,I,b),u.push(I,k,b)}return{cacheKey:e.source+":"+JSON.stringify(n),positions:new Float32Array(c),normals:new Float32Array(l),faces:new Int16Array(u)}}(m,p),color:o.color,graphMode:s.Z_3D,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},compiled:m,style:"dummy"};default:throw new Error("Programming Error: unexpected graphmode "+f)}t=n.poi}else n={segments:[],resolved:!0};if((!t||t.zeros.x.length+t.extrema.x.length+t.intercept.x.length>250)&&(t={zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}}),f===s.X)for(var g in t)if(t.hasOwnProperty(g)){var x=g;i=t[x].y,t[x].y=t[x].x,t[x].x=i}var w={segments:n.segments,resolved:n.resolved,graphMode:f,color:o.color,style:o.lineStyle,lineWidth:o.lineWidth,lineOpacity:o.lineOpacity,listIndex:o.listIndex,operator:o.operator,poi:t,compiled:m};if(f===s.POLAR){var M=p;w.sampledDomain={min:M.min,max:M.max,step:M.step}}return n.fillSegments&&(w.fillSegments=n.fillSegments),w},computeDiscreteGraphData:function(e){var n,i=e.viewState,t=e.graphInfo,r=e.compiled,a=e.maxOverride,o=e.showPoint,m=r.fn,l=P(i,t,m);l||(n={segments:[],resolved:!0});var u=l,d=u.min,p=u.max,f=u.step,h=b((n=function(e){for(var n=e.fn,i=e.domain,t=i.min,r=i.max,a=Math.floor(t),o=Math.ceil(r),s=[],m=a;m<=o;m++){var c=n(m);isFinite(m)&&isFinite(c)&&s.push([m,c])}return{segments:s,resolved:!0}}({fn:m,domain:{min:Math.max(d,0),max:void 0!==a?Math.min(a,p):p,step:f}})).segments);return{segments:[h.points],droppedIndices:h.droppedIndices,graphMode:s.XYPOINT,color:t.color,style:t.pointStyle,poi:c.default(n.segments),showPoint:o}},polygonsFromSegments:function(e,n,t){for(var r=function(e){var n=e[e.length-1];return n[n.length-2]},a=[],o=0,s=0,m=[],c=[],l=-1/0,u=-1/0;;){if(l<=u){if(o>=n.length)break;c.push(n[o++])}if(u<=l){if(s>=e.length)break;m.push(e[s++])}if(l=r(c),u=r(m),i.approx(l,u,4)){a.push(M(m,c,t)),c=[],m=[];var d=Math.max(l,u);l=d,u=d}}return a},dropUndefinedPoints:b}});\ndefine(\'core/lib/deepCopy\',["require","exports"],function(require,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function r(e){var t=e;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t)return t;if("object"!=typeof t)return t;if(Array.isArray(t))return t.map(r);var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=r(t[o]));return n}});\ndefine(\'core/types/styles\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineStyle=e.PointStyle=void 0,function(e){e.POINT="POINT",e.OPEN="OPEN",e.CROSS="CROSS"}(e.PointStyle||(e.PointStyle={})),function(e){e.SOLID="SOLID",e.DASHED="DASHED",e.DOTTED="DOTTED"}(e.LineStyle||(e.LineStyle={}))});\ndefine(\'core/math/cdf-branches\',["require","exports","tslib","core/lib/deepCopy","core/math/plotter","core/math/domaintypes","core/types/styles"],function(require,e,o,n,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeContinuousCDFTopBranches=e.makeDiscreteCDFTopBranches=void 0;function d(e){var o=e.viewState,d=e.graphInfo,r=e.compiled,s=e.bounds,p=e.included,u=e.showPoint,c=n.default(d),h=t.intersectDomains(d.domainBound,t.knownDomain(s));if("known"===h.type)return c.domainBound=h,c.pointStyle=p?a.PointStyle.POINT:a.PointStyle.OPEN,i.default.computeDiscreteGraphData({graphInfo:c,viewState:o,compiled:r,showPoint:u,maxOverride:void 0})}e.makeDiscreteCDFTopBranches=function(e){var n,i=e.viewState,t=e.graphInfo,a=e.compiled,r=e.bounds,s=e.maxOverride,p=e.showPoint,u=r[0],c=r[1],h=[];u=Math.ceil(u),c=Math.floor(c);var l,v,m,f,w,S=void 0!==s?s:1/0;if(u===-1/0&&c>=S)n=d({bounds:[u,S],included:!0,viewState:i,graphInfo:t,compiled:a,showPoint:p}),h.push(n);else if(u===-1/0&&c<1/0)n=d({bounds:[u,c],included:!0,viewState:i,graphInfo:t,compiled:a,showPoint:p}),h.push(n),h.push(d({bounds:[c+1,S],included:!1,viewState:i,graphInfo:t,compiled:a,showPoint:p}));else if(u>-1/0&&c>=S)n=d({bounds:[u,S],included:!0,viewState:i,graphInfo:t,compiled:a,showPoint:p}),h.push(d({bounds:[-1/0,u-1],included:!1,viewState:i,graphInfo:t,compiled:a,showPoint:p})),h.push(n);else{n=d({bounds:[u,c],included:!0,viewState:i,graphInfo:t,compiled:a,showPoint:p});var g=d({bounds:[-1/0,u-1],included:!1,viewState:i,graphInfo:t,compiled:a,showPoint:p}),I=d({bounds:[c+1,S],included:!1,viewState:i,graphInfo:t,compiled:a,showPoint:p});h.push(n);var b=void 0;g&&I&&(v=I,m=(l=g).segments[0],f=v.segments[0],w=[o.__spreadArray(o.__spreadArray([],m),f)],b=o.__assign(o.__assign({},l),{segments:w}),h.push(b))}return{cdfTopBranch:n,topBranches:h}};e.makeContinuousCDFTopBranches=function(e){var o=e.viewState,d=e.graphInfo,r=e.compiled,s=e.derivative,p=e.bounds;return{cdfTopBranch:function(e){var o=e.viewState,d=e.graphInfo,r=e.compiled,s=e.derivative,p=e.bounds,u=n.default(d),c=t.intersectDomains(d.domainBound,t.knownDomain(p));if("known"===c.type)return u.domainBound=c,u.lineStyle=a.LineStyle.SOLID,i.default.computeGraphData({graphInfo:u,viewState:o,compiled:r,derivative:s})}({bounds:[p[0],p[1]],viewState:o,graphInfo:d,compiled:r,derivative:s}),topBranches:[i.default.computeGraphData({viewState:o,graphInfo:d,compiled:r,derivative:s})]}}});\ndefine(\'core/types/opacity\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HIGH=e.DEFAULT=e.LOW=void 0,e.LOW=.2,e.DEFAULT=.4,e.HIGH=.8});\ndefine(\'core/types/slider-loop-modes\',["require","exports"],function(require,e){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.getSliderIcon=e.SliderLoopMode=void 0,function(e){e.LOOP_FORWARD_REVERSE="LOOP_FORWARD_REVERSE",e.LOOP_FORWARD="LOOP_FORWARD",e.PLAY_ONCE="PLAY_ONCE",e.PLAY_INDEFINITELY="PLAY_INDEFINITELY"}(o=e.SliderLoopMode||(e.SliderLoopMode={})),e.getSliderIcon=function(e){switch(e){case o.LOOP_FORWARD:return"dcg-icon-arrow-one-way";case o.LOOP_FORWARD_REVERSE:return"dcg-icon-arrow-two-way";case o.PLAY_ONCE:return"dcg-icon-arrow-once";case o.PLAY_INDEFINITELY:return"dcg-icon-arrow-infinite"}}});\ndefine(\'core/types/label-sizes\',["require","exports"],function(require,e){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.maybeMigrateLabelSizeEnumToLatex=e.LabelSize=void 0,function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(i=e.LabelSize||(e.LabelSize={})),e.maybeMigrateLabelSizeEnumToLatex=function(e){return e===i.SMALL?".85":e===i.MEDIUM?"1":e===i.LARGE?"1.35":void 0}});\ndefine(\'core/types/label-orientations\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LabelOrientation=void 0,function(e){e.DEFAULT="default",e.CENTER="center",e.CENTER_AUTO="center_auto",e.AUTO_CENTER="auto_center",e.ABOVE="above",e.ABOVE_LEFT="above_left",e.ABOVE_RIGHT="above_right",e.ABOVE_AUTO="above_auto",e.BELOW="below",e.BELOW_LEFT="below_left",e.BELOW_RIGHT="below_right",e.BELOW_AUTO="below_auto",e.LEFT="left",e.AUTO_LEFT="auto_left",e.RIGHT="right",e.AUTO_RIGHT="auto_right"}(e.LabelOrientation||(e.LabelOrientation={}))});\ndefine(\'core/lib/default-spec\',["require","exports","underscore","core/lib/deepCopy"],function(require,e,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.populateDefaults=e.stripDefaultsAndMaybeReturnUndefined=e.stripDefaults=void 0,e.stripDefaults=function(e,t){var n={};for(var a in t)t.hasOwnProperty(a)&&(r.isEqual(e[a],t[a])||(n[a]=t[a]));return n},e.stripDefaultsAndMaybeReturnUndefined=function(e,t){var n=void 0,a={};for(var u in t)t.hasOwnProperty(u)&&(r.isEqual(e[u],t[u])||(a[u]=t[u],n=a));return n},e.populateDefaults=function(e,r){r||(r={});var n={};for(var a in e)e.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(n[a]=t.default(e[a]));for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a]);return n}});\ndefine(\'core/lib/copy-properties\',["require","exports","core/lib/deepCopy"],function(require,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.makeTrueMap=r.extractPropertiesLike=r.copyAllProperties=r.copyProperties=void 0,r.copyProperties=function(r){var o=r.from,t=r.to,i=r.props;for(var n in i)i[n]&&o.hasOwnProperty(n)&&(t[n]=e.default(o[n]))},r.copyAllProperties=function(r,e){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])},r.extractPropertiesLike=function(r,e){var o={};for(var t in e)e.hasOwnProperty(t)&&(o[t]=r[t]);return o},r.makeTrueMap=function(r){var e={};for(var o in r)r.hasOwnProperty(o)&&(e[o]=!0);return e}});\ndefine(\'core/graphing-calc/json/expression\',["require","exports","tslib","core/types/opacity","core/types/styles","core/lib/dragmode","core/types/slider-loop-modes","core/types/label-sizes","core/types/label-orientations","core/lib/default-spec","../../lib/copy-properties"],function(require,e,i,a,l,t,s,r,n,o,d){"use strict";var L;function D(i){return d.extractPropertiesLike(i,e.DEFAULTS_DYNAMIC)}Object.defineProperty(e,"__esModule",{value:!0}),e.computeParsableState=e.areDynamicPropertiesStrictEqual=e.extractDynamicProperties=e.stripDefaults=e.inflateDefaults=e.SLIDER_DEFAULTS=e.DEFAULTS=e.DEFAULTS_DYNAMIC=e.DEFAULT_SLIDER_PERIOD=e.EditableLabelMode=e.CLICKABLEINFO_DEFAULTS=e.VIZ_DEFAULTS=e.CDF_DEFAULTS=void 0,e.CDF_DEFAULTS={show:!1,min:"",max:""},e.VIZ_DEFAULTS={breadth:"",axisOffset:"",alignedAxis:"x",showBoxplotOutliers:!0,binAlignment:"center",dotplotXMode:"exact",histogramMode:""},e.CLICKABLEINFO_DEFAULTS={enabled:!1,latex:""},function(e){e.None="NONE",e.Math="MATH",e.Text="TEXT"}(L=e.EditableLabelMode||(e.EditableLabelMode={})),e.DEFAULT_SLIDER_PERIOD=4e3,e.DEFAULTS_DYNAMIC={polarDomain:{min:"",max:""},parametricDomain:{min:"",max:""},cdf:e.CDF_DEFAULTS,colorLatex:"",description:"",fillOpacity:""+a.DEFAULT,lineOpacity:"",pointOpacity:"",pointSize:"",lineWidth:"",labelAngle:"",vizProps:e.VIZ_DEFAULTS,clickableInfo:e.CLICKABLEINFO_DEFAULTS},e.DEFAULTS=i.__assign(i.__assign({folderId:"",latex:"",color:"",showLabel:!1,label:"",hidden:!1,secret:!1,dragMode:t.DragMode.AUTO,labelSize:r.LabelSize.MEDIUM,labelOrientation:n.LabelOrientation.DEFAULT,suppressTextOutline:!1,interactiveLabel:!1,editableLabelMode:L.None,residualVariable:"",isLogModeRegression:!1,pointStyle:l.PointStyle.POINT,lineStyle:l.LineStyle.SOLID,regressionParameters:{},displayEvaluationAsFraction:!1,slider:{}},e.DEFAULTS_DYNAMIC),{points:void 0,lines:void 0,fill:void 0}),e.SLIDER_DEFAULTS={hardMin:!1,hardMax:!1,animationPeriod:e.DEFAULT_SLIDER_PERIOD,loopMode:s.SliderLoopMode.LOOP_FORWARD_REVERSE,playDirection:1,isPlaying:!1,min:"-10",max:"10",step:""},e.inflateDefaults=function(a){return i.__assign(i.__assign(i.__assign({},e.DEFAULTS),a),{slider:i.__assign(i.__assign({},e.SLIDER_DEFAULTS),a.slider),cdf:i.__assign(i.__assign({},e.CDF_DEFAULTS),a.cdf),vizProps:i.__assign(i.__assign({},e.VIZ_DEFAULTS),a.vizProps),clickableInfo:i.__assign(i.__assign({},e.CLICKABLEINFO_DEFAULTS),a.clickableInfo)})},e.stripDefaults=function(a){var l=o.stripDefaults(e.DEFAULTS,i.__assign(i.__assign({},a),{slider:o.stripDefaults(e.SLIDER_DEFAULTS,a.slider)})),t=o.stripDefaultsAndMaybeReturnUndefined(e.CDF_DEFAULTS,a.cdf);void 0===t?delete l.cdf:l.cdf=t;var s=o.stripDefaultsAndMaybeReturnUndefined(e.VIZ_DEFAULTS,a.vizProps);void 0===s?delete l.vizProps:l.vizProps=s;var r=o.stripDefaultsAndMaybeReturnUndefined(e.CLICKABLEINFO_DEFAULTS,a.clickableInfo);return void 0===r?delete l.clickableInfo:l.clickableInfo=r,l},e.extractDynamicProperties=D,e.areDynamicPropertiesStrictEqual=function(i,a){for(var l in e.DEFAULTS_DYNAMIC)if(e.DEFAULTS_DYNAMIC.hasOwnProperty(l)&&i[l]!==a[l])return!1;return!0},e.computeParsableState=function(e){var a=r.maybeMigrateLabelSizeEnumToLatex(e.labelSize),l=a||e.labelSize;return i.__assign({type:"statement",id:e.id,latex:e.latex,label:e.label,color:e.color,fill:e.fill,points:e.points,lines:e.lines,pointStyle:e.pointStyle,lineStyle:e.lineStyle,dragMode:e.dragMode,labelSize:l,labelOrientation:e.labelOrientation,suppressTextOutline:e.suppressTextOutline,interactiveLabel:e.interactiveLabel,editableLabelMode:e.editableLabelMode,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,showLabel:e.showLabel,shouldGraph:e.hidden,slider:{min:e.slider.hardMin?e.slider.min:"",max:e.slider.hardMax?e.slider.max:"",softMin:e.slider.hardMin?"":e.slider.min,softMax:e.slider.hardMax?"":e.slider.max,step:e.slider.step,isPlayingOnce:e.slider.isPlaying&&e.slider.loopMode===s.SliderLoopMode.PLAY_ONCE}},D(e))}});\ndefine(\'core/math/features/getListIdx\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getListIdxFromBranchIdx=void 0,e.getListIdxFromBranchIdx=function(e,r){var t;switch(r){case"solvedEquation":t=2;break;case"baseComparator":t=4;break;default:t=1}return Math.floor(e/t)}});\ndefine(\'core/types/point-size\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOTPLOT_DEFAULT=e.DEFAULT=void 0,e.DEFAULT=9,e.DOTPLOT_DEFAULT=14});\ndefine(\'core/math/features/graph\',["require","exports","parsenodes","core/math/comparators","core/math/parsenode/irexpression","tslib","core/math/errormsg","core/math/builtin","core/math/plotter","core/types/graphmode","core/lib/dragmode","core/math/expression-types","core/math/cdf-branches","core/math/copy-defined-pois","core/math/distribution-spec","core/graphing-calc/json/expression","core/types/opacity","core/lib/color-helpers","core/types/styles","core/math/types","../ir/opcodes","core/math/ir/features/as-value","./getListIdx","core/types/point-size"],function(require,e,t,a,i,o,r,s,n,l,p,u,h,c,d,m,g,f,y,v,D,x,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var O=t.List;function I(e,t,a){for(var i=1/0,o=0,r=t;o<r.length;o++){var s=e[r[o]];Array.isArray(s)&&s.length<i&&(i=s.length)}var n=1;return"solvedEquation"===a?n=2:"baseComparator"===a&&(n=4),n*i}function M(e,t,a){return Array.isArray(e)?e[L.getListIdxFromBranchIdx(t,a)]:e}function P(e,t){for(var a=1/0,i=-1/0,o=1/0,r=-1/0,s=0,n=t;s<n.length;s++)for(var l=n[s],p=0;p<l.length;p+=2){var u=l[p],h=l[p+1];u<a&&(a=u),u>i&&(i=u),h<o&&(o=h),h>r&&(r=h)}if(isFinite(a)&&isFinite(o))return{type:e,xmin:a,ymin:o,xmax:i,ymax:r}}function V(e,t){if(void 0!==e&&"binomialdist"===e.symbol&&t instanceof i){var a=t._chunk,o=a.getInstruction(a.returnIndex);if(o.type===D.NativeFunction&&"binompdf"===o.symbol)return x.asValue(a,o.args[1])}}function A(e,t,a){var i={};a-=.5*t;for(var o=e.length-1;o>=0;o--){var r=e[o],s=Math.floor((r-a)/t);i[s]?i[s].data.push(r):i[s]={id:s,data:[r],min:s*t+a,max:s*t+a+t,center:s*t+a+t/2}}return i}t.Base.prototype._graph=function(e,a,r,p,g){var y=this;if(a instanceof t.SolvedEquation)return this._graph(e,a._expression,r,p,2===a.branchMultiplier?"solvedEquation":void 0);function b(e){var t=e.editableLabelMode;return t===m.EditableLabelMode.Text||t===m.EditableLabelMode.Math}var P=a.getExpressionType(p.graphMode,a.valueType),A=u.getReconciledExpressionProps(P,{points:this.userData.points,lines:this.userData.lines,fill:this.userData.fill});switch(p.graphMode){case l.XYPOINT_MOVABLE:var E=n.default.dropUndefinedPoints([a.asValue()]),F=E.points,S=E.droppedIndices,N=this.userData.shouldGraph&&A.points,C=this.userData.showLabel&&!N;return N?[{segments:[F],graphMode:p.graphMode,droppedIndices:S,color:f.getDisplayColor(this.userData,this.metaData),style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:b(this.userData),labels:this.computedLabels||[],poi:c.default(F),movablePointInfo:[]}]:C?[{segments:[F],graphMode:l.XYPOINT,color:f.getDisplayColor(this.userData,this.metaData),style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,nakedLabel:!0,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:b(this.userData),labels:this.computedLabels||[],poi:c.default(F),showPoint:!1}]:[];case l.XYPOINT:var B=[],w=this.userData.shouldGraph&&A.points,_=this.userData.shouldGraph&&A.lines,z=["colorLatexValue"];w&&z.push("computedPointOpacity","computedPointSize"),(this.userData.showLabel||w)&&z.push("computedLabelSize","computedLabelAngle");var G=I(this.metaData,z,g),W=O.wrap(a).asValue();W.length>G&&(W.length=G);var Y=this.userData.showLabel&&!w&&!_,R=n.default.dropUndefinedPoints(W);return(this.userData.showLabel||w)&&B.push({segments:[R.points],graphMode:p.graphMode,droppedIndices:R.droppedIndices,color:this.metaData.colorLatexValue||this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,showPoint:w,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointSize:this.metaData.computedPointSize,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,interactiveLabel:!!this.userData.interactiveLabel,editableLabel:b(this.userData),nakedLabel:Y,labels:this.computedLabels||[],poi:c.default(W)}),_&&B.push({segments:T(W),graphMode:l.PARAMETRIC,color:f.getDisplayColor(this.userData,this.metaData),style:this.userData.lineStyle,lineWidth:this.metaData.computedLineWidth,lineOpacity:this.metaData.computedLineOpacity,poi:{}}),B;case l.PARAMETRIC:case l.PARAMETRIC_CURVE_3D:var X=this.userData,q=this.metaData,k=[];z=["colorLatexValue"];A.lines&&z.push("computedLineOpacity","computedLineWidth"),A.fill&&z.push("computedFillOpacity");var U=I(this.metaData,z,g);B=O.wrap(a).mapElements(function(t,a){if(a>=U)return{segments:[],poi:{},graphMode:l.X,color:""};var i=L.getListIdxFromBranchIdx(a,g),o=M(y.metaData.computedLineWidth,a,g),s=M(y.metaData.computedLineOpacity,a,g),u=y.metaData.colorLatexValue?M(y.metaData.colorLatexValue,a,g):y.userData.color;if(0===t.getDependencies().length){var h=n.default.dropUndefinedPoints([t.asValue()]),d=h.points,m=h.droppedIndices;return{segments:[d],graphMode:l.XYPOINT,droppedIndices:m,color:f.getDisplayColor(X,q),style:X.lineStyle,lineWidth:o,lineOpacity:s,poi:c.default(d)}}var v=t.getCompiledFunction(),D=y.getGraphInfo(e,t);return D.graphMode=p.graphMode,D.domain={min:y.metaData.evaluatedDomainMin,max:y.metaData.evaluatedDomainMax},D.style=y.userData.lineStyle,D.lineWidth=o,D.lineOpacity=s,D.color=u,D.listIndex=i,n.default.computeGraphData({viewState:r,graphInfo:D,compiled:v})});if(A.fill){if(B.forEach(function(e,t){t>=U||k.push({segments:e.segments,color:y.metaData.colorLatexValue?M(y.metaData.colorLatexValue,t,g):y.userData.color,fillOpacity:M(y.metaData.computedFillOpacity,t,g),listIndex:L.getListIdxFromBranchIdx(t,g),graphMode:l.POLYGONFILL,poi:{}})}),!A.lines)return k;B=B.concat(k)}return B;case l.X:case l.Y:case l.IMPLICIT:case l.POLAR:case l.Z_3D:var j=[],Z=a.valueType===v.Number,J=I(this.metaData,["computedLineOpacity","computedLineWidth","colorLatexValue","fillOpacity"],g);return O.wrap(a).eachElement(function(t,a){if(!(a>=J)){var u,c=p.graphMode===l.IMPLICIT||p.graphMode===l.Z_3D?t.getCompiledFunction(["x","y"]):t.getCompiledFunction(),m=d.getFunctionSpecFromTree(y),f=m&&m.discrete,v=function(e,t){if(!e)return;if(!(t instanceof i))return;var a=t._chunk,o=a.getInstruction(a.returnIndex);if(o.type!==D.NativeFunction)return;var r=e.discrete?"discreteDistribution":"continuousDistribution";if("binomialdist"===e.symbol&&"binompdf"===o.symbol){var n=x.asValue(a,o.args[1]),l=x.asValue(a,o.args[2]);return{type:r,xmin:0,xmax:n,ymin:0,ymax:h=s.binompdf(l*n,n,l)}}if("poissondist"===e.symbol&&"poissonpdf"===o.symbol){return{type:r,xmin:0,xmax:2.5*(p=x.asValue(a,o.args[1])),ymin:0,ymax:h=Math.max(s.poissonpdf(Math.floor(p),p),s.poissonpdf(Math.ceil(p),p))}}if("normaldist"===e.symbol&&"normalpdf"===o.symbol){var p=x.asValue(a,o.args[1]),u=x.asValue(a,o.args[2]),h=s.normalpdf(p,p,u);return{type:r,xmin:p-2*Math.abs(u),xmax:p+2*Math.abs(u),ymin:0,ymax:h}}if("uniformdist"===e.symbol&&"uniformpdf"===o.symbol){var c=x.asValue(a,o.args[1]),d=x.asValue(a,o.args[2]),m=(p=(c+d)/2,d-c);return{type:r,xmin:c-m/3,xmax:d+m/3,ymin:0,ymax:h=s.uniformpdf(p,c,d)}}if("tdist"===e.symbol&&"tpdf"===o.symbol){var g=x.asValue(a,o.args[1]);return{type:r,xmin:-3,xmax:3,ymin:0,ymax:h=s.tpdf(0,g)}}return}(m,t);try{u=t.getCompiledDerivative()}catch(e){}var b=y.getGraphInfo(e,t);b.listIndex=L.getListIdxFromBranchIdx(a,g),b.graphMode=p.graphMode,b.style=y.userData.lineStyle,b.lineWidth=M(y.metaData.computedLineWidth,a,g),b.lineOpacity=M(y.metaData.computedLineOpacity,a,g);var O=M(y.metaData.computedFillOpacity,a,g);b.fillOpacity=O,p.graphMode===l.POLAR&&(b.domain={min:y.metaData.evaluatedDomainMin,max:y.metaData.evaluatedDomainMax,isExplicit:y.metaData.isExplicitDomain});var I=y.metaData.colorLatexValue?M(y.metaData.colorLatexValue,a,g):y.userData.color;b.color=I;var P=y.metaData.evaluatedCDFMin,A=y.metaData.evaluatedCDFMax;if(isNaN(P)||isNaN(A)||!Z)if(f){var E=n.default.computeDiscreteGraphData({viewState:r,graphInfo:b,compiled:c,showPoint:y.userData.shouldGraph,maxOverride:V(m,t)});v&&(E.boundingBox=v),j.push(E)}else{var F=void 0===y.userData.lines||y.userData.lines,S={viewState:r,graphInfo:b,compiled:c,derivative:u};E=n.default.computeGraphData(S);if(v&&(E.boundingBox=v),E.fillSegments){E.fillSegments;var T=o.__rest(E,["fillSegments"]);F||(T.lineWidth=0),j.push(T)}else F||(E.lineWidth=0),j.push(E);b.graphMode===l.IMPLICIT&&"="!==b.operator&&j.push({graphMode:l.POLYGONFILL,segments:E.fillSegments,poi:{},listIndex:b.listIndex,color:I,fillOpacity:O})}else if(f){var N={viewState:r,graphInfo:b,compiled:c,bounds:[P,A],maxOverride:V(m,t),showPoint:y.userData.shouldGraph},C=(w=h.makeDiscreteCDFTopBranches(N)).cdfTopBranch;if((_=w.topBranches).forEach(function(e){e&&v&&(e.boundingBox=v)}),_.every(function(e){return void 0!==e})&&(j=_,C&&C.segments[0].length)){var B=[];C.segments[0].forEach(function(e){isNaN(e[0])||isNaN(e[1])||B.push([e[0],0,e[0],e[1]])}),j.push({graphMode:l.PARAMETRIC,segments:B,boundingBox:v,poi:{},color:I})}}else{var w,_;N={viewState:r,graphInfo:b,compiled:c,derivative:u,bounds:[P,A]},C=(w=h.makeContinuousCDFTopBranches(N)).cdfTopBranch;if((_=w.topBranches).forEach(function(e){e&&v&&(e.boundingBox=v)}),j=_,C&&C.segments.length){for(var z=void 0,G=void 0,W=0;W<C.segments.length;W++){if((Y=C.segments[W]).length>=4){z=Y[0];break}}for(W=C.segments.length-1;W>=0;W--){var Y;if((Y=C.segments[W]).length>=4){G=Y[Y.length-2];break}}if(void 0!==z&&void 0!==G&&isFinite(z)&&isFinite(G)){var R=n.default.polygonsFromSegments(C.segments,[[z,0,G,0]],C.graphMode);j.push({graphMode:l.POLYGONFILL,segments:R,poi:{},color:I})}}}}}),j;case l.POLYGON:B=[];var H=void 0===this.userData.lines||this.userData.lines,K=void 0===this.userData.fill||this.userData.fill;if(!K&&!H)return B;G=I(this.metaData,["computedLineOpacity","computedLineWidth","colorLatexValue","fillOpacity"],g);var Q=a.asValue();v.isList(a.valueType)||(Q=[Q]);for(var $=0;$<Q.length;$++)if(!($>G-1)){var ee=Q[$];if(ee.length){var te=this.getGraphInfo(e,a),ae=L.getListIdxFromBranchIdx($,g),ie=M(this.metaData.computedLineWidth,$,g),oe=M(this.metaData.computedLineOpacity,$,g),re=M(this.metaData.computedFillOpacity,$,g),se=this.metaData.colorLatexValue?M(this.metaData.colorLatexValue,$,g):this.userData.color,ne=T(ee=o.__spreadArray(o.__spreadArray([],ee),[ee[0]]));ne.length&&(K&&B.push({segments:ne,graphMode:l.POLYGONFILL,poi:{},color:se,fillOpacity:re,style:te.style,listIndex:ae}),H&&B.push({segments:ne,graphMode:l.PARAMETRIC,poi:{},color:se,style:this.userData.lineStyle,lineWidth:ie,lineOpacity:oe,listIndex:ae}))}}return B;case l.POLYGONFILL:case l.VISUALIZATION:case l.OBJECT3D:case l.NONE:case l.ERROR:return!1;default:var le=p.graphMode;throw new Error("Unexpected graphMode: "+le)}},t.Base.prototype.tryGraph=function(e,a,i){try{return this.graph(e,a,i)}catch(e){var o=e instanceof t.Error?e.getError():r.parseError().getError();return[n.errorBranch(o)]}},t.Base.prototype.graph=function(e,t,a){var i=this.getGraphInfo(e,t);return this._graph(e,t,a,i)},t.BaseComparator.prototype.graph=function(e,i,o){var r=this.getGraphInfo(e,i),s=r.graphMode,p="baseComparator",u=void 0===this.userData.lines||this.userData.lines;if(s===l.IMPLICIT)return this._graph(e,i,o,r);if(s===l.NONE)return!1;if(!(i instanceof t.SolvedEquation))return!1;var h=this.getOperator(),c=[],d=[],m=!0;i._expression.eachElement(function(e){c.push(e.getCompiledFunction());try{d.push(e.getCompiledDerivative())}catch(e){m=!1}}),m||(d=void 0);for(var g=[],f=[-1,0,0,1],y=I(this.metaData,["computedLineWidth","computedLineOpacity","computedFillOpacity","colorLatexValue"],p),v=Math.min(c.length,y),D=0;D<v;D++){var x=this.getGraphInfo(e,i._expression.args[D]);x.graphMode=s,x.listIndex=L.getListIdxFromBranchIdx(D,p),x.style=this.userData.lineStyle,x.color=this.metaData.colorLatexValue?M(this.metaData.colorLatexValue,D,p):this.userData.color,r.graphMode===l.POLAR&&(x.domain={min:this.metaData.evaluatedDomainMin,max:this.metaData.evaluatedDomainMax,isExplicit:this.metaData.isExplicitDomain});var b=n.default.computeGraphData({viewState:o,graphInfo:x,compiled:c[D],derivative:d?d[D]:void 0});b.lineWidth=M(this.metaData.computedLineWidth,D,p),b.lineOpacity=M(this.metaData.computedLineOpacity,D,p),b.fillOpacity=M(this.metaData.computedFillOpacity,D,p),b.operator=a.get(a.table[h].inclusive,f[D%4]),u||(b.lineWidth=0),g.push(b)}for(D=0;D<v;D+=4){var O=n.default.polygonsFromSegments(g[D+1].segments,g[D+2].segments,s);g.push({graphMode:l.POLYGONFILL,listIndex:g[D].listIndex,segments:O,poi:{},fillOpacity:g[D].fillOpacity,color:g[D].color})}return g},t.DoubleInequality.prototype.graph=function(e,t,i){var o=this,r=this.getGraphInfo(e,t);if(r.graphMode===l.NONE)return!1;var s=[],p=a.get(a.table[this._operators[0]].inclusive,0),u=a.get(a.table[this._operators[1]].inclusive,0),h=this.userData,c=this.metaData,d=void 0===h.lines||h.lines,m=["colorLatexValue","computedFillOpacity"];d&&m.push("computedLineWidth","computedLineOpacity");var g=I(c,m);return O.eachArgs(t._expressions,function(t,a){if(!(a>=g)){t[0].userData=t[1].userData=h,t[0].metaData=t[1].metaData=c;var m=o.metaData.colorLatexValue?M(c.colorLatexValue,a):h.color,f=M(c.computedLineWidth,a),y=M(c.computedLineOpacity,a),v=M(c.computedFillOpacity,a),D=o._graph(e,t[0],i,r)[0];D.listIndex=a,D.operator=p,D.color=m,D.lineWidth=f,D.lineOpacity=y,s.push(D);var x=o._graph(e,t[1],i,r)[0];x.listIndex=a,x.operator=u,x.color=m,x.lineWidth=f,x.lineOpacity=y,s.push(x);var L=n.default.polygonsFromSegments(D.segments,x.segments,D.graphMode);d||(D.lineWidth=0,x.lineWidth=0),s.push({graphMode:l.POLYGONFILL,listIndex:D.listIndex,segments:L,lineOpacity:y,fillOpacity:v,poi:{},color:m})}}),s},t.Regression.prototype.graph=function(e,t,a){var i=this.getGraphInfo(e,t);return this._graph(e,t.model,a,i)};var E=function(e){var t=[];return O.wrap(e).eachElement(function(e){t.push(e.args.map(function(e){return e.asValue()}))}),t};function F(e){return Array.prototype.concat.apply([],e)}function S(e,t,a){return!!e&&(0===t&&0===a?"none"!==e[2].type||"none"!==e[3].type:0!==t&&0!==a?"none"!==e[0].type&&"none"!==e[1].type:0!==t?"none"!==e[0].type:0!==a&&"none"!==e[1].type)}function T(e){for(var t=[],a=[],i=0,o=e;i<o.length;i++){var r=o[i],s=r[0],n=r[1];isNaN(s)||isNaN(n)?(t.length>=4&&a.push(t),t=[]):t.push(s,n)}return t.length>=4&&a.push(t),a}t.Object3D.prototype.graph=function(e,t,a){var i=this.getGraphInfo(e,t);return[{segments:[E(t)],color:i.color,objectName:this._symbol,graphMode:l.OBJECT3D}]},t.Histogram.prototype.graph=function(e,t,a){var i=this.getGraphInfo(e,t),o=t.args[0].asValue(),r=t.args[1].asValue(),s=A(o,r,this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?r/2:0),n=1;this.userData.vizProps&&"density"===this.userData.vizProps.histogramMode?n=1/(o.length*r):this.userData.vizProps&&"relative"===this.userData.vizProps.histogramMode&&(n=1/o.length);var p=[],u=[];for(var h in s){var c=s[h],d=c.data.length;u.push([c.min,0*n,c.min,d*n,c.max,d*n,c.max,0*n]);var m=0;s[c.id+1]&&(m=s[c.id+1].data.length);var f=[c.min,0*n,c.min,d*n,c.max,d*n];m<d&&f.push(c.max,m*n),p.push(f)}var y=P("histogram",u);return y&&r&&(y.binWidth=r),[{segments:u,graphMode:l.POLYGONFILL,boundingBox:y,poi:{},color:i.color,fillOpacity:g.DEFAULT},{segments:p,graphMode:l.Y,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},color:i.color}]},t.DotPlot.prototype.graph=function(e,t,a){var i,o=this.getGraphInfo(e,t),r=t.args[1].asValue(),s=this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?r/2:0,n=A(t.args[0].asValue(),r,s),p=!1,u=[];for(var h in n)for(var d=(g=n[h]).data.length-1;d>=0;d--)g.center!==g.data[d]&&(p=!0);if(this.userData.vizProps&&"exact"===this.userData.vizProps.dotplotXMode)for(var h in n){(i=(g=n[h]).data).reverse();for(var m=0;m<i.length;m++)u.push([i[m],m+1])}else for(var h in n){var g;i=(g=n[h]).data;for(m=0;m<i.length;m++)u.push([g.center,m+1])}var f=P("dotplot",u);f&&r&&(f.ymin=0,f.xmin-=.5*r,f.xmax+=.5*r,f.binWidth=r);var y=this.metaData,v=y.computedPointOpacity,D=y.computedPointSize,x=M(v,0),L=this.userData.pointSize?M(D,0):b.DOTPLOT_DEFAULT;return[{segments:[u],graphMode:l.XYPOINT,boundingBox:f,poi:c.default(u),color:o.color,style:this.userData.pointStyle,pointSize:L,pointOpacity:x,showPoint:!0,needsDotplotXMode:p}]},t.BoxPlot.prototype.graph=function(e,t,a){var i=this.getGraphInfo(e,t),o=this.metaData.evaluatedAxisOffset,r=this.metaData.evaluatedBreadth,n=t.args[0].asValue();if(isNaN(r)||isNaN(o))return!1;var p=Math.min.apply(null,n),u=Math.max.apply(null,n),h=s.quartile(n,1),d=s.quartile(n,2),m=s.quartile(n,3),g=o,f=g-r/2,v=g+r/2,D=r/10,x=[];if(this.userData.vizProps.showBoxplotOutliers){var L=m-h,b=h-1.5*L,O=m+1.5*L;p=1/0,u=-1/0,n.forEach(function(e){b<=e&&e<p&&(p=e),u<e&&e<=O&&(u=e),(e<b||e>O)&&x.push([e,g])})}var I=[[h,f,m,f,m,v,h,v,h,f],[d,f,d,v],[h,g,p,g],[m,g,u,g],[p,g-D,p,g+D],[u,g-D,u,g+D]];if(this.userData.vizProps&&"y"===this.userData.vizProps.alignedAxis){for(var M=0,V=I;M<V.length;M++)for(var A=V[M],E=0;E<A.length;E+=2){var F=A[E];A[E]=A[E+1],A[E+1]=F}for(var S=0,T=x;S<T.length;S++){var N=T[S];F=N[0];N[0]=N[1],N[1]=F}}var C=[{segments:I,graphMode:l.PARAMETRIC,boundingBox:P("boxplot",I.concat(x)),poi:{},color:i.color}];return x.length&&C.push({segments:[x],graphMode:l.XYPOINT,color:i.color,style:y.PointStyle.OPEN,showPoint:!0,poi:c.default(x)}),C},t.Table.prototype.isValueDraggable=function(e,t,a){if(!e.columns[t].isIndependent)return!1;var i=this.columns[t].values,o=i&&i[a];return!(!o||!isFinite(o.asValue())||0!==o.getDependencies().length)},t.Table.prototype.graph=function(e,t,a){var i={};if(t.columns[0].isError)return i;for(var o=t.columns[0],r=o.values,s=1;s<this.columns.length;s++){var n=t.columns[s];if(!n.isError){var u=this.columns[s].header.userData,h=this.columns[s].header.metaData;if(!u.hidden){for(var d=I(h,["colorLatexValue","computedPointSize","computedPointOpacity"]),m=u.dragMode,g=m===p.DragMode.X||m===p.DragMode.XY,y=m===p.DragMode.Y||m===p.DragMode.XY,v=!!u.points,D=!!u.lines,x=n.isDiscrete(o),L=D&&x,b=D&&!x,O=[],M=[],P=[],V=[],A=[],E=[],S=1/0,T=-1/0,N=1/0,C=-1/0,B={},w=0;w<r.length;w++){var _=r[w],z=n.values[w];if(_&&z&&isFinite(_.asValue())&&isFinite(z.asValue())){var G=_.asValue(),W=z.asValue();if(v){if(w>=d)continue;var Y=g&&this.isValueDraggable(t,0,w),R=y&&this.isValueDraggable(t,s,w);Y||R?(P.push([G,W]),V.push({index:w,dragX:Y,dragY:R})):M.push([G,W])}L&&E.push([G,W]),G<S&&(S=G),G>T&&(T=G),W<N&&(N=W),W>C&&(C=W)}else B[w]=!0,L&&(E.length>1&&A.push(E),E=[])}var X={type:"table",xmin:S,xmax:T,ymin:N,ymax:C};if(P.length&&O.push({graphMode:l.XYPOINT_MOVABLE,segments:[P],color:h.colorLatexValue||u.color,tableId:u.tableId,poi:c.default(P),movablePointInfo:V,boundingBox:X,pointOpacity:h.computedPointOpacity}),M.length&&O.push({segments:[M],droppedIndices:B,graphMode:l.XYPOINT,showPoint:!0,poi:c.default(M),color:h.colorLatexValue||u.color,pointSize:h.computedPointSize,pointOpacity:h.computedPointOpacity,style:u.pointStyle,tableId:u.tableId,boundingBox:X}),(A.length||E.length)&&(A.push(E),O.push({segments:A.map(F),graphMode:l.PARAMETRIC,poi:{},color:f.getDisplayColor(u,h),style:u.lineStyle,lineWidth:Array.isArray(h.computedLineWidth)?h.computedLineWidth[0]:h.computedLineWidth,lineOpacity:Array.isArray(h.computedLineOpacity)?h.computedLineOpacity[0]:h.computedLineOpacity,tableId:u.tableId,boundingBox:X})),b){var q=this.columns[s].header.graph(e,t.columns[s].continuousConcreteTree,a);q.length&&Array.prototype.push.apply(O,q)}O.length&&(i[u.id]=O)}}}return i},t.Image.prototype.graph=function(e,t,a){var i=[];if(!(t.center.valueType===v.Point&&0===t.center.getDependencies().length&&t.radianAngle.isConstant&&t.width.isConstant&&t.height.isConstant&&t.opacity.isConstant))return i;for(var o=[],r=[],s=t.width.asValue()/2,n=t.height.asValue()/2,p=t.radianAngle.asValue(),u=-1;u<=1;u++)for(var h=-1;h<=1;h++){var d=t.center.asValue(),m=d[0],g=d[1],y=[m+u*s*Math.cos(p)+h*n*Math.sin(p),g-u*s*Math.sin(p)+h*n*Math.cos(p)];S(t.moveStrategy,u,h)&&(o.push(y),r.push([u,h]))}return i.push({segments:[o],scaleFactors:[r],graphMode:l.XYPOINT_MOVABLE,color:f.getDisplayColor(this.userData,this.metaData),style:this.userData.style,poi:c.default(o),movablePointInfo:[],pointOpacity:1}),i}});\ndefine(\'core/math/features/elementAt\',[\'require\',\'parsenodes\'],function(require){"use strict";var t=require("parsenodes");t.List.prototype.elementAt=function(e){return(e=Math.floor(e))>=0&&e<this.args.length?this.args[e]:t.Constant(NaN)},t.List.prototype.eachElement=function(t){for(var e=0;e<this.length;e++)t(this.elementAt(e),e)},t.List.prototype.mapElements=function(t){for(var e=[],n=0;n<this.length;n++)e.push(t(this.elementAt(n),n));return e},t.ParenSeq.prototype.elementAt=function(e){return e<0||e>this.args.length-1?t.Constant(NaN):this.args[e]}});\ndefine(\'core/math/features/printLatex\',[\'require\',\'parsenodes\',\'core/lib/label\',\'core/lib/number-to-latex\'],function(require){"use strict";var t=require("parsenodes"),r=require("core/lib/label"),i=require("core/lib/number-to-latex").default;function e(t){switch(t){case">":return">";case"<":return"<";case">=":return"\\\\ge ";case"<=":return"\\\\le ";case"=":return"="}}function n(t){return t.printLatex()}function a(t){return t.isConstant&&!0===t.asValue()}t.Identifier.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+" "},t.Constant.prototype.printLatex=function(){return i(this.asValue())},t.Ticker.prototype.printLatex=function(){return"\\\\ticker\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.Negative.prototype.printLatex=function(){return"-\\\\left("+this.args[0].printLatex()+"\\\\right)"},t.Add.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)+\\\\left("+this.args[1].printLatex()+"\\\\right)"},t.PercentOf.prototype.printLatex=function(){return this.args[0].printLatex()+" \\\\% \\\\operatorname{of} "+this.args[1].printLatex()},t.Subtract.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)-\\\\left("+this.args[1].printLatex()+"\\\\right)"},t.Multiply.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)*\\\\left("+this.args[1].printLatex()+"\\\\right)"},t.Divide.prototype.printLatex=function(){return"\\\\frac{"+this.args[0].printLatex()+"}{"+this.args[1].printLatex()+"}"},t.Exponent.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)^{"+this.args[1].printLatex()+"}"},t.Assignment.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"="+this._expression.printLatex()},t.Equation.prototype.printLatex=function(){return this._lhs.printLatex()+"="+this._rhs.printLatex()},t.BaseComparator.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+e(this.operator)+"\\\\left("+this.args[1].printLatex()+"\\\\right)"},t.DoubleInequality.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+e(this.args[1])+this.args[2].printLatex()+e(this.args[3])+"\\\\left("+this.args[4].printLatex()+"\\\\right)"},t.And.prototype.printLatex=function(){if(!(this.args[0]instanceof t.BaseComparator&&this.args[1]instanceof t.BaseComparator))throw new Error("Not implemented");if(this.args[0].args[1].printLatex()!==this.args[1].args[0].printLatex())throw new Error("Not implemented");return"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)"+e(this.args[0].operator)+"\\\\left("+this.args[0].args[1].printLatex()+"\\\\right)"+e(this.args[1].operator)+"\\\\left("+this.args[1].args[1].printLatex()+"\\\\right)"},t.FunctionCall.prototype.printLatex=function(){switch(this._symbol){case"sqrt":return"\\\\sqrt{"+this.args[0].printLatex()+"}";case"nthroot":return"\\\\sqrt["+this.args[1].printLatex()+"]{"+this.args[0].printLatex()+"}";case"logbase":return"\\\\log_{"+this.args[1].printLatex()+"}\\\\left("+this.args[0].printLatex()+"\\\\right)";default:return r.identifierToLatex(this._symbol)+"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"}},t.SeededFunctionCall.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"\\\\left("+this.args.slice(1).map(n).join(", ")+"\\\\right)"},t.DotAccess.prototype.printLatex=function(){return"("+this.args[0].printLatex()+").("+this.args[1].printLatex()+")"},t.Prime.prototype.printLatex=function(){switch(this.args[0]._symbol){case"logbase":return"\\\\log_{"+this.args[0].args[1].printLatex()+"}"+Array(this.order+1).join("\'")+"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)";default:return r.identifierToLatex(this.args[0]._symbol)+Array(this.order+1).join("\'")+"\\\\left("+this.args[0].args.map(n).join(", ")+"\\\\right)"}},t.List.prototype.printLatex=function(){return"\\\\left["+this.args.map(n).join(", ")+"\\\\right]"},t.Range.prototype.printLatex=function(){return"\\\\left["+this.args[0].args.map(n).join(", ")+" ... "+this.args[1].args.map(n).join(", ")+"\\\\right]"},t.UpdateRule.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\to("+this.args[1].printLatex()+")"},t.ListAccess.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)\\\\left["+this.args[1].printLatex()+"\\\\right]"},t.ParenSeq.prototype.printLatex=function(){return"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.BareSeq.prototype.printLatex=function(){return this.args.map(n).join(", ")},t.Sum.prototype.printLatex=function(){return"\\\\sum_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},t.Product.prototype.printLatex=function(){return"\\\\prod_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},t.Integral.prototype.printLatex=function(){return"\\\\int_{"+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)d"+this.args[0].printLatex()},t.FunctionExponent.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)^{"+this.args[2].printLatex()+"}"},t.FunctionFactorial.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)!"},t.Piecewise.prototype.printLatex=function(){var r=this;if(a(r.args[0]))return r.args[1].printLatex();for(var i,e=["\\\\left\\\\{"];;){if(a(r.args[0])){e.push(r.args[1].printLatex());break}if(e.push(r.args[0].printLatex(),": "),(i=r.args[2]).isConstant&&i.isNaN()){e.push(r.args[1].printLatex());break}if(e.push(r.args[1].printLatex(),", "),!(r.args[2]instanceof t.Piecewise)){e.push(r.args[2].printLatex());break}r=r.args[2]}return e.push("\\\\right\\\\}"),e.join("")},t.FunctionDefinition.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"\\\\left("+this._argSymbols.map(r.identifierToLatex).join(", ")+"\\\\right) = "+this._expression.printLatex()},t.Derivative.prototype.printLatex=function(){return"\\\\frac{d}{d"+r.identifierToLatex(this._symbol)+"}\\\\left("+this.args[0].printLatex()+"\\\\right)"},t.Regression.prototype.printLatex=function(){return"\\\\left("+this._lhs.printLatex()+"\\\\right)\\\\sim\\\\left("+this._rhs.printLatex()+"\\\\right)"},t.Histogram.prototype.printLatex=function(){return"\\\\histogram\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.Object3D.prototype.printLatex=function(){return"\\\\"+this._symbol+"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.DotPlot.prototype.printLatex=function(){return"\\\\dotplot\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.BoxPlot.prototype.printLatex=function(){return"\\\\boxplot\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.TTest.prototype.printLatex=function(){return"\\\\TTest\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.IndependentTTest.prototype.printLatex=function(){return"\\\\IndependentTTest\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.Stats.prototype.printLatex=function(){return"\\\\Stats\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},t.AssignmentExpression.prototype.printLatex=function(){return r.identifierToLatex(this._symbol)+"="+this.args[1].printLatex()},t.ListComprehension.prototype.printLatex=function(){return"\\\\left["+this._body.printLatex()+"\\\\operatorname{for}"+this._inputLists.map(n).join(", ")+"\\\\right]"}});\ndefine(\'core/math/features/getExpressionType\',[\'require\',\'parsenodes\',\'core/types/graphmode\',\'core/math/expression-types\',\'core/math/types\'],function(require){"use strict";var e=require("parsenodes"),t=require("core/types/graphmode"),o=require("core/math/expression-types").ExpressionType,r=require("core/math/types");e.Base.prototype.getExpressionType=function(e,p){return e===t.X||e===t.Y?o.X_OR_Y:e===t.XYPOINT||e===t.XYPOINT_MOVABLE?p===r.Point?o.SINGLE_POINT:o.POINT_LIST:e===t.PARAMETRIC||e===t.PARAMETRIC_CURVE_3D?o.PARAMETRIC:e===t.POLAR?o.POLAR:e===t.IMPLICIT?o.IMPLICIT:r.isTypeOrListOfType(p,r.Polygon)?o.POLYGON:o.X_OR_Y},e.Histogram.prototype.getExpressionType=function(e,t){return o.HISTOGRAM},e.Object3D.prototype.getExpressionType=function(e,t){return o.CUBE},e.DotPlot.prototype.getExpressionType=function(e,t){return o.DOTPLOT},e.BoxPlot.prototype.getExpressionType=function(e,t){return o.BOXPLOT}});\ndefine(\'parser\',[\'require\',\'core/math/baseparser\',\'core/math/features/getConcreteTree\',\'core/math/features/buildIRExpression\',\'core/math/features/typeCheck\',\'core/math/features/repr\',\'core/math/features/substitute\',\'core/math/features/simpleFunctionExpression\',\'core/math/features/analyze\',\'core/math/features/analyzeFourFunction\',\'core/math/features/analyzeScientific\',\'core/math/features/analyzeSingleExpressionScientific\',\'core/math/features/getgraphmode\',\'core/math/features/getgraphinfo\',\'core/math/features/getMoveStrategy\',\'core/math/features/getDefaultDragMode\',\'core/math/features/tableinfo\',\'core/math/features/tableerror\',\'core/math/features/graph\',\'core/math/features/elementAt\',\'core/math/features/printLatex\',\'core/math/features/getExpressionType\'],function(require){"use strict";var e=require("core/math/baseparser");return require("core/math/features/getConcreteTree"),require("core/math/features/buildIRExpression"),require("core/math/features/typeCheck"),require("core/math/features/repr"),require("core/math/features/substitute"),require("core/math/features/simpleFunctionExpression"),require("core/math/features/analyze"),require("core/math/features/analyzeFourFunction"),require("core/math/features/analyzeScientific"),require("core/math/features/analyzeSingleExpressionScientific"),require("core/math/features/getgraphmode"),require("core/math/features/getgraphinfo"),require("core/math/features/getMoveStrategy"),require("core/math/features/getDefaultDragMode"),require("core/math/features/tableinfo"),require("core/math/features/tableerror"),require("core/math/features/graph"),require("core/math/features/elementAt"),require("core/math/features/printLatex"),require("core/math/features/getExpressionType"),e});\ndefine(\'core/math/finddependencyorder\',["require","exports","core/math/builtinframe","underscore"],function(require,e,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findDependencyOrder=void 0,e.findDependencyOrder=function(e,i,t){var o=[],a={},l={},p={},s={},f={},h=0,u=[],d=[];if(!t)for(var v in t=[],i)i.hasOwnProperty(v)&&t.push(v);for(var v in i)if(i.hasOwnProperty(v)){for(var c=i[v].exportPenalty||0;o.length<c+1;)o.push([]);o[c].push(v)}for(var y=0,g=o;y<g.length;y++){for(var w={},k=0,O=g[y];k<O.length;k++){v=O[k];for(var x=0,P=i[v].getLegalExports(e);x<P.length;x++){var m=P[x];r[m]||(a[m]||(w[m]=w[m]||[],w[m].push(v),w[m].length>1&&(!l[m]&&i[v].isTable&&(p[m]=!0),l[m]=!0)))}}for(var m in w)p[m]||(a[m]=w[m])}for(var D=0,b=t;D<b.length;D++){m=b[D];f.hasOwnProperty(m)||M(m)}function M(r){f[r]=f[r]||{};var t,o=f[r];o.id=r,o.index=h,o.lowlink=h,u.push(o),o.instack=!0,h++;for(var l=0,p=i[r].getDependencies();l<p.length;l++){var v=p[l];if(a.hasOwnProperty(v))for(var c=0,y=a[v];c<y.length;c++){var g=y[c];f.hasOwnProperty(g)?(t=f[g]).instack&&(o.lowlink=Math.min(o.lowlink,t.index)):(M(g),t=f[g],o.lowlink=Math.min(o.lowlink,t.lowlink))}}if(o.lowlink===o.index)if((t=u.pop()).instack=!1,t===o)!function(e){d.push(e.id)}(o);else{for(var w=[t];(t=u.pop()).instack=!1,w.push(t),t!==o;);!function(r){for(var t=[],o=r.length-1;o>=0;o--){var a=r[o],l=i[a.id].getLegalExports(e);Array.prototype.push.apply(t,l),t.push(l[0]),d.push(a.id)}(t=n.unique(t)).sort();for(var p=0,f=t;p<f.length;p++){var h=f[p];s[h]=t}}(w)}}return{resolved:d,multiplyDefined:l,multiplyDefinedByTables:p,cyclicallyDefined:s}}});\ndefine(\'core/math/findIntersections\',[\'require\',\'core/types/graphmode\',\'./plotter\',\'parsenodes\',\'core/math/distance\'],function(require){"use strict";var n=require("core/types/graphmode"),t=require("./plotter").default,e=require("parsenodes"),r=require("core/math/distance");function i(n){for(var t=[],e=0;e<n;e++)t[e]={x:[],y:[],intersects:[]};return t}function o(t,e,r,i){return r===n.X&&i===n.X||r===n.Y&&i===n.Y?function(n){return e(n)-t(n)}:(r===n.X&&i===n.Y||r===n.Y&&i===n.X)&&function(n){return n-e(t(n))}}function s(n,t){t instanceof e.SolvedEquation?t=t._expression:t instanceof e.OptimizedRegression&&(t=t.model);var r=[],i=[];return t instanceof e.DoubleInequality?e.List.eachArgs(t._expressions,function(n){r.push(n[0].getCompiledFunction()),i.push(n[0].isConstant&&n[1].isNaN()),r.push(n[1].getCompiledFunction()),i.push(n[1].isConstant&&n[1].isNaN())}):e.List.wrap(t).eachElement(function(n){r.push(n.getCompiledFunction()),i.push(n.isConstant&&n.isNaN())}),{functions:r,skipIntersecting:i}}function p(n,t){n.intersects=Array(n.x.length);for(var e=0;e<n.x.length;e++)n.intersects[e]=t}function u(t,e){if(e===n.X){var r=t.y;t.y=t.x,t.x=r}}function c(n,t){Array.prototype.push.apply(n.x,t.x),Array.prototype.push.apply(n.y,t.y),Array.prototype.push.apply(n.intersects,t.intersects)}function a(n,e,i){var o=t.sampleXY(n,e),s=o.poi.zeros,p=o.poi.extrema,u=[],c=0,a=0;for(c=0;c<s.x.length;c++){for(;a<p.x.length&&p.x[a]<s.x[c];a++)r.approx(p.y[a],0)&&u.push(p.x[a]);u.push(s.x[c])}for(;a<p.x.length;a++)r.approx(p.y[a],0)&&u.push(p.x[a]);return{x:u,y:u.map(i)}}return{findIntersections:function(n,e,r){var f,h,g,l=n[r],y=l.getGraphInfo(),x=l.getGraphMode();try{h=i((f=s(l.policy,l.concreteTree)).functions.length),g=function(n,t){var e=[];for(var r in n)if(n.hasOwnProperty(r)&&String(r)!==String(t)&&n[r].shouldIntersect()){var i=n[r],o=s(i.policy,i.concreteTree);e.push({id:r,graphMode:i.getGraphMode(),functions:o.functions,skipIntersecting:o.skipIntersecting})}return e}(n,r)}catch(n){return i(0)}if(!g)return h;for(var d=0,v=0;v<g.length;v++)for(var m=g[v],I=0;I<f.functions.length;I++)if(!f.skipIntersecting[I])for(var C=f.functions[I].fn,N=t.computeDomain(e,y,C),X=0;X<m.functions.length;X++)if(!g[v].skipIntersecting[X]){var k=o(C,m.functions[X].fn,x,m.graphMode);if(k){var A=a(k,N,C);if((d+=A.x.length)>100)return i(f.functions.length);p(A,m.id),u(A,x),c(h[I],A)}}return h},findIndicatorZeros:a}});\ndefine(\'core/math/policyFourFunction\',["require","exports"],function(require,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PolicySingleExpressionFourFunction=n.PolicyFourFunction=void 0;var e=function(){function n(n){this.singleExpression=n.singleExpression}return n.prototype.assignmentForbidden=function(n){return"ans"!==n.slice(0,3)},n.prototype.isValidSlider=function(n){return!1},n.prototype.sliderVariables=function(){return[]},n.prototype.graphingEnabled=function(){return!1},n.prototype.ansEnabled=function(){return!this.singleExpression},n.prototype.disabledFeatures=function(){return["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf"]},n}();n.PolicyFourFunction=new e({singleExpression:!1}),n.PolicySingleExpressionFourFunction=new e({singleExpression:!0})});\ndefine(\'core/math/policyScientific\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PolicySingleExpressionScientific=e.PolicyScientific=void 0;var i=function(){function e(e){this.singleExpression=e.singleExpression}return e.prototype.assignmentForbidden=function(e){return this.singleExpression?"ans"!==e.slice(0,3):"tmp"===e.slice(0,3)},e.prototype.isValidSlider=function(e){return!1},e.prototype.sliderVariables=function(){return[]},e.prototype.graphingEnabled=function(){return!1},e.prototype.ansEnabled=function(){return!this.singleExpression},e.prototype.disabledFeatures=function(){return this.singleExpression?["Sum","Product","Integral","Derivative","Piecewise","PercentOf"]:["Sum","Product","Integral","Derivative","Piecewise"]},e}();e.PolicyScientific=new i({singleExpression:!1}),e.PolicySingleExpressionScientific=new i({singleExpression:!0})});\ndefine(\'core/math/policyGraphing\',["require","exports","./builtinframe","core/types/graphmode"],function(require,t,r,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyGraphing3D=t.PolicyGraphing=void 0;var n=function(){function t(){}return t.prototype.dimensions=function(){return 2},t.prototype.assignmentForbidden=function(t){return"x"===t||"y"===t||"theta"===t||"index"===t||"dt"===t||"tmp"===t.slice(0,3)||r.hasOwnProperty(t)},t.prototype.isValidSlider=function(t){return"x"===t||"y"===t||"ans"!==t.slice(0,3)&&!this.assignmentForbidden(t)},t.prototype.sliderVariables=function(t){var r=this;return-1!==t.indexOf("theta")&&(t=t.filter(function(t){return"r"!==t})),t.filter(function(t){return!r.assignmentForbidden(t)&&("ans"!==t.slice(0,3)&&"_"!==t[0])})},t.prototype.graphingEnabled=function(){return!0},t.prototype.ansEnabled=function(){return!1},t.prototype.validRegressionParameter=function(t){return"x"!==t&&"y"!==t},t.prototype.validLHS=function(t){return"theta"!==t},t.prototype.unplottablePolarFunction=function(t,r){return"theta"===t&&-1!==r.indexOf("r")},t.prototype.validDoubleInequalitySymbol=function(t){return"x"===t||"y"===t},t.prototype.validDoubleInequalityVariables=function(t){return!(t.length>2)&&t.every(this.validDoubleInequalitySymbol)},t.prototype.validExpressionVariables=function(t){return 1===t.length&&"x"===t[0]},t.prototype.validSolvedVariable=function(t){return"x"===t||"y"===t||"r"===t},t.prototype.validImplicitVariables=function(t){switch(t.length){case 0:return!0;case 1:return"x"===t[0]||"y"===t[0]||"r"===t[0];case 2:return"x"===t[0]&&"y"===t[1]||"y"===t[0]&&"x"===t[1]||"r"===t[0]&&"theta"===t[1]||"theta"===t[0]&&"r"===t[1];default:return!1}},t.prototype.graphableListVariables=function(t,r){return"x"===t||"y"===t||"r"===t||"x"===r||"y"===r},t.prototype.validParametricVariable=function(t){return"t"===t},t.prototype.validParametricVariables=function(t){return 1===t.length&&this.validParametricVariable(t[0])},t.prototype.validInequalityVariables=function(t){switch(t.length){case 1:return"x"===t[0]||"y"===t[0]||"r"===t[0];case 2:return this.validImplicitVariables(t);default:return!1}},t.prototype.validFirstColumnVariable=function(t){return"y"!==t&&"r"!==t&&"theta"!==t&&!t.match(/y_(\\d+)/)},t.prototype.validActionVariable=function(t){return"dt"===t||"index"===t},t.prototype.complicatedPolarImplicit=function(t,r){return"theta"===t||"r"===t&&1!==r},t.prototype.constantGraphMode=function(t){return"x"===t?e.X:"r"===t?e.POLAR:e.Y},t.prototype.graphMode=function(t,r){var n=r[0];return"y"===n||"x"===t?e.X:"r"===t&&"theta"===n?e.POLAR:e.Y},t.prototype.tableableAsConstant=function(t){return"x"!==t&&("r"!==t&&"theta"!==t)},t.prototype.implicitIndependent=function(t){return"x"},t.prototype.implicitDependency=function(t){return 1!==t.length?"y":"y"===t[0]?"x":"theta"===t[0]?"r":"y"},t.prototype.graphableAsConstant=function(t){return"y"===t||"x"===t||"r"===t},t.prototype.disabledFeatures=function(){return[]},t}(),i=function(){function t(){}return t.prototype.dimensions=function(){return 3},t.prototype.assignmentForbidden=function(t){return"x"===t||"y"===t||"z"===t||"tmp"===t.slice(0,3)||r.hasOwnProperty(t)},t.prototype.isValidSlider=function(t){return"x"===t||"y"===t||"z"===t||"ans"!==t.slice(0,3)&&!this.assignmentForbidden(t)},t.prototype.sliderVariables=function(t){var r=this;return t.filter(function(t){return!r.assignmentForbidden(t)&&"ans"!==t.slice(0,3)})},t.prototype.graphingEnabled=function(){return!0},t.prototype.ansEnabled=function(){return!1},t.prototype.validRegressionParameter=function(t){return!1},t.prototype.validLHS=function(t){return!0},t.prototype.unplottablePolarFunction=function(t,r){return!1},t.prototype.validDoubleInequalitySymbol=function(t){return!1},t.prototype.validDoubleInequalityVariables=function(t){return!1},t.prototype.validExpressionVariables=function(t){var r=t.join("");return"x"===r||"y"===r||"xy"===r||"yx"===r},t.prototype.validSolvedVariable=function(t){return"x"===t||"y"===t||"z"===t},t.prototype.validImplicitVariables=function(t){return!1},t.prototype.graphableListVariables=function(t,r){return"x"===t||"y"===t||"x"===r||"y"===r},t.prototype.validParametricVariable=function(t){return"t"===t},t.prototype.validParametricVariables=function(t){return 1===t.length&&this.validParametricVariable(t[0])},t.prototype.validInequalityVariables=function(t){return!1},t.prototype.validFirstColumnVariable=function(t){return!1},t.prototype.validActionVariable=function(t){return"dt"===t||"index"===t},t.prototype.complicatedPolarImplicit=function(t,r){return!1},t.prototype.constantGraphMode=function(t){return e.Z_3D},t.prototype.graphMode=function(t,r){return"z"===t&&this.validExpressionVariables(r)?e.Z_3D:e.NONE},t.prototype.tableableAsConstant=function(t){return"x"!==t&&"r"!==t},t.prototype.implicitIndependent=function(t){return"x"},t.prototype.implicitDependency=function(t){if(2!==t.length)return"z";var r=t[0]<t[1]?t[0]+t[1]:t[1]+t[0];return"xy"===r?"z":"xz"===r?"y":"yz"===r?"x":"z"},t.prototype.graphableAsConstant=function(t){return"z"===t},t.prototype.disabledFeatures=function(){return[]},t}();t.PolicyGraphing=new n,t.PolicyGraphing3D=new i});\ndefine(\'core/math/frameFourFunction\',[\'require\',\'core/math/builtinframe\'],function(require){"use strict";var t=require("core/math/builtinframe");return{getFrame:function(n){var i={};return n.additionalFunctions&&-1!==n.additionalFunctions.indexOf("sqrt")&&(i.sqrt=t.sqrt),i}}});\ndefine(\'core/math/frameScientific\',[\'require\',\'core/math/builtinframe\'],function(require){"use strict";var r=require("core/math/builtinframe"),n=["pi","e","trigAngleMultiplier"],t=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","mean","round","stdev","stdevp","nCr","nPr","exp","factorial"];function e(r,n){for(var t=0;t<r.length;t++){var e=r[t];if(!n.hasOwnProperty(e))throw new Error("Programming Error: key \'"+e+"\' does not exist in table. Must be one of:\\n"+Object.keys(n).join("\\n"))}}return e(n,r),e(t,r),{getFrame:function(e){var i={};return n.forEach(function(n){i[n]=r[n]}),t.forEach(function(n){e.replaceRoundWithReciprocal&&"round"===n||(i[n]=r[n])}),e.trigAngleMultiplier&&(i.trigAngleMultiplier=e.trigAngleMultiplier),i}}});\ndefine(\'core/math/frameSingleExpressionScientific\',[\'require\',\'core/math/builtinframe\'],function(require){"use strict";var r=require("core/math/builtinframe"),n=["pi","e","trigAngleMultiplier"],t=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","exp","factorial"];function e(r,n){for(var t=0;t<r.length;t++){var e=r[t];if(!n.hasOwnProperty(e))throw new Error("Programming Error: key \'"+e+"\' does not exist in table. Must be one of:\\n"+Object.keys(n).join("\\n"))}}return e(n,r),e(t,r),{getFrame:function(e){var i={};return n.forEach(function(n){i[n]=r[n]}),t.forEach(function(n){i[n]=r[n]}),e.trigAngleMultiplier&&(i.trigAngleMultiplier=e.trigAngleMultiplier),i}}});\ndefine(\'core/math/frameGraphing\',[\'require\',\'core/math/builtinframe\'],function(require){"use strict";var t=require("core/math/builtinframe"),e=["csc","sec","cot","arccsc","arcsec","arccot","csch","sech","coth","arccsch","arcsech","arccoth","mad","cov","distance","midpoint"],i=["erf","ttest","tscore","ittest","normaldist","tdist","poissondist","binomialdist","pdf","cdf","random","histogram","dotplot","boxplot"],n=["distance","midpoint"],o=["det","inv","transpose","rref","trace"];function r(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(!e.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+"\' does not exist in table. Must be one of:\\n"+Object.keys(e).join("\\n"))}}return r(e,t),r(i,t),{getFrame:function(r){var a,c={};for(a in t)t.hasOwnProperty(a)&&(!0!==r.restrictedFunctions||-1===e.indexOf(a)||!0===r.forceEnableGeometryFunctions&&-1!==n.indexOf(a))&&(!1===r.distributions&&-1!==i.indexOf(a)||-1===o.indexOf(a)&&(c[a]=t[a]));return r.trigAngleMultiplier&&(c.trigAngleMultiplier=r.trigAngleMultiplier),r.globalRandomSeed&&(c.globalRandomSeed=r.globalRandomSeed),r.initialEvaluation&&(c.initialEvaluation=r.initialEvaluation),r.globalEventCount&&(c.globalEventCount=r.globalEventCount),c}}});\ndefine(\'core/math/interpolatedlabel\',["require","exports","parsenodes","core/lib/label","./policy","core/math/types"],function(require,e,t,n,r,a){"use strict";function u(e){if(e.length<2)return"text";var t=e.split("`").length-1;return t<2?"text":2===t&&"`"===e[0]&&"`"===e[e.length-1]?"latex":"mixed"}function i(e){if(0===e.length)return[""];for(var t=[],n=e.split(/(`)/),r=!1,a="",u=0;u<n.length;u++){var i=n[u];i.length&&("`"===i?(a+="`",(r=!r)||(t.push(a),a="")):(a+=i,r||(t.push(a),a="")))}return a.length&&t.push(a),t}function l(e){for(var t,n="\\\\$({"+["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\\\{[a-zA-Z0-9]+\\\\}","\\\\\\\\[a-zA-Z]+","\\\\\\\\[a-zA-Z]+_{[a-zA-Z0-9]+}","\\\\\\\\[a-zA-Z]+_[a-zA-Z0-9]+"].join("})|\\\\$({")+"})",r=new RegExp(n,"g"),a=[],u=0,i=0;t=r.exec(e);){(i=t.index)>u&&a.push(e.substr(u,i-u));var l=t[0],s=l.replace(/[{}\\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");a.push({symbol:s,str:l}),u=t.index+l.length}return u<e.length&&a.push(e.substr(u)),{raw:e,parts:a}}function s(e,t){return t?"{"+n.truncatedLatexLabel(e,{bigCutoff:1e7,digits:8})+"}":n.truncatedPlainmathLabel(e,{bigCutoff:1e7,digits:8})}Object.defineProperty(e,"__esModule",{value:!0}),e.interpolate=e.parse=e.chunkLabel=e.classifyLabelText=void 0,e.classifyLabelText=u,e.chunkLabel=i,e.parse=function(e){return i(e).map(l)},e.interpolate=function(e,n,i){return e.map(function(e){return function(e,n,i){for(var l=[],o="latex"===u(e.raw),p=0,f=e.parts;p<f.length;p++){var c=f[p];if("string"==typeof c)l.push(c);else{var h=t.Identifier(c.symbol).tryGetConcreteTree(r.defaultPolicy,n);if(h.valueType===a.Number&&0===h.getDependencies().length){if("number"==typeof(g=h.asValue())){l.push(s(g,o));continue}}else if(h.valueType===a.ListOfNumber&&i<h.length&&0===h.getDependencies().length){var g;if("number"==typeof(g=h.elementAt(i).asValue())){l.push(s(g,o));continue}}o?l.push("{?}"):l.push("?")}}return l.join("")}(e,n,i)}).join("")}});\ndefine(\'core/math/getCLSymbolMap\',["require","exports","underscore","core/lib/label"],function(require,e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCLSymbolMap=void 0,e.getCLSymbolMap=function(){var e={},a={},s={},i=[];for(var n in this.statements){if(this.statements.hasOwnProperty(n))switch((u=this.statements[n]).type){case"Error":break;case"Regression":s[n]=[],i.push(n);break;default:var o=u.getLegalExports(this.policy);if(o){for(var p=0,l=o;p<l.length;p++){var c=l[p];u.exportPenalty>0?a[c]=n:e[c]=n}s[n]=t.difference(u.getDependencies(),u.getDummyDependencies(),o)}}}for(var d=0,f=i;d<f.length;d++){n=f[d];var u=this.statements[n],h=r.latexToIdentifier(u.userData.residualVariable);h&&(a[h]=n);var v=u.getDependencies().slice(),g={};for(c=void 0;c=v.pop();)if(!g[c]){g[c]=!0;var y=e[c]||a[c];y?(v.push.apply(v,s[y]),s[n].push(c)):a[c]=n}}return{exportMap:e,weakExportMap:a,dependencyMap:s}}});\ndefine(\'core/types/line-width\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.THICK=e.DEFAULT=e.THIN=void 0,e.THIN=1,e.DEFAULT=2.5,e.THICK=5});\ndefine(\'core/types/point-opacity\',["require","exports"],function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT=void 0,e.DEFAULT=.9});\ndefine(\'core/math/context\',["require","exports","parser","parsenodes","./finddependencyorder","./workerconfig","./findIntersections","core/vendor/d3-color","./policyFourFunction","./policyScientific","./policyGraphing","./frameFourFunction","./frameScientific","./frameSingleExpressionScientific","./frameGraphing","tslib","core/math/errormsg","core/math/finddependencyorder","underscore","./plotter","core/types/graphmode","./interpolatedlabel","./expression-types","./getCLSymbolMap","./distribution-spec","./maybe-rational","core/lib/label","./functions","core/types/line-width","core/types/point-opacity","core/types/point-size","./evaluationstate","core/math/types","./cache-stats","./parsenode-from-value","./ir/features/action-to-latex"],function(require,e,t,i,a,s,r,n,o,l,p,c,d,u,h,f,m,v,y,g,_,x,D,b,S,P,O,E,T,F,R,w,M,A,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var N="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},k=i.Constant,L=i.Seed,G=i.FunctionCall,V=i.Image,z=i.Slider,W=i.Table,j=i.TableColumn,B=r.findIntersections,q={fourFunction:o.PolicyFourFunction,scientific:l.PolicyScientific,singleExpressionScientific:l.PolicySingleExpressionScientific,singleExpressionFourFunction:o.PolicySingleExpressionFourFunction,graphing:p.PolicyGraphing,graphing_3d:p.PolicyGraphing3D},H={fourFunction:c,singleExpressionFourFunction:c,scientific:d,singleExpressionScientific:u,graphing:h,graphing_3d:h};function U(e,a){var s=t.parse(e,a);return s.isError||s instanceof i.Expression?s:m.parseError()}function X(e){var t=e.rawTree.userData,i=e.rawTree.metaData;return!!(t.cdf&&t.cdf.show&&i.distributionSpec)}function Y(e){var t=e.evaluationState.expression_type,i=e.rawTree.userData;return!(!i.clickableInfo||!i.clickableInfo.enabled)&&(!!e.rawTree.isImage||e.getGraphMode()!==_.XYPOINT_MOVABLE&&D.isClickableExpressionType(t))}function J(e,t){for(var i="id"+e,a=0,s=t||[];a<s.length;a++){var r=s[a];i+="::"+r[0]+r[1]}return i}var K=k(P.maybeRational(0,1)),Q=k(P.maybeRational(1,1)),Z=k(NaN);function $(e,t){return e?"0"===e?K:"1"===e?Q:U(e,t):Z}function ee(e,t){if(e)return U(e,t)}function te(e){return"ans"!==e.slice(0,3)}function ie(e,t){var i=e.multiplyDefined,a=e.multiplyDefinedByTables,s=e.cyclicallyDefined;for(var r in i)i.hasOwnProperty(r)&&(t[r]=a[r]?m.multiplyDefinedByTables(r):m.multiplyDefined(r));for(var r in s)s.hasOwnProperty(r)&&(t[r]=m.cycle(s[r].filter(te)))}function ae(e,t,i){for(var a=0,s=i;a<s.length;a++){var r=s[a];e[r]||(e[r]=[]),e[r].push(t)}}function se(e,t,i){if(i.extraDepNodes)for(var a=0,s=i.extraDepNodes;a<s.length;a++){var r=s[a];r&&ae(e,t,r.getDependencies())}i.clickHandler&&ae(e,t,i.clickHandler.getDependencies())}function re(e,t,i){var a=e.evaluationState,s=e.rawTree,r=s.metaData.cdfMin,n=s.metaData.cdfMax,o={},l=NaN,p=NaN,c="Assignment"===s.type?s._expression:s,d=c&&c.metaData&&c.metaData.distributionSpec;if(r){var u=r.tryGetConcreteTree(t,i);u.isConstant&&(l=+u.asValue());for(var h=0,f=u.getDependencies();h<f.length;h++){o[f[h]]=!0}}else l=-1/0;if(n){var v=n.tryGetConcreteTree(t,i);v.isConstant&&(p=+v.asValue());for(var y=0,g=v.getDependencies();y<g.length;y++){o[g[y]]=!0}}else p=1/0;var _=!0,x=!0;if(isNaN(l)&&(_=!1,l=NaN),isNaN(p)&&(x=!1,p=NaN),_?x?l>p&&(_=!1,x=!1,a.error=m.cdfMaxLessThanMin().getError()):a.error=m.cdfMaxInvalid().getError():a.error=m.cdfMinInvalid().getError(),_&&x){var D=G("cdf",[c,k(l),k(p)]);a.cdf_evaluation=+D.tryGetConcreteTree(t,i).asValue()}var b=-1/0,S=1/0;if(d&&(d.discrete&&(b=0),"binomialdist"===d.symbol&&c.args&&c.args[0])){var P=+c.args[0].asValue();isFinite(P)&&(S=P)}s.metaData.evaluatedCDFMin=l,s.metaData.evaluatedCDFMax=p,a.cdf_min_valid=_,a.cdf_max_valid=x,a.cdf_min_default=b,a.cdf_max_default=S,a.is_single_identifier=!1,w.addSliderPrompts(a,t,o)}var ne={lineWidth:{parseNode:"lineWidth",valueOutputProp:"computedLineWidth",formulaOutputProp:"",validOutputProp:"line_width_valid",default:function(){return T.DEFAULT},transform:void 0,shouldEvaluate:void 0,seed:"lw"},lineOpacity:{parseNode:"lineOpacity",valueOutputProp:"computedLineOpacity",formulaOutputProp:"",validOutputProp:"line_opacity_valid",default:void 0,transform:void 0,shouldEvaluate:void 0,seed:"lo"},pointOpacity:{parseNode:"pointOpacity",valueOutputProp:"computedPointOpacity",formulaOutputProp:"",validOutputProp:"point_opacity_valid",default:function(e,t,i){return e&&t&&e.getGraphMode(i,t)===_.XYPOINT_MOVABLE?1:F.DEFAULT},transform:void 0,shouldEvaluate:void 0,seed:"po"},pointSize:{parseNode:"pointSize",valueOutputProp:"computedPointSize",formulaOutputProp:"",validOutputProp:"point_size_valid",default:function(){return R.DEFAULT},shouldEvaluate:void 0,transform:void 0,seed:"ps"},fillOpacity:{parseNode:"fillOpacity",valueOutputProp:"computedFillOpacity",formulaOutputProp:"",validOutputProp:"fill_opacity_valid",default:void 0,transform:void 0,shouldEvaluate:function(e){if(!e)return!1;var t=e.evaluationState,i=t.expression_type,a=t.is_inequality;return!(i!==D.ExpressionType.POLYGON&&i!==D.ExpressionType.PARAMETRIC&&!a)},seed:"fo"},labelSize:{parseNode:"labelSize",valueOutputProp:"computedLabelSize",formulaOutputProp:"",validOutputProp:"label_size_valid",transform:void 0,default:function(){return 1},shouldEvaluate:void 0,seed:"ls"},labelAngle:{parseNode:"labelAngle",valueOutputProp:"computedLabelAngle",formulaOutputProp:"label_angle_value",validOutputProp:"label_angle_valid",default:function(){return 0},transform:function(e){return"-\\\\trigAngleMultiplier*("+e+")"},shouldEvaluate:void 0,seed:"la"}};function oe(e,t,i,a,s,r){var n,o=ne[r];e&&(n=e.tryGetConcreteTree(a,s));var l=o.default&&o.default(e,n,a),p=function(e,t,i,a){var s,r={},n=!0,o=NaN,l=!1;if(i){var p=i.tryGetConcreteTree(e,t);s=0===p.getDependencies().length?p.asValue():NaN,o=(l=Array.isArray(s))?s:+s;for(var c=0,d=p.getDependencies();c<d.length;c++)r[d[c]]=!0}if(l)for(var u=0,h=o;u<h.length;u++){var f=h[u];if(!isFinite(+f)){n=!1,o=NaN;break}}else isFinite(+o)||(n=!1,o=NaN);return i||(n=!0,void 0!==a&&(o=a)),{value:o,valid:n,missingVarsMap:r}}(a,s,i[o.parseNode],l);i[o.valueOutputProp]=p.value,o.formulaOutputProp&&(t[o.formulaOutputProp]=p.value),t[o.validOutputProp]=p.valid,w.addSliderPrompts(t,a,p.missingVarsMap)}function le(e,t,i,a){var s,r;if(e.rawTree.isTable&&e.evaluationState.column_data&&e.rawTree.columns)for(var n=0;n<e.evaluationState.column_data.length;n++)s=e.evaluationState.column_data[n],oe((r=e.rawTree.columns[n].header.metaData)[a],s,r,t,i,a);else s=e.evaluationState,oe((r=e.rawTree.metaData)[a],s,r,t,i,a)}function pe(e){return n.rgb(e[0],e[1],e[2]).formatHex()}function ce(e,t,i,a,s){var r;if(e){var n=e.tryGetConcreteTree(a,s),o=n.getDependencies().length>0?void 0:n.asValue(),l=n.valueType;if(r=!(!o||l!==M.RGBColor&&l!==M.ListOfColor)){var p=n&&n.valueType===M.RGBColor?pe(o):o.map(pe);t.colorLatexValue=p,i.color_latex_value=p}}else r=!0;i.color_latex_valid=r}function de(e,t,i){var a,s;if(e.rawTree.isTable&&e.evaluationState.column_data&&e.rawTree.columns)for(var r=0;r<e.evaluationState.column_data.length;r++)a=e.evaluationState.column_data[r],ce((s=e.rawTree.columns[r].header.metaData).colorLatex,s,a,t,i);else a=e.evaluationState,ce((s=e.rawTree.metaData).colorLatex,s,a,t,i)}function ue(e,t,i){var a=e.evaluationState,s={},r=e.rawTree.metaData.clickHandler;if(r){var n=r.tryGetConcreteTree(t,i);n.isError||n.valueType===M.Action||(n=m.eventHandlerTypeError(M.prettyPrint(n.valueType)));for(var o=0,l=n.getDependencies();o<l.length;o++){var p=l[o];t.validActionVariable(p)||(s[p]=!0)}var c=Object.keys(s);c.length>0&&(n=m.tooManyVariables(c).setDependencies(n.getDependencies())),n.isError&&!w.isErrorExportableActionDefinition(t,n)?a.click_handler={status:"error",error:n.getError()}:n.isEmptyAction?a.click_handler={status:"empty"}:a.click_handler={status:"maybe-valid"},w.addSliderPrompts(a,t,s)}}function he(e,t,i){var a=e.evaluationState,s=e.rawTree,r=a.expression_type===D.ExpressionType.POLAR?s.metaData.polarDomainMin:s.metaData.parametricDomainMin,n=a.expression_type===D.ExpressionType.POLAR?s.metaData.polarDomainMax:s.metaData.parametricDomainMax,o={},l=NaN,p=NaN,c=!1;if(r){c=!0;var d=r.tryGetConcreteTree(t,i);d.isConstant&&(l=+d.asValue());for(var u=0,h=d.getDependencies();u<h.length;u++){o[h[u]]=!0}}else l=0;if(n){c=!0;var f=n.tryGetConcreteTree(t,i);f.isConstant&&(p=+f.asValue());for(var v=0,y=f.getDependencies();v<y.length;v++){o[y[v]]=!0}}else a.expression_type===D.ExpressionType.PARAMETRIC?p=1:a.expression_type===D.ExpressionType.POLAR&&(p=12*Math.PI/+i.trigAngleMultiplier.asValue());var g=!0,_=!0;isFinite(l)||(g=!1,l=NaN),isFinite(p)||(_=!1,p=NaN),g?_?l>p&&(g=!1,_=!1,a.error=m.domainMaxLessThanMin().getError()):a.error=m.domainMaxInvalid().getError():a.error=m.domainMinInvalid().getError(),s.metaData.evaluatedDomainMin=l,s.metaData.evaluatedDomainMax=p,a.expression_type===D.ExpressionType.POLAR&&(s.metaData.isExplicitDomain=c),a.domain_min_number=l,a.domain_max_number=p,a.domain_min_valid=g,a.domain_max_valid=_,a.expression_type===D.ExpressionType.PARAMETRIC&&(delete o.t,w.addSliderPrompts(a,t,o))}function fe(e,t,i){var a=e.evaluationState,s=e.rawTree,r=s.metaData.vizAxisOffset,n=s.metaData.vizBreadth,o={},l=NaN,p=NaN;if(r){var c=r.tryGetConcreteTree(t,i);c.isConstant&&(l=+c.asValue());for(var d=0,u=c.getDependencies();d<u.length;d++){o[u[d]]=!0}}else l=1;if(n){var h=n.tryGetConcreteTree(t,i);h.isConstant&&(p=+h.asValue());for(var f=0,v=h.getDependencies();f<v.length;f++){o[v[f]]=!0}}else p=1;var y=!0,g=!0;isFinite(l)||(y=!1,l=NaN),isFinite(p)||(g=!1,p=NaN),y?g||(a.error=m.boxplotBreadthInvalid().getError()):a.error=m.boxplotOffsetInvalid().getError(),s.metaData.evaluatedAxisOffset=l,s.metaData.evaluatedBreadth=p,a.viz_values={axisOffset:l,breadth:p},a.viz_valids={axisOffset:y,breadth:g},w.addSliderPrompts(a,t,o)}function me(e,t,a){if(!e.isError&&!e.getDependencies().length&&e.valueType===M.Action){var s=e.asValue();if(s)for(var r in s.updateRules){t[r]=I.actionLatexForSymbol(s,r);var n=s.updateRules[r],o=n.value,l=n.valueType;a[r]=i.Assignment(r,C.parseNodeFromValue(l,o))}}}var ve=function(){function e(){this.getCLSymbolMap=b.getCLSymbolMap,this.statements={},this.analysis={},this.currentStatus={},this.currentLabel={},this.unpublishedIds={},this.intersectId=void 0,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={},this.markedRegressionDirty=!1,this.use_degrees=!1,this.initialEvaluation=!1,this.globalEventCount=0,this.actions=!0,this.setEvaluationMode("graphing"),this.setRestrictedFunctions(!1),this.setForceEnableGeometryFunctions(!1),this.setFunctionDefinition(!0),this.setReplaceRoundWithReciprocal(!1),this.setDistributions(!0),this.invalidate()}return e.prototype.invalidate=function(){for(var e in this.statements)this.statements.hasOwnProperty(e)&&this.markAsDirtyRoot(e);this.currentStatus={},this.analysis={},this.parent_frame=H[this.evaluationMode].getFrame({restrictedFunctions:this.restrictedFunctions,forceEnableGeometryFunctions:this.forceEnableGeometryFunctions,replaceRoundWithReciprocal:this.replaceRoundWithReciprocal,distributions:this.distributions,additionalFunctions:this.additionalFunctions,trigAngleMultiplier:k(this.use_degrees?Math.PI/180:P.maybeRational(1,1)),initialEvaluation:k(this.initialEvaluation?1:0),globalEventCount:k(0),globalRandomSeed:L(this.globalRandomSeedString||"")}),this.frame=Object.create(this.parent_frame),this.lastFrame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame),this.lastClockTickTime=void 0},e.prototype.processChangeSet=function(e){var t=N(),i={cacheWrites:0,cacheReads:0,cacheHits:0,cacheMisses:0};A.setCacheStatStore(i);var a={intersections:{},graphs:{}};e.isCompleteState&&(this.invalidate(),this.statements={},this.currentLabel={});var s=!!e.isCompleteState&&!e.isUndoRedoState;s!==this.initialEvaluation&&(this.initialEvaluation=s,this.invalidate()),e.viewState&&this.setViewState(e.viewState),e.hasOwnProperty("degreeMode")&&this.setDegreeMode(e.degreeMode),e.hasOwnProperty("globalRandomSeed")&&this.setGlobalRandomSeed(e.globalRandomSeed),e.hasOwnProperty("evaluationMode")&&this.setEvaluationMode(e.evaluationMode),e.hasOwnProperty("additionalFunctions")&&this.setAdditionalFunctions(e.additionalFunctions),e.hasOwnProperty("restrictedFunctions")&&this.setRestrictedFunctions(e.restrictedFunctions),e.hasOwnProperty("forceEnableGeometryFunctions")&&this.setForceEnableGeometryFunctions(e.forceEnableGeometryFunctions),e.hasOwnProperty("distributions")&&this.setDistributions(e.distributions),e.hasOwnProperty("functionDefinition")&&this.setFunctionDefinition(e.functionDefinition),e.hasOwnProperty("replaceRoundWithReciprocal")&&this.setReplaceRoundWithReciprocal(e.replaceRoundWithReciprocal),e.hasOwnProperty("pointsOfInterest")&&this.setWorkerConfigProperty("pointsOfInterest",e.pointsOfInterest),e.hasOwnProperty("plotSingleVariableImplicitEquations")&&this.setWorkerConfigProperty("plotSingleVariableImplicitEquations",e.plotSingleVariableImplicitEquations),e.hasOwnProperty("plotImplicits")&&this.setWorkerConfigProperty("plotImplicits",e.plotImplicits),e.hasOwnProperty("plotInequalities")&&this.setWorkerConfigProperty("plotInequalities",e.plotInequalities),e.hasOwnProperty("sliders")&&this.setWorkerConfigProperty("sliders",e.sliders),e.hasOwnProperty("actions")&&this.setActions(!!e.actions),e.hasOwnProperty("intersectId")&&(this.intersectId=e.intersectId);var r=N();this.processStatements(e,a);var n=N();i.processStatements=n-r,r=n,this.updateAnalysis(),n=N(),i.updateAnalysis=n-r,r=n,e.hasOwnProperty("intersectId")&&this._updateIntersections(e.intersectId,a),n=N(),i.updateIntersections=n-r,r=n;var o=this._publishAllStatuses();n=N(),i.publishAllStatuses=n-r,r=n,this._computeAllLabels(),n=N(),i.computeAllLabels=n-r,r=n,this._computeAriaDescriptions(),n=N(),i.computeAriaDescriptions=n-r,r=n,this._graphAllChanged(a),n=N(),i.graphAllChanges=n-r;var l=this.processEvents(e.events);return this.unpublishedIds={},i.timeInWorker=n-t,{syncId:e.syncId,isCompleteState:e.isCompleteState,intersectionChanges:a.intersections,statusChanges:o,graphChanges:a.graphs,timingData:i,eventUpdates:l}},e.prototype.processStatements=function(e,t){if(e.removes)for(var i in e.removes){var a=void 0;if(!e.isCompleteState&&this.statements.hasOwnProperty(i)&&(a=this.statements[i].getAllIds()),this.removeStatement(i,t),!e.isCompleteState&&a)for(var s=0,r=a;s<r.length;s++){var n=r[s];t.graphs[n]=void 0}}if(e.statements)for(var i in e.statements){var o=e.statements[i];null===o||this.addStatement(o,t)}},e.prototype.setViewState=function(e){if(!y.isEqual(e,this.viewState))for(var t in this.viewState=e,this.statements)this.statements.hasOwnProperty(t)&&(this.unpublishedIds[t]=!0)},e.prototype.getViewState=function(){if(this.viewState){var e=Object.create(this.viewState);return this.parent_frame&&this.parent_frame.trigAngleMultiplier?e.trigAngleMultiplier=this.parent_frame.trigAngleMultiplier.asValue():e.trigAngleMultiplier=1,e}},e.prototype.setDegreeMode=function(e){this.use_degrees=e,this.invalidate()},e.prototype.setGlobalRandomSeed=function(e){this.globalRandomSeedString=e,this.parent_frame.globalRandomSeed=L(e),this.dirtyExportedSymbolRoots.globalRandomSeed=!0},e.prototype.setEvaluationMode=function(e){this.evaluationMode=e,this.policy=q[e],this.invalidate()},e.prototype.setAdditionalFunctions=function(e){this.additionalFunctions=e,this.invalidate()},e.prototype.setRestrictedFunctions=function(e){this.restrictedFunctions=e,this.invalidate()},e.prototype.setForceEnableGeometryFunctions=function(e){this.forceEnableGeometryFunctions=e,this.invalidate()},e.prototype.setDistributions=function(e){this.distributions=e,this.invalidate()},e.prototype.setFunctionDefinition=function(e){this.functionDefinition=e,this.invalidate()},e.prototype.setReplaceRoundWithReciprocal=function(e){this.replaceRoundWithReciprocal=e,this.invalidate()},e.prototype.setActions=function(e){e!==this.actions&&(this.actions=e,this.invalidate())},e.prototype.setWorkerConfigProperty=function(e,t){t!==s[e]&&(s[e]=t,this.invalidate())},e.prototype._publishAllStatuses=function(){var e={},t=this.currentStatus;for(var i in this.currentStatus={},this.unpublishedIds)if(this.analysis.hasOwnProperty(i)){var a=this.analysis[i].evaluationState;y.isEqual(a,t[i])||(e[i]=a),this.currentStatus[i]=a}return e},e.prototype._computeAllLabels=function(){for(var e in this.currentLabel){var t=this.statements[e];if(t){var i=t.tryGetConcreteTree(this.policy,this.frame),a=1;i.valueType===M.ListOfPoint&&(a=i.length);for(var s=[],r=0;r<a;r++)s.push(x.interpolate(this.currentLabel[e],this.frame,r));y.isEqual(s,t.computedLabels)||(t.computedLabels=s,this.unpublishedIds[e]=!0)}}},e.prototype._computeAriaDescriptions=function(){for(var e in this.analysis){var t=this.analysis[e],i=t.evaluationState,a=t.rawTree.userData;if(a.description&&""!==a.description){i.computed_description=[];var s=1;t.concreteTree.isList?s=t.concreteTree.length:i.dimensions&&i.dimensions.x&&Array.isArray(i.dimensions.x)&&(s=i.dimensions.x.length);for(var r=0;r<s;r++)i.computed_description.push(x.interpolate(x.parse(a.description),this.frame,r))}}},e.prototype._graphAllChanged=function(e){var t=this.getViewState(),i=!1;if(g.default.validateViewState(t)){for(var a in this.unpublishedIds)if(this.analysis.hasOwnProperty(a)){var s=this.analysis[a],r=s.evaluationState.expression_type,n=r===D.ExpressionType.SINGLE_POINT||r===D.ExpressionType.POINT_LIST;if(s.rawTree.isTable)for(var o=s.graph(t),l=0,p=s.rawTree.getAllIds();l<p.length;l++){var c=p[l];o[c]?this._notifyGraphComputed(c,o[c],e):this._notifyGraphRemoved(c,e)}else s.evaluationState.is_graphable&&(s.rawTree.userData.shouldGraph||s.rawTree.userData.showLabel&&n)?(this._notifyGraphComputed(a,s.graph(t),e),this.intersectId===a&&(i=!0)):this._notifyGraphRemoved(a,e)}y.keys(this.unpublishedIds).length&&void 0!==this.intersectId&&(this.unpublishedIds.hasOwnProperty(this.intersectId)||(i=!0)),i&&this._updateIntersections(this.intersectId,e)}},e.prototype._notifyGraphRemoved=function(e,t){t.graphs[e]=void 0},e.prototype._notifyGraphComputed=function(e,t,i){E.dehydrateGraphData(t),i.graphs[e]=t},e.prototype._updateIntersections=function(e,t){if(this.viewState)if(this.analysis[e]&&this.analysis[e].shouldIntersect()){var i=B(this.analysis,this.viewState,e);t.intersections[e]=i}else t.intersections[e]=[]},e.prototype.getDisabledFeatures=function(){var e=this.policy.disabledFeatures();!1===this.functionDefinition&&(e=e.concat("FunctionDefinition")),!1===this.actions&&(e=e.concat("UpdateRule"));var t=this.additionalFunctions||[];return e=e.filter(function(e){return("Exponent"!==e||-1===t.indexOf("exponent"))&&("PercentOf"!==e||-1===t.indexOf("percent"))})},e.prototype.areFractionsDisallowed=function(){var e=this.evaluationMode;return("fourFunction"===e||"singleExpressionFourFunction"===e)&&(!this.additionalFunctions||-1===this.additionalFunctions.indexOf("fraction"))},e.prototype.addStatement=function(e,a){var s=this;if(e){var r=e.id;this.markExportsDirty(r),this.markAsDirtyRoot(r);var n={index:this.policy.ansEnabled()?e.index:void 0,disabledFeatures:this.getDisabledFeatures(),disallowFrac:this.areFractionsDisallowed(),seedPrefix:J(r)},o={extraDepNodes:[]};switch(e.type){case"table":var l=[];this.statements.hasOwnProperty(r)&&(l=this.statements[r].getAllIds()),e.shouldGraph=!0;for(var p=e.columns,c=[],d=0,u=0,h=p;u<h.length;u++){var m=h[u];d=Math.max(m.values.length,d)}for(var v=0;v<p.length;v++){var y,g=void 0,_=void 0;m=p[v];y=t.parse(m.latex,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["tr",0],["tc",v]])})),g=[];for(var D=-1,b=0;b<p[v].values.length;b++)m.values[b].replace(/\\\\space/g,"").match(/\\S/)?(g.push(t.parse(m.values[b],f.__assign(f.__assign({},n),{seedPrefix:J(r,[["tr",b+1],["tc",v]])}))),D=b):g.push(k(NaN));if(g=g.slice(0,D+1),(_=j(y,d,g)).id=m.id,_.header){if(_.header.userData=m,_.header.metaData={extraDepNodes:[]},m.colorLatex){var P=U(m.colorLatex,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["tr",0],["tc",v],["cl",v]])}));_.header.metaData.colorLatex=P,_.header.metaData.extraDepNodes.push(P)}if(m.pointSize){var O=U(m.pointSize,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["tr",0],["tc",v],["ps",v]])}));_.header.metaData.pointSize=O,_.header.metaData.extraDepNodes.push(O)}if(m.pointOpacity){var E=U(m.pointOpacity,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["tr",0],["tc",v],["po",v]])}));_.header.metaData.pointOpacity=E,_.header.metaData.extraDepNodes.push(E)}if(m.lineWidth){var T=U(m.lineWidth,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["tr",0],["tc",v],["lw",v]])}));_.header.metaData.lineWidth=T,_.header.metaData.extraDepNodes.push(T)}if(m.lineOpacity){var F=U(m.lineOpacity,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["tr",0],["tc",v],["lo",v]])}));_.header.metaData.lineOpacity=F,_.header.metaData.extraDepNodes.push(F)}}c.push(_)}this.statements[r]=W(c);var R=this.statements[r].getAllIds();l.forEach(function(e){-1===R.indexOf(e)&&s._notifyGraphRemoved(e,a)});break;case"image":var w="-\\\\trigAngleMultiplier*("+e.angle+")",M=U(e.center,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["ic",r]])})),A=U(w,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["ia",r]])})),C=U(e.width,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["iw",r]])})),I=U(e.height,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["ih",r]])})),N=U(e.opacity,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["io",r]])}));this.statements[r]=V({center:M,radianAngle:A,width:C,height:I,opacity:N});break;case"ticker":this.statements[r]=i.Ticker({handler:U(e.handlerLatex,f.__assign(f.__assign({},n),{allowDt:!0})),minStep:U(e.minStepLatex||"0",n)});break;default:for(var L in e=e,this.statements[r]=t.parse(e.latex,n),ne){var G=L;if(e[G]){var B=ne[G],q=e[G];B.transform&&(q=B.transform(q));var H=$(q,f.__assign(f.__assign({},n),{seedPrefix:J(r,[[B.seed,r]])}));o[G]=H,o.extraDepNodes.push(H)}}if(e.colorLatex){H=ee(e.colorLatex,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["ac",r]])}));o.colorLatex=H,o.extraDepNodes.push(H)}if(e.polarDomain&&e.polarDomain.min&&(o.polarDomainMin=$(e.polarDomain.min,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["lm",r]])})),o.extraDepNodes.push(o.polarDomainMin)),e.polarDomain&&e.polarDomain.max&&(o.polarDomainMax=$(e.polarDomain.max,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["lM",r]])})),o.extraDepNodes.push(o.polarDomainMax)),e.parametricDomain&&e.parametricDomain.min&&(o.parametricDomainMin=$(e.parametricDomain.min,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["lm",r]])})),o.extraDepNodes.push(o.parametricDomainMin)),e.parametricDomain&&e.parametricDomain.max&&(o.parametricDomainMax=$(e.parametricDomain.max,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["lM",r]])})),o.extraDepNodes.push(o.parametricDomainMax)),e.vizProps&&(e.vizProps.axisOffset&&(o.vizAxisOffset=$(e.vizProps.axisOffset,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["vo",r]])})),o.extraDepNodes.push(o.vizAxisOffset)),e.vizProps.breadth&&(o.vizBreadth=$(e.vizProps.breadth,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["vb",r]])})),o.extraDepNodes.push(o.vizBreadth))),e.cdf&&e.cdf.show){var X=S.parseToplevelFunction(e.latex);X&&"distribution"===X.type&&(o.distributionSpec=X,o.cdfMin=ee(e.cdf.min,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["lm",r]])})),o.extraDepNodes.push(o.cdfMin),o.cdfMax=ee(e.cdf.max,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["lM",r]])})),o.extraDepNodes.push(o.cdfMax))}if(this.statements[r].shouldPromoteToSlider(this.policy)){var Y=e.slider,K=!(!Y||!Y.isPlayingOnce),Q=ee(Y&&Y.softMin,n),Z=ee(Y&&Y.softMax,n),te=ee(Y&&Y.min,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["lm",r]])})),ie=ee(Y&&Y.max,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["lM",r]])})),ae=ee(Y&&Y.step,f.__assign(f.__assign({},n),{seedPrefix:J(r,[["ls",r]])}));this.statements[r]=z(this.statements[r],{sliderMin:te,sliderMax:ie,sliderStep:ae,sliderIsPlayingOnce:K,sliderSoftMin:Q,sliderSoftMax:Z})}}var se=e.clickableInfo;se&&se.enabled&&se.latex&&(o.clickHandler=U(se.latex,f.__assign(f.__assign({},n),{allowIndex:!0}))),this.statements[r].userData=e,this.statements[r].metaData=o;var re=e.label;if(re){var oe=this.currentLabel[r];oe&&oe.raw===re||(this.currentLabel[r]=x.parse(re))}else delete this.currentLabel[r]}},e.prototype.removeStatement=function(e,t){var i=this.statements[e];if(i){if(this.markExportsDirty(e),i.isTable){var a=this;i.getAllIds().forEach(function(e){a._notifyGraphRemoved(e,t)})}else this._notifyGraphRemoved(e,t);delete this.currentLabel[e],delete this.statements[e],delete this.analysis[e],delete this.currentStatus[e]}},e.prototype.markExportsDirty=function(e){if(this.statements[e]){this.statements[e].isRegression&&(this.markedRegressionDirty=!0);for(var t=0,i=this.statements[e].getLegalExports(this.policy);t<i.length;t++){var a=i[t];this.dirtyExportedSymbolRoots[a]=!0}}},e.prototype.markAsDirtyRoot=function(e){this.dirtyStatementRoots[e]=!0},e.prototype.getFrame=function(){return this.updateAnalysis(),this.frame},e.prototype.getAnalysis=function(){return this.updateAnalysis(),this.analysis},e.prototype.getEvaluationState=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].evaluationState},e.prototype._updateRegressions=function(e){var t=this.frame,i=this.lastFrame,a=this.regressionFrame,s=[];for(var r in e)e.hasOwnProperty(r)&&e[r].isRegression&&s.push(r);var n=this;s.sort(function(e,t){var i=n.statements[e].userData&&n.statements[e].userData.residualVariable,a=n.statements[t].userData&&n.statements[t].userData.residualVariable;return i&&!a?-1:a&&!i?1:0});var o=v.findDependencyOrder(this.policy,e,s);ie(o,a);for(var l={},p=0,c=o.resolved;p<c.length;p++){r=c[p];if(this.statements[r].isRegression)this.analysis[r]=e[r].analyze(this.policy,a,t,i,l),this.analysis[r].exportTo(this.policy,t),delete e[r];else{var d=e[r].tryGetConcreteTree(this.policy,a);e[r].exportTo(this.policy,d,a),l[r]={rawTree:e[r],concreteTree:d}}}},e.prototype.buildSymbolToExpressionDirtyMap=function(){var e={};for(var t in this.statements)if(this.statements.hasOwnProperty(t)){var i=this.statements[t],a=i.metaData;if(ae(e,t,i.getDependencies()),ae(e,t,i.getLegalExports(this.policy)),i.isRegression&&i.userData&&i.userData.residualVariable&&ae(e,t,[O.latexToIdentifier(i.userData.residualVariable)]),se(e,t,a),i.isTable&&i.columns)for(var s=0;s<i.columns.length;s++){var r=i.columns[s];r.header&&r.header.metaData&&se(e,t,r.header.metaData)}}return e},e.prototype.getDirtyIdsAndSymbols=function(e){var t={},i={},a=this.markedRegressionDirty,s=[],r=[];for(var n in this.dirtyStatementRoots)this.dirtyStatementRoots[n]&&(i[n]=!0,s.push(n));for(var o in this.dirtyExportedSymbolRoots)this.dirtyExportedSymbolRoots[o]&&(t[o]=!0,r.push(o));for(;s.length||r.length;){for(;s.length;){n=s.pop();var l=this.statements[n];if(l){l.isRegression&&(a=!0);for(var p=0,c=l.getLegalExports(this.policy);p<c.length;p++){t[o=c[p]]||(t[o]=!0,r.push(o))}}}for(;r.length;){var d=e[o=r.pop()];if(d)for(var u=0,h=d;u<h.length;u++){i[n=h[u]]||(i[n]=!0,s.push(n))}}}return{ids:i,symbols:t,hasDirtyRegression:a}},e.prototype.updateAnalysis=function(){var e=this.buildSymbolToExpressionDirtyMap(),t=this.getDirtyIdsAndSymbols(e),i={};if(t.hasDirtyRegression){for(var a in this.statements)this.statements[a]&&(i[a]=this.statements[a]);this.frame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)}else{var s=t.ids;for(var a in s)this.statements[a]&&(i[a]=this.statements[a]);var r=t.symbols;for(var n in r)r[n]&&(delete this.frame[n],delete this.regressionFrame[n])}for(var a in i)i[a]&&(this.unpublishedIds[a]=!0);this.markedRegressionDirty=!1,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={};var o=this.analysis,l=this.frame;"graphing"===this.evaluationMode&&this._updateRegressions(i);var p=v.findDependencyOrder(this.policy,i);ie(p,l);for(var c=p.resolved,d=0,u=c;d<u.length;d++){a=u[d];switch(this.evaluationMode){case"fourFunction":case"singleExpressionFourFunction":o[a]=this.statements[a].analyzeFourFunction(this.policy,l,o),o[a].exportTo(this.policy,l);break;case"scientific":o[a]=this.statements[a].analyzeScientific(this.policy,l,o),o[a].exportTo(this.policy,l);break;case"singleExpressionScientific":o[a]=this.statements[a].analyzeSingleExpressionScientific(this.policy,l,o),o[a].exportTo(this.policy,l);break;case"graphing":case"graphing_3d":if(l.r){var h=Object.create(l);if(h.r=void 0,o[a]=this.statements[a].analyze(this.policy,h,o),o[a].getGraphMode()===_.POLAR){o[a].exportTo(this.policy,l);continue}}o[a]=this.statements[a].analyze(this.policy,l,o),o[a].exportTo(this.policy,l)}}if("graphing"===this.evaluationMode||"graphing_3d"===this.evaluationMode)for(var f=0,m=c;f<m.length;f++){a=m[f];var y=o[a],g=y.evaluationState.expression_type;for(var x in ne){var b=x,S=ne[b];S.shouldEvaluate&&!S.shouldEvaluate(y)||le(y,this.policy,l,b)}de(y,this.policy,l),this.actions&&Y(y)&&ue(y,this.policy,l),g===D.ExpressionType.PARAMETRIC||g===D.ExpressionType.POLAR?he(y,this.policy,l):g===D.ExpressionType.BOXPLOT?fe(y,this.policy,l):X(y)&&re(y,this.policy,l)}for(var n in function(e){return e.globalRandomSeed||[]}(e).forEach(function(e){o[e].evaluationState.depends_on_random_seed=!0}),this.lastFrame=Object.create(this.parent_frame),l)l.hasOwnProperty(n)&&(this.lastFrame[n]=l[n])},e.prototype.processEvents=function(e){if(e&&this.actions){for(var t,a=Object.create(this.frame),s={},r=!1,n=!1,o=0,l=e;o<l.length;o++){var p=l[o];switch(this.globalEventCount+=1,a.globalEventCount=i.Constant(this.globalEventCount),p.type){case"step":if(!(c=this.statements[p.expressionId]))continue;n=!0,me(c.tryGetConcreteTree(this.policy,a),s,a);break;case"click":var c;if(!(c=this.statements[p.expressionId])||!c.metaData.clickHandler)continue;a.index=i.Constant(p.indexVar+1),n=!0,r=!0,me(c.metaData.clickHandler.tryGetConcreteTree(this.policy,a),s,a);break;case"clock-tick":(void 0===t||p.isFirstTick&&!t.isFirstTick)&&(t=p);break;default:return p}}if(t)if((c=this.statements[t.id])&&c instanceof i.Ticker){var d=c.minStep.tryGetConcreteTree(this.policy,a).asValue();if("number"==typeof d&&d>=0&&isFinite(d)){var u=this.lastClockTickTime;if(this.lastClockTickTime=Date.now(),!t.isFirstTick&&void 0!==u)a.dt=i.Constant(this.lastClockTickTime-u),me(c.handler.tryGetConcreteTree(this.policy,a),s,a)}}return{objectClicked:r,userAction:n,updates:s}}},e}();e.Context=ve});\ndefine(\'worker/workercore\',[\'require\',\'core/math/context\'],function(require){"use strict";var e=require("core/math/context").Context;return function(n){var t=new e;return{processChangeSet:function(e){var r=t.processChangeSet(e);n("processChangeSet",r)}}}});\ndefine(\'console\',[\'require\'],function(require){var o=function(){},n={};return["log","info","warn","error","assert","dir","clear","profile","profileEnd","time","timeEnd","group","groupCollapsed","groupEnd","trace"].forEach(function(e){"undefined"!=typeof window&&window.console&&window.console[e]?n[e]=function(){Function.prototype.apply.call(window.console[e],window.console,arguments)}:n[e]=o}),n});\ndefine(\'worker/worker\',[\'require\',\'worker/workercore\',\'console\'],function(require){"use strict";var e=require("worker/workercore"),a={};require("console").log=function(e){self.postMessage({log:JSON.stringify(e)})};var s=self;s.window=s,s.onmessage=function(o){var n=o.data&&o.data.connectionId;if(n)if("destroy"===o.data.originalMessage.type)delete a[n];else{var t=a[n];t||(t=e(function(e,a){s.postMessage({connectionId:n,originalMessage:{type:e,payload:a}})}),a[n]=t),t.processChangeSet(o.data.originalMessage)}},s.loadMessageQueue&&(s.loadMessageQueue.forEach(function(e){s.onmessage(e)}),delete s.loadMessageQueue)});\n!function(){"use strict";"undefined"==typeof window&&("undefined"==typeof requirejs&&(importScripts("../vendor/require.js"),importScripts("config.js")),self.loadMessageQueue=[],self.onmessage=function(e){self.loadMessageQueue.push(e)},requirejs(["worker/worker"]))}();\ndefine("toplevel/worker", function(){});\n\n'})),i("worker_src",["require","text!worker_src_underlying"],(function(e){return e("text!worker_src_underlying")})),i("worker/create_worker_url",["require","worker_src"],(function(e){var t=e("worker_src");return function(){if(!t.length)return"/assets/generated/combined/toplevel/worker.js";var e;try{e=new Blob([t],{type:"application/javascript"})}catch(r){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(t),e=n.getBlob("application/javascript")}catch(e){return null}}return(window.URL||window.webkitURL).createObjectURL(e)}})),i("worker/fakeworker",["require","worker/workercore"],(function(e){var t=e("worker/workercore");return function(e){var n={},r=t((function(t,n){e({type:t,payload:n})}));return n.postMessage=function(e){setTimeout((function(){r.processChangeSet(e)}),0)},n}})),i("worker/workerpool",["require","console","./create_worker_url","pjs","underscore_model","./fakeworker","underscore","lib/urlparser"],(function(e){var t=e("console"),n=e("./create_worker_url"),r=e("pjs"),i=e("underscore_model").UnderscoreModel,o=e("./fakeworker"),a=e("underscore"),s=e("lib/urlparser"),c="";try{void 0===(c=s.getParameter(window.location.search,"workerThrottle"))&&(c=s.getParameter(window.top.location.search,"workerThrottle"))}catch(t){}var l=parseInt(c,10),d=0;function u(e){return l?function(t){d=Math.max(Date.now(),d)+l,setTimeout(e,d-Date.now(),t)}:e}return r(i,(function(e,r){e.init=function(e){r.init.call(this),this.workers=[],this.maxWorkers=e,this.workerURL=n()},e.allowedToSpawnWorker=function(){return this.workerURL&&this.workers.length<this.maxWorkers},e.killWorker=function(e){-1!==a.indexOf(this.workers,e)&&(e.terminate(),this.workers=a.without(this.workers,e),a.shuffle(a.values(e.__connections)).forEach((function(e){e&&e.onWorkerKilled&&e.onWorkerKilled()})))},e.spawnWorker=function(){try{var e=new Worker(this.workerURL);return e.__connections={},e.__isFake=!1,e.onerror=function(e){t.log(e)},e.addEventListener("message",u((function(t){var n=t.data;if((!n||!n.log)&&n&&n.connectionId){var r=e.__connections[n.connectionId];r&&r.onResponse(n.originalMessage)}}))),this.workers.push(e),e}catch(e){return null}},e.spawnFakeWorker=function(){var e=o(u((function(t){var n=a.values(e.__connections)[0];n&&n.onResponse(t)})));return e.__isFake=!0,e.__connections={},e},e.findLeastUsedWorker=function(){return a.sortBy(this.workers,(function(e){return a.size(e.__connections)}))[0]},e.allocateWorker=function(){var e=null;return this.allowedToSpawnWorker()&&(e=this.spawnWorker()),e||(e=this.findLeastUsedWorker()),e||(e=this.spawnFakeWorker()),e}}))})),i("main/evaluator",["require","exports","worker/workerpoolconnection","worker/workerpool","core/lib/deepCopy","core/math/functions","underscore"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.Evaluator=void 0;var s=function(){function e(e){this.__ticksEnabled=!0,this.listeners={processChangeSet:function(e){var t={},n={};for(var r in e.graphChanges){var i=e.graphChanges[r];void 0===i?n[r]=!0:(o.rehydrateGraphData(i),t[r]=i)}var a={};for(var r in e.intersectionChanges)n[r]||(a[r]=e.intersectionChanges[r]);var s=!!this.changeSet;this.onEvaluatorResults({evaluationStates:e.statusChanges,graphData:{addedGraphs:t,removedGraphs:n,intersections:a},renderSlowly:!!e.isCompleteState,timingData:e.timingData,eventUpdates:e.eventUpdates});for(var c=e.syncId;this.syncRequests.length&&void 0!==c&&this.syncRequests[0].id<=c;)this.syncRequests.shift().callback();this.markJobFinished(),s&&this._processChangeSet()}},this.__state={},this.changeSet=null,this.cumulativeChangeSet={},this.syncId=1,this.syncRequests=[],e||(e=r()),this.workerPool=e,this.createWorkerPoolConnection()}return e.prototype.createWorkerPoolConnection=function(){var e=this;this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){}),this.workerPoolConnection=n(this.workerPool),this.markJobFinished(),this.workerPoolConnection.onResponse=function(t){e.shouldIgnoreWorkerMessage(t)?"processChangeSet"===t.type&&(e.markJobFinished(),e._processChangeSet()):e.listeners[t.type].call(e,t.payload)},this.workerPoolConnection.onWorkerKilled=function(){var t=e.hasJobInWorker();e.createWorkerPoolConnection(),t?(e.changeSet=i.default(e.cumulativeChangeSet),e.__state.changed=!0,e.__state.droppedMessage=!0):(e.changeSet=i.default(e.cumulativeChangeSet),e.__state.changed=!1),e.processChangeSet()}},e.prototype.destroy=function(){this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){},this.workerPoolConnection.destroy())},e.prototype.shouldIgnoreWorkerMessage=function(e){return!(!this.__suspendUntilSyncId||e&&e.payload&&e.payload.syncId>=this.__suspendUntilSyncId)},e.prototype.suspend=function(){var e=this;this.changeSet&&this.changeSet.syncId||(this.syncId++,this.applyToChangeSets((function(t){t.syncId=e.syncId}))),this.__suspendUntilSyncId=this.changeSet.syncId},e.prototype.markJobFinished=function(){this.__state.droppedMessage=!1,this.__jobStartTime=-1,this.__suspendUntilSyncId=void 0},e.prototype.startJobTimer=function(){this.__jobStartTime=(new Date).getTime()},e.prototype.hasJobInWorker=function(){return-1!==this.__jobStartTime},e.prototype.getJobElapsedTime=function(){return this.hasJobInWorker()?(new Date).getTime()-this.__jobStartTime:NaN},e.prototype.setTicksEnabled=function(e){this.__ticksEnabled=e},e.prototype.tick=function(){this.__ticksEnabled&&this._processChangeSet()},e.prototype.processChangeSet=function(){this.__processChangeSetRequested=!0},e.prototype._processChangeSet=function(){if(this._syncEvaluatorConfig(),this.__processChangeSetRequested){var e=this.getJobElapsedTime()>=4e3;if(this.__state.droppedMessage&&e)this.workerPoolConnection.killWorker();else if(this.__state.changed&&this.changeSet)if(this.changeSet.syncId||(this.syncId++,this.changeSet.syncId=this.syncId),this.hasJobInWorker())this.changeSet.isCompleteState&&e&&this.workerPoolConnection.killWorker();else{var t=this.changeSet;this.changeSet=null,this.__state.changed=!1,this.startJobTimer(),this.workerPoolConnection.sendMessage(t),this.__processChangeSetRequested=!1}}},e.prototype.notifyWhenSynced=function(e){var t=this;this._syncEvaluatorConfig(),this.hasJobInWorker()||this.changeSet?(this.syncId++,this.syncRequests.push({id:this.syncId,callback:e}),this.applyToChangeSets((function(e){e.syncId=t.syncId}))):setTimeout(e,0)},e.prototype.applyToChangeSets=function(e){this.__state.changed=!0,this.changeSet||(this.changeSet={}),this.cumulativeChangeSet||(this.cumulativeChangeSet={}),e(this.changeSet),e(this.cumulativeChangeSet),this.processChangeSet()},e.prototype.clearStatementsAndStartCompleteState=function(){this.hasJobInWorker()&&this.suspend(),this.applyToChangeSets((function(e){e.isCompleteState=!0,delete e.statements}))},e.prototype.markUndoRedoState=function(){this.applyToChangeSets((function(e){e.isUndoRedoState=!0}))},e.prototype.addStatement=function(e){this.applyToChangeSets((function(t){t.statements||(t.statements={}),t.statements[e.id]=i.default(e)}))},e.prototype.removeStatement=function(e){this.applyToChangeSets((function(t){t.statements||(t.statements={}),t.removes||(t.removes={}),delete t.statements[e],t.removes[e]=!0}))},e.prototype.addActionStepEvent=function(e){this.applyToChangeSets((function(t){t.events||(t.events=[]),t.events.push({type:"step",expressionId:e})}))},e.prototype.addClockTickEvent=function(e,t){this.applyToChangeSets((function(n){n.events||(n.events=[]),n.events.push({type:"clock-tick",id:e,isFirstTick:t})}))},e.prototype.addClickEvent=function(e,t){this.applyToChangeSets((function(n){n.events||(n.events=[]),void 0===t&&(t=0),n.events.push({type:"click",expressionId:e,indexVar:t})}))},e.prototype._syncEvaluatorConfig=function(){if(this.readEvaluatorConfig){var e=this.readEvaluatorConfig();for(var t in e)this._applyIfChanged(e,t)}},e.prototype._applyIfChanged=function(e,t){var n=this.cumulativeChangeSet&&this.cumulativeChangeSet[t],r=e[t];a.isEqual(n,r)||this.applyToChangeSets((function(e){e[t]=r}))},e}();t.Evaluator=s})),i("api/util",["require","exports","lib/console"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validateLanguage=void 0,t.validateLanguage=function(e){return"es-ES"===e?(n.warn("{language: 'es-ES'} has been deprecated. Proceeding with {language: 'es'}"),"es"):e}})),i("loadcss!tour",(function(){})),i("loadcss!calculator_embed",(function(){})),i("loadcss!buttons",(function(){})),i("loadcss!dcg-normalize",(function(){})),i("loadcss!projector_mode",(function(){})),i("loadcss!desmos-icons",(function(){})),i("loadcss!popovers",(function(){})),i("main/calc_embed",["require","exports","main/graph_settings","tours/tour_manager","tslib","jquery","main/controller","dcgview","main/instancehotkeys","lib/console","underscore","lib/defocus-mobile","graphing-calc/views/main","underscore_model","graphing/viewport","main/evaluator","graphing/grapher","core/lib/color-helpers","api/util","lib/parse-query-params","loadcss!tour","loadcss!calculator_embed","loadcss!buttons","loadcss!dcg-normalize","loadcss!projector_mode","loadcss!desmos-icons","loadcss!popovers"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v){Object.defineProperty(t,"__esModule",{value:!0});var x=0,w=function(){function e(e,t,i,l){var u=this;e||(e=document.createElement("div"));var h=document.createElement("div");h.className="dcg-wrapper",h.style.width="100%",h.style.height="100%",e.appendChild(h),this.__id=x++;var y=new n;for(var b in this.graphSettings=y,i)y.config.setProperty(b,i[b]);var v=new a.default(y);this.controller=v,l&&v.dispatch({type:"ui/container-resized",size:l}),this.rootElt=h,this.view=s.mountToNode(p.default,this.rootElt,{controller:s.const(v)});var w=new f.Evaluator(t);this.controller.setEvaluator(w),this.controller.setRootElt(this.rootElt);var A=v.find$(".dcg-grapher"),E=new m.Grapher(A,y,this.controller,w);this.controller.setGrapher(E),y.registerCallbacks(E,w),this.controller.initStateStack(),y.config.redrawSlowly||(E.redrawSlowly=E.redrawAllLayers),w.readEvaluatorConfig=function(){return{evaluationMode:"graphing",globalRandomSeed:y.randomSeed,degreeMode:y.degreeMode,viewState:v.getViewState(),intersectId:v.getIntersectId(),restrictedFunctions:y.config.restrictedFunctions,forceEnableGeometryFunctions:y.config.forceEnableGeometryFunctions,distributions:y.config.distributions,pointsOfInterest:y.config.pointsOfInterest,plotSingleVariableImplicitEquations:y.config.plotSingleVariableImplicitEquations,plotImplicits:y.config.plotImplicits,plotInequalities:y.config.plotInequalities,sliders:y.config.sliders,actions:!!y.config.actions}},w.onEvaluatorResults=function(e){u.controller.dispatch({type:"on-evaluator-changes",changes:e.evaluationStates,timingData:e.timingData,graphData:e.graphData,eventUpdates:e.eventUpdates}),e.renderSlowly?E.redrawSlowly():E.redrawAllLayers()},this.unsubFunc=this.controller.subToChanges((function(){u.controller.doesDOMHaveSize()&&(u.view.update(),E.update());var e=!1;(function(){var e=!1,t=v.computeMajorLayout(),n={left:t.grapher.left,right:t.grapher.left+t.grapher.width,width:t.grapher.width,top:t.grapher.top,bottom:t.grapher.top+t.grapher.height,height:t.grapher.height},r=E.getCurrentViewport(),i={top:r.ymax,bottom:r.ymin,left:r.xmin,right:r.xmax,width:r.xmax-r.xmin,height:r.ymax-r.ymin};return d.isEqual(i,k.mathCoordinates)||(k.setProperty("mathCoordinates",i),e=!0),n.height>0&&n.width>0&&!d.isEqual(n,k.pixelCoordinates)&&(k.setProperty("pixelCoordinates",n),e=!0),e})()&&(e=!0),function(){var e=!1,t=E.getProjection(),n=E.viewportController.isZoomRestored();n!==y.zoomedDefault&&(y.setProperty("zoomedDefault",n),e=!0);var r=t.viewport.isSquare(t.screen);return r!==y.squareAxes&&(y.setProperty("squareAxes",r),e=!0),e}()&&(e=!0),e&&u.controller.doesDOMHaveSize()&&(u.view.update(),E.update())}));var k=new g.UnderscoreModel;k.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=k,o(this.rootElt).on("keydown.calculator-"+this.__id,(function(e){u.grapher&&u.grapher.audioGraph.handleKeydown(e),u.instanceHotkeys.handleKeydown(e)})),o(window).on("dcg-tapstart.calculator-"+this.__id,(function(e){var t=o(e.target),n=!!t.closest(u.rootElt).length,r=e.wasHandled("create-expression-with-keyboard"),i=!!t.closest(".dcg-api-shared-keypad-root").length,a=!!t.hasClass("dcg-shell");if(n||i||a||r||v.dispatch({type:"set-none-selected"}),e.wasHandled("do-not-clear-poi-labels")||(E.traceLayer.clearOpenedPOI(),E.redrawAllLayers()),v.isInEditListMode()){var s=0===t.closest(".dcg-exppanel").length&&0===t.closest(".dcg-options-menu").length&&0===t.closest(".dcg-expression-top-bar").length&&0===t.closest(".dcg-keypad").length;n&&!s||v.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!1})}})),this.grapher=E,this.evaluator=w,this.tourManager=r({evaluator:w}),this.controller.dispatch({type:"set-blank"});var I={};["degreeMode"].forEach((function(e){void 0!==i[e]&&(I[e]=i[e])})),y.setGraphSettings(I),y.config.expressionsCollapsed&&this.setOptions({expressionsCollapsed:!0}),y.config.capExpressionSize&&this.setOptions({capExpressionSize:!0}),y.config.hasOwnProperty("pointsOfInterest")&&this.setOptions({pointsOfInterest:y.config.pointsOfInterest}),y.config.hasOwnProperty("backgroundColor")&&this.setOptions({backgroundColor:y.config.backgroundColor}),y.config.hasOwnProperty("textColor")&&this.setOptions({textColor:y.config.textColor}),y.config.observe("language",(function(){var e=u.controller.getState();u.controller.dispatch({type:"set-state",state:e}),u.tourManager&&(u.tourManager.closingMsg=function(e,t){return"<b>"+e+"</b><br>"+u.controller.s("graphing-tours-label-self-destruct",{seconds:t})})})),y.config.observe("forceLogModeRegressions",(function(){y.config.forceLogModeRegressions&&u.controller.setAllRegressionsToLogMode()})),this.instanceHotkeys=new c.default(v)}return e.prototype.setOption=function(e,t){this.controller.getGraphSettings().config.setProperty(e,t)},e.prototype.setOptions=function(e){var t,n=this.controller.getGraphSettings().config,r=i.__assign({},e);function o(e){var t=e.notes,n=e.folders,r=e.images;return!1===t||!1===n||!1===r}e.hasOwnProperty("backgroundColor")&&(y.isValidHexColor(e.backgroundColor)||(l.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete r.backgroundColor)),e.hasOwnProperty("textColor")&&(y.isValidHexColor(e.textColor)||(l.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete r.textColor)),e.hasOwnProperty("menus")&&(l.warn("Deprecated option: menus. Setting settingsMenu and expressionsTopbar instead."),e.hasOwnProperty("settingsMenu")||(r.settingsMenu=!!e.menus),e.hasOwnProperty("expressionsTopbar")||(r.expressionsTopbar=!!e.menus)),e.hasOwnProperty("solutions")&&(l.warn("Deprecated option: solutions. Setting pointsOfInterest instead."),e.hasOwnProperty("pointsOfInterest")||(r.pointsOfInterest=!!e.solutions)),e.hasOwnProperty("singleVariableSolutions")&&l.warn("Deprecated option: singleVariableSolutions has been removed."),!1===e.graphpaper&&(e.expressionsCollapsed&&(r.expressionsCollapsed=!1,l.warn("Cannot set graphpaper: false with expressionsCollapsed: true. Proceeding with expressionsCollapsed: false.")),n.expressionsCollapsed&&(r.expressionsCollapsed=!1,l.warn("Disabling the graphpaper with the expressions list collapsed is not supported.Setting expressionsCollapsed: false.")),e.zoomButtons&&(r.zoomButtons=!1,l.warn("Cannot set graphpaper: false with zoomButtons: true. Proceeding with zoomButtons: false.")),e.showResetButtonOnGraphpaper&&(r.showResetButtonOnGraphpaper=!1,l.warn("Cannot set graphpaper: false with showResetButtonOnGraphpaper: true. Proceeding with showResetButtonOnGraphpaper: false.")),n.zoomButtons&&(r.zoomButtons=!1,l.warn("Disabling the graphpaper with the zoomButtons visible is not supported. Setting zoomButtons: false.")),n.showResetButtonOnGraphpaper&&(r.showResetButtonOnGraphpaper=!1,l.warn("Disabling the graphpaper with the reset button visible is not supported. Setting showResetButtonOnGraphpaper: false."))),!1===n.graphpaper&&(e.expressionsCollapsed||e.zoomButtons||e.showResetButtonOnGraphpaper)&&(r.graphpaper=!0,l.warn("Must have visible graphpaper to proceed. Setting graphpaper: true.")),e.lockViewport&&e.zoomButtons&&(r.zoomButtons=!1,l.warn("Cannot set zoomButtons: true and lockViewport: true. Proceeding with zoomButtons: false.")),n.lockViewport&&e.zoomButtons&&(r.lockViewport=!1,l.warn("Cannot set zoomButtons: true while the viewport is locked. Setting lockViewport: false.")),n.zoomButtons&&e.lockViewport&&(r.zoomButtons=!1,l.warn("Cannot lock the viewport without hiding the zoom buttons. Setting zoomButtons: false."));var a=o(e),s=o(i.__assign(i.__assign({},n),e)),c=n.pasteGraphLink,d=e.pasteGraphLink;for(t in a?(d||c)&&(r.pasteGraphLink=!1,l.warn("Cannot disable creating note, folder, or image expressions without disabling graph link pasting. Setting pasteGraphLink: false.")):d&&s&&(r.notes=!0,r.folders=!0,r.images=!0,l.warn("Cannot enable graph link pasting while the creation of notes, folders, or images is disable. Setting notes: true, folders: true, images: true.")),e.language&&(r.language=b.validateLanguage(e.language)),r)if(r.hasOwnProperty(t))switch(t){case"expressionsCollapsed":this.setOption("expressionsCollapsed",!!r.expressionsCollapsed),r.expressionsCollapsed?this.controller.dispatch({type:"hide-expressions-list",focusShowIcon:!1}):this.controller.dispatch({type:"show-expressions-list",focusHideIcon:!1});break;case"qwertyKeyboard":this.setOption("qwertyKeyboard",!!r.qwertyKeyboard),this.controller.isLetterKeypadOpen()&&this.controller.dispatch({type:"keypad/abc"});break;case"degreeMode":this.setOption("degreeMode",!!r.degreeMode),this.controller.getGraphSettings().setGraphSettings({degreeMode:!!r.degreeMode});break;case"actions":if(void 0===(u=r[t])||u===this.controller.getGraphSettings().config.actions)break;this.setOption(t,u),this.setState(this.getState(),{allowUndo:!0});break;case"keypad":case"graphpaper":case"expressions":case"settingsMenu":case"zoomButtons":case"showResetButtonOnGraphpaper":case"expressionsTopbar":case"pointsOfInterest":case"trace":case"border":case"lockViewport":case"administerSecretFolders":case"advancedStyling":case"images":case"imageUploadCallback":case"folders":case"notes":case"sliders":case"links":case"restrictedFunctions":case"forceEnableGeometryFunctions":case"distributions":case"pasteGraphLink":case"pasteTableData":case"clearIntoDegreeMode":case"autosize":case"plotSingleVariableImplicitEquations":case"plotImplicits":case"plotInequalities":case"colors":case"branding":case"disableScrollFix":case"invertedColors":case"fontSize":case"projectorMode":case"language":case"redrawSlowly":case"onlyTraceSelected":case"disableMouseInteractions":case"nativeOnscreenKeypad":case"functionDefinition":case"plaidMode":case"pasteGraphLinkCallback":case"editOnWeb":case"crossOriginSaveTest":case"backgroundColor":case"textColor":case"enableTabindex":case"audioTraceReverseExpressions":case"showHamburger":case"decimalToFraction":case"capExpressionSize":case"transparentBackground":case"pauseWhenOffscreen":case"brailleMode":case"sixKeyInput":case"brailleControls":case"zoomFit":case"forceLogModeRegressions":case"audio":var u;void 0!==(u=r[t])&&this.setOption(t,u);break;default:return t}},e.prototype.setViewport=function(e){this.grapher.viewportController.setViewport(new h.Viewport(e[0],e[1],e[2],e[3]))},e.prototype.resize=function(e){e&&this.controller.dispatch({type:"ui/container-resized",size:e})},e.prototype.interceptTouch=function(){var e=o(this.rootElt),t=e.find(".dcg-expression-top-bar");t.add(e.find(".dcg-keypad")),t.length&&(t.on("touchstart",(function(e){o(e.target).is("input, textarea")||e.preventDefault()})),t.on("touchend",(function(e){o(e.target).closest(".dcg-do-not-blur").length>0||u.default()})))},e.prototype.destroy=function(){o(window).off(".calculator-"+this.__id);var e=o(this.rootElt);e.off(".calculator-"+this.__id),this.unsubFunc(),this.graphSettings.unobserveAll(),this.evaluator&&this.evaluator.destroy(),this.grapher&&this.grapher.remove(),s.unmountFromNode(this.rootElt),e.remove()},e.prototype.tick=function(e,t){t||(this.controller.handleTick(e),this.controller.updateRenderShellsAfterDispatch()),this.evaluator.tick(),this.grapher&&this.grapher.tick(e)},e.prototype.getState=function(e){return this.controller.getState(e)},e.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e||{}})},e.prototype.setState=function(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})},e}();function A(){var e=o('<div style="z-index:99999; position: absolute; left: 0; top: 0;background:#FFF">waiting...</div>').appendTo("body"),t=window,n=[];t.Calc.controller.onEvaluatorChangesSpy=function(){n.push(Date.now())},setInterval((function(){for(var t=Date.now();t-n[0]>1e3;)n.shift();e.text(n.length+" fps")}),100)}function E(){var e,t=o('<div style="z-index:99999; position: absolute; left: 0; top: 0;background:#FFF">waiting...</div>').appendTo("body"),n=window,r=[],i=0;n.Calc.controller.onEvaluatorChangesSpy=function(e,t){var n=t.timeInWorker;r[i%100]=n,i+=1},function n(){cancelAnimationFrame(e),e=requestAnimationFrame(n),function(){for(var e=0,n=0,i=r;n<i.length;n++)e+=i[n];var o=e/r.length;t.text(o.toFixed(1)+" ms")}()}()}if(t.default=w,v.getQueryParams().simulationFPS)var k=setInterval((function(){window.Calc&&(clearInterval(k),setTimeout(A,1e3))}),1);v.getQueryParams().timeInWorker&&(k=setInterval((function(){window.Calc&&(clearInterval(k),setTimeout(E,1e3))}),1))})),i("lib/dom-change-detector",["require","exports","tslib","jquery"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.checkAllWatchingDetectors=t.testFixture=void 0;var i=1,o={},a=!1;function s(){a=!0,requestAnimationFrame(c)}function c(){for(var e in t.testFixture.rafSPY&&t.testFixture.rafSPY(),a=!1,o)o[e].detectAndEnqueueEvent(),a=!0;if(a)for(var e in s(),o)o[e].dispatchQueuedEvent()}t.testFixture={},t.checkAllWatchingDetectors=c;var l=function(){function e(e,t){this.elt=e,this.cb=t,this.destroyed=!1,this.lastOffscreen=!1,this.id=i.toString(),this.appliedScale={x:1,y:1},i++}return e.prototype.stopWatching=function(){delete o[this.id]},e.prototype.startWatching=function(){this.checkForChanges(),o[this.id]=this,a||s()},e.prototype.resetAppliedScalingAndGetBoundingClientRect=function(){var e=this.elt.getBoundingClientRect(),t={x:e.width/this.elt.offsetWidth,y:e.height/this.elt.offsetHeight};if(t.x===this.appliedScale.x&&t.y===this.appliedScale.y)return e;var n=r(this.elt).children(".dcg-wrapper")[0];return n&&(this.appliedScale=t,r(n).css({transform:"scale("+1/this.appliedScale.x+","+1/this.appliedScale.y+")",width:100*this.appliedScale.x+"%",height:100*this.appliedScale.y+"%","transform-origin":"0 0"})),e},e.prototype.detectAndEnqueueEvent=function(){if(!this.destroyed){var e=!0;if(document.body&&document.body.contains(this.elt)){var t=this.resetAppliedScalingAndGetBoundingClientRect();e=t.top>window.innerHeight||t.bottom<0||t.left>window.innerWidth||t.right<0,this.lastSize?t.width===this.lastSize.width&&t.height===this.lastSize.height||(this.lastSize.width=t.width,this.lastSize.height=t.height,this.queuedEvent={type:"resized",target:this.elt,size:n.__assign({},this.lastSize),isOffscreen:e}):(this.lastSize={width:t.width,height:t.height},this.queuedEvent={type:"added",target:this.elt,size:n.__assign({},this.lastSize),isOffscreen:e})}else this.lastSize&&(this.lastSize=void 0,this.queuedEvent={type:"removed",target:this.elt,isOffscreen:!0});e!==this.lastOffscreen&&(this.lastOffscreen=e,this.queuedEvent||(this.queuedEvent={type:"offscreen-noop",target:this.elt,isOffscreen:e}))}},e.prototype.dispatchQueuedEvent=function(){var e=this.queuedEvent;e&&(this.queuedEvent=void 0,this.cb(e))},e.prototype.checkForChanges=function(){this.detectAndEnqueueEvent(),this.dispatchQueuedEvent()},e.prototype.destroy=function(){for(var e in this.stopWatching(),this)this.hasOwnProperty(e)&&delete this[e];this.destroyed=!0},e}();t.default=l})),i("graphing/compute-async-screenshot-bounds",["require","exports","lib/console"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.computeBoundsFromScreenshotOpts=void 0,t.computeBoundsFromScreenshotOpts=function(e){var t=e.mode,r=e.width,i=e.height,o=e.currentBounds,a=e.graphpaperAspectRatio,s=e.mathAspectRatio,c=e.mathBounds,l=r/i,d=o.left+o.width/2,u=o.bottom+o.height/2;if(void 0===c.left!=(void 0===c.right)||void 0===c.bottom!=(void 0===c.top))return n.warn('asyncScreenshot: cannot specify "left" bound without "right" or "bottom" bound without "top". Got: '+c),o;var p,g,h,f,m,y,b,v,x,w=void 0!==c.left&&void 0!==c.right,A=void 0!==c.bottom&&void 0!==c.top,E=w&&A;switch(t){case"stretch":return E?c:w?{left:c.left,right:c.right,bottom:o.bottom,top:o.top}:A?{left:o.left,right:o.right,bottom:c.bottom,top:c.top}:o;case"contain":return E?(h=c.right-c.left,f=c.top-c.bottom,m={x:c.left+h/2,y:c.bottom+f/2},l>h/f?(p=(g=f/i)*s,{left:m.x-p*r/2,right:m.x+p*r/2,bottom:c.bottom,top:c.top}):(g=(p=h/r)/s,{left:c.left,right:c.right,bottom:m.y-g*i/2,top:m.y+g*i/2})):w?(y=c.right-c.left,b=c.left+y/2,l>y/o.height?{left:b-(p=(g=o.height/i)*s)*r/2,right:b+p*r/2,bottom:o.bottom,top:o.top}:(g=(p=y/r)/s,{left:c.left,right:c.right,bottom:u-g*i/2,top:u+g*i/2})):A?(v=c.top-c.bottom,x=c.bottom+v/2,l>o.width/v?{left:d-(p=(g=v/i)*s)*r/2,right:d+p*r/2,bottom:c.bottom,top:c.top}:(g=(p=o.width/r)/s,{left:o.left,right:o.right,bottom:x-g*i/2,top:x+g*i/2})):l>a?{left:d-(p=(g=o.height/i)*s)*r/2,right:d+p*r/2,bottom:o.bottom,top:o.top}:(g=(p=o.width/r)/s,{left:o.left,right:o.right,bottom:u-g*i/2,top:u+g*i/2});case"preserveX":return E?(h=c.right-c.left,f=c.top-c.bottom,m={x:c.left+h/2,y:c.bottom+f/2},g=(p=h/r)/s,{left:c.left,right:c.right,bottom:m.y-g*i/2,top:m.y+g*i/2}):A?(v=c.top-c.bottom,x=c.bottom+v/2,o.width,g=(p=o.width/r)/s,{left:o.left,right:o.right,bottom:x-g*i/2,top:x+g*i/2}):w?(g=(p=(y=c.right-c.left)/r)/s,{left:c.left,right:c.right,bottom:u-g*i/2,top:u+g*i/2}):(g=(p=(y=o.right-o.left)/r)/s,{left:o.left,right:o.right,bottom:u-g*i/2,top:u+g*i/2});case"preserveY":return E?(h=c.right-c.left,p=(g=(f=c.top-c.bottom)/i)*s,{left:(m={x:c.left+h/2,y:c.bottom+f/2}).x-p*r/2,right:m.x+p*r/2,bottom:c.bottom,top:c.top}):w?(y=c.right-c.left,b=c.left+y/2,o.height,{left:b-(p=(g=o.height/i)*s)*r/2,right:b+p*r/2,bottom:o.bottom,top:o.top}):A?{left:d-(p=(g=(v=c.top-c.bottom)/i)*s)*r/2,right:d+p*r/2,bottom:c.bottom,top:c.top}:{left:d-(p=(g=(v=o.top-o.bottom)/i)*s)*r/2,right:d+p*r/2,bottom:o.bottom,top:o.top};default:return o}}})),i("dcgview-helpers/mathquill-proxy",["require","exports","dcgview-helpers/mathquill-view"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MathQuillProxy=void 0;var r=function(){function e(e){this.mq=e,this.id=e.id,this.data=e.data}return e.prototype.simulateUserChangedLatex=function(){n.default.simulateUserChangedLatex(this.mq)},e.prototype.simulateKeypress=function(e){n.default.simulateKeypress(this.mq,e)},e.prototype.latex=function(e){return void 0===e?this.mq.latex():(this.mq.latex(e),this.simulateUserChangedLatex(),this)},e.prototype.reflow=function(){this.mq.reflow()},e.prototype.el=function(){return this.mq.el()},e.prototype.getAriaLabel=function(){return this.mq.getAriaLabel()},e.prototype.setAriaLabel=function(e){return this.mq.setAriaLabel(e)},e.prototype.html=function(){return this.mq.html()},e.prototype.mathspeak=function(){return this.mq.mathspeak()},e.prototype.text=function(){return this.mq.text()},e.prototype.select=function(){return this.mq.select(),this},e.prototype.moveToRightEnd=function(){return this.mq.moveToRightEnd(),this},e.prototype.moveToLeftEnd=function(){return this.mq.moveToLeftEnd(),this},e.prototype.cmd=function(e){return this.mq.cmd(e),this.simulateUserChangedLatex(),this},e.prototype.write=function(e){return this.mq.write(e),this.simulateUserChangedLatex(),this},e.prototype.keystroke=function(e){return this.simulateKeypress(e),this},e.prototype.typedText=function(e){return this.mq.typedText(e),this.simulateUserChangedLatex(),this},e.prototype.clearSelection=function(){return this.mq.clearSelection(),this},e.prototype.getAriaPostLabel=function(){return this.mq.getAriaPostLabel()},e.prototype.setAriaPostLabel=function(e,t){return this.mq.setAriaPostLabel(e,t),this},e.prototype.blur=function(){return this.mq.blur(),this},e.prototype.focus=function(){return this.mq.focus(),this},e.prototype.revert=function(){return this.mq.revert()},e.prototype.ignoreNextMousedown=function(e){return this.mq.ignoreNextMousedown(e),this},e.prototype.clickAt=function(e,t,n){return this.mq.clickAt(e,t,n),this},e}();t.MathQuillProxy=r})),i("main/raf-loop",["require","lib/parse-query-params"],(function(e){var t=(0,e("lib/parse-query-params").getQueryParams)().timeoutLoop;return void 0!==t?(t=parseFloat(t),isNaN(t)&&(t=1e3/60),function(e){setTimeout((function n(){setTimeout(n,t),e(Date.now())}),t)}):function(e){requestAnimationFrame((function t(n){requestAnimationFrame(t),e(n)}))}})),i("main/shared-clock-bus",["require","exports","main/raf-loop","underscore_model"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.unsubscribe=t.subscribe=void 0;var i=new r.UnderscoreModel;n((function(e){i.triggerEvent("tick",e)}));var o=0;t.subscribe=function(e){return o+=1,i.observeEvent("tick."+o,(function(t,n){e(n)})),o},t.unsubscribe=function(e){i.unobserveEvent("tick."+e)}})),i("main/shared-worker-pool",["require","exports","worker/workerpool","lib/urlparser"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0});var i=r.getParameter(location.search,"nworkers"),o=4;i&&(o=parseInt(i,10)),t.default=new n(o)})),i("graphing-calc/json/config-options",["require","exports","tslib","core/lib/color-helpers","lib/console","main/font_sizes","expressions/colors","expressions/image_file_to_data_url","core/lib/deepCopy","api/util"],(function(e,t,n,r,i,o,a,s,c,l){Object.defineProperty(t,"__esModule",{value:!0}),t.validateConfigOptions=t.isConfigOption=t.publicConfigOptions=void 0;var d={keypad:!0,graphpaper:!0,expressions:!0,settingsMenu:!0,zoomButtons:!0,showResetButtonOnGraphpaper:!1,expressionsTopbar:!0,capExpressionSize:!1,pointsOfInterest:!0,trace:!0,border:!0,lockViewport:!1,expressionsCollapsed:!1,administerSecretFolders:!1,advancedStyling:!1,images:!0,imageUploadCallback:s.imageFileToDataURL,folders:!0,notes:!0,sliders:!0,links:!0,qwertyKeyboard:!0,restrictedFunctions:!1,forceEnableGeometryFunctions:!1,pasteGraphLink:!1,pasteTableData:!0,degreeMode:!1,clearIntoDegreeMode:!1,autosize:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,colors:{RED:a.RED,BLUE:a.BLUE,GREEN:a.GREEN,ORANGE:a.ORANGE,PURPLE:a.PURPLE,BLACK:a.BLACK},invertedColors:!1,functionDefinition:!0,projectorMode:!1,decimalToFraction:!0,fontSize:o.MEDIUM,language:"en",backgroundColor:"#fff",textColor:"#000",distributions:!0,brailleMode:"none",sixKeyInput:!1,brailleControls:!0,zoomFit:!0,forceLogModeRegressions:!1,actions:"auto",audio:!0};t.publicConfigOptions=Object.keys(d);var u={showHamburger:!1,disableScrollFix:!1,branding:!0,redrawSlowly:!1,onlyTraceSelected:!1,disableMouseInteractions:!1,nativeOnscreenKeypad:!1,plaidMode:!1,pasteGraphLinkCallback:void 0,editOnWeb:!1,crossOriginSaveTest:!1,enableTabindex:!0,audioTraceReverseExpressions:!1,transparentBackground:!1,pauseWhenOffscreen:!1},p={solutions:!0,menus:!0,singleVariableSolutions:!0,clickableObjects:!1},g=n.__assign(n.__assign({},d),u);t.isConfigOption=function(e){return!!d.hasOwnProperty(e)||!!u.hasOwnProperty(e)||!!p.hasOwnProperty(e)},t.validateConfigOptions=function(e){var t=c.default(g);for(var n in e)t.hasOwnProperty(n)&&(t[n]=e[n]);return r.isValidHexColor(t.backgroundColor)||(t.backgroundColor=g.backgroundColor,i.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)")),r.isValidHexColor(t.textColor)||(t.textColor=g.textColor,i.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)")),!0!==t.actions&&!1!==t.actions&&"auto"!==t.actions&&(t.actions=g.actions,i.warn("Invalid actions setting. Must be true, false, or 'auto'.")),void 0===e.zoomButtons&&(t.graphpaper&&!t.lockViewport||(t.zoomButtons=!1)),void 0===e.images&&(t.graphpaper||(t.images=!1)),e.hasOwnProperty("menus")&&(i.warn("As of API version 0.4, the 'menus' option is deprecated and has been split into 'settingsMenu' (boolean) and 'expressionsTopbar' (boolean)."),e.hasOwnProperty("settingsMenu")||(t.settingsMenu=!!e.menus),e.hasOwnProperty("expressionsTopbar")||(t.expressionsTopbar=!!e.menus)),e.hasOwnProperty("solutions")&&(i.warn("As of API v1.0, the 'solutions' option is deprecated and has been replaced with 'pointsOfInterest' (boolean)."),e.hasOwnProperty("pointsOfInterest")||(t.pointsOfInterest=!!e.solutions)),e.hasOwnProperty("singleVariableSolutions")&&i.warn("As of API v1.0, the 'singleVariableSolutions' has been removed. The calculator no longer displays solutions to single variable equations."),e.hasOwnProperty("clickableObjects")&&(i.warn("As of API v1.7, the 'clickableObjects' option is deprecated and has been replaced with 'actions'."),!0!==e.clickableObjects||e.hasOwnProperty("actions")||(t.actions=!0)),t.graphpaper||(t.expressionsCollapsed&&(t.expressionsCollapsed=!1,i.warn("Desmos API initialized with bad options. graphpaper: false and expressionsCollapsed: true are incompatible. Proceeding with expressionsCollapsed: false.")),t.zoomButtons&&(t.zoomButtons=!1,i.warn("Desmos API initialized with bad options. graphpaper: false and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),t.showResetButtonOnGraphpaper&&(t.showResetButtonOnGraphpaper=!1,i.warn("Desmos API initialized with bad options. graphpaper: false and showResetButtonOnGraphpaper: true are incompatible. Proceeding with showResetButtonOnGraphpaper: false."))),t.lockViewport&&t.zoomButtons&&(t.zoomButtons=!1,i.warn("Desmos API initialized with bad options. lockViewport: true and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),!1!==t.notes&&!1!==t.folders&&!1!==t.images||!0!==t.pasteGraphLink||(t.pasteGraphLink=!1,i.warn("Desmos API initialized with bad options. pasteGraphLink: true is incompatible with disabling the creation of note, folder, or image expressions. Proceeding with pasteGraphLink: false.")),t.language&&(t.language=l.validateLanguage(t.language)),t}})),i("api/graphing",["require","exports","tslib","lib/i18n","main/calc_embed","core/lib/deepCopy","underscore_model","core/math/recttransformation","lib/dom-change-detector","graphing/compute-async-screenshot-bounds","graphing-calc/api/sanitize-expression","dcgview-helpers/mathquill-view","dcgview-helpers/mathquill-proxy","lib/console","underscore","main/shared-clock-bus","main/shared-worker-pool","core/graphing-calc/json/graph-settings","graphing-calc/json/config-options","core/lib/random-seed","../lib/underscore-shim"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v,x){function w(e,t){var n={},r={};for(var i in e)b.isConfigOption(i)?n[i]=e[i]:y.isGraphSetting(i)?r[i]=e[i]:t||g.warn("Unrecognized setting: "+i+". Ignoring.");return{configOptions:n,settingsOptions:r}}function A(e,t){var n={};return t.hasOwnProperty("x")&&(n.x=e.mapX(t.x)),t.hasOwnProperty("y")&&(n.y=e.mapY(t.y)),n}var E;Object.defineProperty(t,"__esModule",{value:!0});var k=[],I=!1;function S(){if(!I){for(var e;(e=k.shift())&&e.api._destroyed;);if(e){var t=e;I=!0;var n=t.options,r=t.mathBounds,i=t.state,o=t.callback;E||(E=new M);var a=E;a.setState(i),a.setMathBounds(r),["majorAxisOpacity","minorAxisOpacity","axisLineOffset","axisLineWidth","labelSize","graphLineWidth","pointLineWidth"].forEach((function(e){"axisLineWidth"===e?a._calc.grapher.settings.setProperty(e,t.api._calc.grapher.settings[e]):a._calc.grapher.settings[e]=t.api._calc.grapher.settings[e]}));var s=a._calc.evaluator,c=function(){a._calc.grapher.asyncScreenshot(n,(function(e){I=!1,S(),o(e)}))},l=t.api._calc.controller,d=f.subscribe((function(){l.areAnyImagesLoading()||(f.unsubscribe(d),s.notifyWhenSynced(c))}))}}}var M=function(e){function t(n,r,o){var a=e.call(this)||this;if(a._destroyed=!1,a.isOffscreen=!1,!(a instanceof t))return new t(n,r,o);var s=w(r||{},!0),l=b.validateConfigOptions(s.configOptions),d=s.settingsOptions;return a._calc=new i.default(n,m.default,l),a._calc.interceptTouch(),a.controller=a._calc.controller,a.controller.onEventsEmitted=function(e){var t=a.controller.getSelectedItem();a.setProperty("isAnyExpressionSelected",!!t),a.setProperty("selectedExpressionId",t?t.id:void 0),a.setProperty("expressionAnalysis",a.controller.getExpressionAnalysis());var n=u.default.getFocusedMathquill();for(var r in a.setProperty("focusedMathQuill",n?new p.MathQuillProxy(n):void 0),e)e.hasOwnProperty(r)&&e[r]&&a.triggerEvent(r,void 0)},a._calc.graphpaperBounds.observeAndSync("mathCoordinates",a._syncGraphpaperBounds.bind(a)),a._calc.graphpaperBounds.observeAndSync("pixelCoordinates",a._syncGraphpaperBounds.bind(a)),a.colors=a.controller.getColors(),a._initGraphSettings(),a.updateSettings(d),a._sharedClockBusToken=f.subscribe((function(e){var t=a._calc.grapher.settings.config.pauseWhenOffscreen&&a.isOffscreen;a._calc.tick(e,t)})),a.domChangeDetector=new c.default(n,(function(e){switch(a.isOffscreen=e.isOffscreen,e.type){case"offscreen-noop":case"removed":break;case"added":case"resized":a._calc.resize(e.size)}})),l.autosize?a.domChangeDetector.startWatching():a.domChangeDetector.checkForChanges(),"function"==typeof o&&o(a),a}return n.__extends(t,e),t.prototype.destroy=function(){function e(e){g.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}for(var t in this._calc.destroy(),this.controller.onEventsEmitted=function(){},f.unsubscribe(this._sharedClockBusToken),this.domChangeDetector.destroy(),this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){},this._destroyed=!0},t.prototype._syncGraphpaperBounds=function(){var e=this;this.controller.runAfterDispatch((function(){e.setProperty("graphpaperBounds",{mathCoordinates:e._calc.graphpaperBounds.mathCoordinates,pixelCoordinates:e._calc.graphpaperBounds.pixelCoordinates})}))},t.prototype._initGraphSettings=function(){var e=this,t=new a.UnderscoreModel;this.settings=this.graphSettings=t,y.publicGraphSettings.forEach((function(n){e._calc.grapher.settings.observeAndSync(n,(function(){e.controller.runAfterDispatch((function(){t.setProperty(n,e._calc.grapher.settings[n])}))}))})),b.publicConfigOptions.forEach((function(n){e._calc.grapher.settings.config.observeAndSync(n,(function(){e.controller.runAfterDispatch((function(){t.setProperty(n,e._calc.grapher.settings.config[n])}))}))}))},t.prototype.updateSettings=function(e){var t=w(e,!1),n=t.configOptions,r=t.settingsOptions;h.isEmpty(n)||this._calc.setOptions(n),h.isEmpty(r)||this._calc.grapher.settings.setGraphSettings(r),this.notifyControllerOfAPICall()},t.prototype.setGraphSettings=function(e){g.warn("As of API v0.8 the 'setGraphSettings' method is deprecated and has been renamed 'updateSettings.'"),this.updateSettings(e),this.setGraphSettings=this.updateSettings,this.notifyControllerOfAPICall()},t.prototype.fetchLanguage=function(e){return r.fetchLanguage(e)},t.prototype.setDefaultState=function(e){this._calc.grapher.settings.setProperty("defaultState",e),this.notifyControllerOfAPICall()},t.prototype.mathToPixels=function(e){return A(s.RT.fromRects(this.graphpaperBounds.mathCoordinates,this.graphpaperBounds.pixelCoordinates),e)},t.prototype.pixelsToMath=function(e){return A(s.RT.fromRects(this.graphpaperBounds.pixelCoordinates,this.graphpaperBounds.mathCoordinates),e)},t.prototype.notifyControllerOfAPICall=function(){this.controller.dispatch({type:"render"})},t.prototype.setExpression=function(e){var t=this.controller.getItemModel(e.id),n=t&&t.type,r=d.validateItem(e,n,this.controller);if(r)if(n)this.controller.dispatch({type:"set-expression-properties-from-api",id:r.id,properties:r});else{if("image"===r.type)return;this.controller.dispatch({type:"add-item-to-end-from-api",state:r})}},t.prototype.setExpressions=function(e){e.forEach(this.setExpression.bind(this))},t.prototype.removeExpression=function(e){var t=e.id.toString();this.controller.dispatch({type:"remove-item-by-id",id:t})},t.prototype.removeExpressions=function(e){e.forEach(this.removeExpression.bind(this))},t.prototype.removeSelected=function(){var e=this.controller.getSelectedItem();if(e){var t=e.id;return this.controller.dispatch({type:"remove-item-by-id",id:t}),t}},t.prototype.setMathBounds=function(e){e&&e.left<e.right&&e.bottom<e.top?this._calc.setViewport([e.left,e.right,e.bottom,e.top]):g.warn("Invalid bounds argument. Expected a bounds object with bounds.bottom < bounds.top, and bounds.left < bounds.right. Got "+JSON.stringify(e)),this.notifyControllerOfAPICall()},t.prototype.setViewport=function(e){4==e.length&&e[1]>e[0]&&e[3]>e[2]?this._calc.setViewport(e):g.warn("Invalid viewport.  Expected [xmin, xmax, ymin, ymax].  Got "+e),this.notifyControllerOfAPICall()},t.prototype.resize=function(){this.domChangeDetector.checkForChanges()},t.prototype.getState=function(e){return this.controller.getState(e)},t.prototype.getExpressions=function(){return this.getState({stripDefaults:!1}).expressions.list.map(d.sanitizeItem)},t.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e||{}})},t.prototype.setState=function(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})},t.prototype.undo=function(){this.controller.dispatch({type:"undo"})},t.prototype.redo=function(){this.controller.dispatch({type:"redo"})},t.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-undoredo-history"})},t.prototype.newRandomSeed=function(){this.updateSettings({randomSeed:v.default()})},t.prototype.screenshot=function(e){return e||(e={}),e=this._validateBrailleScreenshotOptions(e),this._calc.grapher.screenshot(e)},t.prototype._getMathAspectRatio=function(){var e=this.graphpaperBounds.mathCoordinates,t=this._calc.grapher.getProjection().pixelCoordinates,n=t.right-t.left,r=t.bottom-t.top;return e.width/n/(e.height/r)},t.prototype.isProjectionUniform=function(){return!!this._calc.grapher.getProjection().settings.squareAxes},t.prototype._validateBrailleScreenshotOptions=function(e){var t=(e=o.default(e)).braille;if(t){var n=t.embosserModel;if(!n)return g.warn("Screenshot braille options requires an embosser model to be specified. "),g.warn("Continuing with non-braille screenshot."),delete e.braille,e;if("etc"===n&&(t.embosserModel="etc11"),"vpmax"===n&&(t.embosserModel="vpmax11"),"etc8"!==t.embosserModel&&"etc11"!==t.embosserModel&&"vpmax8"!==t.embosserModel&&"vpmax11"!==t.embosserModel)return g.warn('Unknown screenshot braille embosser model. Valid models are "etc" and "vpmax".'),g.warn("Continuing with non-braille screenshot."),delete e.braille,e;"nemeth"!==t.brailleMode&&"ueb"!==t.brailleMode&&(g.warn("Screenshot options braille.brailleMode must be nemeth or ueb. Proceeding with nemeth."),t.brailleMode="nemeth"),e.width&&(g.warn("Screenshot width option is ignored when exporting Braille."),delete e.width),e.height&&(g.warn("Screenshot height option is ignored when exporting Braille."),delete e.height),e.targetPixelRatio&&(g.warn("Screenshot targetPixelRatio option is ignored when exporting Braille."),delete e.targetPixelRatio),e.preserveAxisNumbers&&(g.warn("Screenshot preserveAxisNumbers option is ignored when exporting Braille."),delete e.preserveAxisNumbers)}return e},t.prototype._validateAsyncScreenshotOpts=function(e){var t=(e=o.default(e)).mode||"contain",r=e.width||e.height||this.graphpaperBounds.pixelCoordinates.width,i=e.height||e.width||this.graphpaperBounds.pixelCoordinates.height,a=e.targetPixelRatio||1;a<1&&(a=1);var s=e.preserveAxisNumbers;e.hasOwnProperty("format")||(e.svg?(e.format="svg",delete e.svg):e.format="png");var c=e.mathBounds||{},d=this._getMathAspectRatio(),u=this.graphpaperBounds.pixelCoordinates.width/this.graphpaperBounds.pixelCoordinates.height,p=l.computeBoundsFromScreenshotOpts({mode:t,width:r,height:i,currentBounds:this.graphpaperBounds.mathCoordinates,graphpaperAspectRatio:u,mathAspectRatio:d,mathBounds:c});return{opts:n.__assign(n.__assign({},e),{width:r,height:i,targetPixelRatio:a,preserveAxisNumbers:s}),mathBounds:p}},t.prototype.asyncScreenshot=function(e,t){if(arguments.length){if(1===arguments.length){if("function"!=typeof e)return void g.warn("asyncScreenshot expects a callback");t=e,e={}}e||(e={}),e=this._validateBrailleScreenshotOptions(e);var n=this._validateAsyncScreenshotOpts(e),r=n.opts,i=n.mathBounds;k.push({api:this,options:r,mathBounds:i,state:this.getState(),callback:t}),S()}else g.warn("asyncScreenshot expects a callback")},t.prototype.setOptions=function(e){var t=this._calc.setOptions(e);return this.notifyControllerOfAPICall(),t},t.prototype.focusFirstExpression=function(){var e=this.controller.getItemModelByIndex(0);e&&this.controller.dispatch({type:"move-focus-to-item",id:e.id,where:"end"})},t.prototype.HelperExpression=function(e){var t=e&&e.latex||"",n=new a.UnderscoreModel;return n.latex=t,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:t,proxy:n}}),n},t}(x.UnderscoreModelShim);t.default=M})),i("main/calc_headless",["require","exports","main/graph_settings","main/evaluator","underscore_model","main/controller"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.HeadlessCalc=void 0;var a=function(){function e(e,t){var a=this,s=new n;for(var c in t)s.config.setProperty(c,t[c]);this.controller=new o.default(s);var l=new r.Evaluator(e);this.controller.setEvaluator(l),l.readEvaluatorConfig=function(){return{evaluationMode:"graphing",globalRandomSeed:s.randomSeed,degreeMode:s.degreeMode,restrictedFunctions:s.config.restrictedFunctions,distributions:s.config.distributions,pointsOfInterest:s.config.pointsOfInterest,plotSingleVariableImplicitEquations:s.config.plotSingleVariableImplicitEquations,plotImplicits:s.config.plotImplicits,plotInequalities:s.config.plotInequalities,sliders:s.config.sliders,actions:s.config.actions}},l.onEvaluatorResults=function(e){a.controller.dispatch({type:"on-evaluator-changes",changes:e.evaluationStates,timingData:e.timingData,eventUpdates:e.eventUpdates})};var d=new i.UnderscoreModel;d.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=d,this.evaluator=l,this.setBlank()}return e.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e})},e.prototype.tick=function(){this.evaluator.tick()},e.prototype.destroy=function(){this.evaluator.destroy()},e}();t.HeadlessCalc=a})),i("api/headless",["require","exports","main/calc_headless","graphing-calc/json/config-options","main/shared-clock-bus","main/shared-worker-pool","graphing-calc/api/sanitize-expression","underscore_model","lib/console"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(){var t=this;if(!(this instanceof e))return new e;this._calc=new n.HeadlessCalc(o.default,r.validateConfigOptions({})),this.controller=this._calc.controller,this._sharedClockBusToken=i.subscribe((function(){t._calc.tick()}))}return e.prototype.destroy=function(){function e(e){c.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}for(var t in this._calc.destroy(),i.unsubscribe(this._sharedClockBusToken),this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}},e.prototype.setExpression=function(e){var t=this.controller.getItemModel(e.id),n=t&&t.type,r=a.validateItem(e,n,this.controller);if(r)if(n)this.controller.dispatch({type:"set-expression-properties-from-api",id:r.id,properties:r});else{if("image"===r.type)return;this.controller.dispatch({type:"add-item-to-end-from-api",state:r})}},e.prototype.setExpressions=function(e){e.forEach(this.setExpression.bind(this))},e.prototype.removeExpression=function(e){var t=e.id.toString();this.controller.dispatch({type:"remove-item-by-id",id:t})},e.prototype.removeExpressions=function(e){e.forEach(this.removeExpression.bind(this))},e.prototype.getState=function(e){return this.controller.getState(e)},e.prototype.getExpressions=function(){return this.getState({stripDefaults:!1}).expressions.list.map(a.sanitizeItem)},e.prototype.setBlank=function(e){this.controller.dispatch({type:"set-blank",opts:e||{}})},e.prototype.setState=function(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})},e.prototype.HelperExpression=function(e){var t=e&&e.latex||"",n=new s.UnderscoreModel;return n.latex=t,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:t,proxy:n}}),n},e.prototype.resize=function(){},e}();t.default=l})),i("api/abstract",["require","exports","lib/console","underscore_model","ipad.scrollfix","lib/dom-change-detector"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){if(this.rootElt=e,this.eventModel=new r.UnderscoreModel,!e)throw new Error("must pass an HTMLElement to the API")}return e.prototype.setupDomChangeDetector=function(e){var t=this;this.autoSize=e,i.limitScrollOnElement(this.rootElt),this.domChangeDetector=new o.default(this.rootElt,(function(e){switch(e.type){case"added":t.view=t.onCreateView(),t.onResizeView(e.size);break;case"removed":t.onDestroyView(),t.view=void 0;break;case"resized":t.onResizeView(e.size)}})),!1!==this.autoSize?this.domChangeDetector.startWatching():this.domChangeDetector.checkForChanges()},e.prototype.detach=function(){n.warn(".detach() is deprecated. It should no longer be necessary")},e.prototype.destroy=function(){function e(e){n.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}for(var t in this.view&&this.onDestroyView(),this.domChangeDetector.destroy(),this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}},e.prototype.resize=function(){this.domChangeDetector.checkForChanges()},e.prototype.updateView=function(){this.view&&document.body&&document.body.contains(this.rootElt)&&this.view.update()},e.prototype.triggerEvent=function(e,t){this.eventModel.triggerEvent(e,t)},e.prototype.observeEvent=function(e,t){this.eventModel.observeEvent(e,t)},e.prototype.unobserveEvent=function(e){this.eventModel.unobserveEvent(e)},e}();t.default=a})),i("immutable-store",["require","underscore","core/lib/deepCopy"],(function(e){var t=e("underscore"),n=e("core/lib/deepCopy").default;function r(e){return t.clone(e)}function i(e){this.setState(e)}return i.prototype.setState=function(e){this.state=e},i.prototype.getState=function(){return this.state},i.prototype.set=function(e,t){if(1!==arguments.length){if("string"==typeof e)return this.state=r(this.state),void(this.state[e]=t);var n,i=e.length-2,o=e[i+1];this.state=n=r(this.state);for(var a=0;a<=i;a++){var s=e[a];n=n[s]=r(n[s])}n[o]=t}else this.state=e},i.prototype.deepMutate=function(e,t){if(1===arguments.length)return t=e,this.state=n(this.state),void t(this.state);if("string"==typeof e)return this.state=r(this.state),this.state[e]=n(this.state[e]),void t(this.state[e]);for(var i=e.length-2,o=e[i+1],a=this.state=r(this.state),s=0;s<=i;s++){var c=e[s];a=a[c]=r(a[c])}t(a=a[o]=n(a[o]))},i.prototype.shallowMutate=function(e,t){if(1===arguments.length)return t=e,this.state=r(this.state),void t(this.state);if("string"==typeof e)return this.state=r(this.state),this.state[e]=r(this.state[e]),void t(this.state[e]);for(var n=e.length-1,i=this.state=r(this.state),o=0;o<=n;o++){var a=e[o];i=i[a]=r(i[a])}t(i)},i.areShallowEqual=function(e,t){},i.areDeepEqual=function(e,t){},{default:i}})),i("basic/model",["require","exports","immutable-store","main/shared-clock-bus","core/lib/label","main/evaluator","core/lib/label","underscore"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e){var t=this,i=e.evaluationMode,o=e.additionalFunctions,a=e.functionDefinition,s=e.replaceRoundWithReciprocal,c=e.workerPool;this._evaluations={},this._nextObjectId=0,this.store=new n.default({expressions:{1:{id:"1",latex:"",braille:"",type:"latex",displayAsFraction:!1}},order:["1"],settings:{degreeMode:!1},ui:{focus:void 0}}),this.evaluationMode=i,this.additionalFunctions=o,this.functionDefinition=a,this.replaceRoundWithReciprocal=s,this.workerPool=c,this._setupEvaluator(),this.clear(),this._sharedClockBusToken=r.subscribe((function(){t._evaluator.tick()}))}return e.prototype.isSingleExpression=function(){return"singleExpressionScientific"===this.evaluationMode||"singleExpressionFourFunction"===this.evaluationMode},e.prototype.destroy=function(){r.unsubscribe(this._sharedClockBusToken)},e.prototype.generateObjectId=function(){return(this._nextObjectId++).toString()},e.prototype.updateNextObjectId=function(){var e=this.store.getState().order;this._nextObjectId=0;for(var t=/^[0-9]+$/,n=0,r=e;n<r.length;n++){var i=r[n];if(t.test(i)){var o=parseInt(i,10);o>=this._nextObjectId&&(this._nextObjectId=o+1)}}},e.prototype.clearShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!1},e.prototype.markShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!0},e.prototype.getShouldDebounceUndoRedo=function(){return this._shouldDebounceUndoRedo},e.prototype.clearCachedBrailleValues=function(){for(var e=0,t=this.getExpressionOrder();e<t.length;e++){var n=t[e];this.store.set(["expressions",n,"braille"],"")}},e.prototype.getState=function(){return this.store.getState()},e.prototype.getPersistedState=function(){var e=this.getState(),t=e.expressions,n=e.order,r=e.settings;return{expressions:{list:n.map((function(e){var n=t[e];return{id:n.id,latex:n.latex,displayAsFraction:n.displayAsFraction}}))},settings:r}},e.prototype.setState=function(e){this.store.set(e),this._updateIndexes(),this.updateNextObjectId()},e.prototype.setStateFromAPI=function(e){var t=[],n={};e.expressions.list.forEach((function(e){t.push(e.id),n[e.id]={id:e.id,latex:e.latex,braille:"",type:"latex",displayAsFraction:!!e.displayAsFraction}})),this.setState({expressions:n,order:t,settings:e.settings,ui:{focus:void 0}})},e.prototype.canClear=function(){if(this.getNumberOfExpressions()>1)return!0;var e=this.getExpressionOrder()[0];return""!==this.getExpressionLatex(e)},e.prototype.clear=function(){this.setState({expressions:{1:{id:"1",type:"latex",latex:"",braille:"",displayAsFraction:!1}},ui:{focus:void 0},order:["1"],settings:this.getState().settings})},e.prototype.getExpressionOrder=function(){return this.store.getState().order},e.prototype.getNumberOfExpressions=function(){return this.getExpressionOrder().length},e.prototype.getExpressionById=function(e){return this.getState().expressions[e]},e.prototype.getExpressionIndex=function(e){return this._indexes[e]},e.prototype._getExpressionByIndex=function(e){var t=this.getExpressionOrder()[e];return this.getExpressionById(t)},e.prototype._updateIndexes=function(){this._indexes={};for(var e=0,t=0,n=this.getExpressionOrder();t<n.length;t++){var r=n[t];this._indexes[r]=e,e+=1}this._evaluate()},e.prototype._usesAnsById=function(e){return-1!==this.getExpressionById(e).latex.indexOf("\\operatorname{ans}")},e.prototype._getPreviousExpById=function(e){var t=this.getExpressionIndex(e);return this._getExpressionByIndex(t-1)},e.prototype.createBlankAfterId=function(e){if(!this.isSingleExpression()&&this.getExpressionById(e).latex){var t=this.getExpressionIndex(e),n=this.generateObjectId();this.store.shallowMutate("order",(function(e){e.splice(t+1,0,n)})),this.store.shallowMutate("expressions",(function(e){e[n]={id:n,latex:"",braille:"",type:"latex",displayAsFraction:!1}})),this._updateIndexes(),this.setFocusedById(n,!0)}},e.prototype.conditionallyCopyPrevious=function(e){var t=this._getPreviousExpById(e),n=this.getExpressionById(e);null!=t&&""===n.latex&&this._usesAnsById(t.id)&&this.setLatexById(e,t.latex)},e.prototype.backspaceAtFrontOfId=function(e){if(""===this.getExpressionById(e).latex&&1!==this.getNumberOfExpressions()){var t=this.getExpressionIndex(e);this.store.shallowMutate("order",(function(e){e.splice(t,1)})),this.store.shallowMutate("expressions",(function(t){delete t[e]})),this._updateIndexes(),this._setFocusedByIndex(Math.max(t-1,0),!0)}},e.prototype.setLatexById=function(e,t){this.store.set(["expressions",e,"latex"],t),this.store.set(["expressions",e,"braille"],""),""===t&&this.setFractionEvaluation(e,!1),this._evaluate()},e.prototype.setLatexAndBrailleById=function(e,t,n){this.store.set(["expressions",e,"latex"],t),this.store.set(["expressions",e,"braille"],n),""===t&&this.setFractionEvaluation(e,!1),this._evaluate()},e.prototype.setFractionEvaluation=function(e,t){this.store.set(["expressions",e,"displayAsFraction"],t)},e.prototype.setLatexOfFocusedExpression=function(e){var t=this.getFocusedExpressionId();t&&this.setLatexById(t,e)},e.prototype.isExpressionFocused=function(e){return this.getFocusedExpressionId()===e},e.prototype.getExpressionLatex=function(e){return this.getExpressionById(e).latex},e.prototype.getExpressionError=function(e){var t=this._evaluations[e];return t?t.error:""},e.prototype.getExpressionValue=function(e){var t=this._evaluations[e];if(t)return t.value},e.prototype.getExpressionAns=function(e){var t=this._evaluations[e];if(t)return t.ans},e.prototype.getExpressionAnsId=function(e){var t=this._evaluations[e];if(t)return t.ansId},e.prototype.shouldShowEvaluationForExpression=function(e){var t=this._evaluations[e];return!!t&&t.showEvaluation},e.prototype.isRationalizableConstant=function(e){var t=this._evaluations[e];return!!t&&t.isRationalizableConstant},e.prototype.canDisplayEvaluationAsFraction=function(e){var t=this.getExpressionValue(e);return!!t&&a.canDisplayAsFraction(t)},e.prototype._setFocusedByIndex=function(e,t){var n=this._getExpressionByIndex(e),r=this.store.getState().ui.focus,i=t?{type:"latex-expression",id:n.id}:void 0;if(!s.isEqual(r,i)){if(r){var o=r.id;this.store.deepMutate("expressions",(function(e){var t=e[o];t&&(t.braille="")}))}(t||this.getFocusedExpressionId()===n.id)&&this.store.shallowMutate("ui",(function(e){e.focus=i}))}},e.prototype.setFocusedById=function(e,t){var n=this.getExpressionIndex(e);this._setFocusedByIndex(n,t)},e.prototype.focusPrevById=function(e){var t=this.getExpressionIndex(e)-1;t>=0&&this._setFocusedByIndex(t,!0)},e.prototype.focusNextById=function(e){var t=this.getExpressionIndex(e)+1;t<this.getNumberOfExpressions()?this._setFocusedByIndex(t,!0):this.createAtEnd()},e.prototype.getFocusedExpression=function(){var e=this.getFocusedExpressionId();return e?this.getExpressionById(e):void 0},e.prototype.getFocusedExpressionId=function(){var e=this.getState().ui.focus;return e&&e.id},e.prototype.clearFocusedExpression=function(){var e=this.getFocusedExpression();e&&this.setLatexById(e.id,"")},e.prototype.shouldShowClear=function(){if(1===this.getNumberOfExpressions())return!1;var e=this.getFocusedExpression();return!!e&&!!e.latex},e.prototype.getLastExpression=function(){return this._getExpressionByIndex(this.getNumberOfExpressions()-1)},e.prototype.isLastExpressionEmpty=function(){return!!this.getLastExpression().latex},e.prototype.createAtEnd=function(){this.createBlankAfterId(this.getLastExpression().id)},e.prototype.focusLastExpression=function(){this._setFocusedByIndex(this.getNumberOfExpressions()-1,!0)},e.prototype.focusFirstExpression=function(){this._setFocusedByIndex(0,!0)},e.prototype.getDegreeMode=function(){return this.getState().settings.degreeMode},e.prototype.setDegreeMode=function(e){this.store.set(["settings","degreeMode"],!!e),this._evaluate()},e.prototype._cleanupLatex=function(e){return"="===(e=i.trimLatex(e)).substr(e.length-1)&&(e=e.substr(0,e.length-1)),e},e.prototype._evaluate=function(){var e=this;this._evaluator.clearStatementsAndStartCompleteState(),this.getExpressionOrder().forEach((function(t){return e._evaluator.addStatement({id:t,index:e.getExpressionIndex(t),latex:e._cleanupLatex(e.getExpressionLatex(t)),shouldGraph:!1,type:"statement"})}))},e.prototype._setupEvaluator=function(){var e=this;this._evaluator=new o.Evaluator(this.workerPool),this._evaluator.readEvaluatorConfig=function(){return{degreeMode:e.getDegreeMode(),evaluationMode:e.evaluationMode,additionalFunctions:e.additionalFunctions,functionDefinition:e.functionDefinition,replaceRoundWithReciprocal:e.replaceRoundWithReciprocal,actions:!1}},this._evaluator.onEvaluatorResults=function(t){var n=t.evaluationStates;for(var r in e._evaluations={},n){var i=n[r];if(e.getExpressionById(r)){var o=i.constant_value;void 0===o&&i.zero_values&&i.zero_values.length&&(o=i.zero_values[0].val);var s=i.hasOwnProperty("constant_value")&&a.canDisplayAsFraction(i.constant_value),c=!i.is_evaluable&&s,l=!!i.is_evaluable||c||Array.isArray(o);e._evaluations[r]={error:i.error,ans:void 0,ansId:void 0,value:o,showEvaluation:l,isRationalizableConstant:c}}}for(var d=void 0,u=void 0,p=0,g=e.getExpressionOrder();p<g.length;p++){r=g[p];var h=e._evaluations[r];if(d&&h){var f=d.value;"number"==typeof f?(h.ans=f,h.ansId=u):Array.isArray(f)&&(h.ans="[...]")}d=h,u=r}"function"==typeof e.onEvaluationUpdate&&e.onEvaluationUpdate()}},e.prototype.reloadState=function(){this.setState(this.getState())},e.prototype.getFunctionDefinition=function(){return!!this.functionDefinition},e.prototype.enableFunctionDefinition=function(){this.functionDefinition=!0,this.reloadState()},e.prototype.disableFunctionDefinition=function(){this.functionDefinition=!1,this.reloadState()},e.prototype.getReplaceRoundWithReciprocal=function(){return!!this.replaceRoundWithReciprocal},e.prototype.enableReplaceRoundWithReciprocal=function(){this.replaceRoundWithReciprocal=!0,this.reloadState()},e.prototype.disableReplaceRoundWithReciprocal=function(){this.replaceRoundWithReciprocal=!1,this.reloadState()},e}();t.default=c})),i("basic/controller",["require","exports","tslib","flux","underscore","./model","lib/state-stack","keypad/mq-commands","lib/i18n","dcgview-helpers/mathquill-view","lib/console","bugsnag","core/lib/color-helpers"],(function(e,t,n,r,i,o,s,c,l,d,u,p,g){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){var n=this;this.keyboardMode="main",this.fontSize=16,this.invertedColors=!1,this.backgroundColor="",this.textColor="",this.projectorMode=!1,this.capExpressionSize=!1,this.decimalToFraction=!0,this.settingsMenu=!0,this.settingsMenuOpen=!1,this.language="en",this.brailleMode="none",this.sixKeyInput=!1,this.brailleControls=!0,this.brailleExpressionDownload=!0,this.replaceCommaWith10Exp=!1,this.typingAsteriskWritesTimesSymbol=!1,this.stateStack=new s.default,this.dispatcher=new r.Dispatcher,this.s=l.createDictionaryLookupFunction((function(){return n.language})),this.dispatch=function(e){var t;for(p.leaveBreadcrumb("dispatch",{type:e.type}),n.dispatcher.dispatch(e);t=n._queuedCallbacks.shift();)t()},this._queuedCallbacks=[],this.stateStack=new s.default,this.dispatcher=new r.Dispatcher,this.options=e,this.model=new o.default({evaluationMode:this.options.evaluationMode,additionalFunctions:this.options.additionalFunctions,functionDefinition:this.options.functionDefinition,replaceRoundWithReciprocal:this.options.replaceRoundWithReciprocal,workerPool:t.workerPool}),this.model=this.model,this.model.setDegreeMode(e.degreeMode),this.setLanguage(e.language),this.setBrailleMode(e.brailleMode),this.setSixKeyInput(e.sixKeyInput),this.setBrailleControls(e.brailleControls),this.setBrailleExpressionDownload(e.brailleExpressionDownload),this.setReplaceCommaWith10Exp(e.replaceCommaWith10Exp),this.setReplaceRoundWithReciprocal(e.replaceRoundWithReciprocal),this.setTypingAsteriskWritesTimesSymbol(e.typingAsteriskWritesTimesSymbol),this.setProjectorMode(e.projectorMode),this.setCapExpressionSize(e.capExpressionSize),this.setDecimalToFraction(e.decimalToFraction),this.invertedColors=e.invertedColors,this.backgroundColor=e.backgroundColor,this.textColor=e.textColor,this.settingsMenu=e.settingsMenu,this.model.onEvaluationUpdate=function(){return n.dispatch({type:"render"})},this.settingsProxy=t.settingsProxy,this.syncPublicSettings(),this.hookUpDispatcher(),this.containerSize={width:0,height:0}}return e.prototype.runAfterDispatch=function(e){this._queuedCallbacks.push(e)},e.prototype.enqueueEvent=function(e){var t=this;this.runAfterDispatch((function(){t.onEventEmitted&&t.onEventEmitted(e)}))},e.prototype.getFunctionDefinition=function(){return this.options.functionDefinition},e.prototype.getSettingsMenu=function(){return this.settingsMenu},e.prototype.getBrailleMode=function(){return this.brailleMode},e.prototype.renderAsBraille=function(){return"none"!==this.brailleMode},e.prototype.setBrailleMode=function(e){this.brailleMode=e},e.prototype.getSixKeyInput=function(){return this.sixKeyInput},e.prototype.setSixKeyInput=function(e){this.sixKeyInput=e},e.prototype.getBrailleControls=function(){return this.brailleControls},e.prototype.setBrailleControls=function(e){this.brailleControls=e},e.prototype.getBrailleExpressionDownload=function(){return this.brailleExpressionDownload},e.prototype.setBrailleExpressionDownload=function(e){this.brailleExpressionDownload=e},e.prototype.getRestrictedEditing=function(){return this.options.restrictedEditing},e.prototype.getKeyboardMode=function(){return this.keyboardMode},e.prototype.getFontSize=function(){return this.fontSize},e.prototype.getInvertedColors=function(){return this.invertedColors},e.prototype.hasBackgroundColor=function(){return"#ffffff"!==this.getBackgroundColor()},e.prototype.getBackgroundColor=function(){var e=g.normalizeColor(this.backgroundColor||"#fff");return this.getInvertedColors()&&"#ffffff"!==e?g.invertColor(e):e},e.prototype.getTextColor=function(){var e=g.normalizeColor(this.textColor||"#000");return this.getInvertedColors()&&"#000000"!==e?g.invertColor(e):e},e.prototype.getAdditionalFunctions=function(){return this.options.additionalFunctions},e.prototype.getTypingSlashWritesDivisionSymbol=function(){return this.options.typingSlashWritesDivisionSymbol},e.prototype.setTypingAsteriskWritesTimesSymbol=function(e){this.typingAsteriskWritesTimesSymbol=e},e.prototype.getTypingAsteriskWritesTimesSymbol=function(){return this.typingAsteriskWritesTimesSymbol},e.prototype.setProjectorMode=function(e){this.projectorMode=e},e.prototype.isProjectorMode=function(){return this.projectorMode},e.prototype.getReplaceCommaWith10Exp=function(){return this.replaceCommaWith10Exp},e.prototype.setReplaceCommaWith10Exp=function(e){this.replaceCommaWith10Exp=e},e.prototype.getReplaceRoundWithReciprocal=function(){return this.model.getReplaceRoundWithReciprocal()},e.prototype.setReplaceRoundWithReciprocal=function(e){e?this.model.enableReplaceRoundWithReciprocal():this.model.disableReplaceRoundWithReciprocal()},e.prototype.setCapExpressionSize=function(e){this.capExpressionSize=e},e.prototype.getCapExpressionSize=function(){return this.capExpressionSize},e.prototype.setDecimalToFraction=function(e){this.decimalToFraction=e},e.prototype.setLanguage=function(e){"en"!==e&&-1===a.supportedLanguages.indexOf(e)?u.warn("Translation for '"+e+"' isn't currently available. Using '"+this.language+"' instead."):this.language=e},e.prototype.getLanguage=function(){return this.language},e.prototype.getDecimalToFraction=function(){return this.decimalToFraction},e.prototype.isScientificCalc=function(){var e=this.options.evaluationMode;return"scientific"===e||"singleExpressionScientific"===e},e.prototype.isFourFunctionCalc=function(){return"fourFunction"===this.options.evaluationMode||"singleExpressionFourFunction"===this.options.evaluationMode},e.prototype.getAllowLinks=function(){return this.options.links},e.prototype.canUndo=function(){return this.stateStack.canUndo()},e.prototype.canRedo=function(){return this.stateStack.canRedo()},e.prototype.undo=function(e){if(this.canUndo()){this.stateStack.undo();var t=this.stateStack.getState();e.restoreFocus||(t=n.__assign(n.__assign({},t),{ui:{focus:void 0}})),this.model.setState(t),this.enqueueEvent("change")}},e.prototype.redo=function(e){if(this.canRedo()){this.stateStack.redo();var t=this.stateStack.getState();e.restoreFocus||(t=n.__assign(n.__assign({},t),{ui:{focus:void 0}})),this.model.setState(t),this.enqueueEvent("change")}},e.prototype.clearHistory=function(){this.stateStack.clear()},e.prototype.canBackspace=function(){var e=this.model.getFocusedExpression();return e&&(e.latex.length>0||this.model.getNumberOfExpressions()>1)},e.prototype.focusLastExpression=function(){this.model.focusLastExpression()},e.prototype.shouldRender=function(){return this.containerSize.width>0&&this.containerSize.height>0},e.prototype.canClear=function(){return this.model.canClear()},e.prototype.shouldShowClear=function(){return this.model.shouldShowClear()},e.prototype.enableSettingsMenu=function(){this.settingsMenu=!0},e.prototype.disableSettingsMenu=function(){this.closeSettingsMenu(),this.settingsMenu=!1},e.prototype.closeSettingsMenu=function(){this.settingsMenuOpen=!1},e.prototype.toggleSettingsMenu=function(){this.settingsMenuOpen=!this.settingsMenuOpen},e.prototype.isSettingsMenuOpen=function(){return this.settingsMenuOpen},e.prototype.isLastExpressionEmpty=function(){return this.model.isLastExpressionEmpty()},e.prototype.createAtEnd=function(){this.model.createAtEnd()},e.prototype.clearFocusedExpression=function(){this.model.clearFocusedExpression()},e.prototype.setLatexById=function(e,t){this.model.setLatexById(e,t)},e.prototype.setLatexAndBrailleById=function(e,t,n){this.model.setLatexAndBrailleById(e,t,n)},e.prototype.setLatexOfFocusedExpression=function(e){this.model.setLatexOfFocusedExpression(e)},e.prototype.toggleFractionEvaluationById=function(e){this.model.setFractionEvaluation(e,!this.model.getExpressionById(e).displayAsFraction)},e.prototype.conditionallyCopyPrevious=function(e){this.model.conditionallyCopyPrevious(e)},e.prototype.createBlankAfterId=function(e){this.model.createBlankAfterId(e)},e.prototype.backspaceAtFrontOfId=function(e){this.model.backspaceAtFrontOfId(e)},e.prototype.areStatesDifferentEnoughForUndoRedo=function(e,t){var r={focus:void 0};return i.isEqual(n.__assign(n.__assign({},e),{ui:r}),n.__assign(n.__assign({},t),{ui:r}))},e.prototype.commitUndoRedoDebounced=function(){var e=this.model.getState(),t=this.stateStack.getState();if(!this.areStatesDifferentEnoughForUndoRedo(e,t)){var n=(new Date).getTime();n-this._lastDebouncedTime<1e3?this.stateStack.replaceState(e):this.stateStack.addState(e),this._lastDebouncedTime=n,this.enqueueEvent("change")}},e.prototype.commitUndoRedoSynchronously=function(){var e=this.model.getState(),t=this.stateStack.getState();this.areStatesDifferentEnoughForUndoRedo(e,t)||(this._lastDebouncedTime=0,this.stateStack.addState(e),this.enqueueEvent("change"))},e.prototype.updateKeyboardMode=function(e){this.keyboardMode=e},e.prototype.getFocusedMathquill=function(){if(this.model.getFocusedExpressionId())return d.default.getFocusedMathquill()},e.prototype.ensureMathquillIsFocusedAndReturnFocusedMathquill=function(){return this.getFocusedMathquill()||(this.isLastExpressionEmpty()&&!this.model.isSingleExpression()?this.createAtEnd():this.focusLastExpression(),this.onEventEmitted&&this.onEventEmitted("render"),this.getFocusedMathquill())},e.prototype.typeIntoFocusedMathquill=function(e){e=e.replace(/\r|\n/g,"");var t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();t&&d.default.canAcceptText(t,this.getCapExpressionSize(),e)&&(t.typedText(e),this.setLatexOfFocusedExpression(t.latex()),this.model.markShouldDebounceUndoRedo())},e.prototype.pressKeyInFocusedMathquill=function(e,t){if("none"===this.getBrailleMode()){var n=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();n&&("Up"===e||"Down"===e||"Left"===e||"Right"===e?d.default.applyArrowKeyAndReturnIfWasAtBounds(n,e,t)&&this.moveFocusInDirection(e):"Enter"===e?(t&&(t.preventDefault(),t.stopPropagation()),this.handleEnter()):"Backspace"===e&&this.attemptToMoveFocusWithBackspace()||(n.keystroke(e,t),this.setLatexOfFocusedExpression(n.latex())))}},e.prototype.moveFocusInDirection=function(e){var t=this.model.getFocusedExpressionId();t&&("Up"===e?this.model.focusPrevById(t):"Down"===e&&this.model.focusNextById(t))},e.prototype.handleEnter=function(){if(!this.model.isSingleExpression()){var e=this.model.getFocusedExpressionId();e&&(this.conditionallyCopyPrevious(e),this.createBlankAfterId(e))}},e.prototype.attemptToMoveFocusWithBackspace=function(){var e=this.model.getFocusedExpression();if(!e)return!1;var t=e.latex,n=e.id;return""===t&&(this.backspaceAtFrontOfId(n),!0)},e.prototype.executeCommandInFocusedMathquill=function(e){var t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();t&&(c.execute(t,e),this.setLatexOfFocusedExpression(t.latex()))},e.prototype.syncPublicSettings=function(){this.settingsProxy.setProperty("language",this.language),this.settingsProxy.setProperty("fontSize",this.fontSize),this.settingsProxy.setProperty("degreeMode",this.model.getDegreeMode()),this.settingsProxy.setProperty("invertedColors",this.invertedColors),this.settingsProxy.setProperty("backgroundColor",this.backgroundColor),this.settingsProxy.setProperty("textColor",this.textColor),this.settingsProxy.setProperty("brailleMode",this.brailleMode),this.settingsProxy.setProperty("sixKeyInput",this.sixKeyInput),this.settingsProxy.setProperty("brailleControls",this.brailleControls),this.settingsProxy.setProperty("brailleExpressionDownload",this.brailleExpressionDownload),this.settingsProxy.setProperty("projectorMode",this.projectorMode),this.settingsProxy.setProperty("capExpressionSize",this.capExpressionSize),this.settingsProxy.setProperty("decimalToFraction",this.decimalToFraction),this.settingsProxy.setProperty("qwertyKeyboard",this.options.qwertyKeyboard),this.settingsProxy.setProperty("links",this.options.links),this.settingsProxy.setProperty("settingsMenu",this.settingsMenu),this.settingsProxy.setProperty("functionDefinition",this.model.getFunctionDefinition()),this.settingsProxy.setProperty("replaceCommaWith10Exp",this.replaceCommaWith10Exp),this.settingsProxy.setProperty("replaceRoundWithReciprocal",this.model.getReplaceRoundWithReciprocal()),this.settingsProxy.setProperty("typingAsteriskWritesTimesSymbol",this.typingAsteriskWritesTimesSymbol)},e.prototype.hookUpDispatcher=function(){var e=this;this.dispatcher.register((function(t){e.enqueueEvent("render");var r=!1,i=e.getRestrictedEditing();switch(t.type){case"update-options":e.options=n.__assign(n.__assign({},e.options),t.options);break;case"keypad/shift":var o=void 0;switch(e.keyboardMode){case"qwerty":o="capitalQwerty";break;case"capitalQwerty":default:o="qwerty";break;case"letters":o="capitalLetters";break;case"capitalLetters":o="letters"}e.updateKeyboardMode(o);break;case"undo":i||(e.undo({restoreFocus:"keyboard-shortcut"===t.source}),r=!0);break;case"redo":i||(e.redo({restoreFocus:"keyboard-shortcut"===t.source}),r=!0);break;case"clear-history":e.clearHistory();break;case"set-state-from-api":t.opts.allowUndo||e.clearHistory(),e.model.setStateFromAPI(t.state);break;case"main":e.updateKeyboardMode("main");break;case"ABC":e.options.qwertyKeyboard?e.updateKeyboardMode("qwerty"):e.updateKeyboardMode("letters");break;case"functions":e.updateKeyboardMode("functions");break;case"degrees":e.model.setDegreeMode(!e.model.getDegreeMode());break;case"update-degree-mode":e.model.setDegreeMode(!!t.mode);break;case"update-font-size":var a=t.size;if("number"!=typeof a&&(a=parseInt(a,10)),isNaN(a))return;e.fontSize=a;break;case"update-inverted-colors":e.invertedColors=!!t.mode;break;case"update-background-color":e.backgroundColor=t.color;break;case"update-text-color":e.textColor=t.color;break;case"update-projector-mode":e.setProjectorMode(!!t.mode);break;case"update-cap-expression-size":e.setCapExpressionSize(!!t.mode);break;case"update-decimal-to-fraction":e.setDecimalToFraction(!!t.mode);break;case"update-language":e.setLanguage(t.language);break;case"set-blank":t.opts.allowUndo||e.clearHistory(),e.model.clear(),e.focusLastExpression();break;case"clear":e.model.clearFocusedExpression();break;case"set-braille-mode":var s=t.mode;"nemeth"!==s&&"ueb"!==s&&"none"!==s?u.warn("Valid Braille modes are 'nemeth', 'none', and 'ueb'. You passed '"+s+"'."):(e.model.clearCachedBrailleValues(),e.setBrailleMode(t.mode));break;case"set-six-key-input":e.setSixKeyInput(!!t.mode);break;case"set-braille-controls":e.setBrailleControls(!!t.value);break;case"set-braille-expression-download":e.setBrailleExpressionDownload(!!t.mode);break;case"set-replace-comma-with-10-exp":e.setReplaceCommaWith10Exp(!!t.replace);break;case"set-replace-round-with-reciprocal":e.setReplaceRoundWithReciprocal(!!t.replace);break;case"set-typing-asterisk-writes-times-symbol":e.setTypingAsteriskWritesTimesSymbol(!!t.mode);break;case"update-latex":e.model.markShouldDebounceUndoRedo(),e.setLatexById(t.id,t.latex);break;case"update-latex-from-braille":e.model.markShouldDebounceUndoRedo(),e.setLatexAndBrailleById(t.id,t.latex,t.braille);break;case"focusin":e.model.setFocusedById(t.id,!0);break;case"focusout":e.model.setFocusedById(t.id,!1);break;case"focus-first-expression":e.model.focusFirstExpression();break;case"focus-prev-expression":e.moveFocusInDirection("Up");break;case"focus-next-expression":e.moveFocusInDirection("Down");break;case"focus-last-expression":e.model.focusLastExpression();break;case"insert-blank-expression":e.handleEnter();break;case"backspace-from-braille":e.attemptToMoveFocusWithBackspace();break;case"keypad/type-text":e.typeIntoFocusedMathquill(t.text);break;case"keypad/press-key":e.pressKeyInFocusedMathquill(t.key,t.evt);break;case"keypad/custom-command":e.executeCommandInFocusedMathquill(t.command);break;case"keypad/123":case"keypad/abc":case"keypad/audio-trace":case"render":break;case"enable-settings-menu":e.enableSettingsMenu();break;case"disable-settings-menu":e.disableSettingsMenu();break;case"toggle-settings-menu":e.toggleSettingsMenu();break;case"close-settings-menu":e.closeSettingsMenu();break;case"ui/container-resized":e.containerSize=t.size;break;case"toggle-fraction-evaluation":e.toggleFractionEvaluationById(t.id);break;default:return t}e.runAfterDispatch((function(){return e.syncPublicSettings()})),r||(e.model.getShouldDebounceUndoRedo()?(e.commitUndoRedoDebounced(),e.model.clearShouldDebounceUndoRedo()):e.commitUndoRedoSynchronously())}))},e}();t.default=h})),i("basic/dcgview-basic",["require","exports","tslib","dcgview"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DCGViewBasic=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.controller.model,this.dispatch=this.controller.dispatch,this.s=this.controller.s},t}(r.Class);t.DCGViewBasic=i})),i("loadcss!keypad/control-bar",(function(){})),i("keypad/control-bar",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./control-bar"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-keypad-control-bar dcg-do-not-blur"),role:r.const("group"),"aria-label":function(){return e.controller.s("shared-calculator-narration-keypad-controlbar")}},r.createElement("div",{class:r.const("dcg-keypad-control-bar-contents")},this.children))},t}(i.default);t.default=o})),i("loadcss!keypad/control-btn",(function(){})),i("keypad/control-btn",["require","exports","tslib","dcgview","loadcss!./control-btn"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-keypad-control-btn":!0,"dcg-disabled":e.isDisabled(),"dcg-selected":!e.isDisabled()&&e.isSelected(),"dcg-selectable-btn":!e.isDisabled()&&e.isSelectable(),"dcg-narrow-control-btn":e.props.narrowButton&&e.props.narrowButton()}},didMount:this.bindFn(this.didMount),role:r.const("button"),"aria-disabled":function(){return e.isDisabled()||void 0},"aria-label":function(){return e.getAriaLabel()},"dcg-command":this.props.command,onTap:this.bindFn(this.handleTap),"aria-pressed":function(){return e.hasPopup()||e.isDisabled()||!e.isSelectable()?void 0:e.isSelected()},"aria-expanded":function(){return e.hasPopup()&&!e.isDisabled()?e.isSelected():void 0},tabindex:this.bindFn(this.getTabIndex)},this.children)},t.prototype.getTabIndex=function(){return this.isDisabled()?void 0:this.props.ignoreInTabOrder&&this.props.ignoreInTabOrder()?-1:0},t.prototype.handleTap=function(e){this.isDisabled()||this.props.onTap(e)},t.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},t.prototype.hasPopup=function(){return!!this.props.ariaPopup&&this.props.ariaPopup()},t.prototype.isDisabled=function(){return!!this.props.disabled&&this.props.disabled()},t.prototype.isSelected=function(){return!!this.props.selected&&this.props.selected()},t.prototype.isSelectable=function(){return!!this.props.selectable&&this.props.selectable()},t.prototype.didMount=function(e){this.props.didMount&&this.props.didMount(e)},t}(r.Class);t.default=i})),i("loadcss!dcgview-helpers/download-button",(function(){})),i("dcgview-helpers/download-button",["require","exports","tslib","dcgview","browser","loadcss!./download-button"],(function(e,t,n,r,i){function o(){return!i.IS_IE&&!function(){if(!i.IS_SAFARI)return!1;var e=navigator.userAgent.match(/Version\/(\d+)/);return!(!e||!e[1])&&parseFloat(e[1])<11}()&&void 0!==document.createElement("a").download}Object.defineProperty(t,"__esModule",{value:!0}),t.canDownload=void 0,t.canDownload=function(){return o()||void 0!==navigator.msSaveBlob};var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.supportsDirectDownload=o()},t.prototype.template=function(){var e=this;return r.createElement("a",{role:r.const("button"),tabindex:function(){return e.props.enabled()?0:-1},"aria-disabled":function(){return!e.props.enabled()},class:function(){return{"dcg-download-button":!0,"dcg-disabled":!e.props.enabled(),"dcg-braille-equations":e.props.isBraille,"dcg-svg-button":e.props.isSvg}},didMount:this.bindFn(this.didMountDownload),didUnmount:this.bindFn(this.didUnmountDownload),didUpdate:this.bindFn(this.didUpdate),download:function(){return e.supportsDirectDownload?e.props.filename():void 0},onTap:function(t){if(!e.supportsDirectDownload&&navigator.msSaveOrOpenBlob){var n=e.props.data();n&&(navigator.msSaveOrOpenBlob(n,e.props.filename()),t.preventDefault())}}},r.createElement("i",{class:r.const("dcg-icon-download")}),r.createElement("span",null,(function(){return e.props.text()})))},t.prototype.didMountDownload=function(e){this.downloadLink=e,this.didUpdate()},t.prototype.didUnmountDownload=function(){this.revokeBlobURL()},t.prototype.didUpdate=function(){this.updateDownloadURL(),this.cachedObjectURL&&(this.downloadLink.href=this.cachedObjectURL)},t.prototype.updateDownloadURL=function(){if(this.revokeBlobURL(),this.supportsDirectDownload){var e=this.props.data();e&&(this.cachedObjectURL=URL.createObjectURL(e))}},t.prototype.revokeBlobURL=function(){this.cachedObjectURL&&URL.revokeObjectURL(this.cachedObjectURL)},t}(r.Class);t.default=a})),i("lib/export-braille-equations",["require","exports","abraham","graphing-calc/models/expression","expressions/regression_view","core/lib/number-to-latex"],(function(e,t,n,r,i,o){function a(e,t,r){if(void 0===r&&(r=!1),r&&(e=e.replace(/ /g,"\\ ")),"none"===t)return e;var i="nemeth"===t?n.latexToNemeth(e):n.latexToUeb(e);return i.isError?"":n.UnicodeBraille.toBrailleAscii(i.value)}function s(e){var t="--------------------";return t+"\n"+e+"\n"+t}function c(e,t){var n=""+e;return"nemeth"===t?a(n,t,!1)+"_4":"ueb"===t?a(n+".",t,!1):""}Object.defineProperty(t,"__esModule",{value:!0}),t.getBrailleEquationsBasic=t.getBrailleEquationsGraphing=void 0,t.getBrailleEquationsGraphing=function(e,t){if("none"===t)return"";var n=[];n.push(a("Expression List",t,!0)),n.push(""),n.push("");for(var l="",d=e.getItemCount(),u=0;u<d;u++){var p=e.getItemModelByIndex(u);if(p&&!p.secret){""!==l&&"folder"!==p.type&&l!==p.folderId&&(n.push(s(a("End Folder",t,!0))),l="");var g="";switch(p.type){case"expression":if(!p.hidden){var h=c(p.displayIndex,t);g=p.latex;var f=[],m=p.formula;if(m&&!r.isEmpty(p))if(e.shouldShowEvaluationForItem(p.id)){var y=m.zero_values&&m.zero_values.length?m.zero_values[0].val:m.constant_value;Array.isArray(y)?g+="\\ "+y.length+"\\ element\\ list":g+="="+y}else if(r.shouldShowCDFFooter(p))f.push(a("Min="+r.getCDFMin(p),t,!1)),f.push(a("Max="+r.getCDFMax(p),t,!1)),r.isCDFMaxValid(p)&&r.isCDFMinValid(p)&&f.push(a("CDF="+r.getCDFEvaluation(p),t,!1));else if(r.isTTest(p)){var b=r.getTTestResults(p);b&&(f.push(a("<"+o.numberToStatsConfidenceLatex(b.lessThan,5),t,!1)),f.push(a(">"+o.numberToStatsConfidenceLatex(b.greaterThan,5),t,!1)),f.push(a("\\ne"+o.numberToStatsConfidenceLatex(b.notEqual,5),t,!1)))}else if(m.is_regression&&m.regression){var v=m.regression,x=v.statistics,w=v.parameters;for(var A in x.hasOwnProperty("Rsquared")&&f.push(a("R^2="+i.getRoundedStat(v,"Rsquared"),t,!1)),x.hasOwnProperty("rsquared")&&f.push(a("r^2="+i.getRoundedStat(v,"rsquared"),t,!1)),x.hasOwnProperty("r")&&f.push(a("r="+i.getRoundedStat(v,"r"),t,!1)),x.hasOwnProperty("RMSE")&&f.push(a("\\operatorname{RMSE}="+i.getRoundedStat(v,"RMSE"),t,!1)),w)f.push(a(A+"="+i.getRoundedParam(v,A),t,!1))}n.push(h+"  "+a(g,t,!1)),n.push.apply(n,f)}break;case"text":n.push(a(p.text,t,!0));break;case"folder":p.collapsed?g="Collapsed Folder "+p.title:(g="Start Folder "+p.title,l=p.id),n.push(s(a(g,t,!0)));break;case"image":n.push(a("Image",t,!1));break;case"table":n.push(s(a("Start Table",t,!0)));for(var E=0,k=p.rowModels;E<k.length;E++){for(var I=[],S=0,M=k[E].cells;S<M.length;S++){var C=M[S],D="";if("header"===C.type)D=C.latex||"";else if("cell"===C.type){var T=C.column.index,L=C.row.index-1;D=C.column.disabled?C.column.computedValues[L]||"":p.columns[T].values[L]||""}I.push(a(D,t))}var _=I.join("\t");/^\t/.test(_)||n.push(_)}n.push(s(a("End Table",t,!0)));break;default:return p}}}return""!==l&&n.push(s(a("End Folder",t,!0))),n.join("\n")},t.getBrailleEquationsBasic=function(e,t){if("none"===t)return"";var n=[];n.push(a("Expression List",t,!0)),n.push(""),n.push("");for(var r=0,i=e.getExpressionOrder();r<i.length;r++){var o=i[r],s=c(e.getExpressionIndex(o)+1,t),l=e.getExpressionLatex(o),d=e.getExpressionValue(o);void 0!==d&&(l+="="+d),n.push(s+"  "+a(l,t,!1))}return n.join("\n")}})),i("loadcss!basic/settings-menu",(function(){})),i("basic/settings-menu",["require","exports","tslib","browser","keys","dcgview","./dcgview-basic","jquery","dcgview-helpers/download-button","lib/export-braille-equations","loadcss!./settings-menu"],(function(e,t,n,r,i,o,a,s,c,l){Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsMenu=void 0;var d=o.Components.If,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-settings-dropdown":!0,"dcg-popover":!0,"dcg-has-background-color":e.controller.hasBackgroundColor(),"dcg-point-left":e.controller.containerSize.height<=420}},role:o.const("complementary"),"aria-label":o.const("Settings Menu"),didMount:this.bindFn(this.didMountSettingsDropdown),didUnmount:this.bindFn(this.didUnmountSettingsDropdown)},o.createElement("div",{class:o.const("dcg-popover-interior"),style:function(){return{background:e.controller.getBackgroundColor()}}},o.createElement("div",{class:function(){return{"dcg-settings-menu-option":!0,"dcg-displaysize-container":!0}}},o.createElement("div",{class:o.const("dcg-group-title")},(function(){return e.controller.s("shared-calculator-label-settings-display")})),o.createElement("div",{role:o.const("group"),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size")},class:o.const("dcg-displaysize-buttons dcg-segmented-control-container")},o.createElement("span",{class:function(){return{"dcg-displaysize-option":!0,"dcg-displaysize-default":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected":!e.getProjectorMode()}},role:o.const("button"),onTap:this.bindFn(this.setDefaultDisplaySize),tabindex:o.const(0),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size-default")},"aria-pressed":function(){return!e.getProjectorMode()}},o.const("A")),o.createElement("span",{class:function(){return{"dcg-displaysize-option":!0,"dcg-displaysize-large":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected":e.getProjectorMode()}},role:o.const("button"),onTap:this.bindFn(this.setLargeDisplaySize),tabindex:o.const(0),"aria-label":function(){return e.controller.s("shared-calculator-narration-settings-display-size-large")},"aria-pressed":this.bindFn(this.getProjectorMode)},o.const("A")))),o.createElement("div",{role:o.const("checkbox"),tabindex:o.const(0),onTap:this.bindFn(this.onToggleInvertedColors),"aria-checked":function(){return e.controller.getInvertedColors()},"aria-label":function(){return e.controller.s("basic-calculator-narration-reverse-contrast")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-checked":e.controller.getInvertedColors(),"dcg-checkbox-container":!0,"dcg-reverse-contrast":!0}},handleEvent:o.const(!0)},o.createElement("span",{class:o.const("dcg-checkbox-box")},o.createElement("i",{class:o.const("dcg-icon-check")})),o.createElement("span",{class:o.const("dcg-checkbox-label")},(function(){return e.controller.s("basic-calculator-label-reverse-contrast")}))),o.createElement(d,{predicate:function(){return e.controller.getBrailleControls()}},(function(){return o.createElement("div",null,o.createElement("div",{role:o.const("checkbox"),tabindex:o.const(0),onTap:e.bindFn(e.onToggleBrailleMode),"aria-checked":function(){return e.controller.renderAsBraille()},"aria-label":function(){return e.controller.s("basic-calculator-narration-braille-mode")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-checked":e.controller.renderAsBraille(),"dcg-checkbox-container":!0,"dcg-braille-mode":!0}},handleEvent:o.const(!0)},o.createElement("span",{class:o.const("dcg-checkbox-box")},o.createElement("i",{class:o.const("dcg-icon-check")})),o.createElement("span",{class:o.const("dcg-checkbox-label")},(function(){return e.controller.s("basic-calculator-label-braille-mode")}))),o.createElement(d,{predicate:function(){return e.controller.renderAsBraille()}},(function(){return o.createElement("div",{class:function(){return{"dcg-settings-menu-option":!0,"dcg-braille-container":!0}}},o.createElement("div",{role:o.const("group"),"aria-label":function(){return e.controller.s("basic-calculator-label-braille-mode")},class:o.const("dcg-braille-options-buttons dcg-segmented-control-container")},o.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected":e.isNemeth()}},role:o.const("button"),onTap:function(){return e.setBrailleMode("nemeth")},tabindex:o.const(0),"aria-label":function(){return e.controller.s("basic-calculator-narration-nemeth")},"aria-pressed":function(){return e.isNemeth()}},(function(){return e.controller.s("basic-calculator-button-nemeth")})),o.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-segmented-control-btn":!0,"dcg-dark-gray-segmented-control-btn":!0,"dcg-selected":e.isUEB()}},role:o.const("button"),onTap:function(){return e.setBrailleMode("ueb")},tabindex:o.const(0),"aria-label":function(){return e.controller.s("basic-calculator-narration-ueb")},"aria-pressed":function(){return e.isUEB()}},(function(){return e.controller.s("basic-calculator-button-ueb")}))),o.createElement("div",{class:o.const("dcg-braille-options-container")},o.createElement("div",{role:o.const("checkbox"),tabindex:o.const(0),onTap:function(){return e.onToggleSixKeyInput()},"aria-checked":function(){return e.controller.getSixKeyInput()},"aria-label":function(){return e.controller.s("basic-calculator-narration-six-key-input")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-six-key-checkbox":!0,"dcg-checked":e.controller.getSixKeyInput(),"dcg-checkbox-container":!0}},handleEvent:o.const(!0)},o.createElement("span",{class:o.const("dcg-checkbox-box")},o.createElement("i",{class:o.const("dcg-icon-check")})),o.createElement("span",{class:o.const("dcg-checkbox-label")},(function(){return e.controller.s("basic-calculator-label-six-key-input")}))),o.createElement("a",{href:o.const("https://www.desmos.com/accessibility#braille"),class:o.const("dcg-six-key-info"),target:o.const("_blank")},o.createElement("i",{class:o.const("dcg-icon-question-sign")})),o.createElement(d,{predicate:function(){return!r.IS_MOBILE&&c.canDownload()&&e.controller.getBrailleExpressionDownload()}},(function(){return o.createElement(c.default,{data:function(){var t=l.getBrailleEquationsBasic(e.model,e.controller.getBrailleMode());return new Blob([t],{type:"text/plain"})},enabled:e.const(!0),filename:e.const("desmos-equations.brl"),text:function(){return e.controller.s("basic-calculator-link-download-braille-equations")},isBraille:e.const(!0)})}))))})))})),o.createElement(d,{predicate:function(){return!!e.getVersionNumber()}},(function(){return o.createElement("div",{class:o.const("dcg-version-number")},o.const("Version: "),(function(){return e.getVersionNumber()}))}))))},t.prototype.getVersionNumber=function(){var e=window;if(e&&e.AppBridge)return e.AppBridge.versionNumber},t.prototype.didUnmountSettingsDropdown=function(){s(document).off(".dcg-settings-view")},t.prototype.didMountSettingsDropdown=function(e){var t=this;this.settingsGroupNode=e,s(document).on("dcg-tapstart.dcg-settings-view",(function(e){0===s(e.target).closest(".dcg-basic-settings-container").length&&t.controller.dispatch({type:"close-settings-menu"})})),s(document).on("keydown.dcg-settings-view",(function(e){if("Esc"===i.lookup(e)&&(t.controller.dispatch({type:"close-settings-menu"}),t.controller.dispatch({type:"focus-last-expression"})),"Tab"===i.lookup(e)&&!e.altKey&&!e.metaKey&&!e.ctrlKey){var n=document.activeElement,r=s(t.props.settingsButtonNode()),o=s(t.settingsGroupNode).find(".dcg-settings-menu-option:last");e.shiftKey||n!==o[0]?e.shiftKey&&n===r[0]&&(o.trigger("focus"),e.preventDefault(),e.stopPropagation()):(r.trigger("focus"),e.preventDefault(),e.stopPropagation())}}))},t.prototype.setBrailleMode=function(e){this.controller.dispatch({type:"set-braille-mode",mode:e})},t.prototype.onToggleBrailleMode=function(){this.controller.dispatch({type:"set-braille-mode",mode:this.controller.renderAsBraille()?"none":"nemeth"})},t.prototype.isNemeth=function(){return"nemeth"===this.controller.getBrailleMode()},t.prototype.isUEB=function(){return"ueb"===this.controller.getBrailleMode()},t.prototype.isLatex=function(){return"none"===this.controller.getBrailleMode()},t.prototype.onToggleSixKeyInput=function(){var e=!this.controller.getSixKeyInput();this.controller.dispatch({type:"set-six-key-input",mode:e})},t.prototype.onToggleInvertedColors=function(){var e=!this.controller.getInvertedColors();this.controller.dispatch({type:"update-inverted-colors",mode:e})},t.prototype.getProjectorMode=function(){return this.controller.isProjectorMode()},t.prototype.setDefaultDisplaySize=function(){this.controller.dispatch({type:"update-projector-mode",mode:!1})},t.prototype.setLargeDisplaySize=function(){this.controller.dispatch({type:"update-projector-mode",mode:!0})},t}(a.DCGViewBasic);t.SettingsMenu=u})),i("loadcss!basic/keypad/settings-control-button",(function(){})),i("basic/keypad/settings-control-button",["require","exports","tslib","dcgview","keypad/control-btn","basic/dcgview-basic","basic/settings-menu","loadcss!./settings-control-button"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=r.Components.If,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return r.createElement("div",{class:r.const("dcg-basic-settings-container")},r.createElement(i.default,{didMount:function(t){return e.settingsButtonNode=t},command:this.const("settings"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-settings")},onTap:this.bindFn(this.onToggleSettingsMenu),selected:function(){return e.controller.isSettingsMenuOpen()},ariaPopup:this.const(!0)},r.createElement("i",{class:r.const("dcg-icon-wrench")})),r.createElement(s,{predicate:function(){return e.controller.isSettingsMenuOpen()}},(function(){return r.createElement(a.SettingsMenu,{controller:e.props.controller,settingsButtonNode:function(){return e.settingsButtonNode}})})))},t.prototype.onToggleSettingsMenu=function(){this.controller.dispatch({type:"toggle-settings-menu"})},t}(o.DCGViewBasic);t.default=c})),i("basic/keypad/fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","./settings-control-button","basic/dcgview-basic"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=r.Components,l=c.If,d=c.IfElse,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return r.createElement(i.default,{controller:this.props.controller},r.createElement(l,{predicate:function(){return!e.controller.getRestrictedEditing()}},(function(){return r.createElement(o.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")}))})),r.createElement(l,{predicate:function(){return!e.controller.getRestrictedEditing()}},(function(){return r.createElement(o.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")}))})),d((function(){return t.shouldShowClear()}),{true:function(){return r.createElement(o.default,{command:e.const("clear"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear")},onTap:function(){return t.dispatch({type:"clear"})}},(function(){return t.s("basic-calculator-button-controlbar-clear")}))},false:function(){return r.createElement(o.default,{command:e.const("clearall"),disabled:function(){return!t.canClear()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear-all")},onTap:function(){return t.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},(function(){return t.s("basic-calculator-button-controlbar-clear-all")}))}}),r.createElement(l,{predicate:function(){return e.controller.getRestrictedEditing()}},(function(){return r.createElement("div",{class:r.const("dcg-spacer-2")})})),r.createElement(l,{predicate:function(){return"none"===t.getBrailleMode()}},(function(){return r.createElement(o.default,{command:e.const("backspace"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-backspace")},disabled:function(){return!t.canBackspace()},onTap:function(){return t.dispatch({type:"keypad/press-key",key:"Backspace"})}},r.createElement("i",{class:r.const("dcg-icon-delete")}))})),r.createElement(l,{predicate:function(){return e.props.controller().getSettingsMenu()}},(function(){return r.createElement(a.default,{controller:e.props.controller})})))},t.prototype.onToggleSettingsMenu=function(){this.controller.dispatch({type:"toggle-settings-menu"})},t}(s.DCGViewBasic);t.default=u})),i("basic/keypad/single-expression-fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=r.Components.If,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return r.createElement(i.default,{controller:this.props.controller},r.createElement(s,{predicate:function(){return!e.controller.getRestrictedEditing()}},(function(){return r.createElement(o.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")}))})),r.createElement(s,{predicate:function(){return!e.controller.getRestrictedEditing()}},(function(){return r.createElement(o.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")}))})),r.createElement(o.default,{command:this.const("clear"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear")},onTap:function(){return t.dispatch({type:"clear"})}},(function(){return t.s("basic-calculator-button-controlbar-clear")})),r.createElement(s,{predicate:function(){return e.controller.getRestrictedEditing()}},(function(){return r.createElement("div",{class:r.const("dcg-spacer-2")})})),r.createElement(s,{predicate:function(){return"none"===t.getBrailleMode()}},(function(){return r.createElement(o.default,{command:e.const("backspace"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-backspace")},disabled:function(){return!t.canBackspace()},onTap:function(){return t.dispatch({type:"keypad/press-key",key:"Backspace"})}},r.createElement("i",{class:r.const("dcg-icon-delete")}))})))},t}(a.DCGViewBasic);t.default=c})),i("loadcss!keypad/control-toggle",(function(){})),i("keypad/control-toggle",["require","exports","tslib","lib/aria","core/lib/color-helpers","dcgview","./dcgview-keypad","loadcss!./control-toggle"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-keypad-control-toggle":!0,"dcg-toggled":e.props.toggled()}},role:o.const("button"),tabindex:o.const("0"),"aria-label":this.bindFn(this.getAriaLabel),onTap:this.bindFn(this.handleTap)},o.createElement("div",{class:o.const("dcg-ctrl-toggle-option")},this.props.defaultOption),o.createElement("div",{class:o.const("dcg-ctrl-toggle-option")},this.props.toggledOption),o.createElement("div",{class:o.const("dcg-ctrl-toggle-cover"),style:function(){return{background:i.shadeColor(e.controller.getBackgroundColor(),-.1)}}}))},t.prototype.getAriaLabel=function(){var e={toggled:this.props.toggledAriaLabel(),default:this.props.defaultAriaLabel()};return this.props.toggled()?this.controller.s("shared-calculator-narration-control-toggle-switch-to-default",e):this.controller.s("shared-calculator-narration-control-toggle-switch-to-toggled",e)},t.prototype.handleTap=function(){this.props.toggled()?r.alert(this.props.defaultAriaLabel()):r.alert(this.props.toggledAriaLabel()),this.props.onTap(this.props.command())},t}(a.default);t.default=s})),i("basic/keypad/scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle","./settings-control-button"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0});var l=r.Components,d=l.If,u=l.IfElse,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return r.createElement(i.default,{controller:this.props.controller},r.createElement(o.default,{command:this.const("main"),selected:function(){return"main"===t.getKeyboardMode()},disabled:function(){return e.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return t.dispatch({type:"main"})},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-main")}},(function(){return t.s("basic-calculator-button-controlbar-main")})),r.createElement(o.default,{command:this.const("ABC"),selected:function(){return-1!==["qwerty","capitalQwerty","letters"].indexOf(t.getKeyboardMode())},disabled:function(){return e.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-abc")},onTap:function(){return t.dispatch({type:"ABC"})}},(function(){return t.s("basic-calculator-button-controlbar-abc")})),r.createElement(o.default,{command:this.const("functions"),selected:function(){return-1!==["functions","restrictedFunctions"].indexOf(t.getKeyboardMode())},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-functions")},disabled:function(){return e.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return t.dispatch({type:"functions"})}},(function(){return t.s("basic-calculator-button-controlbar-func")})),r.createElement(s.default,{command:this.const("degrees"),toggled:function(){return e.model.getDegreeMode()},defaultOption:function(){return t.s("basic-calculator-label-controlbar-rad")},toggledOption:function(){return t.s("basic-calculator-label-controlbar-deg")},defaultAriaLabel:function(){return t.s("basic-calculator-narration-controlbar-radians")},toggledAriaLabel:function(){return t.s("basic-calculator-narration-controlbar-degrees")},onTap:function(){return t.dispatch({type:"degrees"})},controller:this.props.controller}),r.createElement(d,{predicate:function(){return!e.controller.getRestrictedEditing()}},(function(){return r.createElement(o.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")}))})),r.createElement(d,{predicate:function(){return!e.controller.getRestrictedEditing()}},(function(){return r.createElement(o.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")}))})),u((function(){return t.shouldShowClear()}),{true:function(){return r.createElement(o.default,{command:e.const("clear"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear")},onTap:function(){return t.dispatch({type:"clear"})}},(function(){return t.s("basic-calculator-button-controlbar-clear")}))},false:function(){return r.createElement(o.default,{command:e.const("clearall"),disabled:function(){return!t.canClear()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear-all")},onTap:function(){return t.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},(function(){return t.s("basic-calculator-button-controlbar-clear-all")}))}}),r.createElement(d,{predicate:function(){return e.props.controller().getSettingsMenu()}},(function(){return r.createElement(c.default,{controller:e.props.controller})})))},t}(a.DCGViewBasic);t.default=p})),i("basic/keypad/single-expression-scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=r.Components.If,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return r.createElement(i.default,{controller:this.props.controller},r.createElement(s.default,{command:this.const("degrees"),toggled:function(){return e.model.getDegreeMode()},defaultOption:function(){return t.s("basic-calculator-label-controlbar-rad")},toggledOption:function(){return t.s("basic-calculator-label-controlbar-deg")},defaultAriaLabel:function(){return t.s("basic-calculator-narration-controlbar-radians")},toggledAriaLabel:function(){return t.s("basic-calculator-narration-controlbar-degrees")},onTap:function(){return t.dispatch({type:"degrees"})},controller:this.props.controller}),r.createElement("div",{class:r.const("dcg-spacer")}),r.createElement(c,{predicate:function(){return!e.controller.getRestrictedEditing()}},(function(){return r.createElement(o.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-undo")}))})),r.createElement(c,{predicate:function(){return!e.controller.getRestrictedEditing()}},(function(){return r.createElement(o.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},r.createElement("i",{class:r.const("dcg-icon-redo")}))})),r.createElement("div",{class:r.const("dcg-spacer")}),r.createElement(o.default,{narrowButton:this.const(!0),command:this.const("clear"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-clear")},onTap:function(){return t.dispatch({type:"clear"})}},(function(){return t.s("basic-calculator-button-controlbar-clear")})),r.createElement(o.default,{narrowButton:this.const(!0),command:this.const("backspace"),ariaLabel:function(){return t.s("basic-calculator-narration-controlbar-backspace")},onTap:function(){return t.dispatch({type:"keypad/press-key",key:"Backspace"})}},r.createElement("i",{class:r.const("dcg-icon-delete")})))},t}(a.DCGViewBasic);t.default=l})),i("basic/keypad/fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.s("basic-calculator-narration-keypad")}},r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"(",{colspan:this.parenColspan()}),o.view(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(0),this.makeAdditionalFunctionKey(1),o.view(this,"division")),r.createElement(s.default,null,o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"multiplication")),r.createElement(s.default,null,o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"-")),r.createElement(s.default,null,o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"+")),r.createElement(s.default,null,o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight"}),o.view(this,"ans"),o.view(this,"enter",{style:"blue"}))))},t.prototype.parenColspan=function(){return this.controller.getAdditionalFunctions().length>1?.5:1},t.prototype.makeAdditionalFunctionKey=function(e){var t=this.controller.getAdditionalFunctions()[e];return"exponent"===t?o.view(this,"a^b"):"percent"===t?o.view(this,"%"):"sqrt"===t?o.view(this,"sqrt"):"fraction"===t?o.view(this,"a/b"):void 0},t}(i.DCGViewBasic);t.default=c})),i("basic/keypad/single-expression-fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.s("basic-calculator-narration-keypad")}},r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"(",{colspan:this.parenColspan()}),o.view(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(1)),r.createElement(s.default,null,o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"division")),r.createElement(s.default,null,o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"multiplication")),r.createElement(s.default,null,o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"-")),r.createElement(s.default,null,o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight",colspan:this.dotColspan()}),this.makeAdditionalFunctionKey(0),o.view(this,"+"))))},t.prototype.parenColspan=function(){return 2===this.controller.getAdditionalFunctions().length?1.5:2},t.prototype.dotColspan=function(){return this.controller.getAdditionalFunctions().length?1:2},t.prototype.makeAdditionalFunctionKey=function(e){var t=this.controller.getAdditionalFunctions()[e];return"exponent"===t?o.view(this,"a^b"):"percent"===t?o.view(this,"%"):"sqrt"===t?o.view(this,"sqrt"):void 0},t}(i.DCGViewBasic);t.default=c})),i("basic/keypad/single-expression-scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"("),o.view(this,")"),o.view(this,"x^2"),o.view(this,"sqrt"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"x^3"),o.view(this,"x^y"),o.view(this,"ythroot")),r.createElement(s.default,null,o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"division"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"pi"),o.view(this,"e^x"),o.view(this,"!")),r.createElement(s.default,null,o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"multiplication"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"log"),o.view(this,"ln"),o.view(this,"|x|")),r.createElement(s.default,null,o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"-"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"sin"),o.view(this,"cos"),o.view(this,"tan")),r.createElement(s.default,null,o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight"}),o.view(this,"x/y"),o.view(this,"+"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"arcsin"),o.view(this,"arccos"),o.view(this,"arctan")))},t}(i.DCGViewBasic);t.default=c})),i("basic/keypad/sci-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=r.Components.IfElse,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"a^2"),o.view(this,"a^b"),o.view(this,"|a|"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"7",{style:"highlight"}),o.view(this,"8",{style:"highlight"}),o.view(this,"9",{style:"highlight"}),o.view(this,"division"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"%"),o.view(this,"a/b")),r.createElement(s.default,null,o.view(this,"sqrt"),o.view(this,"nthroot"),o.view(this,"pi"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"4",{style:"highlight"}),o.view(this,"5",{style:"highlight"}),o.view(this,"6",{style:"highlight"}),o.view(this,"multiplication"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"left",{style:"highlight"}),o.view(this,"right",{style:"highlight"})),r.createElement(s.default,null,o.view(this,"sin"),o.view(this,"cos"),o.view(this,"tan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"1",{style:"highlight"}),o.view(this,"2",{style:"highlight"}),o.view(this,"3",{style:"highlight"}),o.view(this,"-"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.spacer(.5),o.view(this,"backspace",{style:"highlight",colspan:1.5})),r.createElement(s.default,null,o.view(this,"("),o.view(this,")"),c((function(){return e.controller.getReplaceCommaWith10Exp()}),{true:function(){return o.view(e,"10^n")},false:function(){return o.view(e,",")}}),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"0",{style:"highlight"}),o.view(this,".",{style:"highlight"}),o.view(this,"ans"),o.view(this,"+"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"enter",{style:"blue",colspan:2})))},t}(i.DCGViewBasic);t.default=l})),i("basic/keypad/sci-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"q"),o.view(this,"w"),o.view(this,"e"),o.view(this,"r"),o.view(this,"t"),o.view(this,"y"),o.view(this,"u"),o.view(this,"i"),o.view(this,"o"),o.view(this,"p")),r.createElement(s.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),o.view(this,"a"),o.view(this,"s"),o.view(this,"d"),o.view(this,"f"),o.view(this,"g"),o.view(this,"h"),o.view(this,"j"),o.view(this,"k"),o.view(this,"l"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(s.default,null,o.view(this,"=",{style:"highlight"}),o.view(this,"z"),o.view(this,"x"),o.view(this,"c"),o.view(this,"v"),o.view(this,"b"),o.view(this,"n"),o.view(this,"m"),o.view(this,","),o.view(this,"backspace",{style:"highlight"})),r.createElement(s.default,null,o.view(this,"shift",{style:"highlight",colspan:1.5}),o.view(this,"("),o.view(this,")"),o.view(this,"["),o.view(this,"]"),o.view(this,"!"),o.view(this,"'"),o.view(this,"pi"),o.view(this,"enter",{style:"blue",colspan:1.5})))},t}(i.DCGViewBasic);t.default=c})),i("basic/keypad/sci-letters-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"a"),o.view(this,"b"),o.view(this,"c"),o.view(this,"d"),o.view(this,"e"),o.view(this,"f"),o.view(this,"g"),o.view(this,"h"),o.view(this,"i"),o.view(this,"j")),r.createElement(s.default,null,o.view(this,"k"),o.view(this,"l"),o.view(this,"m"),o.view(this,"n"),o.view(this,"o"),o.view(this,"p"),o.view(this,"q"),o.view(this,"r"),o.view(this,"s"),o.view(this,"t")),r.createElement(s.default,null,o.view(this,"=",{style:"highlight"}),o.view(this,","),o.view(this,"u"),o.view(this,"v"),o.view(this,"w"),o.view(this,"x"),o.view(this,"y"),o.view(this,"z"),o.view(this,"pi"),o.view(this,"backspace",{style:"highlight"})),r.createElement(s.default,null,o.view(this,"shift",{style:"highlight",colspan:2}),o.view(this,"("),o.view(this,")"),o.view(this,"["),o.view(this,"]"),o.view(this,"!"),o.view(this,"'"),o.view(this,"enter",{style:"blue",colspan:2})))},t}(i.DCGViewBasic);t.default=c})),i("basic/keypad/sci-capital-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"Q"),o.view(this,"W"),o.view(this,"E"),o.view(this,"R"),o.view(this,"T"),o.view(this,"Y"),o.view(this,"U"),o.view(this,"I"),o.view(this,"O"),o.view(this,"P")),r.createElement(s.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),o.view(this,"A"),o.view(this,"S"),o.view(this,"D"),o.view(this,"F"),o.view(this,"G"),o.view(this,"H"),o.view(this,"J"),o.view(this,"K"),o.view(this,"L"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(s.default,null,o.view(this,"=",{style:"highlight"}),o.view(this,"Z"),o.view(this,"X"),o.view(this,"C"),o.view(this,"V"),o.view(this,"B"),o.view(this,"N"),o.view(this,"M"),o.view(this,","),o.view(this,"backspace",{style:"highlight"})),r.createElement(s.default,null,o.view(this,"shift",{style:"highlight",colspan:1.5}),o.view(this,"("),o.view(this,")"),o.view(this,"["),o.view(this,"]"),o.view(this,"!"),o.view(this,"'"),o.view(this,"pi"),o.view(this,"enter",{style:"blue",colspan:1.5})))},t}(i.DCGViewBasic);t.default=c})),i("basic/keypad/sci-capital-letters-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"A"),o.view(this,"B"),o.view(this,"C"),o.view(this,"D"),o.view(this,"E"),o.view(this,"F"),o.view(this,"G"),o.view(this,"H"),o.view(this,"I"),o.view(this,"J")),r.createElement(s.default,null,o.view(this,"K"),o.view(this,"L"),o.view(this,"M"),o.view(this,"N"),o.view(this,"O"),o.view(this,"P"),o.view(this,"Q"),o.view(this,"R"),o.view(this,"S"),o.view(this,"T")),r.createElement(s.default,null,o.view(this,"=",{style:"highlight"}),o.view(this,","),o.view(this,"U"),o.view(this,"V"),o.view(this,"W"),o.view(this,"X"),o.view(this,"Y"),o.view(this,"Z"),o.view(this,"pi"),o.view(this,"backspace",{style:"highlight"})),r.createElement(s.default,null,o.view(this,"shift",{style:"highlight",colspan:2}),o.view(this,"("),o.view(this,")"),o.view(this,"["),o.view(this,"]"),o.view(this,"!"),o.view(this,"'"),o.view(this,"enter",{style:"blue",colspan:2})))},t}(i.DCGViewBasic);t.default=c})),i("basic/keypad/sci-functions-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=r.Components.IfElse,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-sci-func-keypad")},r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"sin"),o.view(this,"cos"),o.view(this,"tan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"a^b"),o.view(this,"sqrt"),o.view(this,"nthroot")),r.createElement(s.default,null,o.view(this,"arcsin"),o.view(this,"arccos"),o.view(this,"arctan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"e^x"),o.view(this,"abs"),c((function(){return e.controller.getReplaceRoundWithReciprocal()}),{true:function(){return o.view(e,"a^{-1}")},false:function(){return o.view(e,"round")}})),r.createElement(s.default,null,o.view(this,"mean"),o.view(this,"stdev"),o.view(this,"stdevp"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"ln"),o.view(this,"log"),o.view(this,"backspace",{style:"highlight"})),r.createElement(s.default,null,o.view(this,"nPr"),o.view(this,"nCr"),o.view(this,"!"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),o.view(this,"e"),o.view(this,"pi"),o.view(this,"enter",{style:"blue"}))))},t}(i.DCGViewBasic);t.default=l})),i("basic/keypad/scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./sci-keypad","./sci-qwerty-keypad","./sci-letters-keypad","./sci-capital-qwerty-keypad","./sci-capital-letters-keypad","./sci-functions-keypad"],(function(e,t,n,r,i,o,a,s,c,l,d){Object.defineProperty(t,"__esModule",{value:!0});var u=r.Components.SwitchUnion,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.s("basic-calculator-narration-keypad")}},u((function(){return e.controller.getKeyboardMode()}),{qwerty:function(){return r.createElement(a.default,{controller:e.props.controller})},letters:function(){return r.createElement(s.default,{controller:e.props.controller})},capitalQwerty:function(){return r.createElement(c.default,{controller:e.props.controller})},capitalLetters:function(){return r.createElement(l.default,{controller:e.props.controller})},functions:function(){return r.createElement(d.default,{controller:e.props.controller})},main:function(){return r.createElement(o.default,{controller:e.props.controller})}}))},t}(i.DCGViewBasic);t.default=p})),i("loadcss!basic/keypad/braille-example-row",(function(){})),i("basic/keypad/braille-example-row",["require","exports","tslib","dcgview","dcgview-helpers/static-mathquill-view","abraham","loadcss!./braille-example-row"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.BrailleExampleRow=void 0;var a=r.Components.For,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("tr",null,r.createElement(a,{each:function(){return e.getBrailleAscii(e.props.latex())},key:function(e){return e.key}},r.createElement("td",null,(function(e){return r.createElement("span",{class:r.const("dcg-key-press")},(function(){return e.char}))}))),r.createElement("td",{class:r.const("dcg-braille-font")},(function(){return e.getBrailleUnicode(e.props.latex())})),r.createElement("td",null,r.createElement(i.default,{config:this.const({}),latex:function(){return e.props.latex()}})))},t.prototype.getBrailleAscii=function(e){for(var t=o.UnicodeBraille.toExpandedBrailleAscii(this.getBrailleUnicode(e)),n=[],r=0;r<t.length;r++)n.push({char:t[r],key:r+")"+t[r]});return n},t.prototype.getBrailleUnicode=function(e){var t;return"nemeth"===this.props.brailleMode()?t=o.latexToNemeth(e):"ueb"===this.props.brailleMode()&&(t=o.latexToUeb(e)),t&&t.value?t.value:""},t}(r.Class);t.BrailleExampleRow=s})),i("loadcss!basic/keypad/braille-keypad",(function(){})),i("basic/keypad/braille-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./braille-example-row","loadcss!./braille-keypad"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-braille-io-keypad-container":!0,"dcg-has-background-color":e.controller.hasBackgroundColor()}}},r.createElement("div",{class:r.const("dcg-braille-io-keypad")},r.createElement("div",{class:r.const("dcg-braille-description")},r.createElement("div",{class:r.const("dcg-braille-title")},(function(){return e.controller.s("basic-calculator-text-braille-mode-is-on",{mode:e.brailleType()})})),r.createElement("div",{class:r.const("dcg-braille-info-text")},(function(){return e.controller.s("basic-calculator-text-how-to-type-braille")})),r.createElement("div",{class:r.const("dcg-blue-btn"),role:r.const("button"),tabindex:r.const(0),onTap:function(){return e.controller.dispatch({type:"set-braille-mode",mode:"none"})}},(function(){return e.controller.s("basic-calculator-button-turn-braille-mode-off",{mode:e.brailleType()})}))),r.createElement("div",{class:r.const("dcg-braille-examples-table-container")},r.createElement("table",{class:r.const("dcg-braille-examples-table")},r.createElement("tr",null,r.createElement("th",null,(function(){return e.controller.s("basic-calculator-heading-braille-table-type-this")})),r.createElement("th",null,(function(){return e.brailleType()})),r.createElement("th",null,(function(){return e.controller.s("basic-calculator-heading-braille-table-typeset")}))),r.createElement(o.BrailleExampleRow,{brailleMode:function(){return e.controller.getBrailleMode()},latex:this.const("2+2")}),r.createElement(o.BrailleExampleRow,{brailleMode:function(){return e.controller.getBrailleMode()},latex:this.const("\\frac{1}{2}")}),r.createElement(o.BrailleExampleRow,{brailleMode:function(){return e.controller.getBrailleMode()},latex:this.const("\\sqrt{4}")})),r.createElement("div",{class:r.const("dcg-more-examples-link")},r.createElement("a",{href:function(){return"https://www.desmos.com/braille-examples?"+e.controller.getBrailleMode()},target:r.const("_blank")},(function(){return e.controller.s("basic-calculator-link-view-braille-examples")}))))))},t.prototype.brailleType=function(){return"nemeth"===this.controller.getBrailleMode()?"Nemeth":"ueb"===this.controller.getBrailleMode()?"UEB":""},t}(i.DCGViewBasic);t.default=a})),i("lib/abraham-helpers",["require","exports","abraham"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.brailleToLatex=t.latexToBraille=void 0,t.latexToBraille=function(e,t){return"nemeth"===t?n.latexToNemeth(e):"ueb"===t?n.latexToUeb(e):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}},t.brailleToLatex=function(e,t){return"nemeth"===t?n.nemethToLatex(e):"ueb"===t?n.uebToLatex(e):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}})),i("loadcss!Abraham",(function(){})),i("loadcss!basic/expression-view",(function(){})),i("basic/expression-view",["require","exports","tslib","keys","core/lib/label","dcgview","lib/i18n","jquery","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","./dcgview-basic","abraham","../shared-components/tooltip","../lib/abraham-helpers","main/mathquill-operators","../shared-components/braille-input","../core/lib/count-latex-tokens","loadcss!Abraham","loadcss!./expression-view"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m){Object.defineProperty(t,"__esModule",{value:!0});var y=o.Components,b=y.If,v=y.Input,x=y.Textarea,w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.getAriaLabel=function(){var e=this.getIndex()+1+"";return this.s("shared-calculator-narration-expression-index",{index:e})},t.prototype.didUpdate=function(){this.renderAnsValue()},t.prototype.didMountMQ=function(e){this.$mq=s(e)},t.prototype.getExp=function(){return this.model.getExpressionById(this.props.id())},t.prototype.getAns=function(){return this.model.getExpressionAns(this.props.id())},t.prototype.getAnsId=function(){return this.model.getExpressionAnsId(this.props.id())},t.prototype.getLatex=function(){return this.getExp().latex},t.prototype.getValue=function(){return this.model.getExpressionValue(this.props.id())},t.prototype.getBraille=function(){var e=this.getExp().braille;if(""!==e)return e;var t=g.latexToBraille(this.getLatex(),this.controller.getBrailleMode());return t.isError?"":u.UnicodeBraille.toExpandedBrailleAscii(t.value)},t.prototype.getIndex=function(){return this.model.getExpressionIndex(this.props.id())},t.prototype.getShowEvaluation=function(){return this.model.shouldShowEvaluationForExpression(this.props.id())},t.prototype.isFractionEvaluation=function(){return this.getExp().displayAsFraction},t.prototype.canDisplayEvaluationAsFraction=function(){return this.controller.getDecimalToFraction()&&this.model.canDisplayEvaluationAsFraction(this.props.id())},t.prototype.shouldDisplayEvaluationAsFraction=function(){return this.canDisplayEvaluationAsFraction()&&this.getExp().displayAsFraction},t.prototype.toggleFractionEvaluation=function(){this.dispatch({type:"toggle-fraction-evaluation",id:this.props.id()})},t.prototype.getFractionDisplayAriaLabel=function(){return this.shouldDisplayEvaluationAsFraction()?this.controller.s("basic-calculator-narration-convert-to-decimal"):this.controller.s("basic-calculator-narration-convert-to-fraction")},t.prototype.getError=function(){var e=this.model.getExpressionError(this.props.id());return e&&this.getLatex().length>0?a.unpack(e,this.controller.getLanguage()):""},t.prototype.showError=function(){return!!this.getError()},t.prototype.getFractionMessage=function(){return this.shouldDisplayEvaluationAsFraction()?this.s("basic-calculator-label-convert-to-decimal"):this.s("basic-calculator-label-convert-to-fraction")},t.prototype.getIsFocused=function(){return!this.controller.isSettingsMenuOpen()&&this.model.isExpressionFocused(this.props.id())},t.prototype.onFocusedChanged=function(e){this.getExp()&&(e?this.dispatch({type:"focusin",id:this.props.id()}):this.dispatch({type:"focusout",id:this.props.id()}))},t.prototype.onMQReflow=function(){this.renderedAnsData=void 0,this.renderAnsValue()},t.prototype.renderAnsValue=function(){var e=this;if(this.$mq){var t=this.getAns(),n=!1,r=this.getAnsId();if(r){var o=this.model.getExpressionById(r);n=o&&o.displayAsFraction}this.renderedAnsData&&this.renderedAnsData.value==t&&this.renderedAnsData.displayAsFraction===n||(this.renderedAnsData={value:t,displayAsFraction:n},this.$mq.find(".dcg-mq-ans").each((function(r,o){var a,c=s(o);"number"==typeof t?a=i.truncatedHTMLLabel(t,{digits:e.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:n}):"string"==typeof t&&(a=t),a?c.removeClass("dcg-invalid").html(a):c.addClass("dcg-invalid").html('<i class="dcg-icon-error"></i>')})))}},t.prototype.getEvaluationLatex=function(){var e=this.getValue();if(void 0===e&&(e=NaN),this.model.isRationalizableConstant(this.props.id())&&!this.shouldDisplayEvaluationAsFraction())return"";if(!Array.isArray(e)){var t=i.truncatedLatexLabel(e,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()});return"undefined"===t?"=\\mathrm{undefined}":"="+t}return"\\mathrm{"+e.length+"\\ element\\ list}"},t.prototype.getEvaluationBraille=function(){var e=this.getEvaluationLatex(),t=g.latexToBraille(e,this.controller.getBrailleMode());return t.isError?"":u.UnicodeBraille.toExpandedBrailleAscii(t.value)},t.prototype.didMountBrailleInput=function(e){this.brailleInputNode=e},t.prototype.didUnmountBrailleInput=function(){this.brailleInputNode=void 0},t.prototype.handleBrailleFocus=function(e){var t=e.target;t&&setTimeout((function(){t.setSelectionRange(0,0)}))},t.prototype.handleBrailleKeydown=function(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||(r.lookup(e)===r.UP?(this.forceModelFocus(),this.dispatch({type:"focus-prev-expression"}),e.preventDefault()):r.lookup(e)===r.DOWN?(this.forceModelFocus(),this.dispatch({type:"focus-next-expression"}),e.preventDefault()):r.lookup(e)===r.ENTER?(this.forceModelFocus(),this.dispatch({type:"insert-blank-expression"}),e.preventDefault()):r.lookup(e)===r.BACKSPACE&&document.activeElement===this.brailleInputNode&&""===this.getBraille()&&(this.dispatch({type:"backspace-from-braille"}),e.preventDefault()))},t.prototype.forceModelFocus=function(){document.activeElement!==this.brailleInputNode&&this.onFocusedChanged(!0)},t.prototype.focusBrailleInput=function(){this.brailleInputNode&&document.activeElement!==this.brailleInputNode&&this.brailleInputNode.focus()},t.prototype.getPostLabel=function(){if(this.showError())return this.getError();if(this.getShowEvaluation()){var e=this.getValue();return void 0===e&&(e=NaN),Array.isArray(e)?e.length+" element list":"equals "+i.truncatedAriaLabel(e,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()})}return""},t.prototype.onBrailleInput=function(e){this.controller.isSettingsMenuOpen()&&this.controller.dispatch({type:"close-settings-menu"});var t=g.brailleToLatex(u.UnicodeBraille.coerceToSixDotCells(e),this.controller.getBrailleMode()),n=t.isError?"":t.value;(!this.controller.getCapExpressionSize()||m.countLatexTokens(n)<=l.EXPRESSION_TOKEN_LIMIT)&&this.controller.dispatch({type:"update-latex-from-braille",latex:n,braille:e,id:this.props.id()})},t.prototype.getIndexSubscript=function(){return"_{"+(this.getIndex()+1)+"}"},t.prototype.getEvaluationDigits=function(){return this.controller.isScientificCalc()?10:7},t.prototype.onMountContainer=function(e){this.containerNode=e},t.prototype.onTapContainer=function(e){e.target!==this.containerNode||this.getShowEvaluation()||this.showError()||this.forceModelFocus()},t.prototype.template=function(){var e=this;return o.createElement("div",{class:function(){return{"dcg-basic-expression":!0,"dcg-focused":e.getIsFocused(),"dcg-braille-io":e.controller.renderAsBraille()}},onTap:this.bindFn(this.onTapContainer),onMount:this.bindFn(this.onMountContainer)},o.createElement(b,{predicate:function(){return e.controller.renderAsBraille()}},(function(){return o.createElement("div",{class:o.const("dcg-braille-input")},o.createElement(f.default,{ariaLabel:function(){var t=g.latexToBraille("eq"+e.getIndexSubscript(),e.controller.getBrailleMode());return t.isError?"":u.UnicodeBraille.toExpandedBrailleAscii(t.value)},didMount:e.bindFn(e.didMountBrailleInput),didUnmount:e.bindFn(e.didUnmountBrailleInput),onFocusedChanged:e.bindFn(e.onFocusedChanged),shouldFocus:e.bindFn(e.getIsFocused),onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:e.bindFn(e.onBrailleInput),sixKeyInput:function(){return e.controller.getSixKeyInput()},value:function(){return e.getBraille()},isStatic:e.const(!1)}))})),o.createElement(b,{predicate:function(){return e.controller.renderAsBraille()}},(function(){return o.createElement("div",{class:o.const("dcg-braille-evaluation-container")},o.createElement(b,{predicate:function(){return e.getShowEvaluation()}},(function(){return o.createElement("div",{class:o.const("dcg-braille-evaluation")},o.createElement(v,{readonly:e.const("true"),class:e.const("dcg-braille-evaluation-inner"),value:function(){return e.getEvaluationBraille()},onFocus:e.bindFn(e.handleBrailleFocus),onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:function(){}}))})),o.createElement(b,{predicate:function(){return e.showError()}},(function(){return o.createElement("div",{class:o.const("dcg-braille-error")},o.createElement("div",{class:o.const("dcg-basic-expression-error")},o.createElement("i",{class:o.const("dcg-icon-error")})),o.createElement(x,{readonly:e.const("true"),class:e.const("dcg-braille-error-inner"),value:function(){return e.getError()},onFocus:e.bindFn(e.handleBrailleFocus),onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:function(){}}))})))})),o.createElement(b,{predicate:function(){return e.controller.renderAsBraille()}},(function(){return o.createElement("div",{class:o.const("dcg-exp-mathquill-container"),didMount:e.bindFn(e.didMountMQ),onTap:e.bindFn(e.forceModelFocus)},o.createElement(c.default,{latex:function(){return e.getLatex()},config:e.const({}),onReflow:e.bindFn(e.onMQReflow)}))})),o.createElement(b,{predicate:function(){return!e.controller.renderAsBraille()}},(function(){return o.createElement("div",{class:o.const("dcg-exp-mathquill-container"),didMount:e.bindFn(e.didMountMQ)},o.createElement(l.default,{latex:function(){return e.getLatex()},onReflow:e.bindFn(e.onMQReflow),isFocused:e.bindFn(e.getIsFocused),capExpressionSize:function(){return e.controller.getCapExpressionSize()},config:e.bindFn(e.getMQConfig),getAriaLabel:function(){return e.getAriaLabel()},getAriaPostLabel:function(){return e.getPostLabel()},hasError:function(){return!1},onUserPressedKey:function(t,n){e.controller.isSettingsMenuOpen()&&e.controller.dispatch({type:"close-settings-menu"}),e.dispatch({type:"keypad/press-key",key:t,evt:n})},onUserTypedText:function(t){return e.dispatch({type:"keypad/type-text",text:t})},onUserChangedLatex:function(t){e.dispatch({type:"update-latex",id:e.props.id(),latex:t})},onFocusedChanged:e.bindFn(e.onFocusedChanged),disableSpace:function(){return e.controller.getRestrictedEditing()}}))})),o.createElement("div",{class:o.const("dcg-exp-output-container")},o.createElement(b,{predicate:function(){return e.showError()&&!e.controller.renderAsBraille()}},(function(){return o.createElement(p.Tooltip,{tooltip:e.bindFn(e.getError),gravity:e.const("w"),sticky:e.const(!0)},o.createElement("div",{class:o.const("dcg-basic-expression-error")},o.createElement("i",{class:o.const("dcg-icon-error")})))})),o.createElement(b,{predicate:function(){return e.getShowEvaluation()}},(function(){return o.createElement("div",{class:function(){return{"dcg-basic-expression-value":!0,"dcg-basic-evaluation-gray":Array.isArray(e.getValue())}}},o.createElement(c.default,{config:e.const({}),latex:function(){return e.getEvaluationLatex()}}),o.createElement(b,{predicate:e.bindFn(e.canDisplayEvaluationAsFraction)},(function(){return o.createElement(p.Tooltip,{tooltip:e.bindFn(e.getFractionMessage),gravity:e.const("sw")},o.createElement("span",{role:o.const("button"),tabindex:o.const("0"),"aria-label":e.bindFn(e.getFractionDisplayAriaLabel),class:function(){return{"dcg-basic-fraction-toggle":!0,"dcg-selected":e.isFractionEvaluation()}},onTap:e.bindFn(e.toggleFractionEvaluation)},o.createElement("i",{class:o.const("dcg-icon-fraction")})))})))}))))},t.prototype.getMQConfig=function(){var e=this.controller,t=e.getAdditionalFunctions(),n=e.isFourFunctionCalc()&&(!t||-1===t.indexOf("fraction"));return{typingAsteriskWritesTimesSymbol:e.getTypingAsteriskWritesTimesSymbol(),typingSlashWritesDivisionSymbol:e.getTypingSlashWritesDivisionSymbol(),disableCopyPaste:e.getRestrictedEditing(),autoCommands:h.getAutoCommands({disallowFrac:n})}},t}(d.DCGViewBasic);t.default=w})),i("loadcss!basic/basic-list-view",(function(){})),i("basic/basic-list-view",["require","exports","tslib","scroll_helpers","dcgview","./dcgview-basic","./expression-view","jquery","lib/conditional_blur","loadcss!./basic-list-view"],(function(e,t,n,r,i,o,a,s,c){Object.defineProperty(t,"__esModule",{value:!0});var l=i.Components,d=l.For,u=l.If,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.didShowAnswerHint=!1,t.didHideAnswerHint=!1,t}return n.__extends(t,e),t.prototype.template=function(){var e=this;return i.createElement("div",{class:i.const("dcg-basic-list-container"),role:i.const("complementary"),"aria-label":function(){return e.controller.s("basic-calculator-narration-expression-list")},didMount:this.bindFn(this.didMountContainer)},i.createElement("div",{class:i.const("dcg-basic-list-placeholder"),didMount:this.bindFn(this.didMountPlaceholder)},i.createElement(u,{predicate:this.bindFn(this.showAnswerHint)},(function(){return i.createElement("div",{class:i.const("dcg-answer-hint")},(function(){return e.controller.s("basic-calculator-label-answer-hint")}))}))),i.createElement(d,{each:function(){return e.model.getExpressionOrder()}},i.createElement("div",{class:function(){return{"dcg-basic-list":!0,"dcg-projector-mode":e.controller.isProjectorMode()}}},(function(t){return i.createElement(a.default,{controller:e.props.controller,id:e.const(t)})}))))},t.prototype.didMountPlaceholder=function(e){s(e).on("dcg-tap",c.default)},t.prototype.showAnswerHint=function(){if(this.didHideAnswerHint)return!1;var e=this.model.getExpressionOrder()[0];return!(!this.model.shouldShowEvaluationForExpression(e)&&!this.didShowAnswerHint||(this.didShowAnswerHint=!0,(this.model.getNumberOfExpressions()>1||""===this.model.getExpressionLatex(e))&&(this.didHideAnswerHint=!0,1)))},t.prototype.didUpdate=function(){if(this.$container){var e=this.$container.find(".dcg-focused");e.length>0&&r.scrollVisible(e,this.$container,50)}},t.prototype.didMountContainer=function(e){this.$container=s(e)},t}(o.DCGViewBasic);t.default=p})),i("loadcss!basic/main",(function(){})),i("basic/main",["require","exports","tslib","browser","keys","dcgview","./dcgview-basic","jquery","./keypad/fourfunction-control-bar","./keypad/single-expression-fourfunction-control-bar","./keypad/scientific-control-bar","./keypad/single-expression-scientific-control-bar","./keypad/fourfunction-keypad","./keypad/single-expression-fourfunction-keypad","./keypad/single-expression-scientific-keypad","./keypad/scientific-keypad","./keypad/braille-keypad","./basic-list-view","lib/aria","touchtracking","loadcss!desmos-icons","loadcss!./main","loadcss!dcg-normalize"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v){Object.defineProperty(t,"__esModule",{value:!0});var x=o.Components,w=x.If,A=x.IfElse,E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement(w,{predicate:function(){return e.controller.shouldRender()}},(function(){return o.createElement("div",{class:o.const("dcg-calculator-api-container"),style:o.const("width: 100%; height: 100%; position: relative;")},o.createElement("div",{class:function(){return{"dcg-calc-basic-main-wrapper":!0,"dcg-narrow":e.controller.containerSize.width<570,"dcg-short":e.controller.containerSize.height<=540,"dcg-scientific-calculator":e.controller.isScientificCalc(),"dcg-four-function-calculator":e.controller.isFourFunctionCalc(),"dcg-container":!0}},onKeydown:e.bindFn(e.handleRootKeydown),didMount:e.bindFn(e.didMountRoot),"x-ms-format-detection":o.const("none")},o.createElement("div",{role:o.const("application"),"aria-label":function(){return e.controller.isScientificCalc()?e.controller.s("basic-calculator-narration-calc-description-scientific"):e.controller.isFourFunctionCalc()?e.controller.s("basic-calculator-narration-calc-description-fourfunction"):""},class:function(){return{"dcg-calc-basic-main":!0,"dcg-inverted-colors":e.controller.getInvertedColors(),"dcg-projector-mode":e.controller.isProjectorMode(),"dcg-ipad":r.IS_IPAD,"dcg-has-background-color":e.controller.hasBackgroundColor(),"dcg-no-hyperlinks":!e.controller.getAllowLinks()}},style:function(){return{"font-size":e.controller.getFontSize()+"px",background:e.controller.getBackgroundColor(),color:e.controller.getTextColor(),filter:e.controller.getInvertedColors()?"invert(100%)":"none"}}},o.createElement(y.default,{controller:e.props.controller}),o.createElement(w,{predicate:function(){return e.controller.isScientificCalc()&&e.model.isSingleExpression()}},(function(){return o.createElement("div",null,o.createElement(u.default,{controller:e.props.controller}),o.createElement("div",{class:o.const("dcg-basic-keypad-container")},A((function(){return e.controller.renderAsBraille()}),{true:function(){return o.createElement(m.default,{controller:e.props.controller})},false:function(){return o.createElement(h.default,{controller:e.props.controller})}})))})),o.createElement(w,{predicate:function(){return e.controller.isScientificCalc()&&!e.model.isSingleExpression()}},(function(){return o.createElement("div",null,o.createElement(d.default,{controller:e.props.controller}),o.createElement("div",{class:o.const("dcg-basic-keypad-container")},A((function(){return e.controller.renderAsBraille()}),{true:function(){return o.createElement(m.default,{controller:e.props.controller})},false:function(){return o.createElement(f.default,{controller:e.props.controller})}})))})),o.createElement(w,{predicate:function(){return e.controller.isFourFunctionCalc()&&e.model.isSingleExpression()}},(function(){return o.createElement("div",null,o.createElement(l.default,{controller:e.props.controller}),o.createElement("div",{class:o.const("dcg-basic-keypad-container")},A((function(){return e.controller.renderAsBraille()}),{true:function(){return o.createElement(m.default,{controller:e.props.controller})},false:function(){return o.createElement(g.default,{controller:e.props.controller})}})))})),o.createElement(w,{predicate:function(){return e.controller.isFourFunctionCalc()&&!e.model.isSingleExpression()}},(function(){return o.createElement("div",null,o.createElement(c.default,{controller:e.props.controller}),o.createElement("div",{class:o.const("dcg-basic-keypad-container")},A((function(){return e.controller.renderAsBraille()}),{true:function(){return o.createElement(m.default,{controller:e.props.controller})},false:function(){return o.createElement(p.default,{controller:e.props.controller})}})))})))))}))},t.prototype.didMountRoot=function(e){v.monitor(e)},t.prototype.handleRootKeydown=function(e){if(i.isUndo(e))return this.dispatch({type:"undo",source:"keyboard-shortcut"}),!1;if(i.isRedo(e))return this.dispatch({type:"redo",source:"keyboard-shortcut"}),!1;if(!e.metaKey&&!e.shiftKey)if(e.ctrlKey||e.altKey||i.lookup(e)!==i.BACKSPACE){if(e.ctrlKey===r.IS_APPLE&&e.altKey===!r.IS_APPLE){var t=i.lookupChar(e);if("N"===t){if(!this.controller.getBrailleControls())return;return this.dispatch({type:"set-braille-mode",mode:"nemeth"}),b.alert(this.controller.s("basic-calculator-narration-hotkey-nemeth")),!1}if("U"===t){if(!this.controller.getBrailleControls())return;return this.dispatch({type:"set-braille-mode",mode:"ueb"}),b.alert(this.controller.s("basic-calculator-narration-hotkey-ueb")),!1}if("Q"===t||"X"===t){if(!this.controller.getBrailleControls())return;return this.dispatch({type:"set-braille-mode",mode:"none"}),b.alert(this.controller.s("basic-calculator-narration-hotkey-braille-off")),!1}if("6"===t){if(!this.controller.getBrailleControls())return;var n=!this.controller.getSixKeyInput();return this.dispatch({type:"set-six-key-input",mode:n}),b.alert(n?this.controller.s("basic-calculator-narration-hotkey-six-key-input-on"):this.controller.s("basic-calculator-narration-hotkey-six-key-input-off")),!1}}}else if(!document.activeElement||v.elIsFocusable(s(document.activeElement)))return!1;return!0},t}(a.DCGViewBasic);t.default=E})),i("api/basic",["require","exports","tslib","dcgview","./abstract","main/shared-worker-pool","basic/controller","basic/main","core/lib/color-helpers","underscore_model","./util","core/lib/deepCopy","lib/console"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p){Object.defineProperty(t,"__esModule",{value:!0}),t.BasicCalculator=void 0;var g=function(e){function t(t){return e.call(this,t)||this}return n.__extends(t,e),t.prototype.init=function(e){var t=this;(e=u.default(e)).backgroundColor&&!c.isValidHexColor(e.backgroundColor)&&(p.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete e.backgroundColor),e.textColor&&!c.isValidHexColor(e.textColor)&&(p.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete e.textColor);var r=n.__assign({language:"en",qwertyKeyboard:!0,links:!0,degreeMode:!1,settingsMenu:!0,invertedColors:!1,backgroundColor:"#fff",textColor:"#000",brailleMode:"none",sixKeyInput:!1,brailleControls:!0,brailleExpressionDownload:!0,projectorMode:!1,capExpressionSize:!1,functionDefinition:!0,autosize:!0,evaluationMode:"scientific",restrictedEditing:!1,additionalFunctions:["sqrt"],typingSlashWritesDivisionSymbol:!1,typingAsteriskWritesTimesSymbol:!1,decimalToFraction:!0,replaceCommaWith10Exp:!1,replaceRoundWithReciprocal:!1},e);this.settings=new l.UnderscoreModel;var i={workerPool:o.default,settingsProxy:this.settings};this.controller=new a.default(r,i),this.controller.onEventEmitted=function(e){"render"===e&&t.updateView(),t.triggerEvent(e,void 0)},this.setupDomChangeDetector(r.autosize)},t.prototype.onCreateView=function(){return r.mountToNode(s.default,this.rootElt,{controller:r.const(this.controller)})},t.prototype.setState=function(e,t){t||(t={}),this.controller.dispatch({type:"set-state-from-api",state:e,opts:{allowUndo:!!t.allowUndo}})},t.prototype.getState=function(){return u.default(this.controller.model.getPersistedState())},t.prototype.undo=function(){this.controller.dispatch({type:"undo",source:"api"})},t.prototype.redo=function(){this.controller.dispatch({type:"redo",source:"api"})},t.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-history"})},t.prototype.setBlank=function(e){e||(e={}),this.controller.dispatch({type:"set-blank",opts:{allowUndo:!!e.allowUndo}})},t.prototype.updateSettings=function(e){if(null!=e)for(var t in e)switch(t){case"fontSize":var n=e[t];if(void 0===n)continue;this.controller.dispatch({type:"update-font-size",size:n});break;case"invertedColors":var r=e[t];if(void 0===r)continue;this.controller.dispatch({type:"update-inverted-colors",mode:r});break;case"backgroundColor":var i=e[t];if(void 0===i||!c.isValidHexColor(i)){p.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)");continue}this.controller.dispatch({type:"update-background-color",color:i});break;case"textColor":var o=e[t];if(void 0===o||!c.isValidHexColor(o)){p.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)");continue}this.controller.dispatch({type:"update-text-color",color:o});break;case"degreeMode":var a=e[t];if(void 0===a)continue;this.controller.dispatch({type:"update-degree-mode",mode:a});break;case"brailleMode":var s=e[t];this.controller.dispatch({type:"set-braille-mode",mode:s});break;case"sixKeyInput":var l=e[t];if(void 0===l)continue;this.controller.dispatch({type:"set-six-key-input",mode:l});break;case"brailleControls":var u=e[t];if(void 0===u)continue;this.controller.dispatch({type:"set-braille-controls",value:u});break;case"brailleExpressionDownload":var g=e[t];if(void 0===g)continue;this.controller.dispatch({type:"set-braille-expression-download",mode:g});break;case"projectorMode":var h=e[t];if(void 0===h)continue;this.controller.dispatch({type:"update-projector-mode",mode:h});break;case"capExpressionSize":var f=e[t];if(void 0===f)continue;this.controller.dispatch({type:"update-cap-expression-size",mode:f});break;case"language":var m=e[t];if(void 0===m)continue;this.controller.dispatch({type:"update-language",language:d.validateLanguage(m)});break;case"settingsMenu":e.settingsMenu?this.controller.dispatch({type:"enable-settings-menu"}):this.controller.dispatch({type:"disable-settings-menu"});break;case"qwertyKeyboard":this.controller.dispatch({type:"update-options",options:{qwertyKeyboard:!!e.qwertyKeyboard}});var y=this.controller.getKeyboardMode();"qwerty"!==y&&"letters"!==y||this.controller.dispatch({type:"ABC"});break;case"functionDefinition":e.functionDefinition?this.controller.model.enableFunctionDefinition():this.controller.model.disableFunctionDefinition();break;case"links":this.controller.dispatch({type:"update-options",options:{links:!!e.links}});break;case"decimalToFraction":var b=e[t];if(void 0===b)continue;this.controller.dispatch({type:"update-decimal-to-fraction",mode:b});break;case"replaceCommaWith10Exp":var v=e[t];if(void 0===v)continue;this.controller.dispatch({type:"set-replace-comma-with-10-exp",replace:v});break;case"replaceRoundWithReciprocal":var x=e[t];if(void 0===x)continue;this.controller.dispatch({type:"set-replace-round-with-reciprocal",replace:x});break;case"restrictedEditing":this.controller.dispatch({type:"update-options",options:{restrictedEditing:!!e.restrictedEditing}});break;case"typingAsteriskWritesTimesSymbol":var w=e[t];if(void 0===w)continue;this.controller.dispatch({type:"set-typing-asterisk-writes-times-symbol",mode:w})}},t.prototype.focusFirstExpression=function(){this.controller.dispatch({type:"focus-first-expression"})},t.prototype.onResizeView=function(e){this.controller.dispatch({type:"ui/container-resized",size:e})},t.prototype.onDestroyView=function(){r.unmountFromNode(this.rootElt)},t.prototype.destroy=function(){this.controller.model.destroy(),e.prototype.destroy.call(this)},t}(i.default);t.BasicCalculator=g})),i("api/fourfunction",["require","exports","tslib","./basic","core/lib/deepCopy","lib/console","./util"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(n,r){var s=e.call(this,n)||this;return s instanceof t?(s.init(function(e){if((e=i.default(e)).hasOwnProperty("typingSlashWritesDivisionSymbol")||(e.typingSlashWritesDivisionSymbol=!0),e.hasOwnProperty("typingAsteriskWritesTimesSymbol")||(e.typingAsteriskWritesTimesSymbol=!0),e.exponentButtonForSquareRoot&&(o.warn("As of API version 1.0, the 'exponentButtonForSquareRoot' option is deprecated.Use 'additionalFunctions: \"exponent\"' instead."),e.additionalFunctions=["exponent"]),e.additionalFunctions){var t=e.additionalFunctions;"string"==typeof t&&(t=[t]),t.length>2&&(o.warn("additionalFunctions can only take up to 2 new functions. Using the first two."),t=t.slice(0,2));for(var n=!0,r=0;r<t.length;r++)-1===["sqrt","exponent","percent","fraction"].indexOf(t[r])&&(o.warn("Unrecognized value: '"+t[r]+"' for 'additionalFunction'. Valid values are 'sqrt', 'percent', 'exponent', or 'fraction'. Using default (\"sqrt\")"),n=!1);e.additionalFunctions=n?t:["sqrt"]}return e.additionalFunctions&&e.additionalFunctions.length||(e.additionalFunctions=["sqrt"]),e.singleExpression?e.evaluationMode="singleExpressionFourFunction":e.evaluationMode="fourFunction",delete e.singleExpression,e.hasOwnProperty("decimalToFraction")||(e.decimalToFraction=!1),e.language&&(e.language=a.validateLanguage(e.language)),e}(r||{})),s):new t(n,r)}return n.__extends(t,e),t}(r.BasicCalculator);t.default=s})),i("api/scientific",["require","exports","tslib","./basic","core/lib/deepCopy","./util"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(n,r){var a=e.call(this,n)||this;return a instanceof t?(a.init(function(e){return(e=i.default(e)).singleExpression?e.evaluationMode="singleExpressionScientific":e.evaluationMode="scientific",delete e.singleExpression,e.language&&(e.language=o.validateLanguage(e.language)),e}(r||{})),a):new t(n,r)}return n.__extends(t,e),t}(r.BasicCalculator);t.default=a})),i("pillow-keypad/controller",["require","exports","flux","keypad/mq-commands","lib/i18n","dcgview-helpers/mathquill-view"],(function(e,t,n,r,i,o){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){var t=this;this.keypadType="scientific",this.scientificKeyboardMode="main",this.dispatcher=new n.Dispatcher,this.s=i.createDictionaryLookupFunction((function(){return"en"})),this.dispatch=function(e){var n;for(t.dispatcher.dispatch(e);n=t._queuedCallbacks.shift();)n()},this._queuedCallbacks=[],this.keypadType=null!=e?e:"scientific",this.dispatcher=new n.Dispatcher,this.hookUpDispatcher()}return e.prototype.getBackgroundColor=function(){return"does-not-matter"},e.prototype.runAfterDispatch=function(e){this._queuedCallbacks.push(e)},e.prototype.enqueueEvent=function(e){var t=this;this.runAfterDispatch((function(){t.onEventEmitted&&t.onEventEmitted(e)}))},e.prototype.getKeypadType=function(){return this.keypadType},e.prototype.getScientificKeyboardMode=function(){return this.scientificKeyboardMode},e.prototype.updateKeyboardMode=function(e){this.scientificKeyboardMode=e},e.prototype.typeIntoFocusedMathquill=function(e){e=e.replace(/\r|\n/g,"");var t=this.activeMQ;t&&(t.typedText(e),o.default.simulateUserChangedLatex(t))},e.prototype.pressKeyInFocusedMathquill=function(e,t){var n=this.activeMQ;if(n)return"Enter"===e?(t&&(t.preventDefault(),t.stopPropagation()),void this.enqueueEvent("enter")):void n.keystroke(e,t)},e.prototype.executeCommandInFocusedMathquill=function(e){var t=this.activeMQ;t&&r.execute(t,e)},e.prototype.hookUpDispatcher=function(){var e=this;this.dispatcher.register((function(t){switch(e.enqueueEvent("render"),t.type){case"hide-keypad":e.enqueueEvent("hide-keypad");break;case"set-active-mq":e.activeMQ=t.mq;break;case"set-keypad-type":e.keypadType=t.keypadType;break;case"keypad/shift":e.updateKeyboardMode("capitalQwerty"===e.scientificKeyboardMode?"qwerty":"capitalQwerty");break;case"main":e.updateKeyboardMode("main");break;case"ABC":e.updateKeyboardMode("qwerty");break;case"functions":e.updateKeyboardMode("functions");break;case"keypad/type-text":e.typeIntoFocusedMathquill(t.text);break;case"keypad/press-key":e.pressKeyInFocusedMathquill(t.key,t.evt);break;case"keypad/custom-command":e.executeCommandInFocusedMathquill(t.command);break;case"keypad/123":case"keypad/abc":case"keypad/audio-trace":break;default:return t}}))},e}();t.default=a})),i("pillow-keypad/dcgview-pillow-keypad",["require","exports","tslib","dcgview"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DCGViewPillowKeypad=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch,this.s=this.controller.s},t}(r.Class);t.DCGViewPillowKeypad=i})),i("pillow-keypad/main-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(o.default,{controller:this.props.controller},r.createElement(a.default,null,i.view(this,"a^2"),i.view(this,"a^b"),i.view(this,"|a|"),i.view(this,"a/b"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"/"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"x"),i.view(this,"y")),r.createElement(a.default,null,i.view(this,"("),i.view(this,")"),i.view(this,"<"),i.view(this,">"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"*"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"left",{style:"highlight"}),i.view(this,"right",{style:"highlight"})),r.createElement(a.default,null,i.view(this,"sqrt"),i.view(this,","),i.view(this,"<="),i.view(this,">="),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"-"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.spacer(.5),i.view(this,"backspace",{style:"highlight",colspan:1.5})),r.createElement(a.default,null,i.view(this,"nthroot"),i.view(this,"pi"),i.view(this,"%"),i.view(this,"a_b"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"0",{style:"highlight"}),i.view(this,".",{style:"highlight"}),i.view(this,"="),i.view(this,"+"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"enter",{colspan:2,style:"blue"})))},t}(s.DCGViewPillowKeypad);t.default=c})),i("pillow-keypad/qwerty-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(o.default,{controller:this.props.controller},r.createElement(a.default,null,i.view(this,"q"),i.view(this,"w"),i.view(this,"e"),i.view(this,"r"),i.view(this,"t"),i.view(this,"y"),i.view(this,"u"),i.view(this,"i"),i.view(this,"o"),i.view(this,"p")),r.createElement(a.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),i.view(this,"a"),i.view(this,"s"),i.view(this,"d"),i.view(this,"f"),i.view(this,"g"),i.view(this,"h"),i.view(this,"j"),i.view(this,"k"),i.view(this,"l"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(a.default,null,i.view(this,"shift",{style:"highlight"}),i.view(this,"z"),i.view(this,"x"),i.view(this,"c"),i.view(this,"v"),i.view(this,"b"),i.view(this,"n"),i.view(this,"m"),i.view(this,":"),i.view(this,"backspace",{style:"highlight"})),r.createElement(a.default,null,i.view(this,"~"),i.view(this,"{"),i.view(this,"}"),i.view(this,"["),i.view(this,"]"),i.view(this,"!"),i.view(this,"'"),i.view(this,"obelus"),i.view(this,"enter",{style:"blue"})))},t}(s.DCGViewPillowKeypad);t.default=c})),i("pillow-keypad/capital-qwerty-keypad",["require","exports","tslib","dcgview","./dcgview-pillow-keypad","keypad/keys","keypad/keypad","keypad/row"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(a.default,{controller:this.props.controller},r.createElement(s.default,null,o.view(this,"Q"),o.view(this,"W"),o.view(this,"E"),o.view(this,"R"),o.view(this,"T"),o.view(this,"Y"),o.view(this,"U"),o.view(this,"I"),o.view(this,"O"),o.view(this,"P")),r.createElement(s.default,null,r.createElement("div",{class:r.const("dcg-half-width-placeholder")}),o.view(this,"A"),o.view(this,"S"),o.view(this,"D"),o.view(this,"F"),o.view(this,"G"),o.view(this,"H"),o.view(this,"J"),o.view(this,"K"),o.view(this,"L"),r.createElement("div",{class:r.const("dcg-half-width-placeholder")})),r.createElement(s.default,null,o.view(this,"shift",{style:"highlight"}),o.view(this,"Z"),o.view(this,"X"),o.view(this,"C"),o.view(this,"V"),o.view(this,"B"),o.view(this,"N"),o.view(this,"M"),o.view(this,","),o.view(this,"backspace",{style:"highlight"})),r.createElement(s.default,null,o.view(this,"="),o.view(this,"("),o.view(this,")"),o.view(this,"["),o.view(this,"]"),o.view(this,"!"),o.view(this,"'"),o.view(this,"obelus"),o.view(this,"enter",{style:"blue"})))},t}(i.DCGViewPillowKeypad);t.default=c})),i("pillow-keypad/functions-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement(o.default,{controller:this.props.controller},r.createElement(a.default,null,i.view(this,"sin"),i.view(this,"cos"),i.view(this,"tan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"ln"),i.view(this,"log"),i.view(this,"backspace",{style:"highlight"})),r.createElement(a.default,null,i.view(this,"arcsin"),i.view(this,"arccos"),i.view(this,"arctan"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"e^x"),i.view(this,"abs"),i.view(this,"round")),r.createElement(a.default,null,i.view(this,"mean"),i.view(this,"stdev"),i.view(this,"stdevp"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"a^b"),i.view(this,"sqrt"),i.view(this,"nthroot")),r.createElement(a.default,null,i.view(this,"nPr"),i.view(this,"nCr"),i.view(this,"!"),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"e"),i.view(this,"%"),i.view(this,"enter",{style:"blue"})))},t}(s.DCGViewPillowKeypad);t.default=c})),i("pillow-keypad/fourfunction-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],(function(e,t,n,r,i,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(o.default,{controller:this.props.controller},r.createElement(a.default,null,i.view(this,"1",{style:"highlight"}),i.view(this,"2",{style:"highlight"}),i.view(this,"3",{style:"highlight"}),i.view(this,"4",{style:"highlight"}),i.view(this,"5",{style:"highlight"}),i.view(this,"6",{style:"highlight"}),i.view(this,"7",{style:"highlight"}),i.view(this,"8",{style:"highlight"}),i.view(this,"9",{style:"highlight"}),i.view(this,"0",{style:"highlight"}),r.createElement("div",{class:r.const("dcg-partition-placeholder")}),i.view(this,"left",{style:"highlight"}),i.view(this,"right",{style:"highlight"}),r.createElement("div",{class:r.const("dcg-inline-hide-keypad-button"),"dcg-command":r.const("hide-keypad"),onTap:function(){return e.props.controller().dispatch({type:"hide-keypad"})}},r.createElement("div",{class:r.const("dcg-inline-hide-keypad-button-inner")},r.createElement("i",{class:r.const("dcg-icon-hide")})))),r.createElement(a.default,null,i.spacer(2),i.view(this,"."),i.view(this,"="),i.view(this,"+"),i.view(this,"-"),i.view(this,"multiplication"),i.view(this,"obelus"),i.spacer(3),i.view(this,"backspace",{style:"highlight",colspan:1.5}),i.spacer(1)),r.createElement(a.default,null,i.spacer(2),i.view(this,"a/b"),i.view(this,","),i.view(this,"("),i.view(this,")"),i.view(this,"<"),i.view(this,">"),i.spacer(2.5),i.view(this,"enter",{colspan:2,style:"blue"}),i.spacer(1)))},t}(s.DCGViewPillowKeypad);t.default=c})),i("pillow-keypad/control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","./dcgview-pillow-keypad"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this.props.controller();return r.createElement(i.default,{controller:this.props.controller},r.createElement(o.default,{command:this.const("main"),selected:function(){return"main"===e.getScientificKeyboardMode()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return e.dispatch({type:"main"})}},(function(){return e.s("basic-calculator-button-controlbar-main")})),r.createElement(o.default,{command:this.const("ABC"),selected:function(){return-1!==["qwerty","capitalQwerty"].indexOf(e.getScientificKeyboardMode())},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:function(){return e.s("basic-calculator-narration-controlbar-abc")},onTap:function(){return e.dispatch({type:"ABC"})}},(function(){return e.s("basic-calculator-button-controlbar-abc")})),r.createElement(o.default,{command:this.const("functions"),selected:function(){return-1!==["functions","restrictedFunctions"].indexOf(e.getScientificKeyboardMode())},ariaLabel:function(){return e.s("basic-calculator-narration-controlbar-functions")},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return e.dispatch({type:"functions"})}},(function(){return e.s("shared-calculator-button-controlbar-functions")})),r.createElement("div",{class:r.const("dcg-hide-keypad-button"),"dcg-command":r.const("hide-keypad"),onTap:function(){return e.dispatch({type:"hide-keypad"})}},r.createElement("i",{class:r.const("dcg-icon-hide")})))},t}(a.DCGViewPillowKeypad);t.default=s})),i("loadcss!pillow-keypad/main",(function(){})),i("pillow-keypad/main",["require","exports","tslib","dcgview","./dcgview-pillow-keypad","./main-keypad","./qwerty-keypad","./capital-qwerty-keypad","./functions-keypad","./fourfunction-keypad","./control-bar","touchtracking","loadcss!./main"],(function(e,t,n,r,i,o,a,s,c,l,d,u){Object.defineProperty(t,"__esModule",{value:!0});var p=r.Components,g=p.Switch,h=p.SwitchUnion,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){return r.createElement("div",{class:r.const("dcg-calculator-api-container"),style:r.const("width: 100%; height: 100%; position: relative;")},r.createElement("div",{class:r.const("dcg-do-not-blur dcg-container dcg-api-shared-keypad-root"),didMount:this.bindFn(this.didMountRoot)},this.children))},t.prototype.didMountRoot=function(e){u.monitor(e)},t}(i.DCGViewPillowKeypad),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(f,n.__assign({},this.props),r.createElement("div",{class:r.const("dcg-fourfunction-keypad-container"),role:r.const("group"),"aria-label":function(){return e.s("shared-calculator-narration-keypad")}},r.createElement(l.default,{controller:this.props.controller})))},t}(i.DCGViewPillowKeypad),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement(f,n.__assign({},this.props),r.createElement(d.default,{controller:this.props.controller}),r.createElement("div",{role:r.const("group"),"aria-label":function(){return e.s("shared-calculator-narration-keypad")}},r.createElement(g,{key:function(){return e.controller.getScientificKeyboardMode()}},(function(t){switch(t){case"qwerty":return r.createElement(a.default,{controller:e.props.controller});case"capitalQwerty":return r.createElement(s.default,{controller:e.props.controller});case"functions":return r.createElement(c.default,{controller:e.props.controller});default:return r.createElement(o.default,{controller:e.props.controller})}}))))},t}(i.DCGViewPillowKeypad),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return h((function(){return e.controller.getKeypadType()}),{fourfunction:function(){return r.createElement(m,n.__assign({},e.props))},scientific:function(){return r.createElement(y,n.__assign({},e.props))}})},t}(i.DCGViewPillowKeypad);t.default=b})),i("api/pillow-keypad",["require","exports","tslib","dcgview","./abstract","pillow-keypad/controller","pillow-keypad/main"],(function(e,t,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(n,r){var i=e.call(this,n)||this;return i instanceof t?(i.init(r),i):new t(n,r)}return n.__extends(t,e),t.prototype.init=function(e){var t=this;this.controller=new o.default(e),this.controller.onEventEmitted=function(e){"render"===e&&t.updateView(),t.triggerEvent(e,void 0)},this.setupDomChangeDetector(!0)},t.prototype.setActiveMathquill=function(e){this.controller.dispatch({type:"set-active-mq",mq:e})},t.prototype.setKeypadType=function(e){this.controller.dispatch({type:"set-keypad-type",keypadType:e})},t.prototype.onCreateView=function(){return r.mountToNode(a.default,this.rootElt,{controller:r.const(this.controller)})},t.prototype.onResizeView=function(e){},t.prototype.onDestroyView=function(){r.unmountFromNode(this.rootElt)},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(i.default);t.default=s})),i("core/cl-calculator",["require","exports","core/graphing-calc/migrate-state","core/graphing-calc/json/expression","core/graphing-calc/json/table"],(function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CLCalculator=void 0,t.CLCalculator=function(e){var t=n.migrateToLatest(e),o={},a=t.graph.degreeMode,s=t.randomSeed;function c(e){switch(e.type){case void 0:case"expression":var t=r.computeParsableState(r.inflateDefaults(e));o[t.id]=t;break;case"table":t=i.computeParsableState(i.inflateDefaults(e)),o[t.id]=t;break;case"folder":case"text":case"image":break;default:return e}}for(var l=0,d=t.expressions.list;l<d.length;l++)c(d[l]);return{setExpression:function(e){c(e)},getChangeSet:function(){return{statements:o,isCompleteState:!0,degreeMode:a,globalRandomSeed:s}}}}})),i("core/math/tree-queries/count-numbers",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.countNumbers=void 0,t.countNumbers=function e(t,n){switch(t.type){case"Mul":case"Div":case"Prime":case"Call":case"ImplicitCall":case"Dot":case"Pipes":case"Sqrt":case"Nthroot":case"Frac":case"Derivative":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Piecewise":case"Paren":case"Juxt":case"Superscript":case"Bang":case"Index":case"Equals":case"Inequality":case"Tilde":case"Pos":case"Neg":case"Add":case"Sub":case"List":case"Seq":case"Colon":case"Ellipsis":case"PercentOf":case"RightArrow":case"For":for(var r=0,i=0,o=t.args;i<o.length;i++)r+=e(o[i],n);return r;case"Decimal":return void 0===n||parseFloat(t.val)===n?1:0;case"MixedNumber":return void 0===n?3:(r=0,parseFloat(t.whole)===n&&(r+=1),parseFloat(t.num)===n&&(r+=1),parseFloat(t.den)===n&&(r+=1),r);case"Letter":case"EmptyPiecewise":case"Cmd":case"EmptyRangeEnd":return 0;case"Subscript":return e(t.args[0],n);case"InequalityChain":r=0,r+=e(t.first,n);for(var a=0,s=t.chain;a<s.length;a++)r+=e(s[a].args[0],n);return r;default:throw"Unexpected surface node "+t.type+"."}}})),i("core/graphing-calc/diffs/longest-subsequence",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.findLongestSubsequence=void 0,t.findLongestSubsequence=function(e){for(var t=e.length,n=new Array(t),r=new Array(t+1),i=0,o=0;o<t;o++){var a=void 0;if(e[r[i]]<e[o])a=i+1;else{for(var s=1,c=i-1;s<=c;){var l=Math.ceil((s+c)/2);e[r[l]]<e[o]?s=l+1:c=l-1}a=s}n[o]=r[a-1],r[a]=o,a>i&&(i=a)}var d=new Array(i),u=r[i];for(o=i-1;o>=0;o--)d[o]=e[u],u=n[u];return d}})),i("core/graphing-calc/diffs/calculate-diff",["require","exports","underscore","./longest-subsequence"],(function(e,t,n,r){var i;function o(e,t,n){var r={};for(var i in e)if(e.hasOwnProperty(i))if(t.hasOwnProperty(i)){var o=a(e[i],t[i],n,i);o&&(r[i]=o)}else r[i]={d:1};for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(r[i]={s:t[i]});return r}function a(e,t,a,c){if(n.isArray(e)&&n.isArray(t)){if(a===i.EXPRESSIONS&&"list"===c||a===i.TABLE_EXPRESSION&&"columns"===c)return function(e,t){for(var a={},c={},l=0;l<e.length;l++){if(void 0!==c[e[l].id])return{s:t};c[e[l].id]=l}var d={};for(l=0;l<t.length;l++){if(void 0!==d[t[l].id])return{s:t};d[t[l].id]=l}for(var u=function(e,t,n){for(var i={},o=t.filter((function(e){return void 0!==n[e.id]})).map((function(e){return n[e.id]})),a=0,s=r.findLongestSubsequence(o);a<s.length;a++)i[e[s[a]].id]=!0;return i}(e,t,c),p=0,g=0;g<e.length;g++){var h=e[g];if(u[h.id]){var f=d[h.id],m=t[f],y={};if(p!==f&&(y.a=t.slice(p,f).map((function(t){return s(e,c,t)}))),!n.isEqual(h,m)){var b="table"===h.type&&"table"===m.type;y.e=o(h,m,b?i.TABLE_EXPRESSION:i.OTHER)}n.isEmpty(y)||(a[g]=y),p=f+1}else a[g]={d:1}}if(p<t.length&&(a[e.length]={a:t.slice(p,t.length).map((function(t){return s(e,c,t)}))}),!n.isEmpty(a))return{l:a}}(e,t);if(!n.isEqual(e,t))return{s:t}}else if(n.isObject(e)&&n.isObject(t)){var l=o(e,t,function(e,t){return e===i.ROOT&&"expressions"===t?i.EXPRESSIONS:i.OTHER}(a,c));if(!n.isEmpty(l))return{e:l}}else if(!n.isEqual(e,t))return{s:t}}function s(e,t,r){if(t[r.id]){var a=e[t[r.id]],s={f:t[r.id]};return n.isEqual(a,r)||(s.e=o(a,r,i.OTHER)),{m:s}}return{s:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDiff=void 0,function(e){e[e.ROOT=0]="ROOT",e[e.EXPRESSIONS=1]="EXPRESSIONS",e[e.TABLE_EXPRESSION=2]="TABLE_EXPRESSION",e[e.OTHER=3]="OTHER"}(i||(i={})),t.calculateDiff=function(e,t){return o(e,t,i.ROOT)}})),i("core/graphing-calc/diffs/apply-diff",["require","exports","underscore","../../lib/deepCopy"],(function(e,t,n,r){function i(e,t){for(var r=0,a=n.keys(t);r<a.length;r++){var u=a[r],p=t[u];s(p)?e[u]=p.s:c(p)?delete e[u]:l(p)?e[u]=o(e[u],p.l):d(p)&&(e[u]=i(e[u],p.e))}return e}function o(e,t){for(var n=[],r=0;r<e.length;r++){var o=t[r];o&&o.a&&n.push.apply(n,a(e,o.a)),o&&o.e?n.push(i(e[r],o.e)):o&&o.d||n.push(e[r])}var s=t[e.length];return s&&s.a&&n.push.apply(n,a(e,s.a)),n}function a(e,t){for(var n=[],r=0,o=t;r<o.length;r++){var a=o[r];if(a.hasOwnProperty("s"))n.push(a.s);else if(u(a)){var s=e[a.m.f];a.m.e?n.push(i(s,a.m.e)):n.push(s)}}return n}function s(e){return e.hasOwnProperty("s")}function c(e){return e.hasOwnProperty("d")}function l(e){return e.hasOwnProperty("l")}function d(e){return e.hasOwnProperty("e")}function u(e){return e.hasOwnProperty("m")}Object.defineProperty(t,"__esModule",{value:!0}),t.applyDiff=void 0,t.applyDiff=function(e,t){return i(r.default(e),t)}})),i("core/graphing-calc/translation/common",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mutateString=t.deserializeTranslationKey=t.serializeTranslationKey=void 0,t.serializeTranslationKey=function(e){return"expression"===e.location||"object"===e.location?e.location+":"+e.id+":"+e.path:e.location+":"+e.path},t.deserializeTranslationKey=function(e){var t=function(){return new Error("Invalid key: "+e)},n=e.split(":"),r=n[0];if(!r)throw t();if("expression"!=r&&"settings"!=r&&"object"!=r)throw t();if("settings"==r){if(2!=n.length)throw t();return{location:r,path:n[1]}}if(3!=n.length)throw t();return{location:r,id:n[1],path:n[2]}},t.mutateString=function(e,t,n){if(e)for(var r=t.split("."),i=e,o=0;o<r.length;o++){var a=r[o];if(!i[a])break;o==r.length-1&&"string"==typeof i[a]?i[a]=n:i=i[a]}}})),i("core/graphing-calc/translation/translator",["require","exports","tslib","../../lib/deepCopy","./common"],(function(e,t,n,r,i){function o(e,t){return function(r,o,a,s){if(r){var c=i.serializeTranslationKey(n.__assign(n.__assign({},t),{path:o}));e[c]={value:r,type:a,context:s}}}}function a(e){var t,n,r={},i=o(r,{location:"expression",id:e.id});switch(e.type){case"expression":i(e.label,"label","interpolated-string","expression-list-expression-label"),i(e.description,"description","string","expression-list-expression-clickable-description");break;case"image":i(e.image_url,"image_url","image","expression-list-image-url"),i(e.description,"description","string","expression-list-image-clickable-description"),i(null===(t=e.clickableInfo)||void 0===t?void 0:t.hoveredImage,"clickableInfo.hoveredImage","image","expression-list-image-clickable-hovered"),i(null===(n=e.clickableInfo)||void 0===n?void 0:n.depressedImage,"clickableInfo.depressedImage","image","expression-list-image-clickable-depressed");break;case"text":i(e.text,"text","string","expression-list-note-text");break;case"folder":i(e.title,"title","string","expression-list-folder-title")}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.applyLocalizationMap=t.extractLocalizationMap=void 0,t.extractLocalizationMap=function(e){var t,n,r,i={};if("graph"==e.type){for(var s=0,c=e.graphState.expressions.list;s<c.length;s++){var l=a(c[s]);for(var d in l)i[d]=l[d]}var u=function(e){var t={},n=o(t,{location:"settings"});return n(e.graph.xAxisLabel,"xAxisLabel","string","settings-xaxis-label"),n(e.graph.yAxisLabel,"yAxisLabel","string","settings-yaxis-label"),t}(e.graphState);for(var d in u)i[d]=u[d]}else{var p=e.geometryState.objects;for(var g in p){var h=(r=void 0,(r=o(n={},{location:"object",id:(t=p[g]).id}))(t.label,"label","string","geometry-object-label"),"image"===t.type&&r(t.url,"url","image","geometry-object-image-url"),n);for(var d in h)i[d]=h[d]}}return i},t.applyLocalizationMap=function(e,t,n){var o,a,s=r.default(e);if("graph"===n){for(var c={},l=0,d=null!==(a=null===(o=s.expressions)||void 0===o?void 0:o.list)&&void 0!==a?a:[];l<d.length;l++){var u=d[l];c[u.id]=u}for(var p in t)"expression"==(g=i.deserializeTranslationKey(p)).location?i.mutateString(c[g.id],g.path,t[p].value):i.mutateString(s.graph,g.path,t[p].value)}else if(s.objects)for(var p in t){var g;"object"==(g=i.deserializeTranslationKey(p)).location&&i.mutateString(s.objects[g.id],g.path,t[p].value)}return s}})),i("core/mathtools",["require","exports","parser","core/math/builtinframe","parsenodes","tslib","core/math/context","core/cl-calculator","core/math/parser/latex-parser","core/math/parser/expression-parser","core/math/tree-queries/count-numbers","core/lib/color-helpers","core/math/policyGraphing","core/math/policyScientific","core/math/policyFourFunction","./math/parser/surface-node-error","core/lib/label","core/graphing-calc/diffs/calculate-diff","core/graphing-calc/diffs/apply-diff","core/graphing-calc/migrate-state","core/math/types","core/graphing-calc/translation/translator","./math/parser/input-span","core/lib/number-to-latex","core/lib/number-to-latex"],(function(e,t,n,r,i,o,a,s,c,l,d,u,p,g,h,f,m,y,b,v,x,w,A,E,k){Object.defineProperty(t,"__esModule",{value:!0}),t.numberToLatex=t.numberToDecimalString=t.applyLocalizationMap=t.extractLocalizationMap=t.migrateToLatest=t.applyDiff=t.calculateDiff=t.CLCalculator=t.colorHelpers=t.policies=t.parseNodes=t.types=t.builtInFrame=t.context=t.treeQueries=t.expressionParser=t.parser=t.Label=void 0,Object.defineProperty(t,"CLCalculator",{enumerable:!0,get:function(){return s.CLCalculator}}),t.colorHelpers=u,t.Label=m,Object.defineProperty(t,"calculateDiff",{enumerable:!0,get:function(){return y.calculateDiff}}),Object.defineProperty(t,"applyDiff",{enumerable:!0,get:function(){return b.applyDiff}}),Object.defineProperty(t,"migrateToLatest",{enumerable:!0,get:function(){return v.migrateToLatest}}),Object.defineProperty(t,"extractLocalizationMap",{enumerable:!0,get:function(){return w.extractLocalizationMap}}),Object.defineProperty(t,"applyLocalizationMap",{enumerable:!0,get:function(){return w.applyLocalizationMap}}),Object.defineProperty(t,"numberToDecimalString",{enumerable:!0,get:function(){return E.numberToDecimalString}}),t.numberToLatex=k.default,t.parser={parse:function(e,t){return null==e&&(e=""),n.parse(e,t)}},t.expressionParser={parse:function(e){if(null!=e)try{var n=c.parse(e);return l.parse(n)}catch(n){var r=n instanceof t.parseNodes.Base?n.getInputSpan():A.Span(e,0,e.length),i=o.__assign(o.__assign({},f.UnexpectedParseError()),{originalError:n});return f.Err(r,i)}}},t.treeQueries={countNumbers:d.countNumbers},t.context=a.Context,t.builtInFrame=r,t.types=x,t.parseNodes=i,t.policies={graphing:p.PolicyGraphing,scientific:g.PolicyScientific,fourFunction:h.PolicyFourFunction}})),i("api/calculator",["require","exports","mathquill","tslib","main/mathquill-operators","graphing/clipping","graphing/canvas-labels","core/constants","expressions/colors","graphing-calc/api/sanitize-expression","core/graphing-calc/json/graph-settings","main/font_sizes","expressions/image_file_to_data_url","./graphing","./headless","./fourfunction","./scientific","./pillow-keypad","core/mathtools","abraham"],(function(e,t,n,r,i,o,s,c,l,d,u,p,g,h,f,m,y,b,v,x){var w;function A(e){var t=w.enabledFeatures;return!t||t[e]}function E(e){t.DesmosAPI[e]=function(){throw new Error("The Desmos "+e+" is not enabled for this API key.")}}for(var k in Object.defineProperty(t,"__esModule",{value:!0}),t.Calculator=t.HeadlessGraphingCalculator=t.PillowKeypad=t.FourFunctionCalculator=t.ScientificCalculator=t.GraphingCalculator=t.DesmosAPI=void 0,void 0!==a?w=a:(w={},window.Desmos=w),t.GraphingCalculator=h.default,t.HeadlessGraphingCalculator=f.default,t.FourFunctionCalculator=m.default,t.ScientificCalculator=y.default,t.PillowKeypad=b.default,t.DesmosAPI={version:c.CURRENT_API_VERSION,Colors:{RED:l.RED,BLUE:l.BLUE,GREEN:l.GREEN,ORANGE:l.ORANGE,PURPLE:l.PURPLE,BLACK:l.BLACK},imageFileToDataURL:g.imageFileToDataURL,supportedLanguages:["en"].concat(w.localeData?Object.keys(w.localeData):w.locales?Object.keys(w.locales):[]),Styles:r.__assign(r.__assign({},d.SanitizedLineStyle),d.SanitizedPointStyle),ColumnModes:d.SanitizedColumnMode,DragModes:d.SanitizedDragMode,AxisArrowModes:u.AxisArrowModes,FontSizes:p,LabelSizes:d.SanitizedLabelSize,LabelOrientations:d.SanitizedLabelOrientation,GraphingCalculator:h.default,Calculator:h.default,FourFunctionCalculator:m.default,ScientificCalculator:y.default,Private:{Abraham:x,Mathtools:v,Graphtools:{getClippingGraphType:o.getClippingGraphType,mapSegmentToCanvas:o.mapSegmentToCanvas,computeDrawingCommandsForDOMLabel:s.computeDrawingCommandsForDOMLabel,drawCommandsToCtx:s.drawCommandsToCtx},MathquillConfig:{getAutoCommands:i.getAutoCommands,getAutoOperators:i.getAutoOperators}},MathQuill:n,PillowKeypad:b.default,HeadlessGraphingCalculator:f.default},A("GraphingCalculator")||(E("GraphingCalculator"),E("Calculator")),A("FourFunctionCalculator")||E("FourFunctionCalculator"),A("ScientificCalculator")||E("ScientificCalculator"),t.DesmosAPI)t.DesmosAPI.hasOwnProperty(k)&&(w[k]=t.DesmosAPI[k]);t.Calculator=h.default})),i("main/noconflict",["require","jquery","underscore"],(function(e){var t=e("jquery"),n=e("underscore");return void 0===a&&(a={}),function(){a.$=t,a._=n,a.$.noConflict(!0)}})),void 0===a&&(a={}),a.require=r,a.requirejs=t,r.isBrowser||function(){var e=r("worker_src"),n={define:i,require:r,requirejs:t};new Function("ALMOND_OVERRIDES",e)(n)}(),i("toplevel/api",["require","api/calculator","main/noconflict"],(function(e){e("api/calculator"),e("main/noconflict")()}))}(),a.require("toplevel/api")}()}();